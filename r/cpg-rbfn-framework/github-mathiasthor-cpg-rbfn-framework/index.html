<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/cpg-rbfn-framework/github-mathiasthor-cpg-rbfn-framework/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">cpg-rbfn-framework</li>
        <!--<li class="active">cpg-rbfn-framework</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-primary" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/cpg-rbfn-framework">cpg-rbfn-framework</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mathiasthor-cpg-rbfn-framework
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mathiasthor-cpg-rbfn-framework" role="menuitem" tabindex="-1" href="/r/cpg-rbfn-framework/github-mathiasthor-cpg-rbfn-framework" data="github-mathiasthor-cpg-rbfn-framework">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mathiasthor-cpg-rbfn-framework
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/cpg-rbfn-framework">cpg-rbfn-framework</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mathiasthor-cpg-rbfn-framework
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mathiasthor-cpg-rbfn-framework" role="menuitem" tabindex="-1" href="/r/cpg-rbfn-framework/github-mathiasthor-cpg-rbfn-framework" data="github-mathiasthor-cpg-rbfn-framework">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mathiasthor-cpg-rbfn-framework
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/cpg-rbfn-framework">cpg-rbfn-framework</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mathiasthor-cpg-rbfn-framework
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mathiasthor-cpg-rbfn-framework" role="menuitem" tabindex="-1" href="/r/cpg-rbfn-framework/github-mathiasthor-cpg-rbfn-framework" data="github-mathiasthor-cpg-rbfn-framework">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mathiasthor-cpg-rbfn-framework
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/cpg-rbfn-framework">cpg-rbfn-framework</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mathiasthor-cpg-rbfn-framework
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mathiasthor-cpg-rbfn-framework" role="menuitem" tabindex="-1" href="/r/cpg-rbfn-framework/github-mathiasthor-cpg-rbfn-framework" data="github-mathiasthor-cpg-rbfn-framework">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mathiasthor-cpg-rbfn-framework
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/cpg-rbfn-framework">cpg-rbfn-framework</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mathiasthor-cpg-rbfn-framework
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mathiasthor-cpg-rbfn-framework" role="menuitem" tabindex="-1" href="/r/cpg-rbfn-framework/github-mathiasthor-cpg-rbfn-framework" data="github-mathiasthor-cpg-rbfn-framework">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mathiasthor-cpg-rbfn-framework
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Code availability for M. Thor et al. 2021 submitted to NMI</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/mathiasthor/cpg-rbfn-framework.git">https://github.com/mathiasthor/cpg-rbfn-framework.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2021-09-23
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNKNOWN
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/cpg-rbfn-framework/#github-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/cpg-rbfn-framework/#github-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/cpg-rbfn-framework/#github-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <em>No packages found.</em>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="versatile-modular-neural-locomotion-control-with-fast-learning">Versatile modular neural locomotion control with fast learning</h1>
<p>Code for M. Thor et al., Versatile modular neural locomotion control with fast learning, 2021, submitted to NMI.</p>

<p><img src="https://raw.githubusercontent.com/mathiasthor/cpg-rbfn-framework/main/data/storage/picture.png" alt="Versatile modular neural locomotion control"></p>

<p><em>Drawing inspiration from animal locomotion, we propose a simple yet versatile modular neural control structure with fast learning. The key advantages of our approach are that behavior-specific control modules can be added incrementally to obtain increasingly complex emergent locomotion behaviors, and that neural connections interfacing with existing modules can be quickly and automatically learned.</em></p>

<h3 id="content">Content:</h3>
<ul>
  <li><a href="https://github.com/mathiasthor/cpg-rbfn-framework/tree/main/#system-requirements">System Requirements</a></li>
  <li><a href="https://github.com/mathiasthor/cpg-rbfn-framework/tree/main/#code-overview">Code overview</a></li>
  <li><a href="https://github.com/mathiasthor/cpg-rbfn-framework/tree/main/#install">Install</a></li>
  <li><a href="https://github.com/mathiasthor/cpg-rbfn-framework/tree/main/#run-the-controller-with-learned-weights">Run the controller with learned weights</a></li>
  <li><a href="https://github.com/mathiasthor/cpg-rbfn-framework/tree/main/#run-learning-algorithm">Run learning algorithm</a></li>
  <li><a href="https://github.com/mathiasthor/cpg-rbfn-framework/tree/main/#license">License</a></li>
</ul>

<h2 id="system-requirements">System Requirements</h2>
<p>This code has been tested with the following hardware and software:</p>
<ul>
  <li>Intel® Core™ i9-9900K CPU @ 3.60GHz × 16</li>
  <li>GeForce RTX 2080</li>
  <li>Ubuntu 18.04.4 LTS</li>
  <li>coppeliaSim V4.1.0</li>
  <li>Vortex physics engine<sup>1</sup>
</li>
  <li>Python 3.7.7</li>
  <li>ROS melodic</li>
</ul>

<p><sup>1</sup> <em><strong>The Vortex physics engine</strong> requires a license (which is free for researchers). Alternatively, you can use the Newton physics engine, but for that, we cannot guarantee successful behaviors. Especially, the wall and pipe climbing behaviors does not work well with the Newton physics engine. We hypothesize that this is because the behavior was learned with the Vortex physics engine and because the behavior requires the higher complexity of that engine. To test the remaining behaviors an modified version of the advanced environment called</em> <code class="language-plaintext highlighter-rouge">Advanced_newton_env.ttt</code> <em>has been made.</em></p>

<h2 id="code-overview">Code overview</h2>
<p>The following explains the content of the six main directories:</p>
<ul>
  <li>
<strong>data</strong>: Contains data from running the simulation and PI^BB algorithm <em>(both data used in the result section (in the storage directory) as well as job files used during learning)</em>. Additionally, it contains the learned weight sets (as <code class="language-plaintext highlighter-rouge">.json</code> files) for the base controller and eight behavior-specific modules presented in the paper. For a more detailed explaination see the README.md file in the data directory.</li>
  <li>
<strong>interfaces</strong>:
Contains <code class="language-plaintext highlighter-rouge">.lua</code> files for interfacing with and setting up the simulation. It also contains the <code class="language-plaintext highlighter-rouge">build_dir</code> for <code class="language-plaintext highlighter-rouge">cmake</code>.</li>
  <li>
<strong>machine_learning</strong>:
Contains all the code necessary for the PI^BB learning algorithm as well as bash scripts for running the simulation.</li>
  <li>
<strong>neural_controllers</strong>:
Contains all the code nesseary for the locomotion controller (i.e., the CPG-RBF network).</li>
  <li>
<strong>simulations</strong>:
Contains coppeliaSim simulation environments (including the MORF hexapod robot).</li>
  <li>
<strong>utils</strong>:
Contains additional utilities needed by the controller implementation and simulation interface.</li>
</ul>

<h2 id="install">Install</h2>
<p><em>Install time will take 15-30 minutes.</em></p>

<p>First, we need to set up the simulation (<a href="https://www.coppeliarobotics.com/">coppeliaSim</a>):</p>
<ol>
  <li>Download coppeliaSim EDU <a href="https://www.coppeliarobotics.com/previousVersions">from the downloads page</a> <em>(tested on V4.1.0 / Ubuntu 18.04)</em>.</li>
  <li>Clone this repository to your local machine <em>(optional: set <code class="language-plaintext highlighter-rouge">$FRAMEWORK_PATH</code> to the path for the directory containing the cloned repository)</em>.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/MathiasThor/CPG-RBFN-framework.git

</code></pre></div></div>
<ol>
  <li>Extract the downloaded .zip file into a directory as many times as you need “simulation workers” <em>(i.e., the number of simulations running in parallel. We used four workers in all our experiments)</em>.</li>
  <li>Rename the extracted coppeliaSim directories as: <code class="language-plaintext highlighter-rouge">VREP1</code>, <code class="language-plaintext highlighter-rouge">VREP2</code>, <code class="language-plaintext highlighter-rouge">VREP3</code>, <code class="language-plaintext highlighter-rouge">VREP4</code>, etc. <em>(optional: set <code class="language-plaintext highlighter-rouge">$VREP_WORKER_PATH</code> to the path for the directory containing the workers)</em>.</li>
  <li>In <code class="language-plaintext highlighter-rouge">remoteApiConnections.txt</code> in each of the <code class="language-plaintext highlighter-rouge">VREP#</code> directories, change <code class="language-plaintext highlighter-rouge">portIndex1_port</code> so that <code class="language-plaintext highlighter-rouge">VREP1</code> has <code class="language-plaintext highlighter-rouge">19997</code>, <code class="language-plaintext highlighter-rouge">VREP2</code> has <code class="language-plaintext highlighter-rouge">19996</code>, <code class="language-plaintext highlighter-rouge">VREP3</code> has <code class="language-plaintext highlighter-rouge">19995</code>, <code class="language-plaintext highlighter-rouge">VREP4</code> has <code class="language-plaintext highlighter-rouge">19994</code>, etc.</li>
  <li>Copy <code class="language-plaintext highlighter-rouge">libv_repExtRosInterface.so</code> into each of the worker directories from the utils directory.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cp</span> <span class="nv">$FRAMEWORK_PATH</span>/CPG-RBFN-framework/utils/libv_repExtRosInterface.so <span class="nv">$VREP_WORKER_PATH</span>/VREP1/

</code></pre></div></div>
<ol>
  <li>Install the required python libraries <em>(matplotlib, jupyter, drawnow, and numpy)</em>.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="nv">$FRAMEWORK_PATH</span>/CPG-RBFN-framework/

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>python3-pip

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 <span class="nb">install</span> <span class="nt">-r</span> requirements.txt

</code></pre></div></div>
<ol>
  <li>Install LIB GSL.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>libgsl-dev

</code></pre></div></div>

<p>The neural controllers use ROS to communicate with coppeliaSim. Therefore, make sure that <code class="language-plaintext highlighter-rouge">ros-xxx-desktop-full</code> <em>(tested on melodic)</em> is installed (<a href="http://wiki.ros.org/ROS/Installation">ROS install guide</a>)</p>

<h2 id="run-the-controller-with-learned-weights">Run the controller with learned weights</h2>
<ol>
  <li>Start an ROS core.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roscore

</code></pre></div></div>
<ol>
  <li>Start the simulation workers. In this example, we will only need a single worker.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="nv">$VREP_WORKER_PATH</span>/VREP1/

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./coppeliaSim.sh <span class="nv">$FRAMEWORK_PATH</span>/CPG-RBFN-framework/simulations/Advanced_env.ttt

</code></pre></div></div>
<ol>
  <li>Build the locomotion controller.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="nv">$FRAMEWORK_PATH</span>/CPG-RBFN-framework/interfaces/morf/sim/build_dir

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm </span>CMakeCache.txt

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake <span class="nb">.</span>

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make

</code></pre></div></div>
<ol>
  <li>Run with the learned weights presented in the paper for 400s.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="nv">$FRAMEWORK_PATH</span>/CPG-RBFN-framework/machine_learning

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./run_sim.sh <span class="nt">-t</span> 400

</code></pre></div></div>
<ol>
  <li>Select option <strong>2</strong> then <strong>9</strong> and finally <strong>0</strong>.</li>
  <li>It is expected that MORF will be able to traverse all the waypoints in the advanced environment <em>(tested with the Vortex physics engine. See <a href="https://github.com/mathiasthor/cpg-rbfn-framework/tree/main/#system-requirements">System Requirements</a><sup>1</sup>)</em>.</li>
</ol>

<h2 id="run-learning-algorithm">Run learning algorithm</h2>
<p>The following will show how to start learning the base controller. It is in this way possible to reproduce the quantitative results in the manuscript.</p>

<ol>
  <li>Start a ROS core.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roscore

</code></pre></div></div>
<ol>
  <li>Start the simulation workers. In this example, we will use four workers.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="nv">$VREP_WORKER_PATH</span>/VREP1/

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./coppeliaSim.sh <span class="nv">$FRAMEWORK_PATH</span>/CPG-RBFN-framework/simulations/MORF_base_behavior.ttt

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="nv">$VREP_WORKER_PATH</span>/VREP2/

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./coppeliaSim.sh <span class="nv">$FRAMEWORK_PATH</span>/CPG-RBFN-framework/simulations/MORF_base_behavior.ttt

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="nv">$VREP_WORKER_PATH</span>/VREP3/

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./coppeliaSim.sh <span class="nv">$FRAMEWORK_PATH</span>/CPG-RBFN-framework/simulations/MORF_base_behavior.ttt

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="nv">$VREP_WORKER_PATH</span>/VREP4/

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./coppeliaSim.sh <span class="nv">$FRAMEWORK_PATH</span>/CPG-RBFN-framework/simulations/MORF_base_behavior.ttt

</code></pre></div></div>
<ol>
  <li>Build the locomotion controller.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> <span class="nv">$FRAMEWORK_PATH</span>/CPG-RBFN-framework/interfaces/morf/sim/build_dir

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm </span>CMakeCache.txt

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake <span class="nb">.</span>

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make

</code></pre></div></div>
<ol>
  <li>In <code class="language-plaintext highlighter-rouge">$FRAMEWORK_PATH/CPG-RBFN-framework/machine_learning/RL_master.py</code> set the following.</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">workers</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">behaviour_selector</span> <span class="o">=</span> <span class="sh">"</span><span class="s">walk</span><span class="sh">"</span>

</code></pre></div></div>
<ol>
  <li>Start the learning algorithm.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./RL_repeater.sh <span class="nt">-t</span> 1 <span class="nt">-e</span> indirect <span class="nt">-r</span> MORF

</code></pre></div></div>
<ol>
  <li>The program will now be running MORF (-r MORF) for 100 iterations one time (-t 1) using an indirect (-e indirect) encoding. Every 5th iteration will be shown visually in coppeliaSim, while all others will be blacked out for performance boost. It is expected that MORF will learn to walk within 20 iterations.</li>
</ol>

<p><em>Note that learning the advanced modules requires the user to set the behavior active (i.e., = 1) in <code class="language-plaintext highlighter-rouge">neutronController.cpp</code> line 276, 281, 286, 291, or 296.</em></p>

<h2 id="license">License</h2>
<p>All software is available under the <a href="http://www.gnu.org/licenses/gpl.html">GPL-3</a> license.</p>

<p><a href="https://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPL%20v3-blue.svg" alt="License: GPL v3"></a></p>

<h2 id="digital-object-identifier-doi">Digital Object Identifier (DOI)</h2>
<p><a href="https://doi.org/10.5281/zenodo.5524494"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.5524494.svg" alt="DOI"></a></p>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/cpg-rbfn-framework">cpg-rbfn-framework</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mathiasthor-cpg-rbfn-framework
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mathiasthor-cpg-rbfn-framework" role="menuitem" tabindex="-1" href="/r/cpg-rbfn-framework/github-mathiasthor-cpg-rbfn-framework" data="github-mathiasthor-cpg-rbfn-framework">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mathiasthor-cpg-rbfn-framework
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/cpg-rbfn-framework">cpg-rbfn-framework</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mathiasthor-cpg-rbfn-framework
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mathiasthor-cpg-rbfn-framework" role="menuitem" tabindex="-1" href="/r/cpg-rbfn-framework/github-mathiasthor-cpg-rbfn-framework" data="github-mathiasthor-cpg-rbfn-framework">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mathiasthor-cpg-rbfn-framework
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/cpg-rbfn-framework">cpg-rbfn-framework</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mathiasthor-cpg-rbfn-framework
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mathiasthor-cpg-rbfn-framework" role="menuitem" tabindex="-1" href="/r/cpg-rbfn-framework/github-mathiasthor-cpg-rbfn-framework" data="github-mathiasthor-cpg-rbfn-framework">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mathiasthor-cpg-rbfn-framework
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/cpg-rbfn-framework">cpg-rbfn-framework</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mathiasthor-cpg-rbfn-framework
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mathiasthor-cpg-rbfn-framework" role="menuitem" tabindex="-1" href="/r/cpg-rbfn-framework/github-mathiasthor-cpg-rbfn-framework" data="github-mathiasthor-cpg-rbfn-framework">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mathiasthor-cpg-rbfn-framework
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/mathiasthor/cpg-rbfn-framework.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
