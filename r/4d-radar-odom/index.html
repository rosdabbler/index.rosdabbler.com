<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/4d-radar-odom/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">4d-radar-odom</li>
        <!--<li class="active">4d-radar-odom</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-primary" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/4d-radar-odom">4d-radar-odom</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-robotics-upo-4d-radar-odom
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-robotics-upo-4d-radar-odom" role="menuitem" tabindex="-1" href="/r/4d-radar-odom/github-robotics-upo-4d-radar-odom" data="github-robotics-upo-4d-radar-odom">
                    <span class="glyphicon glyphicon-star"></span>
                    github-robotics-upo-4d-radar-odom
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/4d-radar-odom">4d-radar-odom</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-robotics-upo-4d-radar-odom
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-robotics-upo-4d-radar-odom" role="menuitem" tabindex="-1" href="/r/4d-radar-odom/github-robotics-upo-4d-radar-odom" data="github-robotics-upo-4d-radar-odom">
                    <span class="glyphicon glyphicon-star"></span>
                    github-robotics-upo-4d-radar-odom
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/4d-radar-odom">4d-radar-odom</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-robotics-upo-4d-radar-odom
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-robotics-upo-4d-radar-odom" role="menuitem" tabindex="-1" href="/r/4d-radar-odom/github-robotics-upo-4d-radar-odom" data="github-robotics-upo-4d-radar-odom">
                    <span class="glyphicon glyphicon-star"></span>
                    github-robotics-upo-4d-radar-odom
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/4d-radar-odom">4d-radar-odom</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-robotics-upo-4d-radar-odom
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-robotics-upo-4d-radar-odom" role="menuitem" tabindex="-1" href="/r/4d-radar-odom/github-robotics-upo-4d-radar-odom" data="github-robotics-upo-4d-radar-odom">
                    <span class="glyphicon glyphicon-star"></span>
                    github-robotics-upo-4d-radar-odom
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/4d-radar-odom">4d-radar-odom</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/radar_odom">radar_odom</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-robotics-upo-4d-radar-odom
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-robotics-upo-4d-radar-odom" role="menuitem" tabindex="-1" href="/r/4d-radar-odom/github-robotics-upo-4d-radar-odom" data="github-robotics-upo-4d-radar-odom">
                    <span class="glyphicon glyphicon-star"></span>
                    github-robotics-upo-4d-radar-odom
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">4D-Radar-Odom is an open-source ROS2 Humble package for estimating 3D odometry using 4D radar and IMU data. It is designed to operate in challenging environments where traditional sensors like LiDAR or cameras may fail.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/robotics-upo/4d-radar-odom.git">https://github.com/robotics-upo/4d-radar-odom.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-02-04
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNKNOWN
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/4d-radar-odom/#github-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/4d-radar-odom/#github-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/4d-radar-odom/#github-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/radar_odom">radar_odom</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p><a id="readme-top"></a>
<!-- PROJECT LOGO -->
<br></p>
<div>

# Loosely coupled 4D-Radar-Inertial Odometry for Ground Robots
</div>
<!-- TABLE OF CONTENTS -->
<details>
  <summary>Table of Contents</summary>
  <ol>
    <li>
      <a href="https://github.com/robotics-upo/4d-radar-odom/tree/master/#about-the-project">About The Project</a>
    </li>
    <li>
      <a href="https://github.com/robotics-upo/4d-radar-odom/tree/master/#getting-started">Getting Started</a>
      <ul>
        <li><a href="https://github.com/robotics-upo/4d-radar-odom/tree/master/#system-requirements">System Requirements</a></li>
        <li><a href="https://github.com/robotics-upo/4d-radar-odom/tree/master/#installation">Installation</a></li>
      </ul>
    </li>
    <li><a href="https://github.com/robotics-upo/4d-radar-odom/tree/master/#tuning">Tuning</a></li>
  </ol>
</details>

<!-- ABOUT THE PROJECT -->
<h2 id="about-the-project">About The Project</h2>

<p><strong>Radar_Odom</strong> is an open-source ROS2 Humble package designed to estimate the trajectory of a ground vehicle equipped with a 4D radar (x, y, z, Doppler) and an IMU. It is a 3D odometry system aimed at contributing to the development of odometry algorithms in adverse situations where commonly used sensors such as LiDAR, cameras, etc., are not applicable, for instance, in environments with fog or rain.</p>

<p align="center">
  <img src="https://raw.githubusercontent.com/robotics-upo/4d-radar-odom/master/figures/WF.png" alt="System Structure">
</p>
<p align="right">(<a href="https://github.com/robotics-upo/4d-radar-odom/tree/master/#readme-top">back to top</a>)</p>

<p>The <code class="language-plaintext highlighter-rouge">Radar_Odom</code> package is structured around two main nodes that work together to estimate the vehicle’s trajectory using radar and IMU data.</p>

<h3 id="1-filtering--doppler-velocity-estimation-node">1. Filtering &amp; Doppler Velocity Estimation Node</h3>
<p>This node processes data from both the radar and the IMU. It performs several tasks:</p>
<ul>
  <li>
<strong>PointCloud Preprocessing</strong>: Prepares and filters the raw radar data.</li>
  <li>
<strong>Doppler-Based Velocity Estimation</strong>: Estimates the vehicle’s ego-velocity by leveraging the Doppler effect detected at radar points.</li>
  <li>
<strong>Outliers Rejection</strong>: Uses techniques like RANSAC to detect and exclude non-physically feasible movements and dynamic objects (e.g., moving vehicles or pedestrians), ensuring only static elements contribute to the final velocity estimation.</li>
</ul>

<h3 id="2-optimization-node">2. Optimization Node</h3>
<p>Once the radar and IMU data have been refined, this node handles:</p>
<ul>
  <li>
<strong>Pose Estimation</strong>: Using the ego-velocity and IMU data, the node estimates the vehicle’s pose.</li>
  <li>
<strong>KeyFrame Management</strong>: Manages key frames and ensures optimization over a sliding window.</li>
  <li>
<strong>Graph Construction &amp; Optimization</strong>: Builds and optimizes a graph of the vehicle’s poses using scan matching (GICP) and IMU constraints.</li>
</ul>

<p>This process ensures the vehicle’s trajectory is continuously updated and optimized. The nodes work together to provide accurate pose estimation even in challenging environments where traditional sensors may not perform well.</p>

<p align="right">(<a href="https://github.com/robotics-upo/4d-radar-odom/tree/master/#readme-top">back to top</a>)</p>
<h2 id="getting-started">Getting Started</h2>

<h3 id="system-requirements">System Requirements</h3>
<ul>
  <li><strong>Ubuntu 22.04 (Jammy)</strong></li>
  <li><strong>ROS2 Humble</strong></li>
</ul>

<h3 id="step-1-install-ros2-humble">Step 1: Install ROS2 Humble</h3>

<p>Before you begin, make sure you have <strong>ROS2 Humble</strong> installed on your system. If you haven’t installed it yet, you can follow the official ROS2 <a href="https://docs.ros.org/en/humble/Installation.html">installation guide</a> for your platform. This guide will walk you through the steps necessary to set up the core ROS2 environment.</p>

<h3 id="step-2-install-required-ros2-packages">Step 2: Install Required ROS2 Packages</h3>

<p>In addition to the basic ROS2 installation, the following packages are needed for this project. These are typically included in a standard ROS2 setup, but it’s always good to check if they are present on your system:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">tf2_eigen</code></li>
  <li><code class="language-plaintext highlighter-rouge">pcl_conversions</code></li>
  <li><code class="language-plaintext highlighter-rouge">pcl_ros</code></li>
  <li><code class="language-plaintext highlighter-rouge">tf2_ros</code></li>
  <li><code class="language-plaintext highlighter-rouge">tf2_geometry_msgs</code></li>
</ul>

<p>You can install these packages using the following command if they are not already available on your system:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>ros-humble-tf2-eigen ros-humble-pcl-conversions ros-humble-pcl-ros ros-humble-tf2-ros ros-humble-tf2-geometry-msgs

</code></pre></div></div>
<h3 id="step-3-install-external-libraries">Step 3: Install External Libraries</h3>

<p>Besides the ROS2 packages, this project depends on several external libraries that you may need to install manually. These libraries include <strong>Eigen3</strong> for linear algebra operations, <strong>Ceres Solver</strong> for optimization, <strong>PCL (Point Cloud Library)</strong> for point cloud processing, and <strong>OpenCV</strong> for image and matrix operations.</p>

<p>To install these external libraries, simply copy and run the following command in your terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>libeigen3-dev libceres-dev libpcl-dev libopencv-dev <span class="o">||</span> <span class="nb">true</span>

</code></pre></div></div>
<p>This command will install the necessary external dependencies, and if any of them are already installed, the installation process will simply ignore them and continue without issues.</p>
<p align="right">(<a href="https://github.com/robotics-upo/4d-radar-odom/tree/master/#readme-top">back to top</a>)</p>

<h3 id="installation">Installation</h3>

<p>Follow these steps to install the <code class="language-plaintext highlighter-rouge">radar_odom</code> package:</p>

<ol>
  <li><strong>Clone the repository</strong></li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">mkdir </span>radar_odom
    <span class="nb">cd </span>pose_slam
    git clone https://github.com/LuciaCoto/Radar_Odom.git <span class="nb">.</span>
    
</code></pre></div></div>

<ol>
  <li>
    <p><strong>Build the package</strong>:</p>

    <p>After cloning the repository and ensuring all the dependencies mentioned in the previous section are installed, build the package:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    colcon build
    
</code></pre></div></div>

<ol>
  <li>
    <p><strong>Source your workspace</strong>:</p>

    <p>After building, source your workspace to ensure the package is recognized:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">source install</span>/setup.bash
    
</code></pre></div></div>
<ol>
  <li>
    <p><strong>Launch the nodes</strong>:</p>

    <p>Once the package is ready, you can launch the file, which initializes both nodes. The nodes will then remain active, waiting to receive data through the IMU and radar topics.</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch radar_odom run.py
    
</code></pre></div></div>

<p align="right">(<a href="https://github.com/robotics-upo/4d-radar-odom/tree/master/#readme-top">back to top</a>)</p>

<h2 id="tuning">Tuning</h2>

<p>This section outlines the key parameters for configuring the radar-based odometry system. The configuration file is divided into two main nodes: <code class="language-plaintext highlighter-rouge">radar_pcl_processor</code> and <code class="language-plaintext highlighter-rouge">graph_slam</code>. Below is a brief description of the key parameters you can adjust:</p>

<h3 id="1-radar_pcl_processor-node">1. <strong>radar_pcl_processor Node</strong>:</h3>

<p>This node is responsible for processing radar and IMU data, estimating Doppler-based velocity, and filtering dynamic objects. Key parameters include:</p>

<ul>
  <li>
<strong>IMU and Radar Topics</strong>:
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">imu_topic</code>: Specify the topic name where IMU data is published.</li>
      <li>
<code class="language-plaintext highlighter-rouge">radar_topic</code>: Specify the radar point cloud topic to process.</li>
    </ul>
  </li>
  <li>
<strong>Vehicle Dynamics</strong>:
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">holonomic_vehicle</code>: Set to <code class="language-plaintext highlighter-rouge">true</code> for holonomic ground vehicles or <code class="language-plaintext highlighter-rouge">false</code> for non-holonomic ones.</li>
    </ul>
  </li>
  <li>
<strong>Filtering Parameters</strong>:
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">distance_near_thresh</code> / <code class="language-plaintext highlighter-rouge">distance_far_thresh</code>: Defines the range of radar points to consider for processing.</li>
      <li>
<code class="language-plaintext highlighter-rouge">z_low_thresh</code> / <code class="language-plaintext highlighter-rouge">z_high_thresh</code>: Z-axis limits to filter out noise or irrelevant points based on height.</li>
    </ul>
  </li>
  <li>
<strong>Dynamic Object Removal</strong>:
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">enable_dynamic_object_removal</code>: Enable or disable the removal of dynamic objects from the radar data. Setting this to <code class="language-plaintext highlighter-rouge">true</code> helps reject moving objects, like pedestrians or other vehicles.</li>
    </ul>
  </li>
</ul>

<p>The Doppler-based velocity estimator uses additional internal parameters for its operation (e.g., <code class="language-plaintext highlighter-rouge">doppler_velocity_correction_factor</code>, <code class="language-plaintext highlighter-rouge">allowed_outlier_percentage</code>), but these are set automatically based on system requirements and generally do not need manual tuning.</p>

<h3 id="2-graph_slam-node">2. <strong>graph_slam Node</strong>:</h3>

<p>This node handles the pose graph optimization using radar and IMU data, where keyframes are managed and graph optimization is performed.</p>

<ul>
  <li>
<strong>IMU Bias</strong>:
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">bias_rpy</code>: Adjust the IMU bias for roll, pitch, and yaw angles, helping correct any drift or offset in the IMU data.</li>
    </ul>
  </li>
  <li>
<strong>Keyframe Management</strong>:
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">keyframe_delta_trans</code>: The minimum translation (in meters) required between keyframes.</li>
      <li>
<code class="language-plaintext highlighter-rouge">keyframe_delta_angle</code>: The minimum rotation (in radians) required between keyframes.</li>
    </ul>
  </li>
  <li>
<strong>Optimization Window</strong>:
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">max_window_size</code>: Defines the size of the sliding window for graph optimization, determining how many keyframes are optimized at once.
        <h3 id="3-additional-calibration-considerations">3. <strong>Additional Calibration Considerations</strong>:</h3>
      </li>
    </ul>
  </li>
</ul>

<p>In addition to the initial configuration of the parameters, it is important to set up the necessary transformations and calibrations between the IMU and radar sensors. These calibrations involve adjusting the sensor readings to align their reference frames. This can be done within the <code class="language-plaintext highlighter-rouge">pcl_processor</code> node, where transformations for the radar and IMU must be specified to ensure accurate velocity and pose estimation.</p>

<p>The current setup is adapted to the specific dataset NTU4DRadLM(https://github.com/junzhang2016/NTU4DRadLM.git) and includes transformations such as:</p>
<ul>
  <li>IMU to radar frame transformations.</li>
  <li>Radar point cloud adjustments based on its mounting orientation and reference frame.</li>
</ul>

<p>These transformations ensure that the data from each sensor is correctly aligned before processing.</p>

<h2 id="acknowledgements">Acknowledgements</h2>

<p>This work was supported by the grant INSERTION PID2021-127648OB-C31, funded by MCIN/AEI/ 10.13039/501100011033 and “European Union NextGenera-
tionEU/PRTR”.</p>
<p align="">
  <img src="https://raw.githubusercontent.com/robotics-upo/4d-radar-odom/master/figures/logo_mciu.png" alt="System Structure">
</p>
<p align="right">(<a href="https://github.com/robotics-upo/4d-radar-odom/tree/master/#readme-top">back to top</a>)</p>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/4d-radar-odom">4d-radar-odom</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-robotics-upo-4d-radar-odom
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-robotics-upo-4d-radar-odom" role="menuitem" tabindex="-1" href="/r/4d-radar-odom/github-robotics-upo-4d-radar-odom" data="github-robotics-upo-4d-radar-odom">
                    <span class="glyphicon glyphicon-star"></span>
                    github-robotics-upo-4d-radar-odom
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/4d-radar-odom">4d-radar-odom</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-robotics-upo-4d-radar-odom
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-robotics-upo-4d-radar-odom" role="menuitem" tabindex="-1" href="/r/4d-radar-odom/github-robotics-upo-4d-radar-odom" data="github-robotics-upo-4d-radar-odom">
                    <span class="glyphicon glyphicon-star"></span>
                    github-robotics-upo-4d-radar-odom
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/4d-radar-odom">4d-radar-odom</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-robotics-upo-4d-radar-odom
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-robotics-upo-4d-radar-odom" role="menuitem" tabindex="-1" href="/r/4d-radar-odom/github-robotics-upo-4d-radar-odom" data="github-robotics-upo-4d-radar-odom">
                    <span class="glyphicon glyphicon-star"></span>
                    github-robotics-upo-4d-radar-odom
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/4d-radar-odom">4d-radar-odom</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-robotics-upo-4d-radar-odom
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-robotics-upo-4d-radar-odom" role="menuitem" tabindex="-1" href="/r/4d-radar-odom/github-robotics-upo-4d-radar-odom" data="github-robotics-upo-4d-radar-odom">
                    <span class="glyphicon glyphicon-star"></span>
                    github-robotics-upo-4d-radar-odom
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/robotics-upo/4d-radar-odom.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
