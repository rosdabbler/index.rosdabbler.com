<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/vizanti/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">vizanti</li>
        <!--<li class="active">vizanti</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/vizanti">vizanti</a> <small>repository</small></h3>
        <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        
        <a class="label label-primary pkg-label" href="/p/vizanti">vizanti</a>
        
        <a class="label label-primary pkg-label" href="/p/vizanti_cpp">vizanti_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/vizanti_demos">vizanti_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/vizanti_msgs">vizanti_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/vizanti_server">vizanti_server</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MoffKalast-vizanti
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MoffKalast-vizanti" role="menuitem" tabindex="-1" href="/r/vizanti/github-MoffKalast-vizanti" data="github-MoffKalast-vizanti">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MoffKalast-vizanti
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">A mission planner and visualizer for controlling outdoor ROS robots.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/MoffKalast/vizanti.git">https://github.com/MoffKalast/vizanti.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-12
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/vizanti/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/vizanti/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/vizanti/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/vizanti">vizanti</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/vizanti_cpp">vizanti_cpp</a></td>
                    <td>0.0.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/vizanti_demos">vizanti_demos</a></td>
                    <td>0.0.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/vizanti_msgs">vizanti_msgs</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/vizanti_server">vizanti_server</a></td>
                    <td>0.1.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="-vizanti---web-visualizer--mission-planner-for-ros">
<img src="https://raw.githubusercontent.com/MoffKalast/vizanti/ros2/vizanti_server/public/assets/icon/512.png" alt="Icon" title="Grid" width="50" height="50"> Vizanti - Web Visualizer &amp; Mission Planner for ROS</h1>

<p><a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://img.shields.io/badge/License-BSD_3--Clause-blue.png" alt="License"></a> <a href="https://build.ros2.org/job/Hdev__vizanti__ubuntu_jammy_amd64/"><img src="https://build.ros2.org/buildStatus/icon?job=Hdev__vizanti__ubuntu_jammy_amd64" alt="Build Status"></a></p>

<p>Vizanti is a web-based visualization and control tool developed for more convenient operation of outdoor robots running the Robot Operating System (ROS). The application attempts to replicate RViz’s orthographic 2D view as closely as possible with a smartphone friendly interface. The second goal is to allow planning and executing movement and mission commands, i.e. goals and waypoints, with custom buttons and parameter reconfigure.</p>

<p><img src="https://raw.githubusercontent.com/MoffKalast/vizanti/ros2/vizanti_server/public/assets/icon/preview.jpg" alt=""></p>

<h2 id="installation">Installation</h2>

<p>As a field tool, Vizanti is designed to operate just as well without internet access, and as such the intended way is to host it on a robot, with rosbridge autoconnecting to the host IP.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/colcon_ws/src
git clone <span class="nt">-b</span> ros2 https://github.com/MoffKalast/vizanti.git

<span class="nb">cd</span> ..
rosdep <span class="nb">install</span> <span class="nt">-i</span> <span class="nt">--from-path</span> src/vizanti <span class="nt">-y</span>
colcon build

</code></pre></div></div>

<h3 id="docker">Docker</h3>

<p>Alternatively, you can also containerize Vizanti. For that you need to <a href="https://docs.docker.com/engine/install/ubuntu/">install Docker</a> and build the container:</p>

<p>In case you’re building on a system with a different version of ROS or it’s not installed, replace $ROS_DISTRO with either humble or jazzy.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">-b</span> ros2 https://github.com/MoffKalast/vizanti.git
<span class="nb">cd </span>vizanti
docker build <span class="nt">-f</span> docker/Dockerfile <span class="nt">-t</span> vizanti:2.0 <span class="nb">.</span> <span class="nt">--build-arg</span> <span class="nv">ROS_VERSION</span><span class="o">=</span><span class="nv">$ROS_DISTRO</span>

</code></pre></div></div>

<h2 id="run">Run</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch vizanti_server vizanti_server.launch.py

</code></pre></div></div>
<p>Or with Docker (set env vars directly if they need to be different):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--net</span><span class="o">=</span>host <span class="nt">--name</span> vizanti-ros2 <span class="nt">-e</span> <span class="nv">ROS_DOMAIN_ID</span><span class="o">=</span><span class="nv">$ROS_DOMAIN_ID</span> <span class="nt">-e</span> <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span><span class="nv">$RMW_IMPLEMENTATION</span> <span class="nt">-e</span> <span class="nv">USE_RWS</span><span class="o">=</span><span class="nb">false</span> <span class="nt">-v</span> /dev/shm:/dev/shm vizanti:2.0

</code></pre></div></div>

<p>The web app can be accessed at <code class="language-plaintext highlighter-rouge">http://&lt;host_ip&gt;:5000</code>. Client settings are automatically saved in localStorage. The satelite imagery renderer also uses the indexedDB to store tiles for offline use (note that this is IP specific). By default the rosbridge instance also occupies port 5001.</p>

<p>If you’re using a mobile device connected to a robot’s hotspot that doesn’t have internet access and can’t load the page, turn off mobile data. This will prevent the browser from sending packets to the wrong gateway.</p>

<h4 id="check-the-wiki-for-usage-and-configuration-instructions-as-well-as-feature-and-compatibility-info">Check <a href="https://github.com/MoffKalast/vizanti/wiki">the wiki</a> for usage and configuration instructions, as well as feature and compatibility info.</h4>

<h2 id="recommended---rws-backend">Recommended - RWS Backend</h2>

<p>With rosbridge being a Tornado python based package and rclpy being overly CPU heavy, this cpp drop-in replacement server should result in a ~5x lower overhead and faster response times. It works with CycloneDDS out of the box, and for FastDDS it requires the <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> version which includes interface introspection.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/colcon_ws/src
git clone <span class="nt">-b</span> <span class="nv">$ROS_DISTRO</span> https://github.com/v-kiniv/rws.git

<span class="nb">cd</span> ..
rosdep <span class="nb">install</span> <span class="nt">-i</span> <span class="nt">--from-path</span> src/rws <span class="nt">-y</span> 
colcon build

</code></pre></div></div>

<p>If using FastDDS:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>ros-<span class="nv">$ROS_DISTRO</span><span class="nt">-rmw-fastrtps-dynamic-cpp</span>
<span class="nb">export </span><span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_dynamic_cpp

</code></pre></div></div>

<p>Then run the RWS launch instead:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch vizanti_server vizanti_rws.launch.py

</code></pre></div></div>

<p>Or with Docker (set env vars directly if they need to be different):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--net</span><span class="o">=</span>host <span class="nt">--name</span> vizanti-ros2 <span class="nt">-e</span> <span class="nv">ROS_DOMAIN_ID</span><span class="o">=</span><span class="nv">$ROS_DOMAIN_ID</span> <span class="nt">-e</span> <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span><span class="nv">$RMW_IMPLEMENTATION</span> <span class="nt">-e</span> <span class="nv">USE_RWS</span><span class="o">=</span><span class="nb">true</span> <span class="nt">-v</span> /dev/shm:/dev/shm vizanti:2.0

</code></pre></div></div>

<hr>

<h2 id="contributing">Contributing</h2>

<p>Please see <a href="https://github.com/MoffKalast/vizanti/tree/ros2/Contributing.md">Contributing.md</a> for more information.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="contributing-to-vizanti">Contributing to Vizanti</h1>

<p>Got an idea on how to improve Vizanti?</p>

<p>Contrbutions are of course welcome, feel free to fork and submit PRs for any fixes or extra widgets you find useful.</p>

<h2 id="overview">Overview</h2>

<p>Vizanti is split into the python based ROS-side server and the web browser client.</p>

<h3 id="server">Server</h3>

<p>The static content is served using Flask, with Jinja2 as the template engine. ROS related communications go through Rosbridge and Rosapi.</p>

<p><a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/vizanti_server/server.py">server.py</a></p>

<p>There are also two ROS nodes that provide additional functionality not covered by Rosbridge.</p>

<p><a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/vizanti_server/service_handler.py">service_handler.py</a></p>

<p><a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_cpp/src/tf_consolidator.cpp">tf_consolidator.cpp</a></p>

<h3 id="client">Client</h3>

<p>The front end is written in vanilla JS with ES6 modules, while making use of Jinja templating and minimal fixed dependencies in <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/js/lib">vizanti_server/public/js/lib</a>.</p>

<hr>

<h2 id="adding-a-new-widget">Adding a new widget</h2>

<p>Upon client load, the server collects all widget templates in <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/templates">vizanti_server/public/templates</a> and sends them to the client where they are processed by <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/js/main.js">main.js</a>. As per the existing examples, the suported files are:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_icon.html</code> The mandatory icon element that will be added to the taskbar.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_modal.html</code> A popup window element that is used to select the topic and change any settings.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_view.html</code> A canvas layer for drawing visualizers. Define the Z-order value so that your element is rendered in the right order. Canvases of the same type of widget will be rendered in the order they were added.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_script.js</code> A JS module that can import helper singletons from <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/js/modules">vizanti_server/public/js/modules</a>.</p>
  </li>
</ul>

<p>To add the widget to the taskbar, it has to be defined in the <code class="language-plaintext highlighter-rouge">add_types_container</code> list in the <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/templates/add/add_modal.html">add_modal.html</a>. The <code class="language-plaintext highlighter-rouge">data-topic</code> value is used for creating widgets from a specific topic.</p>

<p>Any required assets should be put into <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/assets">vizanti_server/public/assets</a>. Any SVG icons that need to display a colour change using utilModule.setIconColor need to have specific elements tagged as id=”fillColor” or id=”strokeColor” depending on which part needs coloring.</p>

<h3 id="uniqueid">{uniqueID}</h3>

<p>Every widget should have the string “{uniqueID}” embedded in its code, which will be replaced with a unique sequential identifier (e.g. “auto53”) at widget instantiation, so all of those scattered elements above can have direct references to each other and a unique tag for saving settings.</p>

<p>As an example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//battery_icon.html</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">{uniqueID}_icon</span><span class="dl">"</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">icon noselect</span><span class="dl">"</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">assets/battery_unknown.svg</span><span class="dl">"</span> <span class="nx">alt</span><span class="o">=</span><span class="dl">"</span><span class="s2">?</span><span class="dl">"</span> <span class="nx">width</span><span class="o">=</span><span class="dl">"</span><span class="s2">50</span><span class="dl">"</span> <span class="nx">height</span><span class="o">=</span><span class="dl">"</span><span class="s2">50</span><span class="dl">"</span> <span class="nx">onclick</span><span class="o">=</span><span class="dl">"</span><span class="s2">openModal('{uniqueID}_modal')</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err"> 
</span>
</code></pre></div></div>
<p>Which can then be obtained from the script as follows:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//battery_script.html</span>
<span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}_icon</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">icon</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">something.png</span><span class="dl">"</span>

</code></pre></div></div>

<hr>

<h2 id="helper-singletons">Helper Singletons</h2>

<p>Quaternion.js and Roslib.js are loaded globally. There are also two global functions to streamline opening and closing models, the aptly named <code class="language-plaintext highlighter-rouge">openModal(widget_id+"_modal")</code> and <code class="language-plaintext highlighter-rouge">closeModal(widget_id+"_modal")</code> found in <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/js/setup.js">setup.js</a>. Typically called when an icon is clicked.</p>

<h3 id="view">View</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">viewModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/view.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">view</span> <span class="o">=</span> <span class="nx">viewModule</span><span class="p">.</span><span class="nx">view</span><span class="p">;</span>

</code></pre></div></div>
<p>Handles how the screen is moved and zoomed by the user for final rendering from ROS tf space into screen space. The TF and screen frames are currently not rotated, which simplifies rendering.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">img_width</span> <span class="o">=</span> <span class="nx">view</span><span class="p">.</span><span class="nf">getMapUnitsInPixels</span><span class="p">(</span><span class="nx">width_meters</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">img_height</span> <span class="o">=</span> <span class="nx">view</span><span class="p">.</span><span class="nf">getMapUnitsInPixels</span><span class="p">(</span><span class="nx">length_meters</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">pos</span> <span class="o">=</span> <span class="nx">view</span><span class="p">.</span><span class="nf">fixedToScreen</span><span class="p">({</span>
    <span class="na">x</span><span class="p">:</span> <span class="nx">object</span><span class="p">.</span><span class="nx">translation</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span>
    <span class="na">y</span><span class="p">:</span> <span class="nx">object</span><span class="p">.</span><span class="nx">translation</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span>
<span class="p">});</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nf">translate</span><span class="p">(</span><span class="nx">pos</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">pos</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nf">drawImage</span><span class="p">(</span><span class="nx">img</span><span class="p">,</span> <span class="o">-</span><span class="nx">img_width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="nx">img_height</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="nx">img_width</span><span class="p">,</span> <span class="nx">img_height</span><span class="p">);</span>

</code></pre></div></div>

<p>It fires off events when the screen is updated as a rendering callback.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">view_changed</span><span class="dl">"</span><span class="p">,</span> <span class="nx">drawWidget</span><span class="p">);</span>

</code></pre></div></div>
<hr>

<h3 id="tf-transforms">TF Transforms</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">tfModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/tf.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">tf</span> <span class="o">=</span> <span class="nx">tfModule</span><span class="p">.</span><span class="nx">tf</span><span class="p">;</span>

</code></pre></div></div>
<p>An implementation of the TF graph that gets grouped TF data at 30 fps from the<code class="language-plaintext highlighter-rouge">/vizanti/tf_consolidated</code> topic.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//global rendering frame, as selected in global options</span>
<span class="nx">tf</span><span class="p">.</span><span class="nx">fixed_frame</span>

<span class="c1">//absoluteTransforms provides all known frames transformed to the global fixed frame for quick rendering</span>
<span class="kd">const</span> <span class="nx">absolute_frame</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">absoluteTransforms</span><span class="p">[</span><span class="dl">"</span><span class="s2">base_link</span><span class="dl">"</span><span class="p">];</span>
<span class="nx">absolute_frame</span><span class="p">.</span><span class="nx">translation</span> <span class="c1">// Vector3</span>
<span class="nx">absolute_frame</span><span class="p">.</span><span class="nx">rotation</span> <span class="c1">// Quaternion</span>

<span class="c1">//getting the radians yaw for top down rendering</span>
<span class="kd">let</span> <span class="nx">yaw</span> <span class="o">=</span> <span class="nx">absolute_frame</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="nf">toEuler</span><span class="p">().</span><span class="nx">h</span><span class="p">;</span>

<span class="c1">//transforms provides the relative parent-child transforms as given by TF</span>
<span class="kd">const</span> <span class="nx">relative_frame</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">transforms</span><span class="p">[</span><span class="dl">"</span><span class="s2">base_link</span><span class="dl">"</span><span class="p">];</span>
<span class="nx">relative_frame</span><span class="p">.</span><span class="nx">parent</span> <span class="c1">//"odom", most likely</span>

</code></pre></div></div>

<p>Like the view, it fires off events when the screen is updated as a rendering callback.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">tf_changed</span><span class="dl">"</span><span class="p">,</span> <span class="nx">drawWidget</span><span class="p">);</span>

</code></pre></div></div>

<hr>

<h3 id="rosbridge">Rosbridge</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">rosbridgeModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/rosbridge.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">rosbridge</span> <span class="o">=</span> <span class="nx">rosbridgeModule</span><span class="p">.</span><span class="nx">rosbridge</span><span class="p">;</span>

</code></pre></div></div>
<p>Wrapper for roslib.js, used for communicating with ROS.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//all running nodes</span>
<span class="kd">let</span> <span class="nx">nodes</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nf">get_all_nodes</span><span class="p">();</span>

<span class="c1">//all topics</span>
<span class="kd">let</span> <span class="nx">topics</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nf">get_all_topics</span><span class="p">();</span>

<span class="c1">//all topics of specified type</span>
<span class="kd">let</span> <span class="nx">specific_topics</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nf">get_topics</span><span class="p">(</span><span class="dl">"</span><span class="s2">sensor_msgs/NavSatFix</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//built in function to get the topic name passed by the widget creator</span>
<span class="kd">let</span> <span class="nx">topic</span> <span class="o">=</span> <span class="nf">getTopic</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">roslib_topic</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ROSLIB</span><span class="p">.</span><span class="nc">Topic</span><span class="p">({</span>
    <span class="na">ros</span> <span class="p">:</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nx">ros</span><span class="p">,</span>
    <span class="na">name</span> <span class="p">:</span> <span class="nx">topic</span><span class="p">,</span>
    <span class="na">messageType</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">sensor_msgs/LaserScan</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">throttle_rate</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="c1">//minium ms between messages, alleviates congestion but does not guarantee that all messages will be received</span>
    <span class="na">compression</span><span class="p">:</span> <span class="dl">"</span><span class="s2">cbor</span><span class="dl">"</span> <span class="c1">//compression for higher throughput topics</span>
<span class="p">});</span>

<span class="nx">listener</span> <span class="o">=</span> <span class="nx">roslib_topic</span><span class="p">.</span><span class="nf">subscribe</span><span class="p">((</span><span class="nx">msg</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>	
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
<span class="p">});</span>

</code></pre></div></div>

<hr>
<h3 id="settings">Settings</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">persistentModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/persistent.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">persistentModule</span><span class="p">.</span><span class="nx">settings</span><span class="p">;</span>

</code></pre></div></div>

<p>Provides a localStorage object for saving widget settings.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//if there's saved data, we fetch it upon module load</span>
<span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nf">hasOwnProperty</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">)){</span>
	<span class="kd">const</span> <span class="nx">loaded_data</span>  <span class="o">=</span> <span class="nx">settings</span><span class="p">[</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">];</span>
	<span class="nx">topic</span> <span class="o">=</span> <span class="nx">loaded_data</span><span class="p">.</span><span class="nx">topic</span><span class="p">;</span>
	<span class="nx">something</span> <span class="o">=</span> <span class="nx">loaded_data</span><span class="p">.</span><span class="nx">something</span><span class="p">;</span>
	<span class="nx">checkbox</span><span class="p">.</span><span class="nx">checked</span> <span class="o">=</span> <span class="nx">loaded_data</span><span class="p">.</span><span class="nx">checkbox</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">saveSettings</span><span class="p">(){</span>
	<span class="nx">settings</span><span class="p">[</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="na">topic</span><span class="p">:</span> <span class="nx">topic</span><span class="p">,</span>
		<span class="na">something</span><span class="p">:</span> <span class="nx">input</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
		<span class="na">checkbox</span><span class="p">:</span> <span class="nx">checkbox</span><span class="p">.</span><span class="nx">checked</span>
	<span class="p">}</span>
	<span class="nx">settings</span><span class="p">.</span><span class="nf">save</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">//on input change</span>
<span class="nf">saveSettings</span><span class="p">();</span>

</code></pre></div></div>

<hr>
<h3 id="util">Util</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">utilModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/util.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">imageToDataURL</span> <span class="o">=</span> <span class="nx">utilModule</span><span class="p">.</span><span class="nx">imageToDataURL</span><span class="p">;</span>

</code></pre></div></div>
<p>The util class provides utility functions, the only one right now being imageToDataURL for persistent image loading that doesn’t trigger new server requests upon changing an Image .src param.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">persistent_image</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">imageToDataURL</span><span class="p">(</span><span class="dl">"</span><span class="s2">assets/image.svg</span><span class="dl">"</span><span class="p">);</span>

</code></pre></div></div>
<hr>
<h3 id="status">Status</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">StatusModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/status.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">Status</span> <span class="o">=</span> <span class="nx">StatusModule</span><span class="p">.</span><span class="nx">Status</span><span class="p">;</span>

</code></pre></div></div>
<p>A helper class that emulates the status indicator from rviz for each widget.</p>

<p>First, add this element to the widget’s modal, the current convention is directly below the title text.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">"{uniqueID}_status"</span> <span class="na">class=</span><span class="s">"status"</span><span class="nt">&gt;</span>Status: Ok.<span class="nt">&lt;/p&gt;</span>


</code></pre></div></div>

<p>Then instantiate the class and pass it the icon and status elements:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//by default the status is "Ok" as defined in the html</span>
<span class="kd">let</span> <span class="nx">status</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Status</span><span class="p">(</span>
	<span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}_icon</span><span class="dl">"</span><span class="p">),</span>
	<span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}_status</span><span class="dl">"</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">//show an errpr</span>
<span class="nx">status</span><span class="p">.</span><span class="nf">setError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Empty topic.</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//show a warning</span>
<span class="nx">status</span><span class="p">.</span><span class="nf">setWarn</span><span class="p">(</span><span class="dl">"</span><span class="s2">No data received.</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//everything should be working fine</span>
<span class="nx">status</span><span class="p">.</span><span class="nf">setOK</span><span class="p">();</span>

</code></pre></div></div>

<hr>
<h3 id="joysticks">Joysticks</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">joystickModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/joystick.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">nipplejs</span> <span class="o">=</span> <span class="nx">joystickModule</span><span class="p">.</span><span class="nx">nipplejs</span><span class="p">;</span>

</code></pre></div></div>

<p>Joystick.js is a module wrapper for nipple.js. Example usage in <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/templates/teleop/teleop_script.js">teleop:script.js</a></p>

<hr>
<h3 id="satelite-tiles">Satelite Tiles</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">navsatModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/navsat.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">navsat</span> <span class="o">=</span> <span class="nx">navsatModule</span><span class="p">.</span><span class="nx">navsat</span><span class="p">;</span>

</code></pre></div></div>
<p>A module for downloading, storing, and loading slippy map tiles, mainly for use in <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/templates/satelite/satelite_script.js">satelite_script.js</a>.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">tileURL</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://tile.openstreetmap.org/19/123/254.png</span><span class="dl">"</span>

<span class="kd">let</span> <span class="nx">tileImage</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nx">live_cache</span><span class="p">[</span><span class="nx">tileURL</span><span class="p">];</span>

<span class="c1">//could be a placeholder if we're still loading, or not downloaded yet, in which case fetch it</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">tileImage</span> <span class="o">||</span> <span class="o">!</span><span class="nx">tileImage</span><span class="p">.</span><span class="nx">complete</span><span class="p">){</span>
    <span class="nx">tileImage</span> <span class="o">=</span> <span class="nx">placeholder</span><span class="p">;</span>
    <span class="nx">navsat</span><span class="p">.</span><span class="nf">enqueue</span><span class="p">(</span><span class="nx">tileURL</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">//lattitude and longitude to coordinate tile indices</span>
<span class="kd">let</span> <span class="nx">tile_coords</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nf">coordToTile</span><span class="p">(</span><span class="nx">longitude</span><span class="p">,</span> <span class="nx">latitude</span><span class="p">,</span> <span class="nx">zoomLevel</span><span class="p">)</span>

<span class="c1">//and the reverse, gets the bottom left corner of the tile</span>
<span class="kd">let</span> <span class="nx">tile_fix</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nf">tileToCoord</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">zoomLevel</span><span class="p">);</span>

<span class="c1">//distance between two points on a sphere</span>
<span class="kd">let</span> <span class="nx">distance_meters</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nf">haversine</span><span class="p">(</span><span class="nx">latitude_a</span><span class="p">,</span> <span class="nx">longitude_a</span><span class="p">,</span> <span class="nx">latitude_b</span><span class="p">,</span> <span class="nx">longitude_b</span><span class="p">);</span>

</code></pre></div></div>

<p>More general info:</p>

<p>https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames</p>

<p>https://github.com/nobleo/rviz_satellite</p>

<hr>

</div>
              <hr id="humble-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="humble-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#humble-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#humble-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#humble-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="humble-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="humble-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="humble-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/vizanti">vizanti</a> <small>repository</small></h3>
        <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        
        <a class="label label-primary pkg-label" href="/p/vizanti">vizanti</a>
        
        <a class="label label-primary pkg-label" href="/p/vizanti_cpp">vizanti_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/vizanti_demos">vizanti_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/vizanti_msgs">vizanti_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/vizanti_server">vizanti_server</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MoffKalast-vizanti
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MoffKalast-vizanti" role="menuitem" tabindex="-1" href="/r/vizanti/github-MoffKalast-vizanti" data="github-MoffKalast-vizanti">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MoffKalast-vizanti
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">A mission planner and visualizer for controlling outdoor ROS robots.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/MoffKalast/vizanti.git">https://github.com/MoffKalast/vizanti.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-12
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/vizanti/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/vizanti/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/vizanti/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/vizanti">vizanti</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/vizanti_cpp">vizanti_cpp</a></td>
                    <td>0.0.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/vizanti_demos">vizanti_demos</a></td>
                    <td>0.0.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/vizanti_msgs">vizanti_msgs</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/vizanti_server">vizanti_server</a></td>
                    <td>0.1.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="-vizanti---web-visualizer--mission-planner-for-ros">
<img src="https://raw.githubusercontent.com/MoffKalast/vizanti/ros2/vizanti_server/public/assets/icon/512.png" alt="Icon" title="Grid" width="50" height="50"> Vizanti - Web Visualizer &amp; Mission Planner for ROS</h1>

<p><a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://img.shields.io/badge/License-BSD_3--Clause-blue.png" alt="License"></a> <a href="https://build.ros2.org/job/Hdev__vizanti__ubuntu_jammy_amd64/"><img src="https://build.ros2.org/buildStatus/icon?job=Hdev__vizanti__ubuntu_jammy_amd64" alt="Build Status"></a></p>

<p>Vizanti is a web-based visualization and control tool developed for more convenient operation of outdoor robots running the Robot Operating System (ROS). The application attempts to replicate RViz’s orthographic 2D view as closely as possible with a smartphone friendly interface. The second goal is to allow planning and executing movement and mission commands, i.e. goals and waypoints, with custom buttons and parameter reconfigure.</p>

<p><img src="https://raw.githubusercontent.com/MoffKalast/vizanti/ros2/vizanti_server/public/assets/icon/preview.jpg" alt=""></p>

<h2 id="installation">Installation</h2>

<p>As a field tool, Vizanti is designed to operate just as well without internet access, and as such the intended way is to host it on a robot, with rosbridge autoconnecting to the host IP.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/colcon_ws/src
git clone <span class="nt">-b</span> ros2 https://github.com/MoffKalast/vizanti.git

<span class="nb">cd</span> ..
rosdep <span class="nb">install</span> <span class="nt">-i</span> <span class="nt">--from-path</span> src/vizanti <span class="nt">-y</span>
colcon build

</code></pre></div></div>

<h3 id="docker">Docker</h3>

<p>Alternatively, you can also containerize Vizanti. For that you need to <a href="https://docs.docker.com/engine/install/ubuntu/">install Docker</a> and build the container:</p>

<p>In case you’re building on a system with a different version of ROS or it’s not installed, replace $ROS_DISTRO with either humble or jazzy.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">-b</span> ros2 https://github.com/MoffKalast/vizanti.git
<span class="nb">cd </span>vizanti
docker build <span class="nt">-f</span> docker/Dockerfile <span class="nt">-t</span> vizanti:2.0 <span class="nb">.</span> <span class="nt">--build-arg</span> <span class="nv">ROS_VERSION</span><span class="o">=</span><span class="nv">$ROS_DISTRO</span>

</code></pre></div></div>

<h2 id="run">Run</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch vizanti_server vizanti_server.launch.py

</code></pre></div></div>
<p>Or with Docker (set env vars directly if they need to be different):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--net</span><span class="o">=</span>host <span class="nt">--name</span> vizanti-ros2 <span class="nt">-e</span> <span class="nv">ROS_DOMAIN_ID</span><span class="o">=</span><span class="nv">$ROS_DOMAIN_ID</span> <span class="nt">-e</span> <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span><span class="nv">$RMW_IMPLEMENTATION</span> <span class="nt">-e</span> <span class="nv">USE_RWS</span><span class="o">=</span><span class="nb">false</span> <span class="nt">-v</span> /dev/shm:/dev/shm vizanti:2.0

</code></pre></div></div>

<p>The web app can be accessed at <code class="language-plaintext highlighter-rouge">http://&lt;host_ip&gt;:5000</code>. Client settings are automatically saved in localStorage. The satelite imagery renderer also uses the indexedDB to store tiles for offline use (note that this is IP specific). By default the rosbridge instance also occupies port 5001.</p>

<p>If you’re using a mobile device connected to a robot’s hotspot that doesn’t have internet access and can’t load the page, turn off mobile data. This will prevent the browser from sending packets to the wrong gateway.</p>

<h4 id="check-the-wiki-for-usage-and-configuration-instructions-as-well-as-feature-and-compatibility-info">Check <a href="https://github.com/MoffKalast/vizanti/wiki">the wiki</a> for usage and configuration instructions, as well as feature and compatibility info.</h4>

<h2 id="recommended---rws-backend">Recommended - RWS Backend</h2>

<p>With rosbridge being a Tornado python based package and rclpy being overly CPU heavy, this cpp drop-in replacement server should result in a ~5x lower overhead and faster response times. It works with CycloneDDS out of the box, and for FastDDS it requires the <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> version which includes interface introspection.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/colcon_ws/src
git clone <span class="nt">-b</span> <span class="nv">$ROS_DISTRO</span> https://github.com/v-kiniv/rws.git

<span class="nb">cd</span> ..
rosdep <span class="nb">install</span> <span class="nt">-i</span> <span class="nt">--from-path</span> src/rws <span class="nt">-y</span> 
colcon build

</code></pre></div></div>

<p>If using FastDDS:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>ros-<span class="nv">$ROS_DISTRO</span><span class="nt">-rmw-fastrtps-dynamic-cpp</span>
<span class="nb">export </span><span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_dynamic_cpp

</code></pre></div></div>

<p>Then run the RWS launch instead:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch vizanti_server vizanti_rws.launch.py

</code></pre></div></div>

<p>Or with Docker (set env vars directly if they need to be different):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--net</span><span class="o">=</span>host <span class="nt">--name</span> vizanti-ros2 <span class="nt">-e</span> <span class="nv">ROS_DOMAIN_ID</span><span class="o">=</span><span class="nv">$ROS_DOMAIN_ID</span> <span class="nt">-e</span> <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span><span class="nv">$RMW_IMPLEMENTATION</span> <span class="nt">-e</span> <span class="nv">USE_RWS</span><span class="o">=</span><span class="nb">true</span> <span class="nt">-v</span> /dev/shm:/dev/shm vizanti:2.0

</code></pre></div></div>

<hr>

<h2 id="contributing">Contributing</h2>

<p>Please see <a href="https://github.com/MoffKalast/vizanti/tree/ros2/Contributing.md">Contributing.md</a> for more information.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="contributing-to-vizanti">Contributing to Vizanti</h1>

<p>Got an idea on how to improve Vizanti?</p>

<p>Contrbutions are of course welcome, feel free to fork and submit PRs for any fixes or extra widgets you find useful.</p>

<h2 id="overview">Overview</h2>

<p>Vizanti is split into the python based ROS-side server and the web browser client.</p>

<h3 id="server">Server</h3>

<p>The static content is served using Flask, with Jinja2 as the template engine. ROS related communications go through Rosbridge and Rosapi.</p>

<p><a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/vizanti_server/server.py">server.py</a></p>

<p>There are also two ROS nodes that provide additional functionality not covered by Rosbridge.</p>

<p><a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/vizanti_server/service_handler.py">service_handler.py</a></p>

<p><a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_cpp/src/tf_consolidator.cpp">tf_consolidator.cpp</a></p>

<h3 id="client">Client</h3>

<p>The front end is written in vanilla JS with ES6 modules, while making use of Jinja templating and minimal fixed dependencies in <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/js/lib">vizanti_server/public/js/lib</a>.</p>

<hr>

<h2 id="adding-a-new-widget">Adding a new widget</h2>

<p>Upon client load, the server collects all widget templates in <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/templates">vizanti_server/public/templates</a> and sends them to the client where they are processed by <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/js/main.js">main.js</a>. As per the existing examples, the suported files are:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_icon.html</code> The mandatory icon element that will be added to the taskbar.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_modal.html</code> A popup window element that is used to select the topic and change any settings.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_view.html</code> A canvas layer for drawing visualizers. Define the Z-order value so that your element is rendered in the right order. Canvases of the same type of widget will be rendered in the order they were added.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_script.js</code> A JS module that can import helper singletons from <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/js/modules">vizanti_server/public/js/modules</a>.</p>
  </li>
</ul>

<p>To add the widget to the taskbar, it has to be defined in the <code class="language-plaintext highlighter-rouge">add_types_container</code> list in the <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/templates/add/add_modal.html">add_modal.html</a>. The <code class="language-plaintext highlighter-rouge">data-topic</code> value is used for creating widgets from a specific topic.</p>

<p>Any required assets should be put into <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/assets">vizanti_server/public/assets</a>. Any SVG icons that need to display a colour change using utilModule.setIconColor need to have specific elements tagged as id=”fillColor” or id=”strokeColor” depending on which part needs coloring.</p>

<h3 id="uniqueid">{uniqueID}</h3>

<p>Every widget should have the string “{uniqueID}” embedded in its code, which will be replaced with a unique sequential identifier (e.g. “auto53”) at widget instantiation, so all of those scattered elements above can have direct references to each other and a unique tag for saving settings.</p>

<p>As an example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//battery_icon.html</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">{uniqueID}_icon</span><span class="dl">"</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">icon noselect</span><span class="dl">"</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">assets/battery_unknown.svg</span><span class="dl">"</span> <span class="nx">alt</span><span class="o">=</span><span class="dl">"</span><span class="s2">?</span><span class="dl">"</span> <span class="nx">width</span><span class="o">=</span><span class="dl">"</span><span class="s2">50</span><span class="dl">"</span> <span class="nx">height</span><span class="o">=</span><span class="dl">"</span><span class="s2">50</span><span class="dl">"</span> <span class="nx">onclick</span><span class="o">=</span><span class="dl">"</span><span class="s2">openModal('{uniqueID}_modal')</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err"> 
</span>
</code></pre></div></div>
<p>Which can then be obtained from the script as follows:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//battery_script.html</span>
<span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}_icon</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">icon</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">something.png</span><span class="dl">"</span>

</code></pre></div></div>

<hr>

<h2 id="helper-singletons">Helper Singletons</h2>

<p>Quaternion.js and Roslib.js are loaded globally. There are also two global functions to streamline opening and closing models, the aptly named <code class="language-plaintext highlighter-rouge">openModal(widget_id+"_modal")</code> and <code class="language-plaintext highlighter-rouge">closeModal(widget_id+"_modal")</code> found in <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/js/setup.js">setup.js</a>. Typically called when an icon is clicked.</p>

<h3 id="view">View</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">viewModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/view.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">view</span> <span class="o">=</span> <span class="nx">viewModule</span><span class="p">.</span><span class="nx">view</span><span class="p">;</span>

</code></pre></div></div>
<p>Handles how the screen is moved and zoomed by the user for final rendering from ROS tf space into screen space. The TF and screen frames are currently not rotated, which simplifies rendering.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">img_width</span> <span class="o">=</span> <span class="nx">view</span><span class="p">.</span><span class="nf">getMapUnitsInPixels</span><span class="p">(</span><span class="nx">width_meters</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">img_height</span> <span class="o">=</span> <span class="nx">view</span><span class="p">.</span><span class="nf">getMapUnitsInPixels</span><span class="p">(</span><span class="nx">length_meters</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">pos</span> <span class="o">=</span> <span class="nx">view</span><span class="p">.</span><span class="nf">fixedToScreen</span><span class="p">({</span>
    <span class="na">x</span><span class="p">:</span> <span class="nx">object</span><span class="p">.</span><span class="nx">translation</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span>
    <span class="na">y</span><span class="p">:</span> <span class="nx">object</span><span class="p">.</span><span class="nx">translation</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span>
<span class="p">});</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nf">translate</span><span class="p">(</span><span class="nx">pos</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">pos</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nf">drawImage</span><span class="p">(</span><span class="nx">img</span><span class="p">,</span> <span class="o">-</span><span class="nx">img_width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="nx">img_height</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="nx">img_width</span><span class="p">,</span> <span class="nx">img_height</span><span class="p">);</span>

</code></pre></div></div>

<p>It fires off events when the screen is updated as a rendering callback.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">view_changed</span><span class="dl">"</span><span class="p">,</span> <span class="nx">drawWidget</span><span class="p">);</span>

</code></pre></div></div>
<hr>

<h3 id="tf-transforms">TF Transforms</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">tfModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/tf.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">tf</span> <span class="o">=</span> <span class="nx">tfModule</span><span class="p">.</span><span class="nx">tf</span><span class="p">;</span>

</code></pre></div></div>
<p>An implementation of the TF graph that gets grouped TF data at 30 fps from the<code class="language-plaintext highlighter-rouge">/vizanti/tf_consolidated</code> topic.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//global rendering frame, as selected in global options</span>
<span class="nx">tf</span><span class="p">.</span><span class="nx">fixed_frame</span>

<span class="c1">//absoluteTransforms provides all known frames transformed to the global fixed frame for quick rendering</span>
<span class="kd">const</span> <span class="nx">absolute_frame</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">absoluteTransforms</span><span class="p">[</span><span class="dl">"</span><span class="s2">base_link</span><span class="dl">"</span><span class="p">];</span>
<span class="nx">absolute_frame</span><span class="p">.</span><span class="nx">translation</span> <span class="c1">// Vector3</span>
<span class="nx">absolute_frame</span><span class="p">.</span><span class="nx">rotation</span> <span class="c1">// Quaternion</span>

<span class="c1">//getting the radians yaw for top down rendering</span>
<span class="kd">let</span> <span class="nx">yaw</span> <span class="o">=</span> <span class="nx">absolute_frame</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="nf">toEuler</span><span class="p">().</span><span class="nx">h</span><span class="p">;</span>

<span class="c1">//transforms provides the relative parent-child transforms as given by TF</span>
<span class="kd">const</span> <span class="nx">relative_frame</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">transforms</span><span class="p">[</span><span class="dl">"</span><span class="s2">base_link</span><span class="dl">"</span><span class="p">];</span>
<span class="nx">relative_frame</span><span class="p">.</span><span class="nx">parent</span> <span class="c1">//"odom", most likely</span>

</code></pre></div></div>

<p>Like the view, it fires off events when the screen is updated as a rendering callback.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">tf_changed</span><span class="dl">"</span><span class="p">,</span> <span class="nx">drawWidget</span><span class="p">);</span>

</code></pre></div></div>

<hr>

<h3 id="rosbridge">Rosbridge</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">rosbridgeModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/rosbridge.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">rosbridge</span> <span class="o">=</span> <span class="nx">rosbridgeModule</span><span class="p">.</span><span class="nx">rosbridge</span><span class="p">;</span>

</code></pre></div></div>
<p>Wrapper for roslib.js, used for communicating with ROS.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//all running nodes</span>
<span class="kd">let</span> <span class="nx">nodes</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nf">get_all_nodes</span><span class="p">();</span>

<span class="c1">//all topics</span>
<span class="kd">let</span> <span class="nx">topics</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nf">get_all_topics</span><span class="p">();</span>

<span class="c1">//all topics of specified type</span>
<span class="kd">let</span> <span class="nx">specific_topics</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nf">get_topics</span><span class="p">(</span><span class="dl">"</span><span class="s2">sensor_msgs/NavSatFix</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//built in function to get the topic name passed by the widget creator</span>
<span class="kd">let</span> <span class="nx">topic</span> <span class="o">=</span> <span class="nf">getTopic</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">roslib_topic</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ROSLIB</span><span class="p">.</span><span class="nc">Topic</span><span class="p">({</span>
    <span class="na">ros</span> <span class="p">:</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nx">ros</span><span class="p">,</span>
    <span class="na">name</span> <span class="p">:</span> <span class="nx">topic</span><span class="p">,</span>
    <span class="na">messageType</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">sensor_msgs/LaserScan</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">throttle_rate</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="c1">//minium ms between messages, alleviates congestion but does not guarantee that all messages will be received</span>
    <span class="na">compression</span><span class="p">:</span> <span class="dl">"</span><span class="s2">cbor</span><span class="dl">"</span> <span class="c1">//compression for higher throughput topics</span>
<span class="p">});</span>

<span class="nx">listener</span> <span class="o">=</span> <span class="nx">roslib_topic</span><span class="p">.</span><span class="nf">subscribe</span><span class="p">((</span><span class="nx">msg</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>	
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
<span class="p">});</span>

</code></pre></div></div>

<hr>
<h3 id="settings">Settings</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">persistentModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/persistent.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">persistentModule</span><span class="p">.</span><span class="nx">settings</span><span class="p">;</span>

</code></pre></div></div>

<p>Provides a localStorage object for saving widget settings.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//if there's saved data, we fetch it upon module load</span>
<span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nf">hasOwnProperty</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">)){</span>
	<span class="kd">const</span> <span class="nx">loaded_data</span>  <span class="o">=</span> <span class="nx">settings</span><span class="p">[</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">];</span>
	<span class="nx">topic</span> <span class="o">=</span> <span class="nx">loaded_data</span><span class="p">.</span><span class="nx">topic</span><span class="p">;</span>
	<span class="nx">something</span> <span class="o">=</span> <span class="nx">loaded_data</span><span class="p">.</span><span class="nx">something</span><span class="p">;</span>
	<span class="nx">checkbox</span><span class="p">.</span><span class="nx">checked</span> <span class="o">=</span> <span class="nx">loaded_data</span><span class="p">.</span><span class="nx">checkbox</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">saveSettings</span><span class="p">(){</span>
	<span class="nx">settings</span><span class="p">[</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="na">topic</span><span class="p">:</span> <span class="nx">topic</span><span class="p">,</span>
		<span class="na">something</span><span class="p">:</span> <span class="nx">input</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
		<span class="na">checkbox</span><span class="p">:</span> <span class="nx">checkbox</span><span class="p">.</span><span class="nx">checked</span>
	<span class="p">}</span>
	<span class="nx">settings</span><span class="p">.</span><span class="nf">save</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">//on input change</span>
<span class="nf">saveSettings</span><span class="p">();</span>

</code></pre></div></div>

<hr>
<h3 id="util">Util</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">utilModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/util.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">imageToDataURL</span> <span class="o">=</span> <span class="nx">utilModule</span><span class="p">.</span><span class="nx">imageToDataURL</span><span class="p">;</span>

</code></pre></div></div>
<p>The util class provides utility functions, the only one right now being imageToDataURL for persistent image loading that doesn’t trigger new server requests upon changing an Image .src param.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">persistent_image</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">imageToDataURL</span><span class="p">(</span><span class="dl">"</span><span class="s2">assets/image.svg</span><span class="dl">"</span><span class="p">);</span>

</code></pre></div></div>
<hr>
<h3 id="status">Status</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">StatusModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/status.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">Status</span> <span class="o">=</span> <span class="nx">StatusModule</span><span class="p">.</span><span class="nx">Status</span><span class="p">;</span>

</code></pre></div></div>
<p>A helper class that emulates the status indicator from rviz for each widget.</p>

<p>First, add this element to the widget’s modal, the current convention is directly below the title text.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">"{uniqueID}_status"</span> <span class="na">class=</span><span class="s">"status"</span><span class="nt">&gt;</span>Status: Ok.<span class="nt">&lt;/p&gt;</span>


</code></pre></div></div>

<p>Then instantiate the class and pass it the icon and status elements:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//by default the status is "Ok" as defined in the html</span>
<span class="kd">let</span> <span class="nx">status</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Status</span><span class="p">(</span>
	<span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}_icon</span><span class="dl">"</span><span class="p">),</span>
	<span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}_status</span><span class="dl">"</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">//show an errpr</span>
<span class="nx">status</span><span class="p">.</span><span class="nf">setError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Empty topic.</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//show a warning</span>
<span class="nx">status</span><span class="p">.</span><span class="nf">setWarn</span><span class="p">(</span><span class="dl">"</span><span class="s2">No data received.</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//everything should be working fine</span>
<span class="nx">status</span><span class="p">.</span><span class="nf">setOK</span><span class="p">();</span>

</code></pre></div></div>

<hr>
<h3 id="joysticks">Joysticks</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">joystickModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/joystick.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">nipplejs</span> <span class="o">=</span> <span class="nx">joystickModule</span><span class="p">.</span><span class="nx">nipplejs</span><span class="p">;</span>

</code></pre></div></div>

<p>Joystick.js is a module wrapper for nipple.js. Example usage in <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/templates/teleop/teleop_script.js">teleop:script.js</a></p>

<hr>
<h3 id="satelite-tiles">Satelite Tiles</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">navsatModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/navsat.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">navsat</span> <span class="o">=</span> <span class="nx">navsatModule</span><span class="p">.</span><span class="nx">navsat</span><span class="p">;</span>

</code></pre></div></div>
<p>A module for downloading, storing, and loading slippy map tiles, mainly for use in <a href="https://github.com/MoffKalast/vizanti/tree/ros2/vizanti_server/public/templates/satelite/satelite_script.js">satelite_script.js</a>.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">tileURL</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://tile.openstreetmap.org/19/123/254.png</span><span class="dl">"</span>

<span class="kd">let</span> <span class="nx">tileImage</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nx">live_cache</span><span class="p">[</span><span class="nx">tileURL</span><span class="p">];</span>

<span class="c1">//could be a placeholder if we're still loading, or not downloaded yet, in which case fetch it</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">tileImage</span> <span class="o">||</span> <span class="o">!</span><span class="nx">tileImage</span><span class="p">.</span><span class="nx">complete</span><span class="p">){</span>
    <span class="nx">tileImage</span> <span class="o">=</span> <span class="nx">placeholder</span><span class="p">;</span>
    <span class="nx">navsat</span><span class="p">.</span><span class="nf">enqueue</span><span class="p">(</span><span class="nx">tileURL</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">//lattitude and longitude to coordinate tile indices</span>
<span class="kd">let</span> <span class="nx">tile_coords</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nf">coordToTile</span><span class="p">(</span><span class="nx">longitude</span><span class="p">,</span> <span class="nx">latitude</span><span class="p">,</span> <span class="nx">zoomLevel</span><span class="p">)</span>

<span class="c1">//and the reverse, gets the bottom left corner of the tile</span>
<span class="kd">let</span> <span class="nx">tile_fix</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nf">tileToCoord</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">zoomLevel</span><span class="p">);</span>

<span class="c1">//distance between two points on a sphere</span>
<span class="kd">let</span> <span class="nx">distance_meters</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nf">haversine</span><span class="p">(</span><span class="nx">latitude_a</span><span class="p">,</span> <span class="nx">longitude_a</span><span class="p">,</span> <span class="nx">latitude_b</span><span class="p">,</span> <span class="nx">longitude_b</span><span class="p">);</span>

</code></pre></div></div>

<p>More general info:</p>

<p>https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames</p>

<p>https://github.com/nobleo/rviz_satellite</p>

<hr>

</div>
              <hr id="jazzy-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="jazzy-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#jazzy-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#jazzy-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#jazzy-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="jazzy-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="jazzy-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="jazzy-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/vizanti">vizanti</a> <small>repository</small></h3>
        <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MoffKalast-vizanti
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MoffKalast-vizanti" role="menuitem" tabindex="-1" href="/r/vizanti/github-MoffKalast-vizanti" data="github-MoffKalast-vizanti">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MoffKalast-vizanti
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/vizanti">vizanti</a> <small>repository</small></h3>
        <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MoffKalast-vizanti
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MoffKalast-vizanti" role="menuitem" tabindex="-1" href="/r/vizanti/github-MoffKalast-vizanti" data="github-MoffKalast-vizanti">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MoffKalast-vizanti
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/vizanti">vizanti</a> <small>repository</small></h3>
        <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MoffKalast-vizanti
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MoffKalast-vizanti" role="menuitem" tabindex="-1" href="/r/vizanti/github-MoffKalast-vizanti" data="github-MoffKalast-vizanti">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MoffKalast-vizanti
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/vizanti">vizanti</a> <small>repository</small></h3>
        <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        
        <a class="label label-primary pkg-label" href="/p/vizanti">vizanti</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MoffKalast-vizanti
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MoffKalast-vizanti" role="menuitem" tabindex="-1" href="/r/vizanti/github-MoffKalast-vizanti" data="github-MoffKalast-vizanti">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MoffKalast-vizanti
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">A mission planner and visualizer for controlling outdoor ROS robots.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/MoffKalast/vizanti.git">https://github.com/MoffKalast/vizanti.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">noetic-devel</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-12
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/vizanti/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/vizanti/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/vizanti/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/vizanti">vizanti</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="-vizanti---web-visualizer--mission-planner-for-ros">
<img src="https://raw.githubusercontent.com/MoffKalast/vizanti/noetic-devel/public/assets/icon/512.png" alt="Icon" title="Grid" width="50" height="50"> Vizanti - Web Visualizer &amp; Mission Planner for ROS</h1>

<p><a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://img.shields.io/badge/License-BSD_3--Clause-blue.png" alt="License"></a> <a href="https://build.ros.org/job/Ndev__vizanti__ubuntu_focal_amd64/4/"><img src="https://build.ros.org/buildStatus/icon?job=Ndev__vizanti__ubuntu_focal_amd64&amp;build=4" alt="Build Status"></a></p>

<p>Vizanti is a web-based visualization and control tool developed for more convenient operation of outdoor robots running the Robot Operating System (ROS). The application attempts to replicate RViz’s orthographic 2D view as closely as possible with a smartphone friendly interface. The second goal is to allow planning and executing movement and mission commands, i.e. goals and waypoints, with custom buttons and parameter reconfigure.</p>

<p><img src="https://raw.githubusercontent.com/MoffKalast/vizanti/noetic-devel/public/assets/icon/preview.jpg" alt=""></p>

<h2 id="installation">Installation</h2>

<p>As a field tool, Vizanti is designed to operate just as well without internet access, and as such the intended way is to host it on a robot, with rosbridge autoconnecting to the host IP.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/catkin_ws/src
git clone https://github.com/MoffKalast/vizanti.git
<span class="nb">cd</span> ..
rosdep <span class="nb">install</span> <span class="nt">-i</span> <span class="nt">--from-path</span> src/vizanti <span class="nt">-y</span>
catkin_make

</code></pre></div></div>

<h3 id="docker">Docker</h3>

<p>Alternatively, you can also containerize Vizanti. For that you need to <a href="https://docs.docker.com/engine/install/ubuntu/">install Docker</a> and build the container:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/MoffKalast/vizanti.git
<span class="nb">cd </span>vizanti
docker build <span class="nt">-f</span> docker/Dockerfile <span class="nt">-t</span> vizanti:1.0 <span class="nb">.</span>

</code></pre></div></div>

<h2 id="run">Run</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roslaunch vizanti server.launch

</code></pre></div></div>
<p>Or with Docker:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">-dit</span> <span class="nt">--net</span><span class="o">=</span>host <span class="nt">--name</span> vizanti-noetic vizanti:1.0

</code></pre></div></div>

<p>The web app can be accessed at <code class="language-plaintext highlighter-rouge">http://&lt;host_ip&gt;:5000</code>. Client settings are automatically saved in localStorage. The satelite imagery renderer also uses the indexedDB to store tiles for offline use (note that this is IP specific). By default the rosbridge instance also occupies port 5001.</p>

<p>If you’re using a mobile device connected to a robot’s hotspot that doesn’t have internet access, make sure to turn off mobile data. This will prevent Android from sending packets to the wrong gateway.</p>

<h4 id="check-the-wiki-for-usage-and-configuration-instructions-as-well-as-feature-and-compatibility-info">Check <a href="https://github.com/MoffKalast/vizanti/wiki">the wiki</a> for usage and configuration instructions, as well as feature and compatibility info.</h4>

<h2 id="contributing">Contributing</h2>

<p>Please see <a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/Contributing.md">Contributing.md</a> for more information.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="contributing-to-vizanti">Contributing to Vizanti</h1>

<p>Got an idea on how to improve Vizanti?</p>

<p>Contrbutions are of course welcome, feel free to fork and submit PRs for any fixes or extra widgets you find useful.</p>

<h2 id="overview">Overview</h2>

<p>Vizanti is split into the python based ROS-side server and the web browser client.</p>

<h3 id="server">Server</h3>

<p>The static content is served using Flask, with Jinja2 as the template engine. ROS related communications go through Rosbridge and Rosapi.</p>

<p><a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/src/server.py">src/server.py</a></p>

<p>There are also two ROS nodes that provide additional functionality not covered by Rosbridge.</p>

<p><a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/src/service_handler.py">src/service_handler.py</a></p>

<p><a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/src/topic_handler.py">src/topic_handler.py</a></p>

<h3 id="client">Client</h3>

<p>The front end is written in vanilla JS with ES6 modules, while making use of Jinja templating and minimal fixed dependencies in <a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/public/js/lib">public/js/lib</a>.</p>

<hr>

<h2 id="adding-a-new-widget">Adding a new widget</h2>

<p>Upon client load, the server collects all widget templates in <a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/public/templates">public/templates</a> and sends them to the client where they are processed by <a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/public/js/main.js">main.js</a>. As per the existing examples, the suported files are:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_icon.html</code> The mandatory icon element that will be added to the taskbar.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_modal.html</code> A popup window element that is used to select the topic and change any settings.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_view.html</code> A canvas layer for drawing visualizers. Define the Z-order value so that your element is rendered in the right order. Canvases of the same type of widget will be rendered in the order they were added.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">name_script.js</code> A JS module that can import helper singletons from <a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/public/js/modules">public/js/modules</a>.</p>
  </li>
</ul>

<p>To add the widget to the taskbar, it has to be defined in the <code class="language-plaintext highlighter-rouge">add_types_container</code> list in the <a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/public/templates/add/add_modal.html">add_modal.html</a>. The <code class="language-plaintext highlighter-rouge">data-topic</code> value is used for creating widgets from a specific topic.</p>

<p>Any required assets should be put into <a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/public/assets">public/assets</a>. Any SVG icons that need to display a colour change using utilModule.setIconColor need to have specific elements tagged as id=”fillColor” or id=”strokeColor” depending on which part needs coloring.</p>

<h3 id="uniqueid">{uniqueID}</h3>

<p>Every widget should have the string “{uniqueID}” embedded in its code, which will be replaced with a unique sequential identifier (e.g. “auto53”) at widget instantiation, so all of those scattered elements above can have direct references to each other and a unique tag for saving settings.</p>

<p>As an example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//battery_icon.html</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">{uniqueID}_icon</span><span class="dl">"</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">icon noselect</span><span class="dl">"</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">assets/battery_unknown.svg</span><span class="dl">"</span> <span class="nx">alt</span><span class="o">=</span><span class="dl">"</span><span class="s2">?</span><span class="dl">"</span> <span class="nx">width</span><span class="o">=</span><span class="dl">"</span><span class="s2">50</span><span class="dl">"</span> <span class="nx">height</span><span class="o">=</span><span class="dl">"</span><span class="s2">50</span><span class="dl">"</span> <span class="nx">onclick</span><span class="o">=</span><span class="dl">"</span><span class="s2">openModal('{uniqueID}_modal')</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err"> 
</span>
</code></pre></div></div>
<p>Which can then be obtained from the script as follows:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//battery_script.html</span>
<span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}_icon</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">icon</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">something.png</span><span class="dl">"</span>

</code></pre></div></div>

<hr>

<h2 id="helper-singletons">Helper Singletons</h2>

<p>Quaternion.js and Roslib.js are loaded globally. There are also two global functions to streamline opening and closing models, the aptly named <code class="language-plaintext highlighter-rouge">openModal(widget_id+"_modal")</code> and <code class="language-plaintext highlighter-rouge">closeModal(widget_id+"_modal")</code> found in <a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/public/js/setup.js">setup.js</a>. Typically called when an icon is clicked.</p>

<h3 id="view">View</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">viewModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/view.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">view</span> <span class="o">=</span> <span class="nx">viewModule</span><span class="p">.</span><span class="nx">view</span><span class="p">;</span>

</code></pre></div></div>
<p>Handles how the screen is moved and zoomed by the user for final rendering from ROS tf space into screen space. The TF and screen frames are currently not rotated, which simplifies rendering.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">img_width</span> <span class="o">=</span> <span class="nx">view</span><span class="p">.</span><span class="nf">getMapUnitsInPixels</span><span class="p">(</span><span class="nx">width_meters</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">img_height</span> <span class="o">=</span> <span class="nx">view</span><span class="p">.</span><span class="nf">getMapUnitsInPixels</span><span class="p">(</span><span class="nx">length_meters</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">pos</span> <span class="o">=</span> <span class="nx">view</span><span class="p">.</span><span class="nf">fixedToScreen</span><span class="p">({</span>
    <span class="na">x</span><span class="p">:</span> <span class="nx">object</span><span class="p">.</span><span class="nx">translation</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span>
    <span class="na">y</span><span class="p">:</span> <span class="nx">object</span><span class="p">.</span><span class="nx">translation</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span>
<span class="p">});</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nf">translate</span><span class="p">(</span><span class="nx">pos</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">pos</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nf">drawImage</span><span class="p">(</span><span class="nx">img</span><span class="p">,</span> <span class="o">-</span><span class="nx">img_width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="nx">img_height</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="nx">img_width</span><span class="p">,</span> <span class="nx">img_height</span><span class="p">);</span>

</code></pre></div></div>

<p>It fires off events when the screen is updated as a rendering callback.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">view_changed</span><span class="dl">"</span><span class="p">,</span> <span class="nx">drawWidget</span><span class="p">);</span>

</code></pre></div></div>
<hr>

<h3 id="tf-transforms">TF Transforms</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">tfModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/tf.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">tf</span> <span class="o">=</span> <span class="nx">tfModule</span><span class="p">.</span><span class="nx">tf</span><span class="p">;</span>

</code></pre></div></div>
<p>An implementation of the TF graph that gets grouped TF data at 30 fps from the<code class="language-plaintext highlighter-rouge">/vizanti/tf_consolidated</code> topic.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//global rendering frame, as selected in global options</span>
<span class="nx">tf</span><span class="p">.</span><span class="nx">fixed_frame</span>

<span class="c1">//absoluteTransforms provides all known frames transformed to the global fixed frame for quick rendering</span>
<span class="kd">const</span> <span class="nx">absolute_frame</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">absoluteTransforms</span><span class="p">[</span><span class="dl">"</span><span class="s2">base_link</span><span class="dl">"</span><span class="p">];</span>
<span class="nx">absolute_frame</span><span class="p">.</span><span class="nx">translation</span> <span class="c1">// Vector3</span>
<span class="nx">absolute_frame</span><span class="p">.</span><span class="nx">rotation</span> <span class="c1">// Quaternion</span>

<span class="c1">//getting the radians yaw for top down rendering</span>
<span class="kd">let</span> <span class="nx">yaw</span> <span class="o">=</span> <span class="nx">absolute_frame</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="nf">toEuler</span><span class="p">().</span><span class="nx">h</span><span class="p">;</span>

<span class="c1">//transforms provides the relative parent-child transforms as given by TF</span>
<span class="kd">const</span> <span class="nx">relative_frame</span> <span class="o">=</span> <span class="nx">tf</span><span class="p">.</span><span class="nx">transforms</span><span class="p">[</span><span class="dl">"</span><span class="s2">base_link</span><span class="dl">"</span><span class="p">];</span>
<span class="nx">relative_frame</span><span class="p">.</span><span class="nx">parent</span> <span class="c1">//"odom", most likely</span>

</code></pre></div></div>

<p>Like the view, it fires off events when the screen is updated as a rendering callback.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">tf_changed</span><span class="dl">"</span><span class="p">,</span> <span class="nx">drawWidget</span><span class="p">);</span>

</code></pre></div></div>

<hr>

<h3 id="rosbridge">Rosbridge</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">rosbridgeModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/rosbridge.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">rosbridge</span> <span class="o">=</span> <span class="nx">rosbridgeModule</span><span class="p">.</span><span class="nx">rosbridge</span><span class="p">;</span>

</code></pre></div></div>
<p>Wrapper for roslib.js, used for communicating with ROS.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//all running nodes</span>
<span class="kd">let</span> <span class="nx">nodes</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nf">get_all_nodes</span><span class="p">();</span>

<span class="c1">//all topics</span>
<span class="kd">let</span> <span class="nx">topics</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nf">get_all_topics</span><span class="p">();</span>

<span class="c1">//all topics of specified type</span>
<span class="kd">let</span> <span class="nx">specific_topics</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nf">get_topics</span><span class="p">(</span><span class="dl">"</span><span class="s2">sensor_msgs/NavSatFix</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//built in function to get the topic name passed by the widget creator</span>
<span class="kd">let</span> <span class="nx">topic</span> <span class="o">=</span> <span class="nf">getTopic</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">roslib_topic</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ROSLIB</span><span class="p">.</span><span class="nc">Topic</span><span class="p">({</span>
    <span class="na">ros</span> <span class="p">:</span> <span class="nx">rosbridge</span><span class="p">.</span><span class="nx">ros</span><span class="p">,</span>
    <span class="na">name</span> <span class="p">:</span> <span class="nx">topic</span><span class="p">,</span>
    <span class="na">messageType</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">sensor_msgs/LaserScan</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">throttle_rate</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="c1">//minium ms between messages, alleviates congestion but does not guarantee that all messages will be received</span>
    <span class="na">compression</span><span class="p">:</span> <span class="dl">"</span><span class="s2">cbor</span><span class="dl">"</span> <span class="c1">//compression for higher throughput topics</span>
<span class="p">});</span>

<span class="nx">listener</span> <span class="o">=</span> <span class="nx">roslib_topic</span><span class="p">.</span><span class="nf">subscribe</span><span class="p">((</span><span class="nx">msg</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>	
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
<span class="p">});</span>

</code></pre></div></div>

<hr>
<h3 id="settings">Settings</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">persistentModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/persistent.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">persistentModule</span><span class="p">.</span><span class="nx">settings</span><span class="p">;</span>

</code></pre></div></div>

<p>Provides a localStorage object for saving widget settings.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//if there's saved data, we fetch it upon module load</span>
<span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nf">hasOwnProperty</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">)){</span>
	<span class="kd">const</span> <span class="nx">loaded_data</span>  <span class="o">=</span> <span class="nx">settings</span><span class="p">[</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">];</span>
	<span class="nx">topic</span> <span class="o">=</span> <span class="nx">loaded_data</span><span class="p">.</span><span class="nx">topic</span><span class="p">;</span>
	<span class="nx">something</span> <span class="o">=</span> <span class="nx">loaded_data</span><span class="p">.</span><span class="nx">something</span><span class="p">;</span>
	<span class="nx">checkbox</span><span class="p">.</span><span class="nx">checked</span> <span class="o">=</span> <span class="nx">loaded_data</span><span class="p">.</span><span class="nx">checkbox</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">saveSettings</span><span class="p">(){</span>
	<span class="nx">settings</span><span class="p">[</span><span class="dl">"</span><span class="s2">{uniqueID}</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="na">topic</span><span class="p">:</span> <span class="nx">topic</span><span class="p">,</span>
		<span class="na">something</span><span class="p">:</span> <span class="nx">input</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
		<span class="na">checkbox</span><span class="p">:</span> <span class="nx">checkbox</span><span class="p">.</span><span class="nx">checked</span>
	<span class="p">}</span>
	<span class="nx">settings</span><span class="p">.</span><span class="nf">save</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">//on input change</span>
<span class="nf">saveSettings</span><span class="p">();</span>

</code></pre></div></div>

<hr>
<h3 id="util">Util</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">utilModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/util.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">imageToDataURL</span> <span class="o">=</span> <span class="nx">utilModule</span><span class="p">.</span><span class="nx">imageToDataURL</span><span class="p">;</span>

</code></pre></div></div>
<p>The util class provides utility functions, the only one right now being imageToDataURL for persistent image loading that doesn’t trigger new server requests upon changing an Image .src param.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">persistent_image</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">imageToDataURL</span><span class="p">(</span><span class="dl">"</span><span class="s2">assets/image.svg</span><span class="dl">"</span><span class="p">);</span>

</code></pre></div></div>
<hr>
<h3 id="status">Status</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">StatusModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/status.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">Status</span> <span class="o">=</span> <span class="nx">StatusModule</span><span class="p">.</span><span class="nx">Status</span><span class="p">;</span>

</code></pre></div></div>
<p>A helper class that emulates the status indicator from rviz for each widget.</p>

<p>First, add this element to the widget’s modal, the current convention is directly below the title text.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">"{uniqueID}_status"</span> <span class="na">class=</span><span class="s">"status"</span><span class="nt">&gt;</span>Status: Ok.<span class="nt">&lt;/p&gt;</span>


</code></pre></div></div>

<p>Then instantiate the class and pass it the icon and status elements:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//by default the status is "Ok" as defined in the html</span>
<span class="kd">let</span> <span class="nx">status</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Status</span><span class="p">(</span>
	<span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}_icon</span><span class="dl">"</span><span class="p">),</span>
	<span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">{uniqueID}_status</span><span class="dl">"</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">//show an errpr</span>
<span class="nx">status</span><span class="p">.</span><span class="nf">setError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Empty topic.</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//show a warning</span>
<span class="nx">status</span><span class="p">.</span><span class="nf">setWarn</span><span class="p">(</span><span class="dl">"</span><span class="s2">No data received.</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//everything should be working fine</span>
<span class="nx">status</span><span class="p">.</span><span class="nf">setOK</span><span class="p">();</span>

</code></pre></div></div>

<hr>
<h3 id="joysticks">Joysticks</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">joystickModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/joystick.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">nipplejs</span> <span class="o">=</span> <span class="nx">joystickModule</span><span class="p">.</span><span class="nx">nipplejs</span><span class="p">;</span>

</code></pre></div></div>

<p>Joystick.js is a module wrapper for nipple.js. Example usage in <a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/public/templates/teleop/teleop_script.js">teleop:script.js</a></p>

<hr>
<h3 id="satelite-tiles">Satelite Tiles</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">navsatModule</span> <span class="o">=</span> <span class="k">await</span> <span class="k">import</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">base_url</span><span class="p">}</span><span class="s2">/js/modules/navsat.js`</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">navsat</span> <span class="o">=</span> <span class="nx">navsatModule</span><span class="p">.</span><span class="nx">navsat</span><span class="p">;</span>

</code></pre></div></div>
<p>A module for downloading, storing, and loading slippy map tiles, mainly for use in <a href="https://github.com/MoffKalast/vizanti/tree/noetic-devel/public/templates/satelite/satelite_script.js">satelite_script.js</a>.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">tileURL</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://tile.openstreetmap.org/19/123/254.png</span><span class="dl">"</span>

<span class="kd">let</span> <span class="nx">tileImage</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nx">live_cache</span><span class="p">[</span><span class="nx">tileURL</span><span class="p">];</span>

<span class="c1">//could be a placeholder if we're still loading, or not downloaded yet, in which case fetch it</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">tileImage</span> <span class="o">||</span> <span class="o">!</span><span class="nx">tileImage</span><span class="p">.</span><span class="nx">complete</span><span class="p">){</span>
    <span class="nx">tileImage</span> <span class="o">=</span> <span class="nx">placeholder</span><span class="p">;</span>
    <span class="nx">navsat</span><span class="p">.</span><span class="nf">enqueue</span><span class="p">(</span><span class="nx">tileURL</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">//lattitude and longitude to coordinate tile indices</span>
<span class="kd">let</span> <span class="nx">tile_coords</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nf">coordToTile</span><span class="p">(</span><span class="nx">longitude</span><span class="p">,</span> <span class="nx">latitude</span><span class="p">,</span> <span class="nx">zoomLevel</span><span class="p">)</span>

<span class="c1">//and the reverse, gets the bottom left corner of the tile</span>
<span class="kd">let</span> <span class="nx">tile_fix</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nf">tileToCoord</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">zoomLevel</span><span class="p">);</span>

<span class="c1">//distance between two points on a sphere</span>
<span class="kd">let</span> <span class="nx">distance_meters</span> <span class="o">=</span> <span class="nx">navsat</span><span class="p">.</span><span class="nf">haversine</span><span class="p">(</span><span class="nx">latitude_a</span><span class="p">,</span> <span class="nx">longitude_a</span><span class="p">,</span> <span class="nx">latitude_b</span><span class="p">,</span> <span class="nx">longitude_b</span><span class="p">);</span>

</code></pre></div></div>

<p>More general info:</p>

<p>https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames</p>

<p>https://github.com/nobleo/rviz_satellite</p>

<hr>

</div>
              <hr id="noetic-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="noetic-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#noetic-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#noetic-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#noetic-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="noetic-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="noetic-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="noetic-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/vizanti">vizanti</a> <small>repository</small></h3>
        <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MoffKalast-vizanti
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MoffKalast-vizanti" role="menuitem" tabindex="-1" href="/r/vizanti/github-MoffKalast-vizanti" data="github-MoffKalast-vizanti">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MoffKalast-vizanti
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/vizanti">vizanti</a> <small>repository</small></h3>
        <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MoffKalast-vizanti
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MoffKalast-vizanti" role="menuitem" tabindex="-1" href="/r/vizanti/github-MoffKalast-vizanti" data="github-MoffKalast-vizanti">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MoffKalast-vizanti
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/vizanti">vizanti</a> <small>repository</small></h3>
        <span class="label label-default">flask</span> <span class="label label-default">ros</span> <span class="label label-default">rosbridge</span> <span class="label label-default">ros2</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MoffKalast-vizanti
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MoffKalast-vizanti" role="menuitem" tabindex="-1" href="/r/vizanti/github-MoffKalast-vizanti" data="github-MoffKalast-vizanti">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MoffKalast-vizanti
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/MoffKalast/vizanti.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
