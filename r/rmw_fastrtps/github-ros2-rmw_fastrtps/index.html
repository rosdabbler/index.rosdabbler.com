<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/rmw_fastrtps/github-ros2-rmw_fastrtps/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">rmw_fastrtps</li>
        <!--<li class="active">rmw_fastrtps</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-primary" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-primary" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class=" older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmw_fastrtps">rmw_fastrtps</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-ros2-rmw_fastrtps
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros2-rmw_fastrtps" role="menuitem" tabindex="-1" href="/r/rmw_fastrtps/github-ros2-rmw_fastrtps" data="github-ros2-rmw_fastrtps">
                    <span class="glyphicon glyphicon-star"></span>
                    github-ros2-rmw_fastrtps
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Implementation of the ROS Middleware (rmw) Interface using eProsima's Fast RTPS.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros2/rmw_fastrtps.git">https://github.com/ros2/rmw_fastrtps.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">humble</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-07-26
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmw_fastrtps/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a></td>
                    <td>6.2.7</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a></td>
                    <td>6.2.7</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a></td>
                    <td>6.2.7</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-middleware-implementation-for-eprosimas-fast-dds">ROS 2 Middleware Implementation for eProsima’s Fast DDS</h1>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> is a <a href="https://docs.ros.org/en/rolling">ROS 2</a> middleware implementation, providing an interface between ROS 2 and <a href="https://www.eprosima.com/index.php">eProsima’s</a> <a href="https://github.com/eProsima/Fast-DDS">Fast DDS</a> middleware.</p>

<h2 id="getting-started">Getting started</h2>
<p>This implementation is available in all ROS 2 distributions, both from binaries and from sources.
You can specify Fast DDS as your ROS 2 middleware layer in two different ways:</p>

<ol>
  <li>Exporting <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> environment variable:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">export </span><span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp
    
</code></pre></div></div>
<ol>
  <li>When launching your ROS 2 application:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run &lt;your_package&gt; &lt;your application&gt;
    
</code></pre></div></div>

<h2 id="two-different-rmw-implementations">Two different RMW implementations</h2>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> actually provides not one but two different ROS 2 middleware implementations, both of them using Fast DDS as middleware layer: <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> (note that directory <code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code> just contains the code that the two implementations share, and does not constitute a layer on its own).</p>

<p>The main difference between the two is that <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> uses introspection typesupport at run time to decide on the serialization/deserialization mechanism.
On the other hand, <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> uses its own typesupport, which generates the mapping for each message type at build time.</p>

<p>Mind that the default ROS 2 RMW implementation is <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code>.
You can however set it to <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> using the environment variable <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> as described above.</p>

<h2 id="advance-usage">Advance usage</h2>

<p>ROS 2 only allows for the configuration of certain middleware features.
For example, see <a href="https://docs.ros.org/en/foxy/Concepts/About-Quality-of-Service-Settings.html#qos-policies">ROS 2 QoS policies</a>.
In addition to ROS 2 QoS policies, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> sets the following Fast DDS configurable parameters:</p>

<ul>
  <li>History memory policy: <code class="language-plaintext highlighter-rouge">PREALLOCATED_WITH_REALLOC_MEMORY_MODE</code>
</li>
  <li>Publication mode: <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>
</li>
  <li>Data Sharing: <code class="language-plaintext highlighter-rouge">OFF</code>
</li>
</ul>

<p>However, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers the possibility to further configure Fast DDS:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/humble/#change-publication-mode">Change publication mode</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/humble/#full-qos-configuration">Full QoS configuration</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/humble/#enable-zero-copy-data-sharing">Enable Zero Copy Data Sharing</a></li>
</ul>

<h3 id="change-publication-mode">Change publication mode</h3>

<p>Fast DDS features two different <a href="https://fast-dds.docs.eprosima.com/en/v2.1.0/fastdds/dds_layer/core/policy/eprosimaExtensions.html?highlight=synchronous#publishmodeqospolicykind">publication modes</a>: synchronous and asynchronous.
To learn more about the implications of choosing one mode over the other, please refer to <a href="https://www.eprosima.com/index.php/resources-all/performance/dds-asynchronous-vs-synchronous-publishing">DDS: Asynchronous vs Synchronous Publishing</a>:</p>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers an easy way to change Fast DDS’ publication mode without the need of defining a XML file. That is environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
The admissible values are:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">ASYNCHRONOUS</code>: asynchronous publication mode.
Setting this mode implies that when the publisher invokes the write operation, the data is copied into a queue, a notification about the addition to the queue is performed, and control of the thread is returned to the user before the data is actually sent.
A background thread (asynchronous thread) is in turn in charge of consuming the queue and sending the data to every matched reader.</li>
  <li>
<code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>: synchronous publication mode.
Setting this mode implies that the data is sent directly within the context of the user thread.
This entails that any blocking call occurring during the write operation would block the user thread, thus preventing the application with continuing its operation.
It is important to note that this mode typically yields higher throughput rates at lower latencies, since the notification and context switching between threads is not present.</li>
  <li>
<code class="language-plaintext highlighter-rouge">AUTO</code>: let Fast DDS select the publication mode. This implies using the publication mode set in the XML file or, failing that, the default value set in Fast DDS (which currently is set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>).</li>
</ul>

<p>If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code> is not set, then both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> behave as if it were set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>.</p>

<h3 id="full-qos-configuration">Full QoS configuration</h3>

<p>Fast DDS QoS policies can be fully configured through a combination of the <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a> API, and the <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> file’s QoS elements. Configuration depends on the environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code>.</p>

<ol>
  <li>ROS 2 QoS contained in <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html"><code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code></a> are always honored, unless set to <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code>.
In that case, XML values, or Fast DDS default values in the absence of XML ones, are applied.
Setting any QoS in <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code> to something other than <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code> entails that specifying it via XML files has no effect, since they do not override what was used to create the publisher, subscription, service, or client.</li>
  <li>In order to modify the history memory policy or publication mode using XML files, environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> must be set to 1 (it is set to 0 by default).
This tells <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> that it should override both the history memory policy and the publication mode using the XML.
Bear in mind that setting this environment variable but not setting either of these policies in the XML results in Fast DDS’ defaults configurations being used.</li>
</ol>

<table>
  <thead>
    <tr>
      <th>RMW_FASTRTPS_USE_QOS_FROM_XML</th>
      <th><a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a></th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> QoS</th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">Fast DDS XML</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0 (default)</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Used</td>
    </tr>
  </tbody>
</table>

<p>Note: Setting <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> to 1 effectively overrides whatever configuration was set with <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
Furthermore, If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> is set to 1, and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> or <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> are not specified in the XML, then the Fast DDS’ default configurations will be used:</p>

<ul>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> : <code class="language-plaintext highlighter-rouge">PREALLOCATED_MEMORY_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> : <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/datasharing.html">datasharing</a> : <code class="language-plaintext highlighter-rouge">AUTO</code>.</li>
</ul>

<p>There are two ways of telling a ROS 2 application which XML to use:</p>

<ol>
  <li>Placing your XML file in the running directory under the name <code class="language-plaintext highlighter-rouge">DEFAULT_FASTRTPS_PROFILES.xml</code>.</li>
  <li>Setting environment variable <code class="language-plaintext highlighter-rouge">FASTRTPS_DEFAULT_PROFILES_FILE</code> to contain the path to your XML file (relative to the working directory).</li>
</ol>

<p>To verify the actual QoS settings using rmw:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Create a publisher within a node with specific topic, type support, options, and QoS</span>
<span class="n">rmw_publisher_t</span><span class="o">*</span> <span class="n">rmw_publisher</span> <span class="o">=</span> <span class="n">rmw_create_publisher</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">type_support</span><span class="p">,</span> <span class="n">topic_name</span><span class="p">,</span> <span class="n">qos_profile</span><span class="p">,</span> <span class="n">publisher_options</span><span class="p">);</span>
<span class="c1">// Check the actual QoS set on the publisher</span>
<span class="n">rmw_qos_profile_t</span> <span class="n">qos</span><span class="p">;</span>
<span class="n">rmw_publisher_get_actual_qos</span><span class="p">(</span><span class="n">rmw_publisher</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">qos</span><span class="p">);</span>

</code></pre></div></div>

<h4 id="applying-different-profiles-to-different-entities">Applying different profiles to different entities</h4>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for the configuration of different entities with different QoS using the same XML file.
For doing so, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> locates profiles in the XML based on topic names abiding to the following rules:</p>

<h5 id="creating-publisherssubscriptions-with-different-profiles">Creating publishers/subscriptions with different profiles</h5>

<p>To configure a publisher/subscription, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the topic prepended by the node namespace (which defaults to <code class="language-plaintext highlighter-rouge">""</code> if not specified), i.e. the node’s namespace followed by topic name used to create the publisher/subscription.
Mind that topic names always start with <code class="language-plaintext highlighter-rouge">/</code> (it is added when creating the topic if not present), and that namespace and topic name are always separated by one <code class="language-plaintext highlighter-rouge">/</code>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.
The following table presents different combinations of node namespaces and user specified topic names, as well as the resulting topic names and the suitable profile names:</p>

<table>
  <thead>
    <tr>
      <th>User specified topic name</th>
      <th>Node namespace</th>
      <th>Final topic name</th>
      <th>Profile name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td>DEFAULT (<code class="language-plaintext highlighter-rouge">""</code>)</td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
  </tbody>
</table>

<p><strong>IMPORTANT</strong>: As shown in the table, node namespaces are NOT prepended to user specified topic names starting with <code class="language-plaintext highlighter-rouge">/</code>, a.k.a Fully Qualified Names (FQN).
For a complete description of topic name remapping please refer to <a href="http://design.ros2.org/articles/static_remapping.html">Remapping Names</a>.</p>

<h5 id="creating-services-with-different-profiles">Creating services with different profiles</h5>

<p>ROS 2 services contain a subscription for receiving requests, and a publisher to reply to them.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the request subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling. For more information on name mangling, please refer to <a href="https://design.ros2.org/articles/topic_and_service_names.html">Topic and Service name mapping to DDS</a>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h5 id="creating-clients-with-different-profiles">Creating clients with different profiles</h5>

<p>ROS 2 clients contain a publisher to send requests, and a subscription to receive the service’s replies.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the requests publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h4 id="example">Example</h4>

<p>The following example configures Fast DDS to publish synchronously, to have a pre-allocated history that can be expanded whenever it gets filled, and to use Data Sharing if possible.</p>

<ol>
  <li>Create a Fast DDS XML file with:</li>
</ol>

<pre><code class="language-XML">    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;dds xmlns="http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"&gt;
        &lt;profiles&gt;
            &lt;!-- Default publisher profile --&gt;
            &lt;publisher profile_name="default publisher profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/publisher&gt;

            &lt;!-- Default subscriber profile --&gt;
            &lt;subscriber profile_name="default subscriber profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Publisher profile for topic helloworld --&gt;
            &lt;publisher profile_name="helloworld"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for services --&gt;
            &lt;subscriber profile_name="service"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Request publisher profile for clients --&gt;
            &lt;publisher profile_name="client"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;ASYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for server of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rq/add_two_intsRequest"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Reply subscriber profile for client of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rr/add_two_intsReply"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;
        &lt;/profiles&gt;
    &lt;/dds&gt;
    
</code></pre>

<ol>
  <li>Run the talker/listener ROS 2 demo:
    <ol>
      <li>In one terminal</li>
    </ol>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTRTPS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp talker
        
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. In another terminal
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTRTPS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp listener
        
</code></pre></div></div>

<h3 id="enable-zero-copy-data-sharing">Enable Zero Copy Data Sharing</h3>

<p>ROS 2 provides <a href="https://design.ros2.org/articles/zero_copy.html">Loaned Messages</a> that allow the user application to loan the messages memory from the RMW implementation to eliminate the data copy between the ROS 2 application and the RMW implementation.
Furthermore, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>, through Fast DDS, provides both a <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/shared_memory/shared_memory.html">Shared Memory Transport</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/datasharing.html">Data Sharing delivery mechanism</a> to speed up the intra-host communication.
Combining these two features (message loaning and Data Sharing), it is possible to achieve a zero-copy message delivery pipeline, thus bringing significant performance improvements to ROS 2 application.</p>

<p>By default, both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> use <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/shared_memory/shared_memory.html">Shared Memory Transport</a> for intra-host communication, along with network based transports (UDPv4) for inter-host message delivery.</p>

<p>In order to achieve a Zero Copy message delivery, applications need to both enable Fast DDS Data Sharing mechanism, and use the <a href="https://design.ros2.org/articles/zero_copy.html">Loaned Messages</a> API:</p>

<ol>
  <li>To enable Loaned Messages in <code class="language-plaintext highlighter-rouge">Iron Irwini</code> or later, the only requirement is for the data type to be <a href="https://en.wikipedia.org/wiki/Passive_data_structure">Plain Old Data</a>.
For <code class="language-plaintext highlighter-rouge">Humble Hawksbill</code>, in addition to POD types, enabling Fast DDS Data Sharing is also required.</li>
  <li>To enable Fast DDS Data Sharing delivery mechanism, the following XML profiles need to be loaded, and environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> needs to be set to 1 (see <a href="https://github.com/ros2/rmw_fastrtps/tree/humble/#full-qos-configuration">Full QoS configuration</a>)</li>
</ol>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
    <span class="nt">&lt;profiles</span> <span class="na">xmlns=</span><span class="s">"http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- Default publisher profile --&gt;</span>
    <span class="nt">&lt;publisher</span> <span class="na">profile_name=</span><span class="s">"default publisher profile"</span> <span class="na">is_default_profile=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;qos&gt;</span>
        <span class="nt">&lt;data_sharing&gt;</span>
            <span class="nt">&lt;kind&gt;</span>AUTOMATIC<span class="nt">&lt;/kind&gt;</span>
        <span class="nt">&lt;/data_sharing&gt;</span>
        <span class="nt">&lt;/qos&gt;</span>
    <span class="nt">&lt;/publisher&gt;</span>

    <span class="c">&lt;!-- Default subscription profile --&gt;</span>
    <span class="nt">&lt;subscriber</span> <span class="na">profile_name=</span><span class="s">"default subscription profile"</span> <span class="na">is_default_profile=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;qos&gt;</span>
        <span class="nt">&lt;data_sharing&gt;</span>
            <span class="nt">&lt;kind&gt;</span>AUTOMATIC<span class="nt">&lt;/kind&gt;</span>
        <span class="nt">&lt;/data_sharing&gt;</span>
        <span class="nt">&lt;/qos&gt;</span>
    <span class="nt">&lt;/subscriber&gt;</span>
    <span class="nt">&lt;/profiles&gt;</span>
    
</code></pre></div></div>

<h2 id="quality-declaration-files">Quality Declaration files</h2>

<p>Quality Declarations for each package in this repository:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/humble/rmw_fastrtps_shared_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/humble/rmw_fastrtps_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrps_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/humble/rmw_fastrtps_dynamic_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code></a></li>
</ul>

<p>Quality Declarations for the external dependencies of these packages can be found in:</p>

<ul>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/QUALITY.md">Fast DDS Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-CDR/blob/master/QUALITY.md">Fast CDR Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/Quality_Declaration_foonathan_memory.md"><code class="language-plaintext highlighter-rouge">foonathan_memory</code> Quality Declaration</a></li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="humble-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="humble-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#humble-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#humble-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#humble-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="humble-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="humble-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="humble-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmw_fastrtps">rmw_fastrtps</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-ros2-rmw_fastrtps
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros2-rmw_fastrtps" role="menuitem" tabindex="-1" href="/r/rmw_fastrtps/github-ros2-rmw_fastrtps" data="github-ros2-rmw_fastrtps">
                    <span class="glyphicon glyphicon-star"></span>
                    github-ros2-rmw_fastrtps
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Implementation of the ROS Middleware (rmw) Interface using eProsima's Fast RTPS.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros2/rmw_fastrtps.git">https://github.com/ros2/rmw_fastrtps.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">jazzy</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-03-12
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmw_fastrtps/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a></td>
                    <td>8.4.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a></td>
                    <td>8.4.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a></td>
                    <td>8.4.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-middleware-implementation-for-eprosimas-fast-dds">ROS 2 Middleware Implementation for eProsima’s Fast DDS</h1>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> is a <a href="https://docs.ros.org/en/rolling">ROS 2</a> middleware implementation, providing an interface between ROS 2 and <a href="https://www.eprosima.com/index.php">eProsima’s</a> <a href="https://github.com/eProsima/Fast-DDS">Fast DDS</a> middleware.</p>

<h2 id="getting-started">Getting started</h2>

<p>This implementation is available in all ROS 2 distributions, both from binaries and from sources.
You can specify Fast DDS as your ROS 2 middleware layer in two different ways:</p>

<ol>
  <li>Exporting <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> environment variable:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">export </span><span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp
    
</code></pre></div></div>
<ol>
  <li>When launching your ROS 2 application:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run &lt;your_package&gt; &lt;your application&gt;
    
</code></pre></div></div>

<h2 id="two-different-rmw-implementations">Two different RMW implementations</h2>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> actually provides not one but two different ROS 2 middleware implementations, both of them using Fast DDS as middleware layer: <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> (note that directory <code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code> just contains the code that the two implementations share, and does not constitute a layer on its own).</p>

<p>The main difference between the two is that <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> uses introspection typesupport at run time to decide on the serialization/deserialization mechanism.
On the other hand, <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> uses its own typesupport, which generates the mapping for each message type at build time.</p>

<p>Mind that the default ROS 2 RMW implementation is <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code>.
You can however set it to <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> using the environment variable <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> as described above.</p>

<h2 id="advance-usage">Advance usage</h2>

<p>ROS 2 only allows for the configuration of certain middleware features.
For example, see <a href="https://docs.ros.org/en/rolling/Concepts/About-Quality-of-Service-Settings.html#qos-policies">ROS 2 QoS policies</a>.
In addition to ROS 2 QoS policies, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> sets the following Fast DDS configurable parameters:</p>

<ul>
  <li>History memory policy: <code class="language-plaintext highlighter-rouge">PREALLOCATED_WITH_REALLOC_MEMORY_MODE</code>
</li>
  <li>Publication mode: <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>
</li>
  <li>Data Sharing: <code class="language-plaintext highlighter-rouge">OFF</code>
</li>
</ul>

<p>However, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers the possibility to further configure Fast DDS:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/jazzy/#change-publication-mode">Change publication mode</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/jazzy/#full-qos-configuration">Full QoS configuration</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/jazzy/#change-participant-discovery-options">Change participant discovery options</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/jazzy/#enable-zero-copy-data-sharing">Enable Zero Copy Data Sharing</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/jazzy/#large-data-transfer-over-lossy-network">Large data transfer over lossy network</a></li>
</ul>

<h3 id="change-publication-mode">Change publication mode</h3>

<p>Fast DDS features two different <a href="https://fast-dds.docs.eprosima.com/en/v2.1.0/fastdds/dds_layer/core/policy/eprosimaExtensions.html?highlight=synchronous#publishmodeqospolicykind">publication modes</a>: synchronous and asynchronous.
To learn more about the implications of choosing one mode over the other, please refer to <a href="https://www.eprosima.com/index.php/resources-all/performance/dds-asynchronous-vs-synchronous-publishing">DDS: Asynchronous vs Synchronous Publishing</a>:</p>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers an easy way to change Fast DDS’ publication mode without the need of defining a XML file. That is environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
The admissible values are:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">ASYNCHRONOUS</code>: asynchronous publication mode.
Setting this mode implies that when the publisher invokes the write operation, the data is copied into a queue, a notification about the addition to the queue is performed, and control of the thread is returned to the user before the data is actually sent.
A background thread (asynchronous thread) is in turn in charge of consuming the queue and sending the data to every matched reader.</li>
  <li>
<code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>: synchronous publication mode.
Setting this mode implies that the data is sent directly within the context of the user thread.
This entails that any blocking call occurring during the write operation would block the user thread, thus preventing the application with continuing its operation.
It is important to note that this mode typically yields higher throughput rates at lower latencies, since the notification and context switching between threads is not present.</li>
  <li>
<code class="language-plaintext highlighter-rouge">AUTO</code>: let Fast DDS select the publication mode. This implies using the publication mode set in the XML file or, failing that, the default value set in Fast DDS (which currently is set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>).</li>
</ul>

<p>If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code> is not set, then both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> behave as if it were set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>.</p>

<h3 id="full-qos-configuration">Full QoS configuration</h3>

<p>Fast DDS QoS policies can be fully configured through a combination of the <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a> API, and the <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> file’s QoS elements. Configuration depends on the environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code>.</p>

<ol>
  <li>ROS 2 QoS contained in <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html"><code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code></a> are always honored, unless set to <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code>.
In that case, XML values, or Fast DDS default values in the absence of XML ones, are applied.
Setting any QoS in <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code> to something other than <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code> entails that specifying it via XML files has no effect, since they do not override what was used to create the publisher, subscription, service, or client.</li>
  <li>In order to modify the history memory policy or publication mode using XML files, environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> must be set to 1 (it is set to 0 by default).
This tells <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> that it should override both the history memory policy and the publication mode using the XML.
Bear in mind that setting this environment variable but not setting either of these policies in the XML results in Fast DDS’ defaults configurations being used.</li>
</ol>

<table>
  <thead>
    <tr>
      <th>RMW_FASTRTPS_USE_QOS_FROM_XML</th>
      <th><a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a></th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> QoS</th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">Fast DDS XML</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0 (default)</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Used</td>
    </tr>
  </tbody>
</table>

<p>Note: Setting <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> to 1 effectively overrides whatever configuration was set with <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
Furthermore, If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> is set to 1, and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> or <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> are not specified in the XML, then the Fast DDS’ default configurations will be used:</p>

<ul>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> : <code class="language-plaintext highlighter-rouge">PREALLOCATED_MEMORY_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> : <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/datasharing.html">datasharing</a> : <code class="language-plaintext highlighter-rouge">AUTO</code>.</li>
</ul>

<p>There are two ways of telling a ROS 2 application which XML to use:</p>

<ol>
  <li>Placing your XML file in the running directory under the name <code class="language-plaintext highlighter-rouge">DEFAULT_FASTRTPS_PROFILES.xml</code>.</li>
  <li>Setting environment variable <code class="language-plaintext highlighter-rouge">FASTRTPS_DEFAULT_PROFILES_FILE</code> to contain the path to your XML file (relative to the working directory).</li>
</ol>

<p>To verify the actual QoS settings using rmw:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Create a publisher within a node with specific topic, type support, options, and QoS</span>
<span class="n">rmw_publisher_t</span><span class="o">*</span> <span class="n">rmw_publisher</span> <span class="o">=</span> <span class="n">rmw_create_publisher</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">type_support</span><span class="p">,</span> <span class="n">topic_name</span><span class="p">,</span> <span class="n">qos_profile</span><span class="p">,</span> <span class="n">publisher_options</span><span class="p">);</span>
<span class="c1">// Check the actual QoS set on the publisher</span>
<span class="n">rmw_qos_profile_t</span> <span class="n">qos</span><span class="p">;</span>
<span class="n">rmw_publisher_get_actual_qos</span><span class="p">(</span><span class="n">rmw_publisher</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">qos</span><span class="p">);</span>

</code></pre></div></div>

<h4 id="applying-different-profiles-to-different-entities">Applying different profiles to different entities</h4>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for the configuration of different entities with different QoS using the same XML file.
For doing so, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> locates profiles in the XML based on topic names abiding to the following rules:</p>

<h5 id="creating-publisherssubscriptions-with-different-profiles">Creating publishers/subscriptions with different profiles</h5>

<p>To configure a publisher/subscription, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the topic prepended by the node namespace (which defaults to <code class="language-plaintext highlighter-rouge">""</code> if not specified), i.e. the node’s namespace followed by topic name used to create the publisher/subscription.
Mind that topic names always start with <code class="language-plaintext highlighter-rouge">/</code> (it is added when creating the topic if not present), and that namespace and topic name are always separated by one <code class="language-plaintext highlighter-rouge">/</code>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.
The following table presents different combinations of node namespaces and user specified topic names, as well as the resulting topic names and the suitable profile names:</p>

<table>
  <thead>
    <tr>
      <th>User specified topic name</th>
      <th>Node namespace</th>
      <th>Final topic name</th>
      <th>Profile name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td>DEFAULT (<code class="language-plaintext highlighter-rouge">""</code>)</td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
  </tbody>
</table>

<p><strong>IMPORTANT</strong>: As shown in the table, node namespaces are NOT prepended to user specified topic names starting with <code class="language-plaintext highlighter-rouge">/</code>, a.k.a Fully Qualified Names (FQN).
For a complete description of topic name remapping please refer to <a href="http://design.ros2.org/articles/static_remapping.html">Remapping Names</a>.</p>

<h5 id="creating-services-with-different-profiles">Creating services with different profiles</h5>

<p>ROS 2 services contain a subscription for receiving requests, and a publisher to reply to them.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the request subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling. For more information on name mangling, please refer to <a href="https://design.ros2.org/articles/topic_and_service_names.html">Topic and Service name mapping to DDS</a>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h5 id="creating-clients-with-different-profiles">Creating clients with different profiles</h5>

<p>ROS 2 clients contain a publisher to send requests, and a subscription to receive the service’s replies.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the requests publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h4 id="example">Example</h4>

<p>The following example configures Fast DDS to publish synchronously, to have a pre-allocated history that can be expanded whenever it gets filled, and to use Data Sharing if possible.</p>

<ol>
  <li>Create a Fast DDS XML file with:</li>
</ol>

<pre><code class="language-XML">    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;dds xmlns="http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"&gt;
        &lt;profiles&gt;
            &lt;!-- Default publisher profile --&gt;
            &lt;publisher profile_name="default publisher profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/publisher&gt;

            &lt;!-- Default subscriber profile --&gt;
            &lt;subscriber profile_name="default subscriber profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Publisher profile for topic helloworld --&gt;
            &lt;publisher profile_name="helloworld"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for services --&gt;
            &lt;subscriber profile_name="service"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Request publisher profile for clients --&gt;
            &lt;publisher profile_name="client"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;ASYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for server of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rq/add_two_intsRequest"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Reply subscriber profile for client of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rr/add_two_intsReply"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;
        &lt;/profiles&gt;
    &lt;/dds&gt;
    
</code></pre>

<ol>
  <li>Run the talker/listener ROS 2 demo:
    <ol>
      <li>In one terminal</li>
    </ol>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTRTPS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp talker
        
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. In another terminal
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTRTPS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp listener
        
</code></pre></div></div>

<h3 id="change-participant-discovery-options">Change participant discovery options</h3>

<p>ROS 2 allows controlling participant discovery with two environment variables: <code class="language-plaintext highlighter-rouge">ROS_AUTOMATIC_DISCOVERY_RANGE</code> and <code class="language-plaintext highlighter-rouge">ROS_STATIC_PEERS</code>.
Full configuration of participant discovery can also be set with XML files; however, the ROS specific environment variables should be disabled to prevent them from interfering.
Set <code class="language-plaintext highlighter-rouge">ROS_AUTOMATIC_DISCOVERY_RANGE</code> to the value <code class="language-plaintext highlighter-rouge">SYSTEM_DEFAULT</code> to disable both ROS specific environment variables.
See more details for <a href="https://docs.ros.org/en/rolling/Tutorials/Advanced/Improved-Dynamic-Discovery.html">Improved Dynamic Discovery</a>.</p>

<h3 id="enable-zero-copy-data-sharing">Enable Zero Copy Data Sharing</h3>

<p>ROS 2 provides <a href="https://design.ros2.org/articles/zero_copy.html">Loaned Messages</a> that allow the user application to loan the messages memory from the RMW implementation to eliminate the data copy between the ROS 2 application and the RMW implementation.
Furthermore, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>, through Fast DDS, provides both a <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/shared_memory/shared_memory.html">Shared Memory Transport</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/datasharing.html">Data Sharing delivery mechanism</a> to speed up the intra-host communication.
Combining these two features (message loaning and Data Sharing), it is possible to achieve a zero-copy message delivery pipeline, thus bringing significant performance improvements to ROS 2 application.</p>

<p>By default, both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> use <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/shared_memory/shared_memory.html">Shared Memory Transport</a> for intra-host communication, along with network based transports (UDPv4) for inter-host message delivery.</p>

<p>In order to achieve a Zero Copy message delivery, applications need to both enable Fast DDS Data Sharing mechanism, and use the <a href="https://design.ros2.org/articles/zero_copy.html">Loaned Messages</a> API:</p>

<ol>
  <li>To enable Loaned Messages in <code class="language-plaintext highlighter-rouge">Iron Irwini</code> or later, the only requirement is for the data type to be <a href="https://en.wikipedia.org/wiki/Passive_data_structure">Plain Old Data</a>.
For <code class="language-plaintext highlighter-rouge">Humble Hawksbill</code>, in addition to POD types, enabling Fast DDS Data Sharing is also required.</li>
  <li>To enable Fast DDS Data Sharing delivery mechanism, the following XML profiles need to be loaded, and environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> needs to be set to 1 (see <a href="https://github.com/ros2/rmw_fastrtps/tree/jazzy/#full-qos-configuration">Full QoS configuration</a>)</li>
</ol>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
    <span class="nt">&lt;profiles</span> <span class="na">xmlns=</span><span class="s">"http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- Default publisher profile --&gt;</span>
    <span class="nt">&lt;publisher</span> <span class="na">profile_name=</span><span class="s">"default publisher profile"</span> <span class="na">is_default_profile=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;qos&gt;</span>
        <span class="nt">&lt;data_sharing&gt;</span>
            <span class="nt">&lt;kind&gt;</span>AUTOMATIC<span class="nt">&lt;/kind&gt;</span>
        <span class="nt">&lt;/data_sharing&gt;</span>
        <span class="nt">&lt;/qos&gt;</span>
    <span class="nt">&lt;/publisher&gt;</span>

    <span class="c">&lt;!-- Default subscription profile --&gt;</span>
    <span class="nt">&lt;subscriber</span> <span class="na">profile_name=</span><span class="s">"default subscription profile"</span> <span class="na">is_default_profile=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;qos&gt;</span>
        <span class="nt">&lt;data_sharing&gt;</span>
            <span class="nt">&lt;kind&gt;</span>AUTOMATIC<span class="nt">&lt;/kind&gt;</span>
        <span class="nt">&lt;/data_sharing&gt;</span>
        <span class="nt">&lt;/qos&gt;</span>
    <span class="nt">&lt;/subscriber&gt;</span>
    <span class="nt">&lt;/profiles&gt;</span>
    
</code></pre></div></div>

<h3 id="large-data-transfer-over-lossy-network">Large data transfer over lossy network</h3>

<p>Out of the box, Fast DDS uses UDPv4 for the data communication over the network.
Although UDP has its own merit for realtime communications, with many applications relying on UDP, depending on application requirements, a more reliable network transmission may be needed.
Such cases included but are not limited to sending large data samples over lossy networks, where TCP’s builtin reliability and flow control tend to perform better.</p>

<p>Because of this reason, Fast DDS provides the possibility to modify its builtin transports via an environmental variable <code class="language-plaintext highlighter-rouge">FASTDDS_BUILTIN_TRANSPORTS</code>, allowing for easily changing the transport layer to TCP when needed:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">FASTDDS_BUILTIN_TRANSPORTS</span><span class="o">=</span>LARGE_DATA

</code></pre></div></div>

<p>This <code class="language-plaintext highlighter-rouge">LARGE_DATA</code> mode adds a TCP transport for data communication, restricting the use of the UDP transport to the first part of the discovery process, thus achieving a reliable transmission with automatic discovery capabilities.
This will improve the transmission of large data samples over lossy networks.</p>

<blockquote>
  <p>[!NOTE]
The environmental variable needs to be set on both publisher and subscription side.</p>
</blockquote>

<p>For more information, please refer to <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/env_vars/env_vars.html#fastdds-builtin-transports">FASTDDS_BUILTIN_TRANSPORTS</a>.</p>

<h2 id="quality-declaration-files">Quality Declaration files</h2>

<p>Quality Declarations for each package in this repository:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/jazzy/rmw_fastrtps_shared_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/jazzy/rmw_fastrtps_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrps_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/jazzy/rmw_fastrtps_dynamic_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code></a></li>
</ul>

<p>Quality Declarations for the external dependencies of these packages can be found in:</p>

<ul>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/QUALITY.md">Fast DDS Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-CDR/blob/master/QUALITY.md">Fast CDR Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/Quality_Declaration_foonathan_memory.md"><code class="language-plaintext highlighter-rouge">foonathan_memory</code> Quality Declaration</a></li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="jazzy-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="jazzy-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#jazzy-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#jazzy-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#jazzy-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="jazzy-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="jazzy-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="jazzy-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmw_fastrtps">rmw_fastrtps</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-ros2-rmw_fastrtps
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros2-rmw_fastrtps" role="menuitem" tabindex="-1" href="/r/rmw_fastrtps/github-ros2-rmw_fastrtps" data="github-ros2-rmw_fastrtps">
                    <span class="glyphicon glyphicon-star"></span>
                    github-ros2-rmw_fastrtps
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Implementation of the ROS Middleware (rmw) Interface using eProsima's Fast RTPS.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros2/rmw_fastrtps.git">https://github.com/ros2/rmw_fastrtps.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">kilted</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-18
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmw_fastrtps/#kilted-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#kilted-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#kilted-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a></td>
                    <td>9.3.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a></td>
                    <td>9.3.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a></td>
                    <td>9.3.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-middleware-implementation-for-eprosimas-fast-dds">ROS 2 Middleware Implementation for eProsima’s Fast DDS</h1>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> is a <a href="https://docs.ros.org/en/rolling">ROS 2</a> middleware implementation, providing an interface between ROS 2 and <a href="https://www.eprosima.com/index.php">eProsima’s</a> <a href="https://github.com/eProsima/Fast-DDS">Fast DDS</a> middleware.</p>

<h2 id="getting-started">Getting started</h2>

<p>This implementation is available in all ROS 2 distributions, both from binaries and from sources.
You can specify Fast DDS as your ROS 2 middleware layer in two different ways:</p>

<ol>
  <li>Exporting <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> environment variable:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">export </span><span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp
    
</code></pre></div></div>
<ol>
  <li>When launching your ROS 2 application:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run &lt;your_package&gt; &lt;your application&gt;
    
</code></pre></div></div>

<h2 id="two-different-rmw-implementations">Two different RMW implementations</h2>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> actually provides not one but two different ROS 2 middleware implementations, both of them using Fast DDS as middleware layer: <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> (note that directory <code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code> just contains the code that the two implementations share, and does not constitute a layer on its own).</p>

<p>The main difference between the two is that <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> uses introspection typesupport at run time to decide on the serialization/deserialization mechanism.
On the other hand, <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> uses its own typesupport, which generates the mapping for each message type at build time.</p>

<p>Mind that the default ROS 2 RMW implementation is <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code>.
You can however set it to <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> using the environment variable <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> as described above.</p>

<h2 id="advance-usage">Advance usage</h2>

<p>ROS 2 only allows for the configuration of certain middleware features.
For example, see <a href="https://docs.ros.org/en/rolling/Concepts/About-Quality-of-Service-Settings.html#qos-policies">ROS 2 QoS policies</a>.
In addition to ROS 2 QoS policies, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> sets the following Fast DDS configurable parameters:</p>

<ul>
  <li>History memory policy: <code class="language-plaintext highlighter-rouge">PREALLOCATED_WITH_REALLOC_MEMORY_MODE</code>
</li>
  <li>Publication mode: <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>
</li>
  <li>Data Sharing: <code class="language-plaintext highlighter-rouge">OFF</code>
</li>
</ul>

<p>However, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers the possibility to further configure Fast DDS:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/kilted/#change-publication-mode">Change publication mode</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/kilted/#full-qos-configuration">Full QoS configuration</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/kilted/#change-participant-discovery-options">Change participant discovery options</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/kilted/#enable-zero-copy-data-sharing">Enable Zero Copy Data Sharing</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/kilted/#large-data-transfer-over-lossy-network">Large data transfer over lossy network</a></li>
</ul>

<h3 id="change-publication-mode">Change publication mode</h3>

<p>Fast DDS features two different <a href="https://fast-dds.docs.eprosima.com/en/v2.1.0/fastdds/dds_layer/core/policy/eprosimaExtensions.html?highlight=synchronous#publishmodeqospolicykind">publication modes</a>: synchronous and asynchronous.
To learn more about the implications of choosing one mode over the other, please refer to <a href="https://www.eprosima.com/index.php/resources-all/performance/dds-asynchronous-vs-synchronous-publishing">DDS: Asynchronous vs Synchronous Publishing</a>:</p>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers an easy way to change Fast DDS’ publication mode without the need of defining a XML file. That is environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
The admissible values are:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">ASYNCHRONOUS</code>: asynchronous publication mode.
Setting this mode implies that when the publisher invokes the write operation, the data is copied into a queue, a notification about the addition to the queue is performed, and control of the thread is returned to the user before the data is actually sent.
A background thread (asynchronous thread) is in turn in charge of consuming the queue and sending the data to every matched reader.</li>
  <li>
<code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>: synchronous publication mode.
Setting this mode implies that the data is sent directly within the context of the user thread.
This entails that any blocking call occurring during the write operation would block the user thread, thus preventing the application with continuing its operation.
It is important to note that this mode typically yields higher throughput rates at lower latencies, since the notification and context switching between threads is not present.</li>
  <li>
<code class="language-plaintext highlighter-rouge">AUTO</code>: let Fast DDS select the publication mode. This implies using the publication mode set in the XML file or, failing that, the default value set in Fast DDS (which currently is set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>).</li>
</ul>

<p>If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code> is not set, then both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> behave as if it were set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>.</p>

<h3 id="full-qos-configuration">Full QoS configuration</h3>

<p>Fast DDS QoS policies can be fully configured through a combination of the <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a> API, and the <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> file’s QoS elements. Configuration depends on the environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code>.</p>

<ol>
  <li>ROS 2 QoS contained in <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html"><code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code></a> are always honored, unless set to <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code>.
In that case, XML values, or Fast DDS default values in the absence of XML ones, are applied.
Setting any QoS in <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code> to something other than <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code> entails that specifying it via XML files has no effect, since they do not override what was used to create the publisher, subscription, service, or client.</li>
  <li>In order to modify the history memory policy or publication mode using XML files, environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> must be set to 1 (it is set to 0 by default).
This tells <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> that it should override both the history memory policy and the publication mode using the XML.
Bear in mind that setting this environment variable but not setting either of these policies in the XML results in Fast DDS’ defaults configurations being used.</li>
</ol>

<table>
  <thead>
    <tr>
      <th>RMW_FASTRTPS_USE_QOS_FROM_XML</th>
      <th><a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a></th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> QoS</th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">Fast DDS XML</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0 (default)</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Used</td>
    </tr>
  </tbody>
</table>

<p>Note: Setting <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> to 1 effectively overrides whatever configuration was set with <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
Furthermore, If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> is set to 1, and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> or <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> are not specified in the XML, then the Fast DDS’ default configurations will be used:</p>

<ul>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> : <code class="language-plaintext highlighter-rouge">PREALLOCATED_MEMORY_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> : <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/datasharing.html">datasharing</a> : <code class="language-plaintext highlighter-rouge">AUTO</code>.</li>
</ul>

<p>There are two ways of telling a ROS 2 application which XML to use:</p>

<ol>
  <li>Placing your XML file in the running directory under the name <code class="language-plaintext highlighter-rouge">DEFAULT_FASTDDS_PROFILES.xml</code>.</li>
  <li>Setting environment variable <code class="language-plaintext highlighter-rouge">FASTDDS_DEFAULT_PROFILES_FILE</code> to contain the path to your XML file (relative to the working directory).</li>
</ol>

<p>To verify the actual QoS settings using rmw:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Create a publisher within a node with specific topic, type support, options, and QoS</span>
<span class="n">rmw_publisher_t</span><span class="o">*</span> <span class="n">rmw_publisher</span> <span class="o">=</span> <span class="n">rmw_create_publisher</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">type_support</span><span class="p">,</span> <span class="n">topic_name</span><span class="p">,</span> <span class="n">qos_profile</span><span class="p">,</span> <span class="n">publisher_options</span><span class="p">);</span>
<span class="c1">// Check the actual QoS set on the publisher</span>
<span class="n">rmw_qos_profile_t</span> <span class="n">qos</span><span class="p">;</span>
<span class="n">rmw_publisher_get_actual_qos</span><span class="p">(</span><span class="n">rmw_publisher</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">qos</span><span class="p">);</span>

</code></pre></div></div>

<h4 id="applying-different-profiles-to-different-entities">Applying different profiles to different entities</h4>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for the configuration of different entities with different QoS using the same XML file.
For doing so, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> locates profiles in the XML based on topic names abiding to the following rules:</p>

<h5 id="creating-publisherssubscriptions-with-different-profiles">Creating publishers/subscriptions with different profiles</h5>

<p>To configure a publisher/subscription, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the topic prepended by the node namespace (which defaults to <code class="language-plaintext highlighter-rouge">""</code> if not specified), i.e. the node’s namespace followed by topic name used to create the publisher/subscription.
Mind that topic names always start with <code class="language-plaintext highlighter-rouge">/</code> (it is added when creating the topic if not present), and that namespace and topic name are always separated by one <code class="language-plaintext highlighter-rouge">/</code>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.
The following table presents different combinations of node namespaces and user specified topic names, as well as the resulting topic names and the suitable profile names:</p>

<table>
  <thead>
    <tr>
      <th>User specified topic name</th>
      <th>Node namespace</th>
      <th>Final topic name</th>
      <th>Profile name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td>DEFAULT (<code class="language-plaintext highlighter-rouge">""</code>)</td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
  </tbody>
</table>

<p><strong>IMPORTANT</strong>: As shown in the table, node namespaces are NOT prepended to user specified topic names starting with <code class="language-plaintext highlighter-rouge">/</code>, a.k.a Fully Qualified Names (FQN).
For a complete description of topic name remapping please refer to <a href="http://design.ros2.org/articles/static_remapping.html">Remapping Names</a>.</p>

<h5 id="creating-services-with-different-profiles">Creating services with different profiles</h5>

<p>ROS 2 services contain a subscription for receiving requests, and a publisher to reply to them.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the request subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling. For more information on name mangling, please refer to <a href="https://design.ros2.org/articles/topic_and_service_names.html">Topic and Service name mapping to DDS</a>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h5 id="creating-clients-with-different-profiles">Creating clients with different profiles</h5>

<p>ROS 2 clients contain a publisher to send requests, and a subscription to receive the service’s replies.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the requests publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h4 id="example">Example</h4>

<p>The following example configures Fast DDS to publish synchronously, to have a pre-allocated history that can be expanded whenever it gets filled, and to use Data Sharing if possible.</p>

<ol>
  <li>Create a Fast DDS XML file with:</li>
</ol>

<pre><code class="language-XML">    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;dds xmlns="http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"&gt;
        &lt;profiles&gt;
            &lt;!-- Default publisher profile --&gt;
            &lt;publisher profile_name="default publisher profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/publisher&gt;

            &lt;!-- Default subscriber profile --&gt;
            &lt;subscriber profile_name="default subscriber profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Publisher profile for topic helloworld --&gt;
            &lt;publisher profile_name="helloworld"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for services --&gt;
            &lt;subscriber profile_name="service"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Request publisher profile for clients --&gt;
            &lt;publisher profile_name="client"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;ASYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for server of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rq/add_two_intsRequest"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Reply subscriber profile for client of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rr/add_two_intsReply"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;
        &lt;/profiles&gt;
    &lt;/dds&gt;
    
</code></pre>

<ol>
  <li>Run the talker/listener ROS 2 demo:
    <ol>
      <li>In one terminal</li>
    </ol>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTDDS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp talker
        
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. In another terminal
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTDDS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp listener
        
</code></pre></div></div>

<h3 id="change-participant-discovery-options">Change participant discovery options</h3>

<p>ROS 2 allows controlling participant discovery with two environment variables: <code class="language-plaintext highlighter-rouge">ROS_AUTOMATIC_DISCOVERY_RANGE</code> and <code class="language-plaintext highlighter-rouge">ROS_STATIC_PEERS</code>.
Full configuration of participant discovery can also be set with XML files; however, the ROS specific environment variables should be disabled to prevent them from interfering.
Set <code class="language-plaintext highlighter-rouge">ROS_AUTOMATIC_DISCOVERY_RANGE</code> to the value <code class="language-plaintext highlighter-rouge">SYSTEM_DEFAULT</code> to disable both ROS specific environment variables.
See more details for <a href="https://docs.ros.org/en/rolling/Tutorials/Advanced/Improved-Dynamic-Discovery.html">Improved Dynamic Discovery</a>.</p>

<h3 id="enable-zero-copy-data-sharing">Enable Zero Copy Data Sharing</h3>

<p>ROS 2 provides <a href="https://design.ros2.org/articles/zero_copy.html">Loaned Messages</a> that allow the user application to loan the messages memory from the RMW implementation to eliminate the data copy between the ROS 2 application and the RMW implementation.
Furthermore, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>, through Fast DDS, provides both a <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/shared_memory/shared_memory.html">Shared Memory Transport</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/datasharing.html">Data Sharing delivery mechanism</a> to speed up the intra-host communication.
Combining these two features (message loaning and Data Sharing), it is possible to achieve a zero-copy message delivery pipeline, thus bringing significant performance improvements to ROS 2 application.</p>

<p>By default, both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> use <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/shared_memory/shared_memory.html">Shared Memory Transport</a> for intra-host communication, along with network based transports (UDPv4) for inter-host message delivery.</p>

<p>In order to achieve a Zero Copy message delivery, applications need to both enable Fast DDS Data Sharing mechanism, and use the <a href="https://design.ros2.org/articles/zero_copy.html">Loaned Messages</a> API:</p>

<ol>
  <li>To enable Loaned Messages in <code class="language-plaintext highlighter-rouge">Iron Irwini</code> or later, the only requirement is for the data type to be <a href="https://en.wikipedia.org/wiki/Passive_data_structure">Plain Old Data</a>.
For <code class="language-plaintext highlighter-rouge">Humble Hawksbill</code>, in addition to POD types, enabling Fast DDS Data Sharing is also required.</li>
  <li>To enable Fast DDS Data Sharing delivery mechanism, the following XML profiles need to be loaded, and environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> needs to be set to 1 (see <a href="https://github.com/ros2/rmw_fastrtps/tree/kilted/#full-qos-configuration">Full QoS configuration</a>)</li>
</ol>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
    <span class="nt">&lt;profiles</span> <span class="na">xmlns=</span><span class="s">"http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- Default publisher profile --&gt;</span>
    <span class="nt">&lt;publisher</span> <span class="na">profile_name=</span><span class="s">"default publisher profile"</span> <span class="na">is_default_profile=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;qos&gt;</span>
        <span class="nt">&lt;data_sharing&gt;</span>
            <span class="nt">&lt;kind&gt;</span>AUTOMATIC<span class="nt">&lt;/kind&gt;</span>
        <span class="nt">&lt;/data_sharing&gt;</span>
        <span class="nt">&lt;/qos&gt;</span>
    <span class="nt">&lt;/publisher&gt;</span>

    <span class="c">&lt;!-- Default subscription profile --&gt;</span>
    <span class="nt">&lt;subscriber</span> <span class="na">profile_name=</span><span class="s">"default subscription profile"</span> <span class="na">is_default_profile=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;qos&gt;</span>
        <span class="nt">&lt;data_sharing&gt;</span>
            <span class="nt">&lt;kind&gt;</span>AUTOMATIC<span class="nt">&lt;/kind&gt;</span>
        <span class="nt">&lt;/data_sharing&gt;</span>
        <span class="nt">&lt;/qos&gt;</span>
    <span class="nt">&lt;/subscriber&gt;</span>
    <span class="nt">&lt;/profiles&gt;</span>
    
</code></pre></div></div>

<h3 id="large-data-transfer-over-lossy-network">Large data transfer over lossy network</h3>

<p>Out of the box, Fast DDS uses UDPv4 for the data communication over the network.
Although UDP has its own merit for realtime communications, with many applications relying on UDP, depending on application requirements, a more reliable network transmission may be needed.
Such cases included but are not limited to sending large data samples over lossy networks, where TCP’s builtin reliability and flow control tend to perform better.</p>

<p>Because of this reason, Fast DDS provides the possibility to modify its builtin transports via an environmental variable <code class="language-plaintext highlighter-rouge">FASTDDS_BUILTIN_TRANSPORTS</code>, allowing for easily changing the transport layer to TCP when needed:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">FASTDDS_BUILTIN_TRANSPORTS</span><span class="o">=</span>LARGE_DATA

</code></pre></div></div>

<p>This <code class="language-plaintext highlighter-rouge">LARGE_DATA</code> mode adds a TCP transport for data communication, restricting the use of the UDP transport to the first part of the discovery process, thus achieving a reliable transmission with automatic discovery capabilities.
This will improve the transmission of large data samples over lossy networks.</p>

<blockquote>
  <p>[!NOTE]
The environmental variable needs to be set on both publisher and subscription side.</p>
</blockquote>

<p>For more information, please refer to <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/env_vars/env_vars.html#fastdds-builtin-transports">FASTDDS_BUILTIN_TRANSPORTS</a>.</p>

<h2 id="quality-declaration-files">Quality Declaration files</h2>

<p>Quality Declarations for each package in this repository:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/kilted/rmw_fastrtps_shared_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/kilted/rmw_fastrtps_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrps_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/kilted/rmw_fastrtps_dynamic_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code></a></li>
</ul>

<p>Quality Declarations for the external dependencies of these packages can be found in:</p>

<ul>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/QUALITY.md">Fast DDS Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-CDR/blob/master/QUALITY.md">Fast CDR Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/Quality_Declaration_foonathan_memory.md"><code class="language-plaintext highlighter-rouge">foonathan_memory</code> Quality Declaration</a></li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="kilted-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="kilted-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#kilted-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#kilted-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#kilted-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="kilted-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="kilted-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="kilted-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmw_fastrtps">rmw_fastrtps</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-ros2-rmw_fastrtps
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros2-rmw_fastrtps" role="menuitem" tabindex="-1" href="/r/rmw_fastrtps/github-ros2-rmw_fastrtps" data="github-ros2-rmw_fastrtps">
                    <span class="glyphicon glyphicon-star"></span>
                    github-ros2-rmw_fastrtps
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Implementation of the ROS Middleware (rmw) Interface using eProsima's Fast RTPS.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros2/rmw_fastrtps.git">https://github.com/ros2/rmw_fastrtps.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">rolling</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-25
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmw_fastrtps/#rolling-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#rolling-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#rolling-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a></td>
                    <td>9.4.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a></td>
                    <td>9.4.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a></td>
                    <td>9.4.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-middleware-implementation-for-eprosimas-fast-dds">ROS 2 Middleware Implementation for eProsima’s Fast DDS</h1>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> is a <a href="https://docs.ros.org/en/rolling">ROS 2</a> middleware implementation, providing an interface between ROS 2 and <a href="https://www.eprosima.com/index.php">eProsima’s</a> <a href="https://github.com/eProsima/Fast-DDS">Fast DDS</a> middleware.</p>

<h2 id="getting-started">Getting started</h2>

<p>This implementation is available in all ROS 2 distributions, both from binaries and from sources.
You can specify Fast DDS as your ROS 2 middleware layer in two different ways:</p>

<ol>
  <li>Exporting <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> environment variable:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">export </span><span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp
    
</code></pre></div></div>
<ol>
  <li>When launching your ROS 2 application:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run &lt;your_package&gt; &lt;your application&gt;
    
</code></pre></div></div>

<h2 id="two-different-rmw-implementations">Two different RMW implementations</h2>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> actually provides not one but two different ROS 2 middleware implementations, both of them using Fast DDS as middleware layer: <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> (note that directory <code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code> just contains the code that the two implementations share, and does not constitute a layer on its own).</p>

<p>The main difference between the two is that <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> uses introspection typesupport at run time to decide on the serialization/deserialization mechanism.
On the other hand, <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> uses its own typesupport, which generates the mapping for each message type at build time.</p>

<p>Mind that the default ROS 2 RMW implementation is <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code>.
You can however set it to <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> using the environment variable <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> as described above.</p>

<h2 id="advance-usage">Advance usage</h2>

<p>ROS 2 only allows for the configuration of certain middleware features.
For example, see <a href="https://docs.ros.org/en/rolling/Concepts/About-Quality-of-Service-Settings.html#qos-policies">ROS 2 QoS policies</a>.
In addition to ROS 2 QoS policies, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> sets the following Fast DDS configurable parameters:</p>

<ul>
  <li>History memory policy: <code class="language-plaintext highlighter-rouge">PREALLOCATED_WITH_REALLOC_MEMORY_MODE</code>
</li>
  <li>Publication mode: <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>
</li>
  <li>Data Sharing: <code class="language-plaintext highlighter-rouge">OFF</code>
</li>
</ul>

<p>However, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers the possibility to further configure Fast DDS:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/rolling/#change-publication-mode">Change publication mode</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/rolling/#full-qos-configuration">Full QoS configuration</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/rolling/#change-participant-discovery-options">Change participant discovery options</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/rolling/#enable-zero-copy-data-sharing">Enable Zero Copy Data Sharing</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/rolling/#large-data-transfer-over-lossy-network">Large data transfer over lossy network</a></li>
</ul>

<h3 id="change-publication-mode">Change publication mode</h3>

<p>Fast DDS features two different <a href="https://fast-dds.docs.eprosima.com/en/v2.1.0/fastdds/dds_layer/core/policy/eprosimaExtensions.html?highlight=synchronous#publishmodeqospolicykind">publication modes</a>: synchronous and asynchronous.
To learn more about the implications of choosing one mode over the other, please refer to <a href="https://www.eprosima.com/index.php/resources-all/performance/dds-asynchronous-vs-synchronous-publishing">DDS: Asynchronous vs Synchronous Publishing</a>:</p>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers an easy way to change Fast DDS’ publication mode without the need of defining a XML file. That is environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
The admissible values are:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">ASYNCHRONOUS</code>: asynchronous publication mode.
Setting this mode implies that when the publisher invokes the write operation, the data is copied into a queue, a notification about the addition to the queue is performed, and control of the thread is returned to the user before the data is actually sent.
A background thread (asynchronous thread) is in turn in charge of consuming the queue and sending the data to every matched reader.</li>
  <li>
<code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>: synchronous publication mode.
Setting this mode implies that the data is sent directly within the context of the user thread.
This entails that any blocking call occurring during the write operation would block the user thread, thus preventing the application with continuing its operation.
It is important to note that this mode typically yields higher throughput rates at lower latencies, since the notification and context switching between threads is not present.</li>
  <li>
<code class="language-plaintext highlighter-rouge">AUTO</code>: let Fast DDS select the publication mode. This implies using the publication mode set in the XML file or, failing that, the default value set in Fast DDS (which currently is set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>).</li>
</ul>

<p>If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code> is not set, then both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> behave as if it were set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>.</p>

<h3 id="full-qos-configuration">Full QoS configuration</h3>

<p>Fast DDS QoS policies can be fully configured through a combination of the <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a> API, and the <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> file’s QoS elements. Configuration depends on the environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code>.</p>

<ol>
  <li>ROS 2 QoS contained in <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html"><code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code></a> are always honored, unless set to <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code>.
In that case, XML values, or Fast DDS default values in the absence of XML ones, are applied.
Setting any QoS in <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code> to something other than <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code> entails that specifying it via XML files has no effect, since they do not override what was used to create the publisher, subscription, service, or client.</li>
  <li>In order to modify the history memory policy or publication mode using XML files, environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> must be set to 1 (it is set to 0 by default).
This tells <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> that it should override both the history memory policy and the publication mode using the XML.
Bear in mind that setting this environment variable but not setting either of these policies in the XML results in Fast DDS’ defaults configurations being used.</li>
</ol>

<table>
  <thead>
    <tr>
      <th>RMW_FASTRTPS_USE_QOS_FROM_XML</th>
      <th><a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a></th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> QoS</th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">Fast DDS XML</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0 (default)</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Used</td>
    </tr>
  </tbody>
</table>

<p>Note: Setting <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> to 1 effectively overrides whatever configuration was set with <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
Furthermore, If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> is set to 1, and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> or <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> are not specified in the XML, then the Fast DDS’ default configurations will be used:</p>

<ul>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> : <code class="language-plaintext highlighter-rouge">PREALLOCATED_MEMORY_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> : <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/datasharing.html">datasharing</a> : <code class="language-plaintext highlighter-rouge">AUTO</code>.</li>
</ul>

<p>There are two ways of telling a ROS 2 application which XML to use:</p>

<ol>
  <li>Placing your XML file in the running directory under the name <code class="language-plaintext highlighter-rouge">DEFAULT_FASTDDS_PROFILES.xml</code>.</li>
  <li>Setting environment variable <code class="language-plaintext highlighter-rouge">FASTDDS_DEFAULT_PROFILES_FILE</code> to contain the path to your XML file (relative to the working directory).</li>
</ol>

<p>To verify the actual QoS settings using rmw:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Create a publisher within a node with specific topic, type support, options, and QoS</span>
<span class="n">rmw_publisher_t</span><span class="o">*</span> <span class="n">rmw_publisher</span> <span class="o">=</span> <span class="n">rmw_create_publisher</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">type_support</span><span class="p">,</span> <span class="n">topic_name</span><span class="p">,</span> <span class="n">qos_profile</span><span class="p">,</span> <span class="n">publisher_options</span><span class="p">);</span>
<span class="c1">// Check the actual QoS set on the publisher</span>
<span class="n">rmw_qos_profile_t</span> <span class="n">qos</span><span class="p">;</span>
<span class="n">rmw_publisher_get_actual_qos</span><span class="p">(</span><span class="n">rmw_publisher</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">qos</span><span class="p">);</span>

</code></pre></div></div>

<h4 id="applying-different-profiles-to-different-entities">Applying different profiles to different entities</h4>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for the configuration of different entities with different QoS using the same XML file.
For doing so, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> locates profiles in the XML based on topic names abiding to the following rules:</p>

<h5 id="creating-publisherssubscriptions-with-different-profiles">Creating publishers/subscriptions with different profiles</h5>

<p>To configure a publisher/subscription, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the topic prepended by the node namespace (which defaults to <code class="language-plaintext highlighter-rouge">""</code> if not specified), i.e. the node’s namespace followed by topic name used to create the publisher/subscription.
Mind that topic names always start with <code class="language-plaintext highlighter-rouge">/</code> (it is added when creating the topic if not present), and that namespace and topic name are always separated by one <code class="language-plaintext highlighter-rouge">/</code>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.
The following table presents different combinations of node namespaces and user specified topic names, as well as the resulting topic names and the suitable profile names:</p>

<table>
  <thead>
    <tr>
      <th>User specified topic name</th>
      <th>Node namespace</th>
      <th>Final topic name</th>
      <th>Profile name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td>DEFAULT (<code class="language-plaintext highlighter-rouge">""</code>)</td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
  </tbody>
</table>

<p><strong>IMPORTANT</strong>: As shown in the table, node namespaces are NOT prepended to user specified topic names starting with <code class="language-plaintext highlighter-rouge">/</code>, a.k.a Fully Qualified Names (FQN).
For a complete description of topic name remapping please refer to <a href="http://design.ros2.org/articles/static_remapping.html">Remapping Names</a>.</p>

<h5 id="creating-services-with-different-profiles">Creating services with different profiles</h5>

<p>ROS 2 services contain a subscription for receiving requests, and a publisher to reply to them.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the request subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling. For more information on name mangling, please refer to <a href="https://design.ros2.org/articles/topic_and_service_names.html">Topic and Service name mapping to DDS</a>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h5 id="creating-clients-with-different-profiles">Creating clients with different profiles</h5>

<p>ROS 2 clients contain a publisher to send requests, and a subscription to receive the service’s replies.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the requests publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h4 id="example">Example</h4>

<p>The following example configures Fast DDS to publish synchronously, to have a pre-allocated history that can be expanded whenever it gets filled, and to use Data Sharing if possible.</p>

<ol>
  <li>Create a Fast DDS XML file with:</li>
</ol>

<pre><code class="language-XML">    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;dds xmlns="http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"&gt;
        &lt;profiles&gt;
            &lt;!-- Default publisher profile --&gt;
            &lt;publisher profile_name="default publisher profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/publisher&gt;

            &lt;!-- Default subscriber profile --&gt;
            &lt;subscriber profile_name="default subscriber profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Publisher profile for topic helloworld --&gt;
            &lt;publisher profile_name="helloworld"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for services --&gt;
            &lt;subscriber profile_name="service"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Request publisher profile for clients --&gt;
            &lt;publisher profile_name="client"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;ASYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for server of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rq/add_two_intsRequest"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Reply subscriber profile for client of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rr/add_two_intsReply"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;
        &lt;/profiles&gt;
    &lt;/dds&gt;
    
</code></pre>

<ol>
  <li>Run the talker/listener ROS 2 demo:
    <ol>
      <li>In one terminal</li>
    </ol>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTDDS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp talker
        
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. In another terminal
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTDDS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp listener
        
</code></pre></div></div>

<h3 id="change-participant-discovery-options">Change participant discovery options</h3>

<p>ROS 2 allows controlling participant discovery with two environment variables: <code class="language-plaintext highlighter-rouge">ROS_AUTOMATIC_DISCOVERY_RANGE</code> and <code class="language-plaintext highlighter-rouge">ROS_STATIC_PEERS</code>.
Full configuration of participant discovery can also be set with XML files; however, the ROS specific environment variables should be disabled to prevent them from interfering.
Set <code class="language-plaintext highlighter-rouge">ROS_AUTOMATIC_DISCOVERY_RANGE</code> to the value <code class="language-plaintext highlighter-rouge">SYSTEM_DEFAULT</code> to disable both ROS specific environment variables.
See more details for <a href="https://docs.ros.org/en/rolling/Tutorials/Advanced/Improved-Dynamic-Discovery.html">Improved Dynamic Discovery</a>.</p>

<h3 id="enable-zero-copy-data-sharing">Enable Zero Copy Data Sharing</h3>

<p>ROS 2 provides <a href="https://design.ros2.org/articles/zero_copy.html">Loaned Messages</a> that allow the user application to loan the messages memory from the RMW implementation to eliminate the data copy between the ROS 2 application and the RMW implementation.
Furthermore, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>, through Fast DDS, provides both a <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/shared_memory/shared_memory.html">Shared Memory Transport</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/datasharing.html">Data Sharing delivery mechanism</a> to speed up the intra-host communication.
Combining these two features (message loaning and Data Sharing), it is possible to achieve a zero-copy message delivery pipeline, thus bringing significant performance improvements to ROS 2 application.</p>

<p>By default, both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> use <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/shared_memory/shared_memory.html">Shared Memory Transport</a> for intra-host communication, along with network based transports (UDPv4) for inter-host message delivery.</p>

<p>In order to achieve a Zero Copy message delivery, applications need to both enable Fast DDS Data Sharing mechanism, and use the <a href="https://design.ros2.org/articles/zero_copy.html">Loaned Messages</a> API:</p>

<ol>
  <li>To enable Loaned Messages in <code class="language-plaintext highlighter-rouge">Iron Irwini</code> or later, the only requirement is for the data type to be <a href="https://en.wikipedia.org/wiki/Passive_data_structure">Plain Old Data</a>.
For <code class="language-plaintext highlighter-rouge">Humble Hawksbill</code>, in addition to POD types, enabling Fast DDS Data Sharing is also required.</li>
  <li>To enable Fast DDS Data Sharing delivery mechanism, the following XML profiles need to be loaded, and environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> needs to be set to 1 (see <a href="https://github.com/ros2/rmw_fastrtps/tree/rolling/#full-qos-configuration">Full QoS configuration</a>)</li>
</ol>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
    <span class="nt">&lt;profiles</span> <span class="na">xmlns=</span><span class="s">"http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- Default publisher profile --&gt;</span>
    <span class="nt">&lt;publisher</span> <span class="na">profile_name=</span><span class="s">"default publisher profile"</span> <span class="na">is_default_profile=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;qos&gt;</span>
        <span class="nt">&lt;data_sharing&gt;</span>
            <span class="nt">&lt;kind&gt;</span>AUTOMATIC<span class="nt">&lt;/kind&gt;</span>
        <span class="nt">&lt;/data_sharing&gt;</span>
        <span class="nt">&lt;/qos&gt;</span>
    <span class="nt">&lt;/publisher&gt;</span>

    <span class="c">&lt;!-- Default subscription profile --&gt;</span>
    <span class="nt">&lt;subscriber</span> <span class="na">profile_name=</span><span class="s">"default subscription profile"</span> <span class="na">is_default_profile=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;qos&gt;</span>
        <span class="nt">&lt;data_sharing&gt;</span>
            <span class="nt">&lt;kind&gt;</span>AUTOMATIC<span class="nt">&lt;/kind&gt;</span>
        <span class="nt">&lt;/data_sharing&gt;</span>
        <span class="nt">&lt;/qos&gt;</span>
    <span class="nt">&lt;/subscriber&gt;</span>
    <span class="nt">&lt;/profiles&gt;</span>
    
</code></pre></div></div>

<h3 id="large-data-transfer-over-lossy-network">Large data transfer over lossy network</h3>

<p>Out of the box, Fast DDS uses UDPv4 for the data communication over the network.
Although UDP has its own merit for realtime communications, with many applications relying on UDP, depending on application requirements, a more reliable network transmission may be needed.
Such cases included but are not limited to sending large data samples over lossy networks, where TCP’s builtin reliability and flow control tend to perform better.</p>

<p>Because of this reason, Fast DDS provides the possibility to modify its builtin transports via an environmental variable <code class="language-plaintext highlighter-rouge">FASTDDS_BUILTIN_TRANSPORTS</code>, allowing for easily changing the transport layer to TCP when needed:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">FASTDDS_BUILTIN_TRANSPORTS</span><span class="o">=</span>LARGE_DATA

</code></pre></div></div>

<p>This <code class="language-plaintext highlighter-rouge">LARGE_DATA</code> mode adds a TCP transport for data communication, restricting the use of the UDP transport to the first part of the discovery process, thus achieving a reliable transmission with automatic discovery capabilities.
This will improve the transmission of large data samples over lossy networks.</p>

<blockquote>
  <p>[!NOTE]
The environmental variable needs to be set on both publisher and subscription side.</p>
</blockquote>

<p>For more information, please refer to <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/env_vars/env_vars.html#fastdds-builtin-transports">FASTDDS_BUILTIN_TRANSPORTS</a>.</p>

<h2 id="quality-declaration-files">Quality Declaration files</h2>

<p>Quality Declarations for each package in this repository:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/rolling/rmw_fastrtps_shared_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/rolling/rmw_fastrtps_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrps_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/rolling/rmw_fastrtps_dynamic_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code></a></li>
</ul>

<p>Quality Declarations for the external dependencies of these packages can be found in:</p>

<ul>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/QUALITY.md">Fast DDS Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-CDR/blob/master/QUALITY.md">Fast CDR Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/Quality_Declaration_foonathan_memory.md"><code class="language-plaintext highlighter-rouge">foonathan_memory</code> Quality Declaration</a></li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="rolling-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="rolling-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#rolling-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#rolling-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#rolling-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="rolling-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="rolling-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="rolling-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmw_fastrtps">rmw_fastrtps</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-ros2-rmw_fastrtps
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros2-rmw_fastrtps" role="menuitem" tabindex="-1" href="/r/rmw_fastrtps/github-ros2-rmw_fastrtps" data="github-ros2-rmw_fastrtps">
                    <span class="glyphicon glyphicon-star"></span>
                    github-ros2-rmw_fastrtps
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmw_fastrtps">rmw_fastrtps</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-ros2-rmw_fastrtps
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros2-rmw_fastrtps" role="menuitem" tabindex="-1" href="/r/rmw_fastrtps/github-ros2-rmw_fastrtps" data="github-ros2-rmw_fastrtps">
                    <span class="glyphicon glyphicon-star"></span>
                    github-ros2-rmw_fastrtps
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmw_fastrtps">rmw_fastrtps</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-ros2-rmw_fastrtps
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros2-rmw_fastrtps" role="menuitem" tabindex="-1" href="/r/rmw_fastrtps/github-ros2-rmw_fastrtps" data="github-ros2-rmw_fastrtps">
                    <span class="glyphicon glyphicon-star"></span>
                    github-ros2-rmw_fastrtps
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Implementation of the ROS Middleware (rmw) Interface using eProsima's Fast RTPS.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros2/rmw_fastrtps.git">https://github.com/ros2/rmw_fastrtps.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">galactic</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2022-04-28
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmw_fastrtps/#galactic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#galactic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#galactic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a></td>
                    <td>5.0.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a></td>
                    <td>5.0.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a></td>
                    <td>5.0.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-middleware-implementation-for-eprosimas-fast-dds">ROS 2 Middleware Implementation for eProsima’s Fast DDS</h1>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> constitutes <strong><a href="https://index.ros.org/doc/ros2/">ROS 2</a> default middleware implementation</strong>, providing an interface between ROS 2 and <a href="https://www.eprosima.com/index.php">eProsima’s</a> <a href="https://github.com/eProsima/Fast-DDS">Fast DDS</a> middleware.</p>

<h2 id="getting-started">Getting started</h2>
<p>This implementation is available in all ROS 2 distributions, both from binaries and from sources.
You do not need to do anything in order to use Fast DDS as your ROS 2 middleware layer (since it is the default implementation).
However, you can still specify it in two different ways:</p>

<ol>
  <li>Exporting <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> environment variable:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">export </span><span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp
    
</code></pre></div></div>
<ol>
  <li>When launching your ROS 2 application:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run &lt;your_package&gt; &lt;your application&gt;
    
</code></pre></div></div>

<h2 id="two-different-rmw-implementations">Two different RMW implementations</h2>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> actually provides not one but two different ROS 2 middleware implementations, both of them using Fast DDS as middleware layer: <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> (note that directory <code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code> just contains the code that the two implementations share, and does not constitute a layer on its own).</p>

<p>The main difference between the two is that <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> uses introspection typesupport at run time to decide on the serialization/deserialization mechanism.
On the other hand, <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> uses its own typesupport, which generates the mapping for each message type at build time.</p>

<p>Mind that the default ROS 2 RMW implementation is <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code>.
You can however set it to <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> using the environment variable <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> as described above.</p>

<h2 id="advance-usage">Advance usage</h2>

<p>ROS 2 only allows for the configuration of certain middleware QoS (see <a href="https://index.ros.org/doc/ros2/Concepts/About-Quality-of-Service-Settings/#qos-policies">ROS 2 QoS policies</a>).
In addition to ROS 2 QoS policies, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> sets two more Fast DDS configurable parameters:</p>

<ul>
  <li>History memory policy: <code class="language-plaintext highlighter-rouge">PREALLOCATED_WITH_REALLOC_MEMORY_MODE</code>
</li>
  <li>Publication mode: <code class="language-plaintext highlighter-rouge">ASYNCHRONOUS_PUBLISH_MODE</code>
</li>
</ul>

<p>However, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers the possibility to further configure Fast DDS:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/galactic/#change-publication-mode">Change publication mode</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/galactic/#full-qos-configuration">Full QoS configuration</a></li>
</ul>

<h3 id="change-publication-mode">Change publication mode</h3>

<p>Fast DDS feats two different <a href="https://fast-dds.docs.eprosima.com/en/v2.1.0/fastdds/dds_layer/core/policy/eprosimaExtensions.html?highlight=synchronous#publishmodeqospolicykind">publication modes</a>: synchronous and asynchronous.
To learn more about the implications of choosing one mode over the other, please refer to <a href="https://www.eprosima.com/index.php/resources-all/performance/dds-asynchronous-vs-synchronous-publishing">DDS: Asynchronous vs Synchronous Publishing</a>:</p>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers an easy way to change Fast DDS’ publication mode without the need of defining a XML file. That is environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
The admissible values are:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">ASYNCHRONOUS</code>: asynchronous publication mode.
Setting this mode implies that when the publisher invokes the write operation, the data is copied into a queue, a notification about the addition to the queue is performed, and control of the thread is returned to the user before the data is actually sent.
A background thread (asynchronous thread) is in turn in charge of consuming the queue and sending the data to every matched reader.</li>
  <li>
<code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>: synchronous publication mode.
Setting this mode implies that the data is sent directly within the context of the user thread.
This entails that any blocking call occurring during the write operation would block the user thread, thus preventing the application with continuing its operation.
It is important to note that this mode typically yields higher throughput rates at lower latencies, since the notification and context switching between threads is not present.</li>
  <li>
<code class="language-plaintext highlighter-rouge">AUTO</code>: let Fast DDS select the publication mode. This implies using the publication mode set in the XML file or, failing that, the default value set in Fast DDS (which currently is set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>).</li>
</ul>

<p>If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code> is not set, then both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> behave as if it were set to <code class="language-plaintext highlighter-rouge">ASYNCHRONOUS</code>.</p>

<h3 id="full-qos-configuration">Full QoS configuration</h3>

<p>Fast DDS QoS policies can be fully configured through a combination of the <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a> API, and the <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> file’s QoS elements. Configuration depends on the environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code>.</p>

<ol>
  <li>ROS 2 QoS contained in <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html"><code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code></a> are always honored, unless set to <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code>.
In that case, XML values, or Fast DDS default values in the absence of XML ones, are applied.
Setting any QoS in <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code> to something other than <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code> entails that specifying it via XML files has no effect, since they do not override what was used to create the publisher, subscription, service, or client.</li>
  <li>In order to modify the history memory policy or publication mode using XML files, environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> must be set to 1 (it is set to 0 by default).
This tells <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> that it should override both the history memory policy and the publication mode using the XML.
Bear in mind that setting this environment variable but not setting either of these policies in the XML results in Fast DDS’ defaults configurations being used.</li>
</ol>

<table>
  <thead>
    <tr>
      <th>RMW_FASTRTPS_USE_QOS_FROM_XML</th>
      <th><a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a></th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> QoS</th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">Fast DDS XML</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0 (default)</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Used</td>
    </tr>
  </tbody>
</table>

<p>Note: Setting <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> to 1 effectively overrides whatever configuration was set with <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
Furthermore, If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> is set to 1, and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> or <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> are not specified in the XML, then the Fast DDS’ default configurations will be used:</p>

<ul>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> : <code class="language-plaintext highlighter-rouge">PREALLOCATED_MEMORY_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> : <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>.</li>
</ul>

<p>There are two ways of telling a ROS 2 application which XML to use:</p>

<ol>
  <li>Placing your XML file in the running directory under the name <code class="language-plaintext highlighter-rouge">DEFAULT_FASTRTPS_PROFILES.xml</code>.</li>
  <li>Setting environment variable <code class="language-plaintext highlighter-rouge">FASTRTPS_DEFAULT_PROFILES_FILE</code> to contain the path to your XML file (relative to the working directory).</li>
</ol>

<p>To verify the actual QoS settings using rmw:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Create a publisher within a node with specific topic, type support, options, and QoS</span>
<span class="n">rmw_publisher_t</span><span class="o">*</span> <span class="n">rmw_publisher</span> <span class="o">=</span> <span class="n">rmw_create_publisher</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">type_support</span><span class="p">,</span> <span class="n">topic_name</span><span class="p">,</span> <span class="n">qos_profile</span><span class="p">,</span> <span class="n">publisher_options</span><span class="p">);</span>
<span class="c1">// Check the actual QoS set on the publisher</span>
<span class="n">rmw_qos_profile_t</span> <span class="n">qos</span><span class="p">;</span>
<span class="n">rmw_publisher_get_actual_qos</span><span class="p">(</span><span class="n">rmw_publisher</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">qos</span><span class="p">);</span>

</code></pre></div></div>

<h4 id="applying-different-profiles-to-different-entities">Applying different profiles to different entities</h4>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for the configuration of different entities with different QoS using the same XML file.
For doing so, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> locates profiles in the XML based on topic names abiding to the following rules:</p>

<h5 id="creating-publisherssubscriptions-with-different-profiles">Creating publishers/subscriptions with different profiles</h5>

<p>To configure a publisher/subscription, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the topic before mangling, i.e. the topic name used to create the publisher/subscription.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</p>

<h5 id="creating-services-with-different-profiles">Creating services with different profiles</h5>

<p>ROS 2 services contain a subscription for receiving requests, and a publisher to reply to them.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the request subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling. For more information on name mangling, please refer to <a href="https://design.ros2.org/articles/topic_and_service_names.html">Topic and Service name mapping to DDS</a>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h5 id="creating-clients-with-different-profiles">Creating clients with different profiles</h5>

<p>ROS 2 clients contain a publisher to send requests, and a subscription to receive the service’s replies.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the requests publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h4 id="example">Example</h4>

<p>The following example configures Fast DDS to publish synchronously, and to have a pre-allocated history that can be expanded whenever it gets filled.</p>

<ol>
  <li>Create a Fast DDS XML file with:</li>
</ol>

<pre><code class="language-XML">    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;dds xmlns="http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"&gt;
        &lt;profiles&gt;
            &lt;!-- Default publisher profile --&gt;
            &lt;publisher profile_name="default publisher profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/publisher&gt;

            &lt;!-- Publisher profile for topic helloworld --&gt;
            &lt;publisher profile_name="helloworld"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for services --&gt;
            &lt;subscriber profile_name="service"&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Request publisher profile for clients --&gt;
            &lt;publisher profile_name="client"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;ASYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for server of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rq/add_two_intsRequest"&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Reply subscriber profile for client of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rr/add_two_intsReply"&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;
        &lt;/profiles&gt;
    &lt;/dds&gt;
    
</code></pre>

<ol>
  <li>Run the talker/listener ROS 2 demo:
    <ol>
      <li>In one terminal</li>
    </ol>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTRTPS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp talker
        
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. In another terminal
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTRTPS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp listener
        
</code></pre></div></div>

<h2 id="quality-declaration-files">Quality Declaration files</h2>

<p>Quality Declarations for each package in this repository:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/galactic/rmw_fastrtps_shared_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/galactic/rmw_fastrtps_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrps_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/galactic/rmw_fastrtps_dynamic_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code></a></li>
</ul>

<p>Quality Declarations for the external dependencies of these packages can be found in:</p>

<ul>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/QUALITY.md">Fast DDS Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-CDR/blob/master/QUALITY.md">Fast CDR Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/Quality_Declaration_foonathan_memory.md"><code class="language-plaintext highlighter-rouge">foonathan_memory</code> Quality Declaration</a></li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="galactic-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="galactic-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#galactic-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#galactic-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#galactic-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="galactic-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="galactic-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="galactic-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmw_fastrtps">rmw_fastrtps</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-ros2-rmw_fastrtps
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros2-rmw_fastrtps" role="menuitem" tabindex="-1" href="/r/rmw_fastrtps/github-ros2-rmw_fastrtps" data="github-ros2-rmw_fastrtps">
                    <span class="glyphicon glyphicon-star"></span>
                    github-ros2-rmw_fastrtps
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Implementation of the ROS Middleware (rmw) Interface using eProsima's Fast RTPS.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros2/rmw_fastrtps.git">https://github.com/ros2/rmw_fastrtps.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">iron</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-07-11
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmw_fastrtps/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmw_fastrtps/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_cpp">rmw_fastrtps_cpp</a></td>
                    <td>7.1.4</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_dynamic_cpp">rmw_fastrtps_dynamic_cpp</a></td>
                    <td>7.1.4</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmw_fastrtps_shared_cpp">rmw_fastrtps_shared_cpp</a></td>
                    <td>7.1.4</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-middleware-implementation-for-eprosimas-fast-dds">ROS 2 Middleware Implementation for eProsima’s Fast DDS</h1>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> is a <a href="https://docs.ros.org/en/rolling">ROS 2</a> middleware implementation, providing an interface between ROS 2 and <a href="https://www.eprosima.com/index.php">eProsima’s</a> <a href="https://github.com/eProsima/Fast-DDS">Fast DDS</a> middleware.</p>

<h2 id="getting-started">Getting started</h2>
<p>This implementation is available in all ROS 2 distributions, both from binaries and from sources.
You can specify Fast DDS as your ROS 2 middleware layer in two different ways:</p>

<ol>
  <li>Exporting <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> environment variable:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">export </span><span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp
    
</code></pre></div></div>
<ol>
  <li>When launching your ROS 2 application:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run &lt;your_package&gt; &lt;your application&gt;
    
</code></pre></div></div>

<h2 id="two-different-rmw-implementations">Two different RMW implementations</h2>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> actually provides not one but two different ROS 2 middleware implementations, both of them using Fast DDS as middleware layer: <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> (note that directory <code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code> just contains the code that the two implementations share, and does not constitute a layer on its own).</p>

<p>The main difference between the two is that <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> uses introspection typesupport at run time to decide on the serialization/deserialization mechanism.
On the other hand, <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> uses its own typesupport, which generates the mapping for each message type at build time.</p>

<p>Mind that the default ROS 2 RMW implementation is <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code>.
You can however set it to <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> using the environment variable <code class="language-plaintext highlighter-rouge">RMW_IMPLEMENTATION</code> as described above.</p>

<h2 id="advance-usage">Advance usage</h2>

<p>ROS 2 only allows for the configuration of certain middleware features.
For example, see <a href="https://docs.ros.org/en/foxy/Concepts/About-Quality-of-Service-Settings.html#qos-policies">ROS 2 QoS policies</a>.
In addition to ROS 2 QoS policies, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> sets the following Fast DDS configurable parameters:</p>

<ul>
  <li>History memory policy: <code class="language-plaintext highlighter-rouge">PREALLOCATED_WITH_REALLOC_MEMORY_MODE</code>
</li>
  <li>Publication mode: <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>
</li>
  <li>Data Sharing: <code class="language-plaintext highlighter-rouge">OFF</code>
</li>
</ul>

<p>However, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers the possibility to further configure Fast DDS:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/iron/#change-publication-mode">Change publication mode</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/iron/#full-qos-configuration">Full QoS configuration</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/iron/#change-participant-discovery-options">Change participant discovery options</a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/iron/#enable-zero-copy-data-sharing">Enable Zero Copy Data Sharing</a></li>
</ul>

<h3 id="change-publication-mode">Change publication mode</h3>

<p>Fast DDS features two different <a href="https://fast-dds.docs.eprosima.com/en/v2.1.0/fastdds/dds_layer/core/policy/eprosimaExtensions.html?highlight=synchronous#publishmodeqospolicykind">publication modes</a>: synchronous and asynchronous.
To learn more about the implications of choosing one mode over the other, please refer to <a href="https://www.eprosima.com/index.php/resources-all/performance/dds-asynchronous-vs-synchronous-publishing">DDS: Asynchronous vs Synchronous Publishing</a>:</p>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> offers an easy way to change Fast DDS’ publication mode without the need of defining a XML file. That is environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
The admissible values are:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">ASYNCHRONOUS</code>: asynchronous publication mode.
Setting this mode implies that when the publisher invokes the write operation, the data is copied into a queue, a notification about the addition to the queue is performed, and control of the thread is returned to the user before the data is actually sent.
A background thread (asynchronous thread) is in turn in charge of consuming the queue and sending the data to every matched reader.</li>
  <li>
<code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>: synchronous publication mode.
Setting this mode implies that the data is sent directly within the context of the user thread.
This entails that any blocking call occurring during the write operation would block the user thread, thus preventing the application with continuing its operation.
It is important to note that this mode typically yields higher throughput rates at lower latencies, since the notification and context switching between threads is not present.</li>
  <li>
<code class="language-plaintext highlighter-rouge">AUTO</code>: let Fast DDS select the publication mode. This implies using the publication mode set in the XML file or, failing that, the default value set in Fast DDS (which currently is set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>).</li>
</ul>

<p>If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code> is not set, then both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> behave as if it were set to <code class="language-plaintext highlighter-rouge">SYNCHRONOUS</code>.</p>

<h3 id="full-qos-configuration">Full QoS configuration</h3>

<p>Fast DDS QoS policies can be fully configured through a combination of the <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a> API, and the <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> file’s QoS elements. Configuration depends on the environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code>.</p>

<ol>
  <li>ROS 2 QoS contained in <a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html"><code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code></a> are always honored, unless set to <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code>.
In that case, XML values, or Fast DDS default values in the absence of XML ones, are applied.
Setting any QoS in <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code> to something other than <code class="language-plaintext highlighter-rouge">*_SYSTEM_DEFAULT</code> entails that specifying it via XML files has no effect, since they do not override what was used to create the publisher, subscription, service, or client.</li>
  <li>In order to modify the history memory policy or publication mode using XML files, environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> must be set to 1 (it is set to 0 by default).
This tells <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> that it should override both the history memory policy and the publication mode using the XML.
Bear in mind that setting this environment variable but not setting either of these policies in the XML results in Fast DDS’ defaults configurations being used.</li>
</ol>

<table>
  <thead>
    <tr>
      <th>RMW_FASTRTPS_USE_QOS_FROM_XML</th>
      <th><a href="http://docs.ros2.org/latest/api/rmw/structrmw__qos__profile__t.html">rmw QoS profile</a></th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/xml_configuration/xml_configuration.html">Fast DDS XML</a> QoS</th>
      <th>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">Fast DDS XML</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0 (default)</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>0 (default)</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Ignored - overrided by <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>
</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Use default values</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to non system default</td>
      <td>Ignored - overridden by <code class="language-plaintext highlighter-rouge">rmw_qos_profile_t</code>
</td>
      <td>Used</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Set to system default</td>
      <td>Used</td>
      <td>Used</td>
    </tr>
  </tbody>
</table>

<p>Note: Setting <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> to 1 effectively overrides whatever configuration was set with <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_PUBLICATION_MODE</code>.
Furthermore, If <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> is set to 1, and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> or <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> are not specified in the XML, then the Fast DDS’ default configurations will be used:</p>

<ul>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#rtpsendpointqos">history memory policy</a> : <code class="language-plaintext highlighter-rouge">PREALLOCATED_MEMORY_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/dds_layer/core/policy/eprosimaExtensions.html#publishmodeqospolicy">publication mode</a> : <code class="language-plaintext highlighter-rouge">SYNCHRONOUS_PUBLISH_MODE</code>.</li>
  <li>
<a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/datasharing.html">datasharing</a> : <code class="language-plaintext highlighter-rouge">AUTO</code>.</li>
</ul>

<p>There are two ways of telling a ROS 2 application which XML to use:</p>

<ol>
  <li>Placing your XML file in the running directory under the name <code class="language-plaintext highlighter-rouge">DEFAULT_FASTRTPS_PROFILES.xml</code>.</li>
  <li>Setting environment variable <code class="language-plaintext highlighter-rouge">FASTRTPS_DEFAULT_PROFILES_FILE</code> to contain the path to your XML file (relative to the working directory).</li>
</ol>

<p>To verify the actual QoS settings using rmw:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Create a publisher within a node with specific topic, type support, options, and QoS</span>
<span class="n">rmw_publisher_t</span><span class="o">*</span> <span class="n">rmw_publisher</span> <span class="o">=</span> <span class="n">rmw_create_publisher</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">type_support</span><span class="p">,</span> <span class="n">topic_name</span><span class="p">,</span> <span class="n">qos_profile</span><span class="p">,</span> <span class="n">publisher_options</span><span class="p">);</span>
<span class="c1">// Check the actual QoS set on the publisher</span>
<span class="n">rmw_qos_profile_t</span> <span class="n">qos</span><span class="p">;</span>
<span class="n">rmw_publisher_get_actual_qos</span><span class="p">(</span><span class="n">rmw_publisher</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">qos</span><span class="p">);</span>

</code></pre></div></div>

<h4 id="applying-different-profiles-to-different-entities">Applying different profiles to different entities</h4>

<p><code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for the configuration of different entities with different QoS using the same XML file.
For doing so, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> locates profiles in the XML based on topic names abiding to the following rules:</p>

<h5 id="creating-publisherssubscriptions-with-different-profiles">Creating publishers/subscriptions with different profiles</h5>

<p>To configure a publisher/subscription, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the topic prepended by the node namespace (which defaults to <code class="language-plaintext highlighter-rouge">""</code> if not specified), i.e. the node’s namespace followed by topic name used to create the publisher/subscription.
Mind that topic names always start with <code class="language-plaintext highlighter-rouge">/</code> (it is added when creating the topic if not present), and that namespace and topic name are always separated by one <code class="language-plaintext highlighter-rouge">/</code>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code>/<code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.
The following table presents different combinations of node namespaces and user specified topic names, as well as the resulting topic names and the suitable profile names:</p>

<table>
  <thead>
    <tr>
      <th>User specified topic name</th>
      <th>Node namespace</th>
      <th>Final topic name</th>
      <th>Profile name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td>DEFAULT (<code class="language-plaintext highlighter-rouge">""</code>)</td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/test_namespace</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
      <td><code class="language-plaintext highlighter-rouge">/chatter</code></td>
    </tr>
  </tbody>
</table>

<p><strong>IMPORTANT</strong>: As shown in the table, node namespaces are NOT prepended to user specified topic names starting with <code class="language-plaintext highlighter-rouge">/</code>, a.k.a Fully Qualified Names (FQN).
For a complete description of topic name remapping please refer to <a href="http://design.ros2.org/articles/static_remapping.html">Remapping Names</a>.</p>

<h5 id="creating-services-with-different-profiles">Creating services with different profiles</h5>

<p>ROS 2 services contain a subscription for receiving requests, and a publisher to reply to them.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the request subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling. For more information on name mangling, please refer to <a href="https://design.ros2.org/articles/topic_and_service_names.html">Topic and Service name mapping to DDS</a>.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="service"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h5 id="creating-clients-with-different-profiles">Creating clients with different profiles</h5>

<p>ROS 2 clients contain a publisher to send requests, and a subscription to receive the service’s replies.
<code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> allows for configuring each of these endpoints separately in the following manner:</p>

<ol>
  <li>To configure the requests publisher, define a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;publisher&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
  <li>To configure the reply subscription, define a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name=topic_name</code>, where topic name is the name of the service after mangling.
If such profile is not defined, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load a <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">profile_name="client"</code>.
If neither of the previous profiles exist, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code> attempts to load the <code class="language-plaintext highlighter-rouge">&lt;subscriber&gt;</code> profile with attribute <code class="language-plaintext highlighter-rouge">is_default_profile="true"</code>.</li>
</ol>

<h4 id="example">Example</h4>

<p>The following example configures Fast DDS to publish synchronously, to have a pre-allocated history that can be expanded whenever it gets filled, and to use Data Sharing if possible.</p>

<ol>
  <li>Create a Fast DDS XML file with:</li>
</ol>

<pre><code class="language-XML">    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;dds xmlns="http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"&gt;
        &lt;profiles&gt;
            &lt;!-- Default publisher profile --&gt;
            &lt;publisher profile_name="default publisher profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/publisher&gt;

            &lt;!-- Default subscriber profile --&gt;
            &lt;subscriber profile_name="default subscriber profile" is_default_profile="true"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Publisher profile for topic helloworld --&gt;
            &lt;publisher profile_name="helloworld"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;SYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for services --&gt;
            &lt;subscriber profile_name="service"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Request publisher profile for clients --&gt;
            &lt;publisher profile_name="client"&gt;
                &lt;qos&gt;
                    &lt;publishMode&gt;
                        &lt;kind&gt;ASYNCHRONOUS&lt;/kind&gt;
                    &lt;/publishMode&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
            &lt;/publisher&gt;

            &lt;!-- Request subscriber profile for server of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rq/add_two_intsRequest"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;

            &lt;!-- Reply subscriber profile for client of service "add_two_ints" --&gt;
            &lt;subscriber profile_name="rr/add_two_intsReply"&gt;
                &lt;qos&gt;
                    &lt;data_sharing&gt;
                        &lt;kind&gt;AUTOMATIC&lt;/kind&gt;
                    &lt;/data_sharing&gt;
                &lt;/qos&gt;
                &lt;historyMemoryPolicy&gt;PREALLOCATED_WITH_REALLOC&lt;/historyMemoryPolicy&gt;
            &lt;/subscriber&gt;
        &lt;/profiles&gt;
    &lt;/dds&gt;
    
</code></pre>

<ol>
  <li>Run the talker/listener ROS 2 demo:
    <ol>
      <li>In one terminal</li>
    </ol>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTRTPS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp talker
        
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. In another terminal
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nv">FASTRTPS_DEFAULT_PROFILES_FILE</span><span class="o">=</span>&lt;path_to_xml_file&gt; <span class="nv">RMW_FASTRTPS_USE_QOS_FROM_XML</span><span class="o">=</span>1 <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_fastrtps_cpp ros2 run demo_nodes_cpp listener
        
</code></pre></div></div>

<h3 id="change-participant-discovery-options">Change participant discovery options</h3>

<p>ROS 2 allows controlling participant discovery with two environment variables: <code class="language-plaintext highlighter-rouge">ROS_AUTOMATIC_DISCOVERY_RANGE</code> and <code class="language-plaintext highlighter-rouge">ROS_STATIC_PEERS</code>.
Full configuration of particpant discovery can also be set with XML files; however, the ROS specific environment variables should be disabled to prevent them from interferring.
Set <code class="language-plaintext highlighter-rouge">ROS_AUTOMATIC_DISCOVERY_RANGE</code> to the value <code class="language-plaintext highlighter-rouge">SYSTEM_DEFAULT</code> to disable both ROS specific environment variables.</p>

<h3 id="enable-zero-copy-data-sharing">Enable Zero Copy Data Sharing</h3>

<p>ROS 2 provides <a href="https://design.ros2.org/articles/zero_copy.html">Loaned Messages</a> that allow the user application to loan the messages memory from the RMW implementation to eliminate the data copy between the ROS 2 application and the RMW implementation.
Furthermore, <code class="language-plaintext highlighter-rouge">rmw_fastrtps</code>, through Fast DDS, provides both a <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/shared_memory/shared_memory.html">Shared Memory Transport</a> and <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/datasharing.html">Data Sharing delivery mechanism</a> to speed up the intra-host communication.
Combining these two features (message loaning and Data Sharing), it is possible to achieve a zero-copy message delivery pipeline, thus bringing significant performance improvements to ROS 2 application.</p>

<p>By default, both <code class="language-plaintext highlighter-rouge">rmw_fastrtps_cpp</code> and <code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code> use <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/transport/shared_memory/shared_memory.html">Shared Memory Transport</a> for intra-host communication, along with network based transports (UDPv4) for inter-host message delivery.</p>

<p>In order to achieve a Zero Copy message delivery, applications need to both enable Fast DDS Data Sharing mechanism, and use the <a href="https://design.ros2.org/articles/zero_copy.html">Loaned Messages</a> API:</p>

<ol>
  <li>To enable Loaned Messages in <code class="language-plaintext highlighter-rouge">Iron Irwini</code> or later, the only requirement is for the data type to be <a href="https://en.wikipedia.org/wiki/Passive_data_structure">Plain Old Data</a>.
For <code class="language-plaintext highlighter-rouge">Humble Hawksbill</code>, in addition to POD types, enabling Fast DDS Data Sharing is also required.</li>
  <li>To enable Fast DDS Data Sharing delivery mechanism, the following XML profiles need to be loaded, and environment variable <code class="language-plaintext highlighter-rouge">RMW_FASTRTPS_USE_QOS_FROM_XML</code> needs to be set to 1 (see <a href="https://github.com/ros2/rmw_fastrtps/tree/iron/#full-qos-configuration">Full QoS configuration</a>)</li>
</ol>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
    <span class="nt">&lt;profiles</span> <span class="na">xmlns=</span><span class="s">"http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- Default publisher profile --&gt;</span>
    <span class="nt">&lt;publisher</span> <span class="na">profile_name=</span><span class="s">"default publisher profile"</span> <span class="na">is_default_profile=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;qos&gt;</span>
        <span class="nt">&lt;data_sharing&gt;</span>
            <span class="nt">&lt;kind&gt;</span>AUTOMATIC<span class="nt">&lt;/kind&gt;</span>
        <span class="nt">&lt;/data_sharing&gt;</span>
        <span class="nt">&lt;/qos&gt;</span>
    <span class="nt">&lt;/publisher&gt;</span>

    <span class="c">&lt;!-- Default subscription profile --&gt;</span>
    <span class="nt">&lt;subscriber</span> <span class="na">profile_name=</span><span class="s">"default subscription profile"</span> <span class="na">is_default_profile=</span><span class="s">"true"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;qos&gt;</span>
        <span class="nt">&lt;data_sharing&gt;</span>
            <span class="nt">&lt;kind&gt;</span>AUTOMATIC<span class="nt">&lt;/kind&gt;</span>
        <span class="nt">&lt;/data_sharing&gt;</span>
        <span class="nt">&lt;/qos&gt;</span>
    <span class="nt">&lt;/subscriber&gt;</span>
    <span class="nt">&lt;/profiles&gt;</span>
    
</code></pre></div></div>

<h2 id="quality-declaration-files">Quality Declaration files</h2>

<p>Quality Declarations for each package in this repository:</p>

<ul>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/iron/rmw_fastrtps_shared_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_shared_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/iron/rmw_fastrtps_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrps_cpp</code></a></li>
  <li><a href="https://github.com/ros2/rmw_fastrtps/tree/iron/rmw_fastrtps_dynamic_cpp/QUALITY_DECLARATION.md"><code class="language-plaintext highlighter-rouge">rmw_fastrtps_dynamic_cpp</code></a></li>
</ul>

<p>Quality Declarations for the external dependencies of these packages can be found in:</p>

<ul>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/QUALITY.md">Fast DDS Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-CDR/blob/master/QUALITY.md">Fast CDR Quality Declaration</a></li>
  <li><a href="https://github.com/eProsima/Fast-DDS/blob/master/Quality_Declaration_foonathan_memory.md"><code class="language-plaintext highlighter-rouge">foonathan_memory</code> Quality Declaration</a></li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="iron-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="iron-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#iron-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#iron-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#iron-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="iron-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="iron-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="iron-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmw_fastrtps">rmw_fastrtps</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-ros2-rmw_fastrtps
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros2-rmw_fastrtps" role="menuitem" tabindex="-1" href="/r/rmw_fastrtps/github-ros2-rmw_fastrtps" data="github-ros2-rmw_fastrtps">
                    <span class="glyphicon glyphicon-star"></span>
                    github-ros2-rmw_fastrtps
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/ros2/rmw_fastrtps.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
