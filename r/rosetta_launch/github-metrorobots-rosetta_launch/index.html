<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/rosetta_launch/github-metrorobots-rosetta_launch/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">rosetta_launch</li>
        <!--<li class="active">rosetta_launch</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-primary" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rosetta_launch">rosetta_launch</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-metrorobots-rosetta_launch
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-metrorobots-rosetta_launch" role="menuitem" tabindex="-1" href="/r/rosetta_launch/github-metrorobots-rosetta_launch" data="github-metrorobots-rosetta_launch">
                    <span class="glyphicon glyphicon-star"></span>
                    github-metrorobots-rosetta_launch
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rosetta_launch">rosetta_launch</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-metrorobots-rosetta_launch
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-metrorobots-rosetta_launch" role="menuitem" tabindex="-1" href="/r/rosetta_launch/github-metrorobots-rosetta_launch" data="github-metrorobots-rosetta_launch">
                    <span class="glyphicon glyphicon-star"></span>
                    github-metrorobots-rosetta_launch
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rosetta_launch">rosetta_launch</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-metrorobots-rosetta_launch
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-metrorobots-rosetta_launch" role="menuitem" tabindex="-1" href="/r/rosetta_launch/github-metrorobots-rosetta_launch" data="github-metrorobots-rosetta_launch">
                    <span class="glyphicon glyphicon-star"></span>
                    github-metrorobots-rosetta_launch
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rosetta_launch">rosetta_launch</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-metrorobots-rosetta_launch
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-metrorobots-rosetta_launch" role="menuitem" tabindex="-1" href="/r/rosetta_launch/github-metrorobots-rosetta_launch" data="github-metrorobots-rosetta_launch">
                    <span class="glyphicon glyphicon-star"></span>
                    github-metrorobots-rosetta_launch
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rosetta_launch">rosetta_launch</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/donatello">donatello</a>
        
        <a class="label label-primary pkg-label" href="/p/raphael">raphael</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-metrorobots-rosetta_launch
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-metrorobots-rosetta_launch" role="menuitem" tabindex="-1" href="/r/rosetta_launch/github-metrorobots-rosetta_launch" data="github-metrorobots-rosetta_launch">
                    <span class="glyphicon glyphicon-star"></span>
                    github-metrorobots-rosetta_launch
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">A guide to understanding launch files in ROS 1 and ROS 2</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/metrorobots/rosetta_launch.git">https://github.com/metrorobots/rosetta_launch.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-08
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNKNOWN
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rosetta_launch/#github-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rosetta_launch/#github-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rosetta_launch/#github-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/donatello">donatello</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/raphael">raphael</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rosetta_launch">rosetta_launch</h1>
<p>A guide to understanding launch files in ROS 1 and ROS 2</p>

<p>This repository contains two packages, named after adolescent genetic variants of turtles.</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">raphael</code> is a ROS 1 package</li>
  <li>
<code class="language-plaintext highlighter-rouge">donatello</code> is a ROS 2 package</li>
</ul>

<p>Donatello is more technically advanced, but is sometimes harder to understand.</p>

<h2 id="01---launch-a-single-node">01 - Launch a Single Node</h2>
<p>Three things are required for the minimal example:</p>
<ul>
  <li>Name - Used for node name, regardless of executable name</li>
  <li>Package Name - Name of the ROS Package</li>
  <li>Type - Name of the executable in the ROS package</li>
</ul>

<h3 id="ros-1">ROS 1</h3>

<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/01-single.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"cool_but_rude"</span> <span class="na">pkg=</span><span class="s">"raphael"</span> <span class="na">type=</span><span class="s">"raphael_node"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>

<h3 id="ros-2">ROS 2</h3>

<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/01-single.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span> <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">),</span>
    <span class="p">])</span>

</code></pre></div></div>
<p>You can choose whether you want to use the <code class="language-plaintext highlighter-rouge">import X</code> or <code class="language-plaintext highlighter-rouge">from X import Y</code> syntax. This guide uses the latter for the <code class="language-plaintext highlighter-rouge">launch</code> and <code class="language-plaintext highlighter-rouge">launch_ros</code> imports.</p>

<p>There are actually several different “styles” for adding nodes to a launch description.</p>
<ol>
  <li>You can construct the nodes directly in the list passed to the <code class="language-plaintext highlighter-rouge">LaunchDescription</code> constructor (as above)</li>
  <li>You can assign the nodes to a variable and then put them in the <code class="language-plaintext highlighter-rouge">LaunchDescription</code> constructor at the end.</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">don_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span> <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">)</span>
    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span><span class="n">don_node</span><span class="p">])</span>
    
</code></pre></div></div>
<ol>
  <li>You can construct the <code class="language-plaintext highlighter-rouge">LaunchDescription</code> first with no nodes, and then add them individually.</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">ld</span> <span class="o">=</span> <span class="nc">LaunchDescription</span><span class="p">()</span>
    <span class="n">ld</span><span class="p">.</span><span class="nf">add_action</span><span class="p">(</span><span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span> <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">ld</span>
    
</code></pre></div></div>

<h2 id="02---set-a-parameter-directly">02 - Set a parameter directly</h2>
<p>If we want to specify an exact value for a ROS parameter inside of the launch file, we need the parameter name and the parameter value.</p>

<h3 id="ros-1-1">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/02-param.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"use_sim_time"</span> <span class="na">value=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"cool_but_rude"</span> <span class="na">pkg=</span><span class="s">"raphael"</span> <span class="na">type=</span><span class="s">"raphael_node"</span> <span class="na">output=</span><span class="s">"screen"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"pizza"</span> <span class="na">value=</span><span class="s">"pepperoni"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"brothers"</span> <span class="na">type=</span><span class="s">"yaml"</span> <span class="na">value=</span><span class="s">"[leo, don, mike]"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;rosparam</span> <span class="na">param=</span><span class="s">"coworkers"</span><span class="nt">&gt;</span>[leo, don, mike]<span class="nt">&lt;/rosparam&gt;</span>
        <span class="nt">&lt;rosparam&gt;</span>
            weapon: sai
        <span class="nt">&lt;/rosparam&gt;</span>
    <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>

<ul>
  <li>We can set a global parameter in ROS 1 (e.g. <code class="language-plaintext highlighter-rouge">use_sim_time</code>)</li>
  <li>The other parameters are set within the node, and thus will be given the node’s namespace, i.e. the full parameter will be <code class="language-plaintext highlighter-rouge">/cool_but_rude/pizza</code>.</li>
  <li>For simple types (<code class="language-plaintext highlighter-rouge">str|int|double|bool</code>), you add the <code class="language-plaintext highlighter-rouge">param</code> xml element with the name and value (e.g. <code class="language-plaintext highlighter-rouge">pizza</code>). The type of the parameter is automatically inferred.</li>
  <li>For more complex types, you can specify the type as <code class="language-plaintext highlighter-rouge">yaml</code> and the value will be interpreted as yaml, (e.g. <code class="language-plaintext highlighter-rouge">brothers</code>)</li>
  <li>The contents of a <code class="language-plaintext highlighter-rouge">rosparam</code> xml element can also be interpreted as yaml. You can specify the name as an attribute (e.g. <code class="language-plaintext highlighter-rouge">coworkers</code>) or specify a whole dictionary of names and values (e.g. <code class="language-plaintext highlighter-rouge">weapon</code>)</li>
</ul>

<h3 id="ros-2-1">ROS 2</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/02-param.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span><span class="sh">'</span><span class="s">pizza</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">mushrooms</span><span class="sh">'</span><span class="p">,</span>
                          <span class="sh">'</span><span class="s">brothers</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="sh">'</span><span class="s">leo</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">mike</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">raph</span><span class="sh">'</span><span class="p">]}]),</span>
    <span class="p">])</span>

</code></pre></div></div>
<ul>
  <li>You cannot set global parameters in ROS 2.</li>
  <li>The parameters are specified using the <code class="language-plaintext highlighter-rouge">parameters</code> argument within the Node, which takes a Python list.</li>
  <li>To specify the values directly, we put them in a dictionary within the Python list.</li>
  <li>Since the parameters are within Python code, the type is determined by their Python type.</li>
</ul>

<h2 id="03---load-parameters-from-yaml-file">03 - Load Parameters from YAML file</h2>

<p>To load parameters from a file, we need the full path to the yaml file.</p>

<h3 id="ros-1-2">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/03-params.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"cool_but_rude"</span> <span class="na">pkg=</span><span class="s">"raphael"</span> <span class="na">type=</span><span class="s">"raphael_node"</span> <span class="na">output=</span><span class="s">"screen"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;rosparam</span> <span class="na">command=</span><span class="s">"load"</span> <span class="na">file=</span><span class="s">"$(find raphael)/config/params.yaml"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>
<ul>
  <li>In the <code class="language-plaintext highlighter-rouge">rosparam</code> element, we now use <code class="language-plaintext highlighter-rouge">command="load"</code> and specify the full path with the <code class="language-plaintext highlighter-rouge">file</code> attribute.</li>
  <li>To automatically get the full path to a file within a ROS package, we can use the special <code class="language-plaintext highlighter-rouge">$(find package_name)</code> syntax.</li>
</ul>

<h3 id="ros-2-2">ROS 2</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/03-params.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.substitutions</span> <span class="kn">import</span> <span class="n">PathJoinSubstitution</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="kn">from</span> <span class="n">launch_ros.substitutions</span> <span class="kn">import</span> <span class="n">FindPackageShare</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="nc">PathJoinSubstitution</span><span class="p">(</span><span class="nc">FindPackageShare</span><span class="p">(</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">),</span> <span class="sh">'</span><span class="s">config</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">params.yaml</span><span class="sh">'</span><span class="p">)]),</span>
    <span class="p">])</span>

</code></pre></div></div>

<ul>
  <li>In the <code class="language-plaintext highlighter-rouge">parameters</code> argument of the Node, we previously specified a dictionary to give values to the parameters individually. To load the parameters from a file, we must specify the full path to the file, which we can do in three ways.
    <ol>
      <li>
<strong>FindPackageShare + PathJoinSubstitution</strong> (as shown above) - Instead of a dictionary, we now specify the path as a combination of the share directory and the other directory components all joined together. (See more information on Substitutions in a section below)</li>
      <li>
<strong>String</strong> - You can pass in a string representing the path. This is often combined with <code class="language-plaintext highlighter-rouge">ament_index_python.packages.get_package_share_directory</code> and <code class="language-plaintext highlighter-rouge">os.path.join</code>, i.e.</li>
    </ol>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">parameters</span><span class="o">=</span><span class="p">[</span>
        <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nf">get_package_share_directory</span><span class="p">(</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">),</span>
                     <span class="sh">'</span><span class="s">config/params.yaml</span><span class="sh">'</span>
                     <span class="p">)</span>
                 <span class="p">]</span>
    
</code></pre></div></div>
<ol>
  <li>
<strong>Path converted to a String</strong> - Working with <code class="language-plaintext highlighter-rouge">pathlib</code> is often easier than using <code class="language-plaintext highlighter-rouge">os.path.join</code>. You can get a <code class="language-plaintext highlighter-rouge">pathlib.Path</code> of the share folder using <code class="language-plaintext highlighter-rouge">ament_index_python.package.get_package_share_path</code> i.e.</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">parameters</span><span class="o">=</span><span class="p">[</span>
        <span class="nf">str</span><span class="p">(</span><span class="nf">get_package_share_path</span><span class="p">(</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">)</span> <span class="o">/</span> <span class="sh">'</span><span class="s">config/params.yaml</span><span class="sh">'</span><span class="p">)</span>
                 <span class="p">]</span>
    
</code></pre></div></div>

<ul>
  <li>While the latter two ways of specifying the path are common, if you are combining with other substitutions, the first option is the easiest to work with.</li>
</ul>

<h2 id="04---load-parameters-from-a-command">04 - Load Parameters from a Command</h2>
<p>Sometimes you will want to set parameters based on the results of running a command. This is very commonly seen when running <code class="language-plaintext highlighter-rouge">xacro</code> on your robot model and loading it in as a parameter.</p>

<h3 id="ros-1-3">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/04-command-params.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"robot_description"</span> <span class="na">command=</span><span class="s">"$(find xacro)/xacro $(find urdf_tutorial)/urdf/01-myfirst.urdf"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"robot_state_publisher"</span> <span class="na">pkg=</span><span class="s">"robot_state_publisher"</span> <span class="na">type=</span><span class="s">"robot_state_publisher"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>

<h3 id="ros-2-3">ROS 2</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/04-command-params.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.substitutions</span> <span class="kn">import</span> <span class="n">Command</span><span class="p">,</span> <span class="n">PathJoinSubstitution</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="kn">from</span> <span class="n">launch_ros.parameter_descriptions</span> <span class="kn">import</span> <span class="n">ParameterValue</span>
<span class="kn">from</span> <span class="n">launch_ros.substitutions</span> <span class="kn">import</span> <span class="n">FindPackageShare</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">robot_description</span> <span class="o">=</span> <span class="nc">ParameterValue</span><span class="p">(</span>
        <span class="nc">Command</span><span class="p">([</span><span class="sh">'</span><span class="s">xacro </span><span class="sh">'</span><span class="p">,</span> <span class="nc">PathJoinSubstitution</span><span class="p">(</span><span class="nc">FindPackageShare</span><span class="p">(</span><span class="sh">'</span><span class="s">urdf_tutorial</span><span class="sh">'</span><span class="p">),</span> <span class="sh">'</span><span class="s">urdf</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">01-myfirst.urdf</span><span class="sh">'</span><span class="p">)]),</span>
        <span class="n">value_type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>

    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">Node</span><span class="p">(</span><span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">robot_state_publisher</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">robot_state_publisher</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span><span class="sh">'</span><span class="s">robot_description</span><span class="sh">'</span><span class="p">:</span> <span class="n">robot_description</span><span class="p">}])</span>
    <span class="p">])</span>

</code></pre></div></div>

<ul>
  <li>Note: In many cases, you can get away with not wrapping the <code class="language-plaintext highlighter-rouge">Command</code> in a <code class="language-plaintext highlighter-rouge">ParameterValue</code> object, but then the launch system will try to guess the value type, and if there happens to be a colon (<code class="language-plaintext highlighter-rouge">:</code>) in a string you’re trying to load, <a href="https://github.com/ros2/launch_ros/issues/214">it will try to interpret it as YAML</a>
</li>
</ul>

<h2 id="05---set-a-command-line-argument">05 - Set a Command Line Argument</h2>
<p>There are two different steps for using command line arguments:</p>
<ul>
  <li>Declaring the argument and its default value</li>
  <li>Using the value</li>
</ul>

<h3 id="ros-1-4">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/05-arg.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"pizza_type"</span> <span class="na">default=</span><span class="s">"pepperoni"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"cool_but_rude"</span> <span class="na">pkg=</span><span class="s">"raphael"</span> <span class="na">type=</span><span class="s">"raphael_node"</span> <span class="na">output=</span><span class="s">"screen"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"pizza"</span> <span class="na">value=</span><span class="s">"$(arg pizza_type)"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>

<ul>
  <li>The argument is declared using the <code class="language-plaintext highlighter-rouge">&lt;arg&gt;</code> element.</li>
  <li>The value can be using the dollar substitution syntax <code class="language-plaintext highlighter-rouge">$(arg pizza_type)</code>
</li>
  <li>When launching, you can see the value of the parameter printed to the terminal.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   PARAMETERS
    * /cool_but_rude/pizza: pepperoni
   
</code></pre></div></div>
<ul>
  <li>If we run <code class="language-plaintext highlighter-rouge">roslaunch raphael 05-arg.launch</code>, the parameter is set to pepperoni by default.</li>
  <li>You can specify the value you want on the command line with <code class="language-plaintext highlighter-rouge">arg_name:=arg_value</code>, i.e.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   roslaunch raphael 05-arg.launch pizza_type:<span class="o">=</span>meatball
   
</code></pre></div></div>

<h3 id="ros-2-4">ROS 2</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/05-arg.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.actions</span> <span class="kn">import</span> <span class="n">DeclareLaunchArgument</span>
<span class="kn">from</span> <span class="n">launch.substitutions</span> <span class="kn">import</span> <span class="n">LaunchConfiguration</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">DeclareLaunchArgument</span><span class="p">(</span><span class="sh">'</span><span class="s">pizza_type</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">mushrooms</span><span class="sh">'</span><span class="p">),</span>
        <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span><span class="sh">'</span><span class="s">pizza</span><span class="sh">'</span><span class="p">:</span> <span class="nc">LaunchConfiguration</span><span class="p">(</span><span class="sh">'</span><span class="s">pizza_type</span><span class="sh">'</span><span class="p">)}]),</span>
    <span class="p">])</span>

</code></pre></div></div>
<ul>
  <li>The argument is declared using the <code class="language-plaintext highlighter-rouge">DeclareLaunchArgument</code> action, which must be included in the <code class="language-plaintext highlighter-rouge">LaunchDescription</code>
</li>
  <li>The value can be used with the <code class="language-plaintext highlighter-rouge">LaunchConfiguration</code> object.</li>
  <li>If we run <code class="language-plaintext highlighter-rouge">ros2 launch donatello 05-arg.launch.py</code> the parameter is set to <code class="language-plaintext highlighter-rouge">mushrooms</code> by default.</li>
  <li>You can specify the value you want on the command line the same way as ROS 1, i.e.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   ros2 launch donatello 05-arg.launch.py pizza_type:<span class="o">=</span>meatball
   
</code></pre></div></div>

<h2 id="06---using-substitutions-everywhere">06 - Using Substitutions Everywhere</h2>
<p>In the previous example, we were able to dynamically change our launch file by using substitutions, i.e. dynamically replacing the value of a variable. We also used <code class="language-plaintext highlighter-rouge">FindPackageShare</code> to dynamically find the path to a file. There are actually a lot of different things you can substitute in.</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>ROS 1 command</th>
      <th>ROS 2 command</th>
      <th>ROS2 Object</th>
      <th>Note</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Launch Argument</td>
      <td>arg</td>
      <td>var</td>
      <td>LaunchConfiguration</td>
      <td>[1]</td>
    </tr>
    <tr>
      <td>Anonymous ID Generation</td>
      <td>anon</td>
      <td>anon</td>
      <td>AnonName</td>
      <td> </td>
    </tr>
    <tr>
      <td>Environment Variable</td>
      <td>env</td>
      <td>env</td>
      <td>EnvironmentVariable</td>
      <td> </td>
    </tr>
    <tr>
      <td>Optional Environment Variable</td>
      <td>optenv</td>
      <td>env</td>
      <td>EnvironmentVariable</td>
      <td>[2]</td>
    </tr>
    <tr>
      <td>Command Execution</td>
      <td> </td>
      <td>command</td>
      <td>Command</td>
      <td>[3]</td>
    </tr>
    <tr>
      <td>Current Directory</td>
      <td>dirname</td>
      <td>dirname</td>
      <td>ThisLaunchFileDir</td>
      <td> </td>
    </tr>
    <tr>
      <td>ROS Package Location</td>
      <td>find</td>
      <td> </td>
      <td> </td>
      <td>[4]</td>
    </tr>
    <tr>
      <td>Current Launch File Path</td>
      <td> </td>
      <td>filename</td>
      <td>ThisLaunchFile</td>
      <td>[4]</td>
    </tr>
    <tr>
      <td>Executable Path</td>
      <td> </td>
      <td>find-exec</td>
      <td>FindExecutable</td>
      <td>[4]</td>
    </tr>
    <tr>
      <td>ROS Executable</td>
      <td> </td>
      <td>exec-in-pkg</td>
      <td>ExecutableInPackage</td>
      <td>[4]</td>
    </tr>
    <tr>
      <td>ROS Package Share Path</td>
      <td> </td>
      <td>find-pkg-share</td>
      <td>FindPackageShare</td>
      <td>[4]</td>
    </tr>
    <tr>
      <td>Expression Evaluation</td>
      <td>eval</td>
      <td>eval</td>
      <td>PythonExpression</td>
      <td>[5]</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>[1] Only one with inexplicable different command in ROS 1 and 2</li>
  <li>[2] To use <code class="language-plaintext highlighter-rouge">optenv</code> in ROS 2, just add the default value to the command as the second argument.</li>
  <li>[3] There is not a general way to load the results of an arbitrary command in ROS 1, but you can load the value into a ROS Parameter (See section 04 above)</li>
  <li>[4] ROS 2 if much finickier about where files actually are. There is no general folder that covers everything, thus the <code class="language-plaintext highlighter-rouge">find</code> command doesn’t make sense. Instead its split up into other commands.</li>
  <li>[5] In ROS 1, <code class="language-plaintext highlighter-rouge">eval</code> cannot be used in YAML files.</li>
</ul>

<h3 id="ros-1-5">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/06-substitutions.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"radius"</span> <span class="na">default=</span><span class="s">"1.5"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"pizza_type"</span> <span class="na">default=</span><span class="s">"pepperoni"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"cool_but_rude"</span> <span class="na">pkg=</span><span class="s">"raphael"</span> <span class="na">type=</span><span class="s">"raphael_node"</span> <span class="na">output=</span><span class="s">"screen"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"pizza"</span> <span class="na">value=</span><span class="s">"$(arg pizza_type)"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"circumference"</span> <span class="na">value=</span><span class="s">"$(eval 2.* 3.1415 * arg('radius'))"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;rosparam</span> <span class="na">command=</span><span class="s">"load"</span> <span class="na">file=</span><span class="s">"$(find raphael)/config/sub_params.yaml"</span> <span class="na">subst_value=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>

<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/config/sub_params.yaml">parameter file source</a></p>
<ul>
  <li><a href="http://wiki.ros.org/roslaunch/XML/#substitution_args">Additional Documentation</a></li>
  <li>Just like with args, we can still use the dollar substitution syntax in any string in the XML, e.g. <code class="language-plaintext highlighter-rouge">$(COMMAND ARG1 ARG2...)</code>
</li>
  <li>We can also put dollar substitutions in yaml files, as long as we set <code class="language-plaintext highlighter-rouge">subst_value="true"</code>
</li>
  <li>It may be relatively obvious, but the substitution replaces the dollar expression with the evaluated value, and then the yaml is processed as normal.
    <ul>
      <li>Example:<code class="language-plaintext highlighter-rouge">version: ROS $(env ROS_VERSION)</code> sets <code class="language-plaintext highlighter-rouge">version</code> to <code class="language-plaintext highlighter-rouge">ROS 1</code>
</li>
    </ul>
  </li>
  <li>You can use launch arguments within <code class="language-plaintext highlighter-rouge">eval</code> substitutions, but with a slightly different syntax.</li>
</ul>

<h3 id="ros-2-5">ROS 2</h3>
<p>There are multiple ways to do substitutions in ROS 2 Python launch files.</p>

<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/06a-substitutions.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.actions</span> <span class="kn">import</span> <span class="n">DeclareLaunchArgument</span>
<span class="kn">from</span> <span class="n">launch.substitutions</span> <span class="kn">import</span> <span class="n">AnonName</span><span class="p">,</span> <span class="n">Command</span><span class="p">,</span> <span class="n">EnvironmentVariable</span><span class="p">,</span> <span class="n">FindExecutable</span><span class="p">,</span> <span class="n">LaunchConfiguration</span>
<span class="kn">from</span> <span class="n">launch.substitutions</span> <span class="kn">import</span> <span class="n">PythonExpression</span><span class="p">,</span> <span class="n">ThisLaunchFile</span><span class="p">,</span> <span class="n">ThisLaunchFileDir</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">object_parameters</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">'</span><span class="s">pizza</span><span class="sh">'</span><span class="p">:</span> <span class="nc">LaunchConfiguration</span><span class="p">(</span><span class="sh">'</span><span class="s">pizza_type</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">anonymous_name</span><span class="sh">'</span><span class="p">:</span> <span class="nc">AnonName</span><span class="p">(</span><span class="sh">'</span><span class="s">leo</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">favorite_brother</span><span class="sh">'</span><span class="p">:</span> <span class="nc">EnvironmentVariable</span><span class="p">(</span><span class="sh">'</span><span class="s">BROTHER_NAME</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">mikey</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">filename</span><span class="sh">'</span><span class="p">:</span> <span class="nc">ThisLaunchFile</span><span class="p">(),</span>
        <span class="sh">'</span><span class="s">directory</span><span class="sh">'</span><span class="p">:</span> <span class="nc">ThisLaunchFileDir</span><span class="p">(),</span>
        <span class="sh">'</span><span class="s">list_exec</span><span class="sh">'</span><span class="p">:</span> <span class="nc">FindExecutable</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">ls</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">list_output</span><span class="sh">'</span><span class="p">:</span> <span class="nc">Command</span><span class="p">(</span><span class="sh">'</span><span class="s">ls</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">version</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="sh">'</span><span class="s">ROS </span><span class="sh">'</span><span class="p">,</span> <span class="nc">EnvironmentVariable</span><span class="p">(</span><span class="sh">'</span><span class="s">ROS_VERSION</span><span class="sh">'</span><span class="p">)],</span>
        <span class="sh">'</span><span class="s">circumference</span><span class="sh">'</span><span class="p">:</span> <span class="nc">PythonExpression</span><span class="p">([</span><span class="sh">'</span><span class="s">2.*3.1415*</span><span class="sh">'</span><span class="p">,</span> <span class="nc">LaunchConfiguration</span><span class="p">(</span><span class="sh">'</span><span class="s">radius</span><span class="sh">'</span><span class="p">)]),</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">DeclareLaunchArgument</span><span class="p">(</span><span class="sh">'</span><span class="s">radius</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">1.5</span><span class="sh">'</span><span class="p">),</span>
        <span class="nc">DeclareLaunchArgument</span><span class="p">(</span><span class="sh">'</span><span class="s">pizza_type</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">mushrooms</span><span class="sh">'</span><span class="p">),</span>
        <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="n">object_parameters</span><span class="p">]),</span>
    <span class="p">])</span>

</code></pre></div></div>

<ul>
  <li>The most Python-y way to do substitutions is by using the <code class="language-plaintext highlighter-rouge">launch.substitutions</code> classes, as seen above.</li>
  <li>When evaluating the substitutions, lists of strings/substitutions are <strong>concatenated</strong>. For example, look at <code class="language-plaintext highlighter-rouge">version</code> above.
    <ul>
      <li>The parameter value is a list containing one string and one substitution. The <code class="language-plaintext highlighter-rouge">EnvironmentVariable</code> is evaluated, resulting in the list now being <code class="language-plaintext highlighter-rouge">['ROS ', 2]</code>, which are then combined so the final value is <code class="language-plaintext highlighter-rouge">'ROS 2'</code>
</li>
    </ul>
  </li>
  <li>The same principles apply to the substitution within a substitution in <code class="language-plaintext highlighter-rouge">circumference</code>.</li>
</ul>

<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/06b-substitutions.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.actions</span> <span class="kn">import</span> <span class="n">DeclareLaunchArgument</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="kn">from</span> <span class="n">launch.frontend.parse_substitution</span> <span class="kn">import</span> <span class="n">parse_substitution</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">text_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">'</span><span class="s">pizza</span><span class="sh">'</span><span class="p">:</span> <span class="nf">parse_substitution</span><span class="p">(</span><span class="sh">'</span><span class="s">$(var pizza_type)</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">anonymous_name</span><span class="sh">'</span><span class="p">:</span> <span class="nf">parse_substitution</span><span class="p">(</span><span class="sh">'</span><span class="s">$(anon leo)</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">favorite_brother</span><span class="sh">'</span><span class="p">:</span> <span class="nf">parse_substitution</span><span class="p">(</span><span class="sh">'</span><span class="s">$(env BROTHER_NAME mikey)</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">filename</span><span class="sh">'</span><span class="p">:</span> <span class="nf">parse_substitution</span><span class="p">(</span><span class="sh">'</span><span class="s">$(filename)</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">directory</span><span class="sh">'</span><span class="p">:</span> <span class="nf">parse_substitution</span><span class="p">(</span><span class="sh">'</span><span class="s">$(dirname)</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">list_exec</span><span class="sh">'</span><span class="p">:</span> <span class="nf">parse_substitution</span><span class="p">(</span><span class="sh">'</span><span class="s">$(find-exec ls)</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">list_output</span><span class="sh">'</span><span class="p">:</span> <span class="nf">parse_substitution</span><span class="p">(</span><span class="sh">'</span><span class="s">$(command ls)</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">version</span><span class="sh">'</span><span class="p">:</span> <span class="nf">parse_substitution</span><span class="p">(</span><span class="sh">'</span><span class="s">ROS $(env ROS_VERSION)</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">circumference</span><span class="sh">'</span><span class="p">:</span> <span class="nf">parse_substitution</span><span class="p">(</span><span class="sh">'</span><span class="s">$(eval 2.*3.1415*$(var radius))</span><span class="sh">'</span><span class="p">),</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">DeclareLaunchArgument</span><span class="p">(</span><span class="sh">'</span><span class="s">radius</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">1.5</span><span class="sh">'</span><span class="p">),</span>
        <span class="nc">DeclareLaunchArgument</span><span class="p">(</span><span class="sh">'</span><span class="s">pizza_type</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">mushrooms</span><span class="sh">'</span><span class="p">),</span>
        <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="n">text_params</span><span class="p">]),</span>
    <span class="p">])</span>

</code></pre></div></div>

<ul>
  <li>You can also use the dollar substitution syntax as in ROS 1.</li>
  <li>Using the <code class="language-plaintext highlighter-rouge">parse_substitution</code> method will result in lists and objects as in the previous example.</li>
</ul>

<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/06c-substitutions.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.actions</span> <span class="kn">import</span> <span class="n">DeclareLaunchArgument</span>
<span class="kn">from</span> <span class="n">launch.substitutions</span> <span class="kn">import</span> <span class="n">PathJoinSubstitution</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="kn">from</span> <span class="n">launch_ros.parameter_descriptions</span> <span class="kn">import</span> <span class="n">ParameterFile</span>
<span class="kn">from</span> <span class="n">launch_ros.substitutions</span> <span class="kn">import</span> <span class="n">FindPackageShare</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">file_parameters</span> <span class="o">=</span> <span class="nc">ParameterFile</span><span class="p">(</span>
        <span class="n">param_file</span><span class="o">=</span><span class="nc">PathJoinSubstitution</span><span class="p">(</span><span class="nc">FindPackageShare</span><span class="p">(</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">),</span> <span class="sh">'</span><span class="s">config</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">sub_params.yaml</span><span class="sh">'</span><span class="p">),</span>
        <span class="n">allow_substs</span><span class="o">=</span><span class="bp">True</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">DeclareLaunchArgument</span><span class="p">(</span><span class="sh">'</span><span class="s">radius</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">1.5</span><span class="sh">'</span><span class="p">),</span>
        <span class="nc">DeclareLaunchArgument</span><span class="p">(</span><span class="sh">'</span><span class="s">pizza_type</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">mushrooms</span><span class="sh">'</span><span class="p">),</span>
        <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="n">file_parameters</span><span class="p">]),</span>
    <span class="p">])</span>

</code></pre></div></div>

<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/config/sub_params.yaml">parameter file source</a></p>
<ul>
  <li>In ROS distributions <a href="https://docs.ros.org/en/galactic/Releases/Release-Galactic-Geochelone.html#use-launch-substitutions-in-parameter-files">Galactic</a> and newer, you can also use the substitutions in YAML files as well, as long as <code class="language-plaintext highlighter-rouge">allow_substs</code> is set to True.</li>
</ul>

<h2 id="07---include-another-launch">07 - Include Another Launch</h2>

<p>In more complex systems, it is often useful to have launch files that include other launch files, often including specific values for the launch arguments.</p>

<h3 id="ros-1-6">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/07-inclusive.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">"$(find raphael)/launch/05-arg.launch"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"pizza_type"</span> <span class="na">value=</span><span class="s">"olives"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/include&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>
<h3 id="ros-2-6">ROS 2</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/07-inclusive.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.actions</span> <span class="kn">import</span> <span class="n">IncludeLaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.substitutions</span> <span class="kn">import</span> <span class="n">PathJoinSubstitution</span>
<span class="kn">from</span> <span class="n">launch_ros.substitutions</span> <span class="kn">import</span> <span class="n">FindPackageShare</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">IncludeLaunchDescription</span><span class="p">(</span><span class="nc">PathJoinSubstitution</span><span class="p">(</span><span class="nc">FindPackageShare</span><span class="p">(</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">),</span> <span class="sh">'</span><span class="s">launch</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">05-arg.launch.py</span><span class="sh">'</span><span class="p">),</span>
                                 <span class="n">launch_arguments</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">pizza_type</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">peppers</span><span class="sh">'</span><span class="p">}.</span><span class="nf">items</span><span class="p">()),</span>
    <span class="p">])</span>

</code></pre></div></div>

<ul>
  <li>The first argument to the <code class="language-plaintext highlighter-rouge">IncludeLaunchDescription</code> object in this case is a string representing the path to the launch file to include, which automatically gets converted to a <a href="https://github.com/ros2/launch/blob/b129eb65c9f03980c724b17200236290fa797816/launch/launch/launch_description_sources/python_launch_description_source.py"><code class="language-plaintext highlighter-rouge">launch.launch_description_source.PythonLaunchDescriptionSource</code></a> class, which is a subclass of <a href="https://github.com/ros2/launch/blob/b129eb65c9f03980c724b17200236290fa797816/launch/launch/launch_description_source.py#L30"><code class="language-plaintext highlighter-rouge">launch.LaunchDescriptionSource</code></a>
</li>
  <li>There are cases where you would want to construct the <code class="language-plaintext highlighter-rouge">PythonLaunchDescriptionSource</code> explicitly, or include a different type of <code class="language-plaintext highlighter-rouge">LaunchDescriptionSource</code>, but for now the string with the full path to the Python is the most straightforward option.</li>
</ul>

<h2 id="08---conditionally-include">08 - Conditionally Include</h2>
<p>In this example, we combine the substitution functionality and the ability to include another launch file from the last two examples to evaluate an argument to determine which launch file to include. We’re going to include both cases, i.e. including if the argument is true and if the argument is false, but you can do just one.</p>

<h3 id="ros-1-7">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/08-conditional.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"use_number_one"</span> <span class="na">default=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">"$(find raphael)/launch/01-single.launch"</span>    <span class="na">if=</span><span class="s">"$(arg use_number_one)"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">"$(find raphael)/launch/02-param.launch"</span> <span class="na">unless=</span><span class="s">"$(arg use_number_one)"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>

<ul>
  <li><a href="http://wiki.ros.org/roslaunch/XML/#if_and_unless_attributes">Additional Documentation</a></li>
  <li>If we run <code class="language-plaintext highlighter-rouge">roslaunch raphael 08-conditional.launch</code>, it will include <code class="language-plaintext highlighter-rouge">01-single.launch</code> (and no parameters are loaded).</li>
  <li>To get the same result, we can also explicitly set <code class="language-plaintext highlighter-rouge">use_number_one</code> to <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">1</code>.</li>
  <li>If we run <code class="language-plaintext highlighter-rouge">roslaunch raphael 08-conditional.launch use_number_one:=false</code> it will include <code class="language-plaintext highlighter-rouge">02-param.launch</code> (with the parameters set in that launch file)</li>
  <li>We could have also set <code class="language-plaintext highlighter-rouge">use_number_one:=0</code>, but any other values besides 0, 1, true, false will result in <code class="language-plaintext highlighter-rouge">Value error: X is not a 'bool' type</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">if/unless</code> can be used on individual nodes as well.</li>
</ul>

<h3 id="ros-2-7">ROS 2</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/08-conditional.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.actions</span> <span class="kn">import</span> <span class="n">DeclareLaunchArgument</span><span class="p">,</span> <span class="n">IncludeLaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.conditions</span> <span class="kn">import</span> <span class="n">IfCondition</span><span class="p">,</span> <span class="n">UnlessCondition</span>
<span class="kn">from</span> <span class="n">launch.substitutions</span> <span class="kn">import</span> <span class="n">LaunchConfiguration</span><span class="p">,</span> <span class="n">PathJoinSubstitution</span>
<span class="kn">from</span> <span class="n">launch_ros.substitutions</span> <span class="kn">import</span> <span class="n">FindPackageShare</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">DeclareLaunchArgument</span><span class="p">(</span><span class="sh">'</span><span class="s">use_number_one</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">True</span><span class="sh">'</span><span class="p">),</span>
        <span class="nc">IncludeLaunchDescription</span><span class="p">(</span>
            <span class="nc">PathJoinSubstitution</span><span class="p">(</span><span class="nc">FindPackageShare</span><span class="p">(</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">),</span> <span class="sh">'</span><span class="s">launch</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">01-single.launch.py</span><span class="sh">'</span><span class="p">),</span>
            <span class="n">condition</span><span class="o">=</span><span class="nc">IfCondition</span><span class="p">(</span><span class="nc">LaunchConfiguration</span><span class="p">(</span><span class="sh">'</span><span class="s">use_number_one</span><span class="sh">'</span><span class="p">)),</span>
        <span class="p">),</span>
        <span class="nc">IncludeLaunchDescription</span><span class="p">(</span>
            <span class="nc">PathJoinSubstitution</span><span class="p">(</span><span class="nc">FindPackageShare</span><span class="p">(</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">),</span> <span class="sh">'</span><span class="s">launch</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">02-param.launch.py</span><span class="sh">'</span><span class="p">),</span>
            <span class="n">condition</span><span class="o">=</span><span class="nc">UnlessCondition</span><span class="p">(</span><span class="nc">LaunchConfiguration</span><span class="p">(</span><span class="sh">'</span><span class="s">use_number_one</span><span class="sh">'</span><span class="p">)),</span>
        <span class="p">),</span>
    <span class="p">])</span>

</code></pre></div></div>
<ul>
  <li>Same behaviors as in ROS 1:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ros2 launch donatello 08-conditional.launch.py</code></li>
      <li><code class="language-plaintext highlighter-rouge">ros2 launch donatello 08-conditional.launch.py use_number_one:=False</code></li>
    </ul>
  </li>
  <li>Can raise <code class="language-plaintext highlighter-rouge">InvalidConditionExpressionError</code> if the argument is not a bool-ish type.</li>
  <li>The <code class="language-plaintext highlighter-rouge">condition</code> parameter can be used on a wide array of Python launch objects, including individual nodes.</li>
</ul>

<h2 id="09---dynamic-filenames">09 - Dynamic Filenames</h2>

<p>One other way to dynamically change the contents of a launch file by evaluating substitutions is by using substitutions to determine the filenames.</p>

<h3 id="ros-1-8">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/09-dynamic-filename.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"config"</span> <span class="na">default=</span><span class="s">"params"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"cool_but_rude"</span> <span class="na">pkg=</span><span class="s">"raphael"</span> <span class="na">type=</span><span class="s">"raphael_node"</span> <span class="na">output=</span><span class="s">"screen"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;rosparam</span> <span class="na">command=</span><span class="s">"load"</span> <span class="na">file=</span><span class="s">"$(find raphael)/config/$(arg config).yaml"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>
<ul>
  <li>Running <code class="language-plaintext highlighter-rouge">roslaunch raphael 09-dynamic-filename.launch</code> will load <code class="language-plaintext highlighter-rouge">params.yaml</code> by default.</li>
  <li>Running <code class="language-plaintext highlighter-rouge">roslaunch raphael 09-dynamic-filename.launch config:=alt_params</code> will load <code class="language-plaintext highlighter-rouge">alt_params.yaml</code>
</li>
  <li>This method can also be used for changing the filename of an included launch file.</li>
</ul>

<h3 id="ros-2-8">ROS 2</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/09-dynamic-filename.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.actions</span> <span class="kn">import</span> <span class="n">DeclareLaunchArgument</span>
<span class="kn">from</span> <span class="n">launch.substitutions</span> <span class="kn">import</span> <span class="n">LaunchConfiguration</span><span class="p">,</span> <span class="n">PathJoinSubstitution</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="kn">from</span> <span class="n">launch_ros.substitutions</span> <span class="kn">import</span> <span class="n">FindPackageShare</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">dynamic_param_path</span> <span class="o">=</span> <span class="nc">PathJoinSubstitution</span><span class="p">(</span>
        <span class="nc">FindPackageShare</span><span class="p">(</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">config</span><span class="sh">'</span><span class="p">,</span>
        <span class="p">[</span><span class="nc">LaunchConfiguration</span><span class="p">(</span><span class="sh">'</span><span class="s">config</span><span class="sh">'</span><span class="p">),</span> <span class="sh">'</span><span class="s">.yaml</span><span class="sh">'</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">DeclareLaunchArgument</span><span class="p">(</span><span class="sh">'</span><span class="s">config</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">params</span><span class="sh">'</span><span class="p">),</span>
        <span class="nc">Node</span><span class="p">(</span><span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span>
             <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="n">dynamic_param_path</span><span class="p">]),</span>
    <span class="p">])</span>

</code></pre></div></div>

<ul>
  <li>Normally, (i.e. section 3 above) we pass a string of the parameters file into the list of parameters for the <code class="language-plaintext highlighter-rouge">Node</code>.</li>
  <li>However, now we pass in a list (<code class="language-plaintext highlighter-rouge">dynamic_param_path</code>), which consists of a mix of strings and <code class="language-plaintext highlighter-rouge">launch.substitutions</code>, i.e. <code class="language-plaintext highlighter-rouge">LaunchConfiguration</code>
</li>
  <li>At runtime, the list will be evaluated and combined into one long string representing the path that will be loaded.</li>
</ul>

<h2 id="10---make-a-node-required">10 - Make A Node Required</h2>
<p>There are certain scenarios where you want to stop an entire launch file when a particular node is not running anymore.</p>
<h3 id="ros-1-9">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/10-required.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"cool_but_rude"</span> <span class="na">pkg=</span><span class="s">"raphael"</span> <span class="na">type=</span><span class="s">"raphael_node"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"five_seconds"</span> <span class="na">pkg=</span><span class="s">"raphael"</span> <span class="na">type=</span><span class="s">"five_seconds"</span> <span class="na">required=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>
<ul>
  <li>The node <code class="language-plaintext highlighter-rouge">five_seconds</code> will terminate after five seconds.</li>
  <li>Because it is marked as <code class="language-plaintext highlighter-rouge">required</code>, the other nodes in the launch file (<code class="language-plaintext highlighter-rouge">cool_but_rude</code>) will also be terminated after five seconds.</li>
</ul>

<h3 id="ros-2-9">ROS 2</h3>
<p>The ROS 2 launch system adds a bit of flexibility to what to do when a node is shutdown.</p>

<p>If you just want to replicate the behavior, you can add <code class="language-plaintext highlighter-rouge">on_exit=Shutdown()</code> to the Node.</p>

<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/10a-required.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.actions</span> <span class="kn">import</span> <span class="n">Shutdown</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">don_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span> <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">five_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">five_seconds</span><span class="sh">'</span><span class="p">,</span> <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">five_seconds</span><span class="sh">'</span><span class="p">,</span> <span class="n">on_exit</span><span class="o">=</span><span class="nc">Shutdown</span><span class="p">())</span>
    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span><span class="n">don_node</span><span class="p">,</span> <span class="n">five_node</span><span class="p">])</span>

</code></pre></div></div>

<p>However, you can also get much more complex, and get the event handling to do things other than just shutting down.</p>

<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/10b-required.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch.actions</span> <span class="kn">import</span> <span class="n">RegisterEventHandler</span><span class="p">,</span> <span class="n">LogInfo</span><span class="p">,</span> <span class="n">EmitEvent</span><span class="p">,</span> <span class="n">Shutdown</span>
<span class="kn">from</span> <span class="n">launch.event_handlers</span> <span class="kn">import</span> <span class="n">OnProcessExit</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">don_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">does_machines</span><span class="sh">'</span><span class="p">,</span> <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">five_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">five_seconds</span><span class="sh">'</span><span class="p">,</span> <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">five_seconds</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">handler</span> <span class="o">=</span> <span class="nc">RegisterEventHandler</span><span class="p">(</span>
        <span class="n">event_handler</span><span class="o">=</span><span class="nc">OnProcessExit</span><span class="p">(</span>
            <span class="n">target_action</span><span class="o">=</span><span class="n">five_node</span><span class="p">,</span>
            <span class="n">on_exit</span><span class="o">=</span><span class="p">[</span>
                <span class="nc">LogInfo</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sh">'</span><span class="s">Five node exited; tearing down entire system.</span><span class="sh">'</span><span class="p">),</span>
                <span class="nc">EmitEvent</span><span class="p">(</span>
                    <span class="n">event</span><span class="o">=</span><span class="nc">Shutdown</span><span class="p">())]))</span>

    <span class="k">return</span> <span class="nc">LaunchDescription</span><span class="p">([</span><span class="n">don_node</span><span class="p">,</span> <span class="n">five_node</span><span class="p">,</span> <span class="n">handler</span><span class="p">])</span>

</code></pre></div></div>
<ul>
  <li>Thanks to <a href="https://github.com/moriarty">Alex Moriarty</a> for pointing me to the first method and <a href="https://ubuntu.com/blog/ros2-launch-required-nodes">The Ubuntu Blog</a> for the second.</li>
</ul>

<h2 id="11---launch-from-code">11 - Launch from Code</h2>
<p>If you want to start a launch file from a script, you can sometimes use the <code class="language-plaintext highlighter-rouge">subprocess</code> Python library, but that can lead to problems with the paths. This is how you can launch a launch file in the ROS-y way.</p>

<h3 id="ros-1-10">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/scripts/manual_launch">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/python3
</span><span class="kn">from</span> <span class="n">catkin.find_in_workspaces</span> <span class="kn">import</span> <span class="n">find_in_workspaces</span>
<span class="kn">from</span> <span class="n">roslaunch.parent</span> <span class="kn">import</span> <span class="n">ROSLaunchParent</span>
<span class="kn">from</span> <span class="n">roslaunch</span> <span class="kn">import</span> <span class="n">rlutil</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">uuid</span> <span class="o">=</span> <span class="n">rlutil</span><span class="p">.</span><span class="nf">get_or_generate_uuid</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
    <span class="n">launch_path</span> <span class="o">=</span> <span class="nf">find_in_workspaces</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="sh">'</span><span class="s">raphael</span><span class="sh">'</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="sh">'</span><span class="s">launch/05-arg.launch</span><span class="sh">'</span><span class="p">,</span> <span class="n">first_match_only</span><span class="o">=</span><span class="bp">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">launch_with_args</span> <span class="o">=</span> <span class="p">(</span><span class="n">launch_path</span><span class="p">,</span> <span class="p">[</span><span class="sh">'</span><span class="s">pizza_type:=extra_cheese</span><span class="sh">'</span><span class="p">])</span>

    <span class="n">p</span> <span class="o">=</span> <span class="nc">ROSLaunchParent</span><span class="p">(</span><span class="n">uuid</span><span class="p">,</span> <span class="p">[</span><span class="n">launch_with_args</span><span class="p">])</span>
    <span class="n">p</span><span class="p">.</span><span class="nf">start</span><span class="p">()</span>
    <span class="n">p</span><span class="p">.</span><span class="nf">spin</span><span class="p">()</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>
<ul>
  <li>This version starts <code class="language-plaintext highlighter-rouge">roscore</code>
</li>
</ul>

<h3 id="ros-2-10">ROS 2</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/donatello/manual_launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">ros2launch.api</span> <span class="kn">import</span> <span class="n">get_share_file_path_from_package</span><span class="p">,</span> <span class="n">launch_a_launch_file</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">path</span> <span class="o">=</span> <span class="nf">get_share_file_path_from_package</span><span class="p">(</span><span class="n">package_name</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="sh">'</span><span class="s">05-arg.launch.py</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">launch_arguments</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">pizza_type:=extra_cheese</span><span class="sh">'</span><span class="p">]</span>

    <span class="nf">launch_a_launch_file</span><span class="p">(</span>
        <span class="n">launch_file_path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
        <span class="c1"># Note: launch_file_arguments is required!
</span>        <span class="n">launch_file_arguments</span><span class="o">=</span><span class="n">launch_arguments</span><span class="p">,</span>
    <span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>

<h2 id="12---recursion">12 - Recursion</h2>
<p>As suggested by <a href="https://discourse.ros.org/t/rosetta-launch-everything-i-know-about-ros-1-and-ros-2-launch-files/29648/5">Martin Pecka</a>. This example will enable you to launch 10 of the same node.</p>

<h3 id="ros-1-11">ROS 1</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/raphael/launch/12-recursion.launch">source</a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;launch&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"N"</span> <span class="na">default=</span><span class="s">"10"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"raphael_node$(arg N)"</span> <span class="na">pkg=</span><span class="s">"raphael"</span> <span class="na">type=</span><span class="s">"raphael_node"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">"$(find raphael)/launch/12-recursion.launch"</span> <span class="na">if=</span><span class="s">"$(eval N &gt; 1)"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"N"</span> <span class="na">value=</span><span class="s">"$(eval N - 1)"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/include&gt;</span>
<span class="nt">&lt;/launch&gt;</span>

</code></pre></div></div>
<h3 id="ros-2-11">ROS 2</h3>
<p><a href="https://github.com/metrorobots/rosetta_launch/tree/main/donatello/launch/12-recursion.launch.py">source</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">ament_index_python.packages</span> <span class="kn">import</span> <span class="n">get_package_share_path</span>
<span class="kn">import</span> <span class="n">launch</span>
<span class="kn">from</span> <span class="n">launch.actions</span> <span class="kn">import</span> <span class="n">IncludeLaunchDescription</span><span class="p">,</span> <span class="n">DeclareLaunchArgument</span>
<span class="kn">from</span> <span class="n">launch.conditions</span> <span class="kn">import</span> <span class="n">IfCondition</span>
<span class="kn">from</span> <span class="n">launch.substitutions</span> <span class="kn">import</span> <span class="n">LaunchConfiguration</span><span class="p">,</span> <span class="n">PythonExpression</span>
<span class="kn">import</span> <span class="n">launch_ros.actions</span>


<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">launch</span><span class="p">.</span><span class="nc">LaunchDescription</span><span class="p">([</span>
        <span class="nc">DeclareLaunchArgument</span><span class="p">(</span><span class="sh">'</span><span class="s">N</span><span class="sh">'</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="sh">'</span><span class="s">10</span><span class="sh">'</span><span class="p">),</span>
        <span class="n">launch_ros</span><span class="p">.</span><span class="n">actions</span><span class="p">.</span><span class="nc">Node</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">,</span> <span class="nc">LaunchConfiguration</span><span class="p">(</span><span class="sh">'</span><span class="s">N</span><span class="sh">'</span><span class="p">)],</span>
                                <span class="n">package</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="sh">'</span><span class="s">donatello_node</span><span class="sh">'</span><span class="p">),</span>
        <span class="nc">IncludeLaunchDescription</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="nf">get_package_share_path</span><span class="p">(</span><span class="sh">'</span><span class="s">donatello</span><span class="sh">'</span><span class="p">)</span> <span class="o">/</span> <span class="sh">'</span><span class="s">launch/12-recursion.launch.py</span><span class="sh">'</span><span class="p">),</span>
                                 <span class="n">condition</span><span class="o">=</span><span class="nc">IfCondition</span><span class="p">(</span><span class="nc">PythonExpression</span><span class="p">([</span><span class="nc">LaunchConfiguration</span><span class="p">(</span><span class="sh">'</span><span class="s">N</span><span class="sh">'</span><span class="p">),</span> <span class="sh">'</span><span class="s">&gt;1</span><span class="sh">'</span><span class="p">])),</span>
                                 <span class="n">launch_arguments</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">N</span><span class="sh">'</span><span class="p">:</span> <span class="nc">PythonExpression</span><span class="p">([</span><span class="nc">LaunchConfiguration</span><span class="p">(</span><span class="sh">'</span><span class="s">N</span><span class="sh">'</span><span class="p">),</span> <span class="sh">'</span><span class="s">-1</span><span class="sh">'</span><span class="p">])}.</span><span class="nf">items</span><span class="p">()),</span>
    <span class="p">])</span>

</code></pre></div></div>

<h1 id="other-links">Other Links</h1>
<ul>
  <li>ROS 1
    <ul>
      <li>
<a href="http://wiki.ros.org/roslaunch/XML">ROS Wiki</a> with description of each XML element.</li>
      <li><a href="https://github.com/ros/ros_comm/tree/noetic-devel/tools/roslaunch/src/roslaunch">Source Code</a></li>
      <li><a href="http://wiki.ros.org/roslaunch/Architecture">Architecture</a></li>
    </ul>
  </li>
  <li>ROS 2
    <ul>
      <li><a href="https://github.com/ros2/launch/blob/rolling/launch/doc/source/architecture.rst">Architecture</a></li>
      <li>Source code for <a href="https://github.com/ros2/launch/tree/rolling/launch/launch">launch</a> and <a href="https://github.com/ros2/launch_ros/tree/rolling/launch_ros/launch_ros">launch_ros</a> which are different for…reasons.</li>
    </ul>
  </li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rosetta_launch">rosetta_launch</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-metrorobots-rosetta_launch
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-metrorobots-rosetta_launch" role="menuitem" tabindex="-1" href="/r/rosetta_launch/github-metrorobots-rosetta_launch" data="github-metrorobots-rosetta_launch">
                    <span class="glyphicon glyphicon-star"></span>
                    github-metrorobots-rosetta_launch
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rosetta_launch">rosetta_launch</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-metrorobots-rosetta_launch
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-metrorobots-rosetta_launch" role="menuitem" tabindex="-1" href="/r/rosetta_launch/github-metrorobots-rosetta_launch" data="github-metrorobots-rosetta_launch">
                    <span class="glyphicon glyphicon-star"></span>
                    github-metrorobots-rosetta_launch
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rosetta_launch">rosetta_launch</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-metrorobots-rosetta_launch
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-metrorobots-rosetta_launch" role="menuitem" tabindex="-1" href="/r/rosetta_launch/github-metrorobots-rosetta_launch" data="github-metrorobots-rosetta_launch">
                    <span class="glyphicon glyphicon-star"></span>
                    github-metrorobots-rosetta_launch
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rosetta_launch">rosetta_launch</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-metrorobots-rosetta_launch
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-metrorobots-rosetta_launch" role="menuitem" tabindex="-1" href="/r/rosetta_launch/github-metrorobots-rosetta_launch" data="github-metrorobots-rosetta_launch">
                    <span class="glyphicon glyphicon-star"></span>
                    github-metrorobots-rosetta_launch
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/metrorobots/rosetta_launch.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
