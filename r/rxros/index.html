<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/rxros/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">rxros</li>
        <!--<li class="active">rxros</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class=" older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rxros">rxros</a> <small>repository</small></h3>
        <span class="label label-default">reactive-programming</span> <span class="label label-default">ros</span> <span class="label label-default">rxcpp</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-rosin-project-rxros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-rosin-project-rxros" role="menuitem" tabindex="-1" href="/r/rxros/github-rosin-project-rxros" data="github-rosin-project-rxros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-rosin-project-rxros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rxros">rxros</a> <small>repository</small></h3>
        <span class="label label-default">reactive-programming</span> <span class="label label-default">ros</span> <span class="label label-default">rxcpp</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-rosin-project-rxros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-rosin-project-rxros" role="menuitem" tabindex="-1" href="/r/rxros/github-rosin-project-rxros" data="github-rosin-project-rxros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-rosin-project-rxros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rxros">rxros</a> <small>repository</small></h3>
        <span class="label label-default">reactive-programming</span> <span class="label label-default">ros</span> <span class="label label-default">rxcpp</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-rosin-project-rxros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-rosin-project-rxros" role="menuitem" tabindex="-1" href="/r/rxros/github-rosin-project-rxros" data="github-rosin-project-rxros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-rosin-project-rxros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rxros">rxros</a> <small>repository</small></h3>
        <span class="label label-default">reactive-programming</span> <span class="label label-default">ros</span> <span class="label label-default">rxcpp</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-rosin-project-rxros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-rosin-project-rxros" role="menuitem" tabindex="-1" href="/r/rxros/github-rosin-project-rxros" data="github-rosin-project-rxros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-rosin-project-rxros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rxros">rxros</a> <small>repository</small></h3>
        <span class="label label-default">reactive-programming</span> <span class="label label-default">ros</span> <span class="label label-default">rxcpp</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-rosin-project-rxros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-rosin-project-rxros" role="menuitem" tabindex="-1" href="/r/rxros/github-rosin-project-rxros" data="github-rosin-project-rxros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-rosin-project-rxros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rxros">rxros</a> <small>repository</small></h3>
        <span class="label label-default">reactive-programming</span> <span class="label label-default">ros</span> <span class="label label-default">rxcpp</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-rosin-project-rxros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-rosin-project-rxros" role="menuitem" tabindex="-1" href="/r/rxros/github-rosin-project-rxros" data="github-rosin-project-rxros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-rosin-project-rxros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rxros">rxros</a> <small>repository</small></h3>
        <span class="label label-default">reactive-programming</span> <span class="label label-default">ros</span> <span class="label label-default">rxcpp</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-rosin-project-rxros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-rosin-project-rxros" role="menuitem" tabindex="-1" href="/r/rxros/github-rosin-project-rxros" data="github-rosin-project-rxros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-rosin-project-rxros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rxros">rxros</a> <small>repository</small></h3>
        <span class="label label-default">reactive-programming</span> <span class="label label-default">ros</span> <span class="label label-default">rxcpp</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-rosin-project-rxros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-rosin-project-rxros" role="menuitem" tabindex="-1" href="/r/rxros/github-rosin-project-rxros" data="github-rosin-project-rxros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-rosin-project-rxros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rxros">rxros</a> <small>repository</small></h3>
        <span class="label label-default">reactive-programming</span> <span class="label label-default">ros</span> <span class="label label-default">rxcpp</span> 
        
        <a class="label label-primary pkg-label" href="/p/rxros">rxros</a>
        
        <a class="label label-primary pkg-label" href="/p/rxros_tf">rxros_tf</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-rosin-project-rxros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-rosin-project-rxros" role="menuitem" tabindex="-1" href="/r/rxros/github-rosin-project-rxros" data="github-rosin-project-rxros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-rosin-project-rxros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Reactive programming for ROS</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/rosin-project/rxros.git">https://github.com/rosin-project/rxros.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2019-11-10
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">reactive-programming</span> <span class="label label-default">ros</span> <span class="label label-default">rxcpp</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rxros/#melodic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rxros/#melodic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rxros/#melodic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rxros">rxros</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rxros_tf">rxros_tf</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rxros">RxROS</h1>

<h2 id="introduction">Introduction</h2>

<p>RxROS is new API for ROS based on the paradigm of reactive programming.
Reactive programming is an alternative to callback-based programming for implementing
concurrent message passing systems that emphasizes explicit data flow over control flow.
It makes the message flow and transformations of messages easy to capture in one place.
It eliminates problems with deadlocks and understanding how callbacks interact.
It helps you to make your nodes functional, concise, and testable.
RxROS aspires to the slogan ‘concurrency made easy’.</p>

<h2 id="contents">Contents</h2>

<ul>
  <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#rxros">RxROS</a>
    <ul>
      <li><a href="https://github.com/rosin-project/rxros/tree/master/#introduction">Introduction</a></li>
      <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#setup-and-installation">Setup and installation</a>
        <ul>
          <li><a href="https://github.com/rosin-project/rxros/tree/master/#rxros-1">RxROS</a></li>
        </ul>
      </li>
      <li><a href="https://github.com/rosin-project/rxros/tree/master/#acknowledgements">Acknowledgements</a></li>
      <li><a href="https://github.com/rosin-project/rxros/tree/master/#example-packages">Example packages</a></li>
      <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#rxros-api">RxROS API</a>
        <ul>
          <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#creating-a-rxros-node">Creating a RxROS Node</a>
            <ul>
              <li><a href="https://github.com/rosin-project/rxros/tree/master/#example">Example</a></li>
            </ul>
          </li>
          <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#parameters">Parameters</a>
            <ul>
              <li><a href="https://github.com/rosin-project/rxros/tree/master/#syntax-1">Syntax</a></li>
              <li><a href="https://github.com/rosin-project/rxros/tree/master/#example-2">Example</a></li>
            </ul>
          </li>
          <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#logging">Logging</a>
            <ul>
              <li><a href="https://github.com/rosin-project/rxros/tree/master/#syntax-2">Syntax</a></li>
              <li><a href="https://github.com/rosin-project/rxros/tree/master/#example-3">Example</a></li>
            </ul>
          </li>
          <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#observables">Observables</a>
            <ul>
              <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#observable-from-a-topic">Observable from a Topic</a>
                <ul>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#syntax-3">Syntax</a></li>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#example-4">Example</a></li>
                </ul>
              </li>
              <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#observable-from-a-transform-listener">Observable from a transform listener</a>
                <ul>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#syntax-4">Syntax</a></li>
                </ul>
              </li>
              <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#observable-from-a-linux-device">Observable from a Linux device</a>
                <ul>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#syntax-5">Syntax</a></li>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#example-5">Example</a></li>
                </ul>
              </li>
              <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#observable-from-a-yaml-file">Observable from a Yaml file</a>
                <ul>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#syntax-6">Syntax</a></li>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#example-6">Example</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#operators">Operators</a>
            <ul>
              <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#publish-to-topic">Publish to Topic</a>
                <ul>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#syntax-7">Syntax:</a></li>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#example-7">Example:</a></li>
                </ul>
              </li>
              <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#send-transform">Send Transform</a>
                <ul>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#syntax-8">Syntax:</a></li>
                </ul>
              </li>
              <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#call-service">Call Service</a>
                <ul>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#syntax-9">Syntax:</a></li>
                </ul>
              </li>
              <li>
<a href="https://github.com/rosin-project/rxros/tree/master/#sample-with-frequency">Sample with Frequency</a>
                <ul>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#syntax-10">Syntax:</a></li>
                  <li><a href="https://github.com/rosin-project/rxros/tree/master/#example-8">Example:</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="https://github.com/rosin-project/rxros/tree/master/#example-1-a-keyboard-publisher">Example 1: A Keyboard Publisher</a></li>
      <li><a href="https://github.com/rosin-project/rxros/tree/master/#example-2-a-velocity-publisher">Example 2: A Velocity Publisher</a></li>
    </ul>
  </li>
</ul>

<h2 id="setup-and-installation">Setup and installation</h2>

<p>In order to make use of this software you must install one of the following ROS distributions on your computer:</p>

<ul>
  <li>ROS Melodic Morenia, or</li>
  <li>ROS Kinetic Kame</li>
</ul>

<h3 id="rxros-1">RxROS</h3>

<p>RxROS is installed using the following command (in Ubuntu and Debian, for ROS Melodic and Kinetic):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># for ROS Kinetic replace 'melodic' with 'kinetic'</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>ros-melodic-rxros

</code></pre></div></div>

<p>To start using RxROS create a package in your Catkin workspace which depends on the <code class="language-plaintext highlighter-rouge">rxros</code> package:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># make sure to source the correct version of ROS. If your using</span>
<span class="c"># Kinetic, replace 'melodic' with 'kinetic' in the following command</span>
<span class="nb">source</span> /opt/ros/melodic/setup.bash

<span class="c"># create a workspace (skip if you already have a workspace)</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> ~/my_ws/src
<span class="nb">cd</span> ~/my_ws/src

<span class="c"># create your package 'my_pkg' which has 'rxros' as a dependency</span>
catkin_create_pkg my_pkg std_msgs rxros

<span class="c"># create the files you need in your new package ...</span>

<span class="c"># build your workspace</span>
<span class="nb">cd</span> ~/my_ws
catkin_make

</code></pre></div></div>

<p>A typical RxROS program should include the <code class="language-plaintext highlighter-rouge">rxros/rxros.h</code> header file
as shown in the following code:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;rxros/rxros.h&gt;</span><span class="cp">
</span><span class="c1">// ... add your code here</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// ... add your code here   </span>
<span class="p">}</span>

</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">rxros</code> package is constructed in a similar manner to <code class="language-plaintext highlighter-rouge">roscpp</code> and <code class="language-plaintext highlighter-rouge">tf</code>:
<code class="language-plaintext highlighter-rouge">tf</code> has a set of additional packages that add functionality specific to a
certain topic or functional context (i.e.: packages for converting to-and-from
certain math libraries, working with geometric data (points, poses, etc)).</p>

<p>This means that in case you need access to TF functionality of <code class="language-plaintext highlighter-rouge">rxros</code> the <code class="language-plaintext highlighter-rouge">rxros_tf/rxros_tf.h</code> header file needs to be included as follows:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;rxros/rxros.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;rxros_tf/rxros_tf.h&gt;</span><span class="cp">
</span><span class="c1">// ... add your code here</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// ... add your code here</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="acknowledgements">Acknowledgements</h2>

<p>The RxROS library depends on and uses the following software:<br></p>

<ol>
  <li>Ubuntu Bionic 18.04<br>
</li>
  <li>ROS Melodic v12<br>
</li>
  <li>Reactive C++ v2<br>
https://github.com/ReactiveX/RxCpp<br>
Released under the Microsoft Open Source Code of Conduct.<br>
The RxCpp library (header files) is installed as part of installing RxROS<br>
</li>
  <li>roscpp meets c++14 now!! by Takashi Ogura (OTL)<br>
https://github.com/OTL/roscpp14<br>
Released under Apache License 2.0<br>
Ideas from the library has been used in RxROS.</li>
</ol>

<h2 id="example-packages">Example packages</h2>

<p>Some example packages showcasing the use of RxROS may be found in the <a href="https://github.com/rosin-project/rxros_examples">rxros_examples</a> repository.</p>

<p>Refer to the <code class="language-plaintext highlighter-rouge">README</code> in that repository for additional setup and installation instructions.</p>

<h2 id="rxros-api">RxROS API</h2>

<p>Now, lets look at the RxROS API in more details.
RxROS provides simple access to ROS via a set of functions.
These functions provide more precisely an extension to RxCpp in form of observables and operations that give simple access to ROS.<br></p>

<h3 id="creating-a-rxros-node">Creating a RxROS node</h3>

<p>Creating a RxROS node has some commonalities with creating a normal ROS node, as shown in the example below.
A RxROS node starts by calling <code class="language-plaintext highlighter-rouge">ros::init</code> to initialize the node and ends with a call to <code class="language-plaintext highlighter-rouge">ros::spin</code> to block the main thread and listen for topic updates.
Failure to include theses statements will either cause a RxROS node to exit immediately or behave in a unpredictable manner.
However, any variant of ros::init and ros::spin may be used to create a RxROS node.</p>

<h4 id="example">Example</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;rxros/rxros.h&gt;</span><span class="cp">
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"node_name"</span><span class="p">);</span>
    <span class="c1">// ...</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()</span>
<span class="p">}</span>

</code></pre></div></div>

<h3 id="parameters">Parameters</h3>

<p>ROS provides through the parameters interface a simple way to customize a node without having to recompile
the source each time there is a change to its configuration. The RxROS parameter interface provides easy
access to the ROS parameter server through an overloaded set of get functions. Each function takes as argument
the name of the parameter to be looked up and a default value that is returned if the specified parameter
was not found. The returned result is of the same type as the default value. Failure to specify the correct
parameter type will either cause a wrong conversion or the program may simply crash.</p>

<h4 id="syntax">Syntax</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">parameter</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="n">param_type</span><span class="o">&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">param_type</span><span class="o">&amp;</span> <span class="n">defaultValue</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">defaultValue</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="kt">double</span> <span class="n">defaultValue</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">defaultValue</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">defaultValue</span><span class="p">);</span>

</code></pre></div></div>

<h4 id="example-1">Example</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;rxros/rxros.h&gt;</span><span class="cp">
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"velocity_publisher"</span><span class="p">);</span> <span class="c1">// Name of this node.</span>
    <span class="c1">//...</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">frequency</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="s">"/velocity_publisher/frequency"</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">);</span> <span class="c1">// hz</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">minVelLinear</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="s">"/velocity_publisher/min_vel_linear"</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">);</span> <span class="c1">// m/s</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">maxVelLinear</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="s">"/velocity_publisher/max_vel_linear"</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">);</span> <span class="c1">// m/s</span>
    <span class="c1">//...</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()();</span>
<span class="p">}</span>

</code></pre></div></div>

<h3 id="logging">Logging</h3>

<p>Logging is fundamentally a debugging facility that allows the programmer to print out information
about the robot’s internal state. RxROS provides five logging levels where each level indicates the
severity of the problem. Each loglevel returns as shown a reference to a logging object which actually
is an std::ostringstream. This means that the well-known C++ stream insertion operator “«” can be
used to compose the logging messages. RxROS logging will be fully backwards compatible with ROS.
This means that all the functionality provided by the ROS logging framework is also available to RxROS.</p>

<h4 id="syntax-1">Syntax</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="o">&amp;</span> <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">debug</span><span class="p">();</span>
<span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="o">&amp;</span> <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">info</span><span class="p">();</span>
<span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="o">&amp;</span> <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">warn</span><span class="p">();</span>
<span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="o">&amp;</span> <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">error</span><span class="p">();</span>
<span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="o">&amp;</span> <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">fatal</span><span class="p">();</span>

</code></pre></div></div>

<h4 id="example-2">Example</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;rxros/rxros.h&gt;</span><span class="cp">
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"velocity_publisher"</span><span class="p">);</span> <span class="c1">// Name of this node.</span>
    <span class="c1">//...</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">debug</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"frequency: "</span> <span class="o">&lt;&lt;</span> <span class="n">frequency</span><span class="p">;</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">info</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"min_vel_linear: "</span> <span class="o">&lt;&lt;</span> <span class="n">minVelLinear</span> <span class="o">&lt;&lt;</span> <span class="s">" m/s"</span><span class="p">;</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">warn</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"max_vel_linear: "</span> <span class="o">&lt;&lt;</span> <span class="n">maxVelLinear</span> <span class="o">&lt;&lt;</span> <span class="s">" m/s"</span><span class="p">;</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">error</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"min_vel_angular: "</span> <span class="o">&lt;&lt;</span> <span class="n">minVelAngular</span> <span class="o">&lt;&lt;</span> <span class="s">" rad/s"</span><span class="p">;</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">fatal</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"max_vel_angular: "</span> <span class="o">&lt;&lt;</span> <span class="n">maxVelAngular</span> <span class="o">&lt;&lt;</span> <span class="s">" rad/s"</span><span class="p">;</span>
    <span class="c1">//...</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()();</span>
<span class="p">}</span>

</code></pre></div></div>

<h3 id="observables">Observables</h3>

<p>Observables are asynchronous message streams. They are the fundamental data structure used by RxROS.
As soon as we have the observables RxCpp will provide us with a number of functions and operators
to manipulate the streams.</p>

<h4 id="observable-from-a-topic">Observable from a Topic</h4>

<p>An observable data stream is created from a topic simply by calling the rxros::observable::from_topic function.
The function takes two arguments a name of the topic and an optional queue size.
In order to use the rxros::observable::from_topic function it is important also to specify the type of the topic messages.</p>

<p>The example below demonstrates how two ROS topics named “/joystick” and “/keyboard” are turned into two observable streams
by means of the rxros::observable::from_topic function and then merged together into a new observable message stream named
teleop_obsrv. Observe the use of the map operator: Since teleop_msgs::Joystick and teleop_msgs::Keyboard are different
message types it is not possible to merge them directly. The map operator solves this problem by converting each
teleop_msgs::Joystick and teleop_msgs::Keyboard message into a simple integer that represents the low level event of
moving the joystick or pressing the keyboard.</p>

<p>The pipe operator “|” is a specialty of RxCpp that is used as a simple mechanism to compose operations on
observable message streams. The usual “.” notation could have been used just as vel, but it’s common to use
the pipe operator “|” in RxCpp.</p>

<h5 id="syntax-2">Syntax</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">observable</span><span class="o">::</span><span class="n">from_topic</span><span class="o">&lt;</span><span class="n">topic_type</span><span class="o">&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">topic</span><span class="p">,</span> <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">queue_size</span> <span class="o">=</span> <span class="mi">10</span><span class="p">);</span>

</code></pre></div></div>

<h5 id="example-3">Example</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"velocity_publisher"</span><span class="p">);</span> <span class="c1">// Name of this node.</span>
    <span class="c1">//...</span>
    <span class="k">auto</span> <span class="n">joy_obsrv</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">observable</span><span class="o">::</span><span class="n">from_topic</span><span class="o">&lt;</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Joystick</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/joystick"</span><span class="p">)</span>
        <span class="o">|</span> <span class="n">map</span><span class="p">([](</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Joystick</span> <span class="n">joy</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">joy</span><span class="p">.</span><span class="n">event</span><span class="p">;</span> <span class="p">});</span>
    <span class="k">auto</span> <span class="n">key_obsrv</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">observable</span><span class="o">::</span><span class="n">from_topic</span><span class="o">&lt;</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Keyboard</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/keyboard"</span><span class="p">)</span>
        <span class="o">|</span> <span class="n">map</span><span class="p">([](</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Keyboard</span> <span class="n">key</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">key</span><span class="p">.</span><span class="n">event</span><span class="p">;</span> <span class="p">});</span>
    <span class="k">auto</span> <span class="n">teleop_obsrv</span> <span class="o">=</span> <span class="n">joyObsrv</span><span class="p">.</span><span class="n">merge</span><span class="p">(</span><span class="n">keyObsrv</span><span class="p">);</span>
    <span class="c1">//...</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()();</span>
<span class="p">}</span>

</code></pre></div></div>

<h4 id="observable-from-a-transform-listener">Observable from a transform listener</h4>

<p>A transform listener listens as the name indicates to broadcasted transformations, or more specific it listens to
broadcasted transformations from a specified parent frame id to a specified child frame id.
The rxros::observable::from_transform turns these transformations into an observable message stream of
type tf::StampedTransform. The rxros::observable::from_transform takes three arguments: the parent frameId and child frameId
and then an optional frequency. The frequency specifies how often the rxros::observable::from_transform will perform
a lookup of the broadcasted transformations.</p>

<h5 id="syntax-3">Syntax</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">observable</span><span class="o">::</span><span class="n">from_transform</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">parent_frameId</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">child_frameId</span><span class="p">,</span> <span class="k">const</span> <span class="kt">double</span> <span class="n">frequency</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">);</span>

</code></pre></div></div>

<h4 id="observable-from-a-linux-device">Observable from a Linux device</h4>

<p>The function rxros::observable::from_device will turn a Linux block or character device like “/dev/input/js0” into an
observable message stream. rxros::observable::from_device has as such nothing to do with ROS, but it provides an
interface to low-level data types that are needed in order to create e.g. keyboard and joystick observables.
The rxros::observable::from_device takes as argument the name of the device and a type of the data that are read
from the device.</p>

<p>The example below shows what it takes to turn a stream of low-level joystick events into an observable message stream
and publish them on a ROS topic. First an observable message stream is created from the device “/dev/input/js0”.
Then is is converted it to a stream of ROS messages and finally the messages are published to a ROS topic.
Three simple steps, that’s it! <br></p>

<h5 id="syntax-4">Syntax</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">observable</span><span class="o">::</span><span class="n">from_device</span><span class="o">&lt;</span><span class="n">device_type</span><span class="o">&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">device_name</span><span class="p">);</span>

</code></pre></div></div>

<h5 id="example-4">Example</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"joystick_publisher"</span><span class="p">);</span> <span class="c1">// Name of this node.</span>
    <span class="c1">//...</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">observable</span><span class="o">::</span><span class="n">from_device</span><span class="o">&lt;</span><span class="n">joystick_event</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/dev/input/js0"</span><span class="p">)</span>
        <span class="o">|</span> <span class="n">map</span><span class="p">(</span><span class="n">joystickEvent2JoystickMsg</span><span class="p">)</span>
        <span class="o">|</span> <span class="n">publish_to_topic</span><span class="o">&lt;</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Joystick</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/joystick"</span><span class="p">);</span>
    <span class="c1">//...</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()();</span>
<span class="p">}</span>

</code></pre></div></div>

<h4 id="observable-from-a-yaml-file">Observable from a Yaml file</h4>

<p>This section describes how to turn a Yaml configuration file into an observable message stream.
ROS uses the Yaml format to configure various packages. An example of a Yaml file is given below:
It’s a configuration of the sensors and actuators that are used on a BrickPi3 robot.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">brickpi3_robot</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">motor</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">r_wheel_joint</span>
    <span class="na">port</span><span class="pi">:</span> <span class="s">PORT_D</span>
    <span class="na">frequency</span><span class="pi">:</span> <span class="m">20.0</span>

  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">color</span>
    <span class="na">frame_id</span><span class="pi">:</span> <span class="s">color_link</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">color_sensor</span>
    <span class="na">port</span><span class="pi">:</span> <span class="s">PORT_4</span>
    <span class="na">frequency</span><span class="pi">:</span> <span class="m">2.0</span>

  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">touch</span>
    <span class="na">frame_id</span><span class="pi">:</span> <span class="s">touch_link</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">touch_sensor</span>
    <span class="na">port</span><span class="pi">:</span> <span class="s">PORT_1</span>
    <span class="na">frequency</span><span class="pi">:</span> <span class="m">2.0</span>

</code></pre></div></div>

<p>The Yaml file defines a configuration of the BrickPi3 motor, color and touch sensor.
The rxros::observable::from_yaml function will turn the Yaml configuration file into
an observable data stream with three elements: One element for each device.</p>

<p>The example below demonstrates how to use the rxros::observable::from_yaml function.
As soon as we subscribe to the observable it will start to emit events (on_next events)
in form of configurations of type XmlRpc::XmlRpcValue for each device. The device can
then be used to lookup information about its type, name, port and frequency.
The DeveiceConfig is a simple helper class that will take the configurations and provide
simple access functions such as device.getType() which is equal to config[“Type”].</p>

<h5 id="syntax-5">Syntax</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">observable</span><span class="o">::</span><span class="n">from_yaml</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="k">namespace</span><span class="p">);</span>

</code></pre></div></div>

<h5 id="example-5">Example</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;rxros/rxros.h&gt;</span><span class="cp">
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"brickpi3"</span><span class="p">);</span> <span class="c1">// Name of this node.</span>
    <span class="c1">//...</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">observable</span><span class="o">::</span><span class="n">from_yaml</span><span class="p">(</span><span class="s">"/brickpi3/brickpi3_robot"</span><span class="p">).</span><span class="n">subscribe</span><span class="p">(</span>
        <span class="p">[</span><span class="o">=</span><span class="p">](</span><span class="k">auto</span> <span class="n">config</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// on_next event</span>
            <span class="n">DeviceConfig</span> <span class="n">device</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">device</span><span class="p">.</span><span class="n">getType</span><span class="p">()</span> <span class="o">==</span> <span class="s">"motor"</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">debug</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">device</span><span class="p">.</span><span class="n">getType</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">", "</span> <span class="o">&lt;&lt;</span> <span class="n">device</span><span class="p">.</span><span class="n">getName</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">", "</span> <span class="o">&lt;&lt;</span> <span class="n">device</span><span class="p">.</span><span class="n">getPort</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">", "</span> <span class="o">&lt;&lt;</span> <span class="n">device</span><span class="p">.</span><span class="n">getFrequency</span><span class="p">();</span>
    <span class="c1">//...</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()();</span>
<span class="p">}</span>

</code></pre></div></div>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;xmlrpcpp/XmlRpcValue.h&gt;</span><span class="cp">
</span>
<span class="c1">// Support class to simplify access to configuration parameters for device</span>
<span class="k">class</span> <span class="nc">DeviceConfig</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">type</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">name</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">frameId</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">port</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">frequency</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">minRange</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">maxRange</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">spreadAngle</span><span class="p">;</span>

<span class="nl">public:</span>
    <span class="k">explicit</span> <span class="n">DeviceConfig</span><span class="p">(</span><span class="n">XmlRpc</span><span class="o">::</span><span class="n">XmlRpcValue</span><span class="o">&amp;</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">type</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">hasMember</span><span class="p">(</span><span class="s">"type"</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">)</span> <span class="n">value</span><span class="p">[</span><span class="s">"type"</span><span class="p">]</span> <span class="o">:</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">""</span><span class="p">);</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">hasMember</span><span class="p">(</span><span class="s">"name"</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">)</span> <span class="n">value</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span> <span class="o">:</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">""</span><span class="p">);</span>
        <span class="n">frameId</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">hasMember</span><span class="p">(</span><span class="s">"frame_id"</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">)</span> <span class="n">value</span><span class="p">[</span><span class="s">"frame_id"</span><span class="p">]</span> <span class="o">:</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">""</span><span class="p">);</span>
        <span class="n">port</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">hasMember</span><span class="p">(</span><span class="s">"port"</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">)</span> <span class="n">value</span><span class="p">[</span><span class="s">"port"</span><span class="p">]</span> <span class="o">:</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">""</span><span class="p">);</span>
        <span class="n">frequency</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">hasMember</span><span class="p">(</span><span class="s">"frequency"</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span> <span class="n">value</span><span class="p">[</span><span class="s">"frequency"</span><span class="p">]</span> <span class="o">:</span> <span class="mf">0.0</span><span class="p">;</span>
        <span class="n">minRange</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">hasMember</span><span class="p">(</span><span class="s">"min_range"</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span> <span class="n">value</span><span class="p">[</span><span class="s">"min_range"</span><span class="p">]</span> <span class="o">:</span> <span class="mf">0.0</span><span class="p">;</span>
        <span class="n">maxRange</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">hasMember</span><span class="p">(</span><span class="s">"max_range"</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span> <span class="n">value</span><span class="p">[</span><span class="s">"max_range"</span><span class="p">]</span> <span class="o">:</span> <span class="mf">0.0</span><span class="p">;</span>
        <span class="n">spreadAngle</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">hasMember</span><span class="p">(</span><span class="s">"spread_angle"</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span> <span class="n">value</span><span class="p">[</span><span class="s">"spread_angle"</span><span class="p">]</span> <span class="o">:</span> <span class="mf">0.0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="o">~</span><span class="n">DeviceConfig</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>

    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">getType</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">type</span><span class="p">;}</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">getName</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">name</span><span class="p">;}</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">getFrameId</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">frameId</span><span class="p">;}</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">getPort</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">port</span><span class="p">;}</span>
    <span class="kt">double</span> <span class="n">getFrequency</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">frequency</span><span class="p">;}</span>
    <span class="kt">double</span> <span class="n">getMinRange</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">minRange</span><span class="p">;}</span>
    <span class="kt">double</span> <span class="n">getMaxRange</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span>  <span class="n">maxRange</span><span class="p">;}</span>
    <span class="kt">double</span> <span class="n">getSpreadAngle</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">spreadAngle</span><span class="p">;}</span>
<span class="p">};</span>

</code></pre></div></div>

<h3 id="operators">Operators</h3>

<p>One of the primary advantages of stream oriented processing is the fact that we can apply functional programming
primitives on them. RxCpp operators are nothing but filters, transformations, aggregations and reductions of the
observable message streams we created in the previous section.</p>

<h4 id="publish-to-topic">Publish to Topic</h4>

<p>rxros::operators::publish_to_topic is a rather special operator. It does not modify the message steam -
it is in other words an identity function/operator. It will however take each message from the
stream and publish it to a specific topic. This means that it is perfectly possible to continue
modifying the message stream after it has been published to a topic. This will allow us to e.g.
send transform broadcasts or even publish the messages to other topics.</p>

<h5 id="syntax-6">Syntax:</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">operators</span><span class="o">::</span><span class="n">publish_to_topic</span><span class="o">&lt;</span><span class="n">topic_type</span><span class="o">&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">topic</span><span class="p">,</span> <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">queue_size</span> <span class="o">=</span> <span class="mi">10</span><span class="p">);</span>

</code></pre></div></div>

<h5 id="example-6">Example:</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"joystick_publisher"</span><span class="p">);</span> <span class="c1">// Name of this node.</span>
    <span class="c1">//...</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">observable</span><span class="o">::</span><span class="n">from_device</span><span class="o">&lt;</span><span class="n">joystick_event</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/dev/input/js0"</span><span class="p">)</span>
        <span class="o">|</span> <span class="n">map</span><span class="p">(</span><span class="n">joystickEvent2JoystickMsg</span><span class="p">)</span>
        <span class="o">|</span> <span class="n">publish_to_topic</span><span class="o">&lt;</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Joystick</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/joystick"</span><span class="p">);</span>
    <span class="c1">//...</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()();</span>
<span class="p">}</span>

</code></pre></div></div>

<h4 id="send-transform">Send Transform</h4>

<p>The rxros::operators::send_transform operator works exactly the same ways as the rxros::operators::publish_to_topic operator.
It does not modify the message steam it is operating on, but it will take each message and broadcast it to any listeners.
The rxros::operators::send_transform comes in two variants: One that takes no arguments and operates on message streams of
type tf::StampedTranformation and one that takes the parent frame id and child frame id as argument and operates on message
streams of type tf::Transform. The later will convert the tf::Transform messages into tf::StampedTranformation messages so
that both operators broadcast the same message type.</p>

<h5 id="syntax-7">Syntax:</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">operators</span><span class="o">::</span><span class="n">send_transform</span><span class="p">();</span>
<span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">operators</span><span class="o">::</span><span class="n">send_transform</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">parent_frameId</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">child_frameId</span><span class="p">);</span>

</code></pre></div></div>

<h4 id="call-service">Call Service</h4>

<p>Besides the publish/subscribe model, ROS also provides a request/reply model that allows a remote procedure call (RPC)
to be send from one node (request) and handled by another node (reply) - it is a typical client-server mechanism that
can be useful in distributed systems.</p>

<p>RxROS only provides a means to send a request, i.e. the client side. The server side will have to be created exactly
the same way as it is done it ROS. To send a request the  rxros::operators::call_service operator is called. It take
a service name as argument and service type that specifies the type of the observable message stream the operation
was applied on. The service type consists of a request and response part. The request part must be filled out prior
to the service call and the result will be a new observable stream where the response part has been filled out by the
server part.</p>

<h5 id="syntax-8">Syntax:</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">operators</span><span class="o">::</span><span class="n">call_service</span><span class="o">&lt;</span><span class="n">service_type</span><span class="o">&gt;</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">service_name</span><span class="p">);</span>

</code></pre></div></div>

<h4 id="sample-with-frequency">Sample with Frequency</h4>

<p>The operator rxros::operators::sample_with_frequency will at regular intervals emit the last element or message of the
observable message stream it was applied on - that is independent of whether it has changed or not. This means that
the observable message stream produced by rxros::operators::sample_with_frequency may contain duplicated messages if
the frequency is too high and it may miss messages in case the frequency is too low. This is the preferred way in ROS
to publish messages on a topic and therefore a needed operation.</p>

<p>The operation operator rxros::operators::sample_with_frequency comes in two variants.
One that is executing in the current thread and one that is executing in a specified thread also known as a
coordination in RxCpp.</p>

<h5 id="syntax-9">Syntax:</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">operators</span><span class="o">::</span><span class="n">sample_with_frequency</span><span class="p">(</span><span class="k">const</span> <span class="kt">double</span> <span class="n">frequency</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">rxros</span><span class="o">::</span><span class="n">operation</span><span class="o">::</span><span class="n">sample_with_frequency</span><span class="p">(</span><span class="k">const</span> <span class="kt">double</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">Coordination</span> <span class="n">coordination</span><span class="p">);</span>

</code></pre></div></div>

<h5 id="example-7">Example:</h5>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"joystick_publisher"</span><span class="p">);</span> <span class="c1">// Name of this node.</span>
    <span class="c1">//...</span>
    <span class="o">|</span> <span class="n">sample_with_frequency</span><span class="p">(</span><span class="n">frequencyInHz</span><span class="p">)</span>
    <span class="o">|</span> <span class="n">publish_to_topic</span><span class="o">&lt;</span><span class="n">geometry_msgs</span><span class="o">::</span><span class="n">Twist</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/cmd_vel"</span><span class="p">);</span>
    <span class="c1">//...</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()();</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="example-1-a-keyboard-publisher">Example 1: A Keyboard Publisher</h2>

<p>The following example is a full implementation of a keyboard publisher
that takes input from a Linux block device and publishes the low-level
keyboard events to a ROS topic ‘/keyboard’. For more information see <a href="https://github.com/rosin-project/rxros_examples">rxros_examples</a>.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;rxros/rxros.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;rxros_teleop_msgs/Keyboard.h&gt;</span><span class="cp">
#include</span> <span class="cpf">"KeyboardPublisher.h"</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">rxcpp</span><span class="o">::</span><span class="n">operators</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">rxros</span><span class="o">::</span><span class="n">operators</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"keyboard_publisher"</span><span class="p">);</span> <span class="c1">// Name of this Node.</span>

    <span class="k">const</span> <span class="k">auto</span> <span class="n">keyboardDevice</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="s">"/keyboard_publisher/device"</span><span class="p">,</span> <span class="s">"/dev/input/event1"</span><span class="p">);</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">info</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"Keyboard device: "</span> <span class="o">&lt;&lt;</span> <span class="n">keyboardDevice</span><span class="p">;</span>

    <span class="k">auto</span> <span class="n">keyboardEvent2KeyboardMsg</span> <span class="o">=</span> <span class="p">[](</span><span class="k">const</span> <span class="k">auto</span> <span class="n">keyboardEvent</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="n">makeKeyboardMsg</span> <span class="o">=</span> <span class="p">[</span><span class="o">=</span><span class="p">]</span> <span class="p">(</span><span class="k">auto</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Keyboard</span> <span class="n">keyboardMsg</span><span class="p">;</span>
            <span class="n">keyboardMsg</span><span class="p">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">ros</span><span class="o">::</span><span class="n">Time</span><span class="p">(</span><span class="n">keyboardEvent</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">tv_sec</span><span class="p">,</span> <span class="n">keyboardEvent</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">tv_usec</span><span class="p">);</span>
            <span class="n">keyboardMsg</span><span class="p">.</span><span class="n">event</span> <span class="o">=</span> <span class="n">event</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">keyboardMsg</span><span class="p">;};</span>
        <span class="k">if</span> <span class="p">((</span><span class="n">keyboardEvent</span><span class="p">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">EV_KEY</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">keyboardEvent</span><span class="p">.</span><span class="n">value</span> <span class="o">!=</span> <span class="n">REP_DELAY</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">keyboardEvent</span><span class="p">.</span><span class="n">code</span><span class="o">==</span><span class="n">KEY_UP</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">makeKeyboardMsg</span><span class="p">(</span><span class="n">KB_EVENT_UP</span><span class="p">);</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">keyboardEvent</span><span class="p">.</span><span class="n">code</span><span class="o">==</span><span class="n">KEY_LEFT</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">makeKeyboardMsg</span><span class="p">(</span><span class="n">KB_EVENT_LEFT</span><span class="p">);</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">keyboardEvent</span><span class="p">.</span><span class="n">code</span><span class="o">==</span><span class="n">KEY_RIGHT</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">makeKeyboardMsg</span><span class="p">(</span><span class="n">KB_EVENT_RIGHT</span><span class="p">);</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">keyboardEvent</span><span class="p">.</span><span class="n">code</span><span class="o">==</span><span class="n">KEY_DOWN</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">makeKeyboardMsg</span><span class="p">(</span><span class="n">KB_EVENT_DOWN</span><span class="p">);</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">keyboardEvent</span><span class="p">.</span><span class="n">code</span><span class="o">==</span><span class="n">KEY_SPACE</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">makeKeyboardMsg</span><span class="p">(</span><span class="n">KB_EVENT_SPACE</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nf">makeKeyboardMsg</span><span class="p">(</span><span class="n">KB_EVENT_NONE</span><span class="p">);};</span>

    <span class="n">rxros</span><span class="o">::</span><span class="n">observable</span><span class="o">::</span><span class="n">from_device</span><span class="o">&lt;</span><span class="n">input_event</span><span class="o">&gt;</span><span class="p">(</span><span class="n">keyboardDevice</span><span class="p">)</span>
        <span class="o">|</span> <span class="n">map</span><span class="p">(</span><span class="n">keyboardEvent2KeyboardMsg</span><span class="p">)</span>
        <span class="o">|</span> <span class="n">publish_to_topic</span><span class="o">&lt;</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Keyboard</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/keyboard"</span><span class="p">);</span>

    <span class="n">rxros</span><span class="o">::</span><span class="n">logging</span><span class="p">().</span><span class="n">info</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"Spinning keyboard_publisher..."</span><span class="p">;</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()();</span>
<span class="p">}</span>


</code></pre></div></div>

<h2 id="example-2-a-velocity-publisher">Example 2: A Velocity Publisher</h2>

<p>The following example is a full implementation of a velocity publisher
that takes input from a keyboard and joystick and publishes Twist messages
on the /cmd_vel topic. For more information see <a href="https://github.com/rosin-project/rxros_examples">rxros_examples</a>.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;rxros/rxros.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;rxros_teleop_msgs/Joystick.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;rxros_teleop_msgs/Keyboard.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;geometry_msgs/Twist.h&gt;</span><span class="cp">
#include</span> <span class="cpf">"JoystickPublisher.h"</span><span class="cp">
#include</span> <span class="cpf">"KeyboardPublisher.h"</span><span class="cp">
</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"velocity_publisher"</span><span class="p">);</span> <span class="c1">// Name of this node.</span>

    <span class="k">const</span> <span class="k">auto</span> <span class="n">frequencyInHz</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">Parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="s">"/velocity_publisher/frequency"</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">);</span> <span class="c1">// hz</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">minVelLinear</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">Parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="s">"/velocity_publisher/min_vel_linear"</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">);</span> <span class="c1">// m/s</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">maxVelLinear</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">Parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="s">"/velocity_publisher/max_vel_linear"</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">);</span> <span class="c1">// m/s</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">minVelAngular</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">Parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="s">"/velocity_publisher/min_vel_angular"</span><span class="p">,</span> <span class="mf">0.64</span><span class="p">);</span> <span class="c1">// rad/s</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">maxVelAngular</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">Parameter</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="s">"/velocity_publisher/max_vel_angular"</span><span class="p">,</span> <span class="mf">1.60</span><span class="p">);</span> <span class="c1">// rad/s</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">deltaVelLinear</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxVelLinear</span> <span class="o">-</span> <span class="n">minVelLinear</span><span class="p">)</span> <span class="o">/</span> <span class="mf">10.0</span><span class="p">;</span>
    <span class="k">const</span> <span class="k">auto</span> <span class="n">deltaVelAngular</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxVelAngular</span> <span class="o">-</span> <span class="n">minVelAngular</span><span class="p">)</span> <span class="o">/</span> <span class="mf">10.0</span><span class="p">;</span>

    <span class="n">rxros</span><span class="o">::</span><span class="n">Logging</span><span class="p">().</span><span class="n">info</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"frequency: "</span> <span class="o">&lt;&lt;</span> <span class="n">frequencyInHz</span><span class="p">;</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">Logging</span><span class="p">().</span><span class="n">info</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"min_vel_linear: "</span> <span class="o">&lt;&lt;</span> <span class="n">minVelLinear</span> <span class="o">&lt;&lt;</span> <span class="s">" m/s"</span><span class="p">;</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">Logging</span><span class="p">().</span><span class="n">info</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"max_vel_linear: "</span> <span class="o">&lt;&lt;</span> <span class="n">maxVelLinear</span> <span class="o">&lt;&lt;</span> <span class="s">" m/s"</span><span class="p">;</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">Logging</span><span class="p">().</span><span class="n">info</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"min_vel_angular: "</span> <span class="o">&lt;&lt;</span> <span class="n">minVelAngular</span> <span class="o">&lt;&lt;</span> <span class="s">" rad/s"</span><span class="p">;</span>
    <span class="n">rxros</span><span class="o">::</span><span class="n">Logging</span><span class="p">().</span><span class="n">info</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"max_vel_angular: "</span> <span class="o">&lt;&lt;</span> <span class="n">maxVelAngular</span> <span class="o">&lt;&lt;</span> <span class="s">" rad/s"</span><span class="p">;</span>

    <span class="k">auto</span> <span class="n">adaptVelocity</span> <span class="o">=</span> <span class="p">[</span><span class="o">=</span><span class="p">]</span> <span class="p">(</span><span class="k">auto</span> <span class="n">newVel</span><span class="p">,</span> <span class="k">auto</span> <span class="n">minVel</span><span class="p">,</span> <span class="k">auto</span> <span class="n">maxVel</span><span class="p">,</span> <span class="k">auto</span> <span class="n">isIncrVel</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">newVel</span> <span class="o">&gt;</span> <span class="n">maxVel</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">maxVel</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">newVel</span> <span class="o">&lt;</span> <span class="o">-</span><span class="n">maxVel</span><span class="p">)</span>
            <span class="k">return</span> <span class="o">-</span><span class="n">maxVel</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">newVel</span> <span class="o">&gt;</span> <span class="o">-</span><span class="n">minVel</span> <span class="o">&amp;&amp;</span> <span class="n">newVel</span> <span class="o">&lt;</span> <span class="n">minVel</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">isIncrVel</span><span class="p">)</span> <span class="o">?</span> <span class="n">minVel</span> <span class="o">:</span> <span class="o">-</span><span class="n">minVel</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="k">return</span> <span class="n">newVel</span><span class="p">;};</span>

    <span class="k">auto</span> <span class="n">teleop2VelTuple</span> <span class="o">=</span> <span class="p">[</span><span class="o">=</span><span class="p">](</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">prevVelTuple</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">const</span> <span class="k">auto</span> <span class="n">prevVelLinear</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">prevVelTuple</span><span class="p">);</span>  <span class="c1">// use previous linear and angular velocity</span>
        <span class="k">const</span> <span class="k">auto</span> <span class="n">prevVelAngular</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">prevVelTuple</span><span class="p">);</span> <span class="c1">// to calculate the new linear and angular velocity.</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">event</span> <span class="o">==</span> <span class="n">JS_EVENT_BUTTON0_DOWN</span> <span class="o">||</span> <span class="n">event</span> <span class="o">==</span> <span class="n">JS_EVENT_BUTTON1_DOWN</span> <span class="o">||</span> <span class="n">event</span> <span class="o">==</span> <span class="n">KB_EVENT_SPACE</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">);</span> <span class="c1">// Stop the robot</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">event</span> <span class="o">==</span> <span class="n">JS_EVENT_AXIS_UP</span> <span class="o">||</span> <span class="n">event</span> <span class="o">==</span> <span class="n">KB_EVENT_UP</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="n">adaptVelocity</span><span class="p">((</span><span class="n">prevVelLinear</span> <span class="o">+</span> <span class="n">deltaVelLinear</span><span class="p">),</span> <span class="n">minVelLinear</span><span class="p">,</span> <span class="n">maxVelLinear</span><span class="p">,</span> <span class="nb">true</span><span class="p">),</span> <span class="n">prevVelAngular</span><span class="p">);</span> <span class="c1">// move forward</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">event</span> <span class="o">==</span> <span class="n">JS_EVENT_AXIS_DOWN</span> <span class="o">||</span> <span class="n">event</span> <span class="o">==</span> <span class="n">KB_EVENT_DOWN</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="n">adaptVelocity</span><span class="p">((</span><span class="n">prevVelLinear</span> <span class="o">-</span> <span class="n">deltaVelLinear</span><span class="p">),</span> <span class="n">minVelLinear</span><span class="p">,</span> <span class="n">maxVelLinear</span><span class="p">,</span> <span class="nb">false</span><span class="p">),</span> <span class="n">prevVelAngular</span><span class="p">);</span> <span class="c1">// move backward</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">event</span> <span class="o">==</span> <span class="n">JS_EVENT_AXIS_LEFT</span> <span class="o">||</span> <span class="n">event</span> <span class="o">==</span> <span class="n">KB_EVENT_LEFT</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="n">prevVelLinear</span><span class="p">,</span> <span class="n">adaptVelocity</span><span class="p">((</span><span class="n">prevVelAngular</span> <span class="o">+</span> <span class="n">deltaVelAngular</span><span class="p">),</span> <span class="n">minVelAngular</span><span class="p">,</span> <span class="n">maxVelAngular</span><span class="p">,</span> <span class="nb">true</span><span class="p">));</span> <span class="c1">// move left</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">event</span> <span class="o">==</span> <span class="n">JS_EVENT_AXIS_RIGHT</span> <span class="o">||</span> <span class="n">event</span> <span class="o">==</span> <span class="n">KB_EVENT_RIGHT</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="n">prevVelLinear</span><span class="p">,</span> <span class="n">adaptVelocity</span><span class="p">((</span><span class="n">prevVelAngular</span> <span class="o">-</span> <span class="n">deltaVelAngular</span><span class="p">),</span> <span class="n">minVelAngular</span><span class="p">,</span> <span class="n">maxVelAngular</span><span class="p">,</span> <span class="nb">false</span><span class="p">));</span> <span class="c1">// move right</span>
        <span class="k">else</span>
            <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="n">prevVelLinear</span><span class="p">,</span> <span class="n">prevVelAngular</span><span class="p">));};</span> <span class="c1">// do nothing</span>

    <span class="k">auto</span> <span class="n">velTuple2TwistMsg</span> <span class="o">=</span> <span class="p">[](</span><span class="k">auto</span> <span class="n">velTuple</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">geometry_msgs</span><span class="o">::</span><span class="n">Twist</span> <span class="n">vel</span><span class="p">;</span>
        <span class="n">vel</span><span class="p">.</span><span class="n">linear</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">velTuple</span><span class="p">);</span>
        <span class="n">vel</span><span class="p">.</span><span class="n">angular</span><span class="p">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">velTuple</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">vel</span><span class="p">;};</span>

    <span class="k">auto</span> <span class="n">joyObsrv</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">Observable</span><span class="o">::</span><span class="n">fromTopic</span><span class="o">&lt;</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Joystick</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/joystick"</span><span class="p">)</span> <span class="c1">// create an Observable stream from "/joystick" topic</span>
        <span class="o">|</span> <span class="n">map</span><span class="p">([](</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Joystick</span> <span class="n">joy</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">joy</span><span class="p">.</span><span class="n">event</span><span class="p">;</span> <span class="p">});</span>
    <span class="k">auto</span> <span class="n">keyObsrv</span> <span class="o">=</span> <span class="n">rxros</span><span class="o">::</span><span class="n">Observable</span><span class="o">::</span><span class="n">fromTopic</span><span class="o">&lt;</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Keyboard</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/keyboard"</span><span class="p">)</span> <span class="c1">// create an Observable stream from "/keyboard" topic</span>
        <span class="o">|</span> <span class="n">map</span><span class="p">([](</span><span class="n">teleop_msgs</span><span class="o">::</span><span class="n">Keyboard</span> <span class="n">key</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">key</span><span class="p">.</span><span class="n">event</span><span class="p">;</span> <span class="p">});</span>
    <span class="n">joyObsrv</span><span class="p">.</span><span class="n">merge</span><span class="p">(</span><span class="n">keyObsrv</span><span class="p">)</span>                                  <span class="c1">// merge the joystick and keyboard messages into an Observable teleop stream.</span>
        <span class="o">|</span> <span class="n">scan</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_tuple</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">teleop2VelTuple</span><span class="p">)</span>    <span class="c1">// turn the teleop stream into a linear and angular velocity stream.</span>
        <span class="o">|</span> <span class="n">map</span><span class="p">(</span><span class="n">velTuple2TwistMsg</span><span class="p">)</span>                              <span class="c1">// turn the linear and angular velocity stream into a Twist stream.</span>
        <span class="o">|</span> <span class="n">sample_with_frequency</span><span class="p">(</span><span class="n">frequencyInHz</span><span class="p">)</span>                <span class="c1">// take latest Twist msg and populate it with the specified frequency.</span>
        <span class="o">|</span> <span class="n">publish_to_topic</span><span class="o">&lt;</span><span class="n">geometry_msgs</span><span class="o">::</span><span class="n">Twist</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"/cmd_vel"</span><span class="p">);</span> <span class="c1">// publish the Twist messages to the topic "/cmd_vel"</span>

    <span class="n">rxros</span><span class="o">::</span><span class="n">Logging</span><span class="p">().</span><span class="n">info</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"Spinning velocity_publisher ..."</span><span class="p">;</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">spin</span><span class="p">()();</span>
<span class="p">}</span>

</code></pre></div></div>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/rosin-project/rxros.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
