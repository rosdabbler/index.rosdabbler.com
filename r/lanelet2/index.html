<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/lanelet2/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">lanelet2</li>
        <!--<li class="active">lanelet2</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-primary" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-primary" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class=" older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class=" older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lanelet2">lanelet2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/lanelet2">lanelet2</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_core">lanelet2_core</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_examples">lanelet2_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_io">lanelet2_io</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_maps">lanelet2_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_matching">lanelet2_matching</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_projection">lanelet2_projection</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_python">lanelet2_python</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_routing">lanelet2_routing</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_validation">lanelet2_validation</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-fzi-forschungszentrum-informatik-lanelet2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-fzi-forschungszentrum-informatik-lanelet2" role="menuitem" tabindex="-1" href="/r/lanelet2/github-fzi-forschungszentrum-informatik-lanelet2" data="github-fzi-forschungszentrum-informatik-lanelet2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-fzi-forschungszentrum-informatik-lanelet2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Map handling framework for automated driving</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/fzi-forschungszentrum-informatik/lanelet2.git">https://github.com/fzi-forschungszentrum-informatik/lanelet2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-03-03
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/lanelet2/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/lanelet2">lanelet2</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_core">lanelet2_core</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_examples">lanelet2_examples</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_io">lanelet2_io</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_maps">lanelet2_maps</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_matching">lanelet2_matching</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_projection">lanelet2_projection</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_python">lanelet2_python</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_routing">lanelet2_routing</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_validation">lanelet2_validation</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="lanelet2">Lanelet2</h1>

<p><a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml/badge.svg" alt="CI"></a>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml/badge.svg" alt="CD"></a>
<a href="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS%20noetic%20%28on%20focal%29" alt="Build Status ROS focal/noetic"></a>
<a href="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS2%20foxy%20%28on%20focal%29" alt="Build Status ROS2 focal/foxy"></a>
<a href="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/"><img src="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/badge/icon?subject=ROS2%20humble%20%28on%20jammy%29" alt="Build Status ROS2 jammy/humble"></a>
<a href="https://pypi.org/project/lanelet2/"><img src="https://img.shields.io/pypi/dm/lanelet2.svg?label=PyPI%20downloads" alt="PyPI Downloads"></a></p>

<h2 id="overview">Overview</h2>

<p>Lanelet2 is a C++ library for handling map data in the context of automated driving. It is designed to utilize high-definition map data in order to efficiently handle the challenges posed to a vehicle in complex traffic scenarios. Flexibility and extensibility are some of the core principles to handle the upcoming challenges of future maps.</p>

<p>Features:</p>
<ul>
  <li>
<strong>2D and 3D</strong> support</li>
  <li>
<strong>Consistent modification</strong>: if one point is modified, all owning objects see the change</li>
  <li>Supports <strong>lane changes</strong>, routing through areas, etc.</li>
  <li>
<strong>Separated routing</strong> for pedestrians, vehicles, bikes, etc.</li>
  <li>Many <strong>customization points</strong> to add new traffic rules, routing costs, parsers, etc.</li>
  <li>
<strong>Simple convenience functions</strong> for common tasks when handling maps</li>
  <li>
<strong>Accurate Projection</strong> between the lat/lon geographic world and local metric coordinates</li>
  <li>
<strong>IO Interface</strong> for reading and writing e.g. <em>osm</em> data formats (this does not mean it can deal with <em>osm maps</em>)</li>
  <li>
<strong>Python</strong> bindings for the whole C++ interface</li>
  <li>
<strong>Boost Geometry</strong> support for all thinkable kinds of geometry calculations on map primitives</li>
  <li>Released under the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/LICENSE"><strong>BSD 3-Clause license</strong></a>
</li>
  <li>Support for <strong>ROS1, ROS2, Docker and Conan</strong> (see instructions below)</li>
</ul>

<p><img src="https://raw.githubusercontent.com/fzi-forschungszentrum-informatik/lanelet2/master/lanelet2_core/doc/images/lanelet2_example_image.png" alt=""></p>

<p>Lanelet2 is the successor of the old <a href="https://github.com/phbender/liblanelet/tree/master/libLanelet">liblanelet</a> that was developed in 2013. If you know Lanelet1, you might be interested in <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Lanelet1Compability.md">reading this</a>.</p>

<h2 id="documentation">Documentation</h2>

<p>You can find more documentation in the individual packages and in doxygen comments. Here is an overview on the most important topics:</p>
<ul>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/LaneletPrimitives.md">Here</a> is more information on the basic primitives that make up a Lanelet2 map.</li>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Architecture.md">Read here</a> for a primer on the <strong>software architecture</strong> of lanelet2.</li>
  <li>There is also some <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/GeometryPrimer.md">documentation</a> on the geometry calculations you can do with lanelet2 primitives.</li>
  <li>If you are interested in Lanelet2’s <strong>projections</strong>, you will find more <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_projection/doc/Map_Projections_Coordinate_Systems.md">here</a>.</li>
  <li>To get more information on how to create valid maps, see <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_maps/README.md">here</a>.</li>
</ul>

<p>You can also find the documentation at this <a href="https://fzi-forschungszentrum-informatik.github.io/Lanelet2">link</a>.</p>

<h2 id="installation">Installation</h2>

<h3 id="within-ros">Within ROS</h3>
<p>Lanelet2 has been released for ROS. Just install <code class="language-plaintext highlighter-rouge">ros-[distribution]-lanelet2</code>, e.g.:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-noetic-lanelet2

</code></pre></div></div>

<h3 id="without-ros">Without ROS</h3>
<p>Outside of ROS, Lanelet2 can be installed from PyPI. Note that currently only Python 3.8-3.11 linux builds are available and that Python 3.10+ is only supported for recent linux distributions such as Ubuntu 20.04+.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install lanelet2

</code></pre></div></div>
<h4 id="note">Note:</h4>

<p>If you receive the error</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: Could not find a version that satisfies the requirement lanelet2 (from versions: none)
ERROR: No matching distribution found for lanelet2

</code></pre></div></div>

<p>during installation, even when using e.g. python 3.9 or 3.8 on a somewhat recent linux such as Ubuntu 18.04 or newer, your pip version is probably too old, 
as e.g. the pip version that comes with apt on Ubuntu 20.04 (20.0.2) is not recent enough for the provided package.</p>

<p>In this case you need to simply update pip with</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -U pip 

</code></pre></div></div>

<h3 id="using-docker">Using Docker</h3>

<p>There is a Docker container from which you can test things out:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t lanelet2 .                    # builds a docker image named "lanelet2"
docker run -it --rm lanelet2:latest /bin/bash # starts the docker image
python -c "import lanelet2"                   # quick check to see everything is fine

</code></pre></div></div>

<p>The docker image contains a link to your local lanelet2, so you can work and see changes (almost) at the same time. Work with two screens, one local and one on docker. Make your code changes locally, then run again <code class="language-plaintext highlighter-rouge">catkin build</code> on docker to recompile the code (update python modules).</p>

<h3 id="manual-installation">Manual installation</h3>

<p>In case you want to build it in your own way (without the above Docker image) use these instructions.</p>

<p>Lanelet2 relies mainly on <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a> for building and is targeted towards Linux.</p>

<p>At least <strong>C++14</strong> is required.</p>

<h3 id="dependencies">Dependencies</h3>
<p>Besides <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a>, the dependencies are</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Boost</code> (from 1.58)</li>
  <li><code class="language-plaintext highlighter-rouge">eigen3</code></li>
  <li>
<a href="https://github.com/KIT-MRT/mrt_cmake_modules"><code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code></a>, a CMake helper library</li>
  <li>
<code class="language-plaintext highlighter-rouge">pugixml</code> (for lanelet2_io)</li>
  <li>
<code class="language-plaintext highlighter-rouge">boost-python, python2 or python3</code> (for lanelet2_python)</li>
  <li>
<code class="language-plaintext highlighter-rouge">geographiclib</code> (for lanelet2_projection)</li>
  <li>
<code class="language-plaintext highlighter-rouge">rosbash</code> (for lanelet2_examples)</li>
</ul>

<p>For Ubuntu, the steps are the following:</p>
<ul>
  <li>
<a href="http://wiki.ros.org/ROS/Installation">Set up ROS</a>, and install at least <code class="language-plaintext highlighter-rouge">rospack</code>, <code class="language-plaintext highlighter-rouge">catkin</code> and <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> (e.g. <code class="language-plaintext highlighter-rouge">ros-melodic-rospack</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-catkin</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-mrt-cmake-modules</code>):</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install ros-melodic-rospack ros-melodic-catkin ros-melodic-mrt-cmake-modules

</code></pre></div></div>

<ul>
  <li>Install the dependencies above:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>libboost-dev libeigen3-dev libgeographic-dev libpugixml-dev libpython-dev libboost-python-dev python-catkin-tools

</code></pre></div></div>

<p><strong>On 16.04 and below</strong>, <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> is not available in ROS and you have to clone it into your workspace (<code class="language-plaintext highlighter-rouge">git clone https://github.com/KIT-MRT/mrt_cmake_modules.git</code>).</p>

<h3 id="building">Building</h3>
<p>As usual with Catkin, after you have sourced the ros installation, you have to create a workspace and clone all required packages there. Then you can build.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.bash
<span class="nb">mkdir </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">cd </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">mkdir </span>src
catkin init
catkin config <span class="nt">--cmake-args</span> <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>RelWithDebInfo <span class="c"># build in release mode (or whatever you prefer)</span>
<span class="nb">cd </span>src
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd</span> ..
catkin build

</code></pre></div></div>

<p>If unsure, see the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/Dockerfile">Dockerfile</a> or the <a href="https://travis-ci.org/fzi-forschungszentrum-informatik/Lanelet2">travis build log</a>. It shows the full installation process, with subsequent build and test based on a docker image with a clean Ubuntu installation.</p>

<h3 id="manual-experimental-installation-using-conan">Manual, experimental installation using conan</h3>
<p><strong>Note: Updated instructions for conan2!</strong>
For non-catkin users, we also offer a conan based install process. Its experimental and might not work on all platforms, especially Windows.
Since conan handles installing all C++ dependencies, all you need is a cloned repository, conan itself and a few python dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>conan catkin_pkg numpy
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd </span>lanelet2

</code></pre></div></div>

<p>From here, just use the default conan build/install procedure, e.g.:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conan create <span class="nb">.</span> <span class="nt">--build</span><span class="o">=</span>missing

</code></pre></div></div>
<p>Different from the conan defaults, we build lanelet2 and boost as shared libraries, because otherwise the lanelet2’s plugin mechanisms as well as boost::python will fail. E.g. loading maps will not be possible and the python API will not be usable.</p>

<p>To be able to use the python bindings, you have to make conan export the PYTHONPATH for lanelet2 after <code class="language-plaintext highlighter-rouge">conan create</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source </span>activate.sh
python <span class="nt">-c</span> <span class="s2">"import lanelet2"</span> <span class="c"># or whatever you want to do</span>
<span class="nb">source </span>deactivate.sh

</code></pre></div></div>

<h3 id="python3">Python3</h3>

<p>The python bindings are build for your default python installation by default (which currently is python2 on most systems). To build for python3 instead of python2, create a python3 virtualenv before initializing the workspace with <code class="language-plaintext highlighter-rouge">catkin init</code>. The command <code class="language-plaintext highlighter-rouge">python</code> should point to <code class="language-plaintext highlighter-rouge">python3</code>.</p>

<p>After <code class="language-plaintext highlighter-rouge">catkin init</code> run <code class="language-plaintext highlighter-rouge">catkin config --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo -DPYTHON_VERSION=3.6</code> to make sure that the correct python version is used. Then build and use as usual.</p>

<p><em>Note: With bionic and beyond, the apt package <code class="language-plaintext highlighter-rouge">python3-catkin-tools</code> conflicts with ROS melodic and should not be used. Use either the python2 version or use pip to install the python3 version.</em></p>

<h2 id="examples">Examples</h2>
<p>Examples and common use cases in both C++ and Python can be found <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_examples/README.md">here</a>.</p>

<h2 id="packages">Packages</h2>
<ul>
  <li>
<strong>lanelet2</strong> is the meta-package for the whole lanelet2 framework</li>
  <li>
<strong>lanelet2_core</strong> implements the basic library with all the primitives, geometry calculations and the LanletMap object</li>
  <li>
<strong>lanelet2_io</strong> is responsible for reading and writing lanelet maps</li>
  <li>
<strong>lanelet2_traffic_rules</strong> provides support to interpret the traffic rules encoded in a map</li>
  <li>
<strong>lanelet2_projection</strong> for projecting maps from WGS84 (lat/lon) to local metric coordinates</li>
  <li>
<strong>lanelet2_routing</strong> implements the routing graph for routing or reachable set or queries as well as collision checking</li>
  <li>
<strong>lanelet2_maps</strong> provides example maps and functionality to visualize and modify them easily in JOSM</li>
  <li>
<strong>lanelet2_matching</strong> provides functions to determine in which lanelet an object is/could be currently located</li>
  <li>
<strong>lanelet2_python</strong> implements the python interface for lanelet2</li>
  <li>
<strong>lanelet2_validation</strong> provides checks to ensure a valid lanelet2 map</li>
  <li>
<strong>lanelet2_examples</strong> contains tutorials for working with Lanelet2 in C++ and Python</li>
</ul>

<h2 id="citation">Citation</h2>

<p>If you are using Lanelet2 for scientific research, we would be pleased if you would cite our <a href="http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf">publication</a>:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@inproceedings<span class="p">{</span>poggenhans2018lanelet2,
  title     = <span class="p">{</span>Lanelet2: A High-Definition Map Framework for the Future of Automated Driving<span class="p">}</span>,
  author    = <span class="p">{</span>Poggenhans, Fabian and Pauls, Jan-Hendrik and Janosovits, Johannes and Orf, Stefan and Naumann, Maximilian and Kuhnt, Florian and Mayr, Matthias<span class="p">}</span>,
  booktitle = <span class="p">{</span>Proc.<span class="k">\ </span>IEEE Intell.<span class="k">\ </span>Trans.<span class="k">\ </span>Syst.<span class="k">\ </span>Conf.<span class="p">}</span>,
  year      = <span class="p">{</span>2018<span class="p">}</span>,
  address   = <span class="p">{</span>Hawaii, USA<span class="p">}</span>,
  owner     = <span class="p">{</span>poggenhans<span class="p">}</span>,
  month     = <span class="p">{</span>November<span class="p">}</span>,
  Url=<span class="p">{</span>http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf<span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lanelet2">lanelet2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/lanelet2">lanelet2</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_core">lanelet2_core</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_examples">lanelet2_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_io">lanelet2_io</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_maps">lanelet2_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_matching">lanelet2_matching</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_projection">lanelet2_projection</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_python">lanelet2_python</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_routing">lanelet2_routing</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_validation">lanelet2_validation</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-fzi-forschungszentrum-informatik-lanelet2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-fzi-forschungszentrum-informatik-lanelet2" role="menuitem" tabindex="-1" href="/r/lanelet2/github-fzi-forschungszentrum-informatik-lanelet2" data="github-fzi-forschungszentrum-informatik-lanelet2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-fzi-forschungszentrum-informatik-lanelet2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Map handling framework for automated driving</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/fzi-forschungszentrum-informatik/lanelet2.git">https://github.com/fzi-forschungszentrum-informatik/lanelet2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-03-03
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/lanelet2/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/lanelet2">lanelet2</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_core">lanelet2_core</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_examples">lanelet2_examples</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_io">lanelet2_io</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_maps">lanelet2_maps</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_matching">lanelet2_matching</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_projection">lanelet2_projection</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_python">lanelet2_python</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_routing">lanelet2_routing</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_validation">lanelet2_validation</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="lanelet2">Lanelet2</h1>

<p><a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml/badge.svg" alt="CI"></a>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml/badge.svg" alt="CD"></a>
<a href="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS%20noetic%20%28on%20focal%29" alt="Build Status ROS focal/noetic"></a>
<a href="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS2%20foxy%20%28on%20focal%29" alt="Build Status ROS2 focal/foxy"></a>
<a href="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/"><img src="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/badge/icon?subject=ROS2%20humble%20%28on%20jammy%29" alt="Build Status ROS2 jammy/humble"></a>
<a href="https://pypi.org/project/lanelet2/"><img src="https://img.shields.io/pypi/dm/lanelet2.svg?label=PyPI%20downloads" alt="PyPI Downloads"></a></p>

<h2 id="overview">Overview</h2>

<p>Lanelet2 is a C++ library for handling map data in the context of automated driving. It is designed to utilize high-definition map data in order to efficiently handle the challenges posed to a vehicle in complex traffic scenarios. Flexibility and extensibility are some of the core principles to handle the upcoming challenges of future maps.</p>

<p>Features:</p>
<ul>
  <li>
<strong>2D and 3D</strong> support</li>
  <li>
<strong>Consistent modification</strong>: if one point is modified, all owning objects see the change</li>
  <li>Supports <strong>lane changes</strong>, routing through areas, etc.</li>
  <li>
<strong>Separated routing</strong> for pedestrians, vehicles, bikes, etc.</li>
  <li>Many <strong>customization points</strong> to add new traffic rules, routing costs, parsers, etc.</li>
  <li>
<strong>Simple convenience functions</strong> for common tasks when handling maps</li>
  <li>
<strong>Accurate Projection</strong> between the lat/lon geographic world and local metric coordinates</li>
  <li>
<strong>IO Interface</strong> for reading and writing e.g. <em>osm</em> data formats (this does not mean it can deal with <em>osm maps</em>)</li>
  <li>
<strong>Python</strong> bindings for the whole C++ interface</li>
  <li>
<strong>Boost Geometry</strong> support for all thinkable kinds of geometry calculations on map primitives</li>
  <li>Released under the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/LICENSE"><strong>BSD 3-Clause license</strong></a>
</li>
  <li>Support for <strong>ROS1, ROS2, Docker and Conan</strong> (see instructions below)</li>
</ul>

<p><img src="https://raw.githubusercontent.com/fzi-forschungszentrum-informatik/lanelet2/master/lanelet2_core/doc/images/lanelet2_example_image.png" alt=""></p>

<p>Lanelet2 is the successor of the old <a href="https://github.com/phbender/liblanelet/tree/master/libLanelet">liblanelet</a> that was developed in 2013. If you know Lanelet1, you might be interested in <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Lanelet1Compability.md">reading this</a>.</p>

<h2 id="documentation">Documentation</h2>

<p>You can find more documentation in the individual packages and in doxygen comments. Here is an overview on the most important topics:</p>
<ul>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/LaneletPrimitives.md">Here</a> is more information on the basic primitives that make up a Lanelet2 map.</li>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Architecture.md">Read here</a> for a primer on the <strong>software architecture</strong> of lanelet2.</li>
  <li>There is also some <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/GeometryPrimer.md">documentation</a> on the geometry calculations you can do with lanelet2 primitives.</li>
  <li>If you are interested in Lanelet2’s <strong>projections</strong>, you will find more <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_projection/doc/Map_Projections_Coordinate_Systems.md">here</a>.</li>
  <li>To get more information on how to create valid maps, see <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_maps/README.md">here</a>.</li>
</ul>

<p>You can also find the documentation at this <a href="https://fzi-forschungszentrum-informatik.github.io/Lanelet2">link</a>.</p>

<h2 id="installation">Installation</h2>

<h3 id="within-ros">Within ROS</h3>
<p>Lanelet2 has been released for ROS. Just install <code class="language-plaintext highlighter-rouge">ros-[distribution]-lanelet2</code>, e.g.:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-noetic-lanelet2

</code></pre></div></div>

<h3 id="without-ros">Without ROS</h3>
<p>Outside of ROS, Lanelet2 can be installed from PyPI. Note that currently only Python 3.8-3.11 linux builds are available and that Python 3.10+ is only supported for recent linux distributions such as Ubuntu 20.04+.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install lanelet2

</code></pre></div></div>
<h4 id="note">Note:</h4>

<p>If you receive the error</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: Could not find a version that satisfies the requirement lanelet2 (from versions: none)
ERROR: No matching distribution found for lanelet2

</code></pre></div></div>

<p>during installation, even when using e.g. python 3.9 or 3.8 on a somewhat recent linux such as Ubuntu 18.04 or newer, your pip version is probably too old, 
as e.g. the pip version that comes with apt on Ubuntu 20.04 (20.0.2) is not recent enough for the provided package.</p>

<p>In this case you need to simply update pip with</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -U pip 

</code></pre></div></div>

<h3 id="using-docker">Using Docker</h3>

<p>There is a Docker container from which you can test things out:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t lanelet2 .                    # builds a docker image named "lanelet2"
docker run -it --rm lanelet2:latest /bin/bash # starts the docker image
python -c "import lanelet2"                   # quick check to see everything is fine

</code></pre></div></div>

<p>The docker image contains a link to your local lanelet2, so you can work and see changes (almost) at the same time. Work with two screens, one local and one on docker. Make your code changes locally, then run again <code class="language-plaintext highlighter-rouge">catkin build</code> on docker to recompile the code (update python modules).</p>

<h3 id="manual-installation">Manual installation</h3>

<p>In case you want to build it in your own way (without the above Docker image) use these instructions.</p>

<p>Lanelet2 relies mainly on <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a> for building and is targeted towards Linux.</p>

<p>At least <strong>C++14</strong> is required.</p>

<h3 id="dependencies">Dependencies</h3>
<p>Besides <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a>, the dependencies are</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Boost</code> (from 1.58)</li>
  <li><code class="language-plaintext highlighter-rouge">eigen3</code></li>
  <li>
<a href="https://github.com/KIT-MRT/mrt_cmake_modules"><code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code></a>, a CMake helper library</li>
  <li>
<code class="language-plaintext highlighter-rouge">pugixml</code> (for lanelet2_io)</li>
  <li>
<code class="language-plaintext highlighter-rouge">boost-python, python2 or python3</code> (for lanelet2_python)</li>
  <li>
<code class="language-plaintext highlighter-rouge">geographiclib</code> (for lanelet2_projection)</li>
  <li>
<code class="language-plaintext highlighter-rouge">rosbash</code> (for lanelet2_examples)</li>
</ul>

<p>For Ubuntu, the steps are the following:</p>
<ul>
  <li>
<a href="http://wiki.ros.org/ROS/Installation">Set up ROS</a>, and install at least <code class="language-plaintext highlighter-rouge">rospack</code>, <code class="language-plaintext highlighter-rouge">catkin</code> and <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> (e.g. <code class="language-plaintext highlighter-rouge">ros-melodic-rospack</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-catkin</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-mrt-cmake-modules</code>):</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install ros-melodic-rospack ros-melodic-catkin ros-melodic-mrt-cmake-modules

</code></pre></div></div>

<ul>
  <li>Install the dependencies above:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>libboost-dev libeigen3-dev libgeographic-dev libpugixml-dev libpython-dev libboost-python-dev python-catkin-tools

</code></pre></div></div>

<p><strong>On 16.04 and below</strong>, <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> is not available in ROS and you have to clone it into your workspace (<code class="language-plaintext highlighter-rouge">git clone https://github.com/KIT-MRT/mrt_cmake_modules.git</code>).</p>

<h3 id="building">Building</h3>
<p>As usual with Catkin, after you have sourced the ros installation, you have to create a workspace and clone all required packages there. Then you can build.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.bash
<span class="nb">mkdir </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">cd </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">mkdir </span>src
catkin init
catkin config <span class="nt">--cmake-args</span> <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>RelWithDebInfo <span class="c"># build in release mode (or whatever you prefer)</span>
<span class="nb">cd </span>src
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd</span> ..
catkin build

</code></pre></div></div>

<p>If unsure, see the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/Dockerfile">Dockerfile</a> or the <a href="https://travis-ci.org/fzi-forschungszentrum-informatik/Lanelet2">travis build log</a>. It shows the full installation process, with subsequent build and test based on a docker image with a clean Ubuntu installation.</p>

<h3 id="manual-experimental-installation-using-conan">Manual, experimental installation using conan</h3>
<p><strong>Note: Updated instructions for conan2!</strong>
For non-catkin users, we also offer a conan based install process. Its experimental and might not work on all platforms, especially Windows.
Since conan handles installing all C++ dependencies, all you need is a cloned repository, conan itself and a few python dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>conan catkin_pkg numpy
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd </span>lanelet2

</code></pre></div></div>

<p>From here, just use the default conan build/install procedure, e.g.:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conan create <span class="nb">.</span> <span class="nt">--build</span><span class="o">=</span>missing

</code></pre></div></div>
<p>Different from the conan defaults, we build lanelet2 and boost as shared libraries, because otherwise the lanelet2’s plugin mechanisms as well as boost::python will fail. E.g. loading maps will not be possible and the python API will not be usable.</p>

<p>To be able to use the python bindings, you have to make conan export the PYTHONPATH for lanelet2 after <code class="language-plaintext highlighter-rouge">conan create</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source </span>activate.sh
python <span class="nt">-c</span> <span class="s2">"import lanelet2"</span> <span class="c"># or whatever you want to do</span>
<span class="nb">source </span>deactivate.sh

</code></pre></div></div>

<h3 id="python3">Python3</h3>

<p>The python bindings are build for your default python installation by default (which currently is python2 on most systems). To build for python3 instead of python2, create a python3 virtualenv before initializing the workspace with <code class="language-plaintext highlighter-rouge">catkin init</code>. The command <code class="language-plaintext highlighter-rouge">python</code> should point to <code class="language-plaintext highlighter-rouge">python3</code>.</p>

<p>After <code class="language-plaintext highlighter-rouge">catkin init</code> run <code class="language-plaintext highlighter-rouge">catkin config --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo -DPYTHON_VERSION=3.6</code> to make sure that the correct python version is used. Then build and use as usual.</p>

<p><em>Note: With bionic and beyond, the apt package <code class="language-plaintext highlighter-rouge">python3-catkin-tools</code> conflicts with ROS melodic and should not be used. Use either the python2 version or use pip to install the python3 version.</em></p>

<h2 id="examples">Examples</h2>
<p>Examples and common use cases in both C++ and Python can be found <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_examples/README.md">here</a>.</p>

<h2 id="packages">Packages</h2>
<ul>
  <li>
<strong>lanelet2</strong> is the meta-package for the whole lanelet2 framework</li>
  <li>
<strong>lanelet2_core</strong> implements the basic library with all the primitives, geometry calculations and the LanletMap object</li>
  <li>
<strong>lanelet2_io</strong> is responsible for reading and writing lanelet maps</li>
  <li>
<strong>lanelet2_traffic_rules</strong> provides support to interpret the traffic rules encoded in a map</li>
  <li>
<strong>lanelet2_projection</strong> for projecting maps from WGS84 (lat/lon) to local metric coordinates</li>
  <li>
<strong>lanelet2_routing</strong> implements the routing graph for routing or reachable set or queries as well as collision checking</li>
  <li>
<strong>lanelet2_maps</strong> provides example maps and functionality to visualize and modify them easily in JOSM</li>
  <li>
<strong>lanelet2_matching</strong> provides functions to determine in which lanelet an object is/could be currently located</li>
  <li>
<strong>lanelet2_python</strong> implements the python interface for lanelet2</li>
  <li>
<strong>lanelet2_validation</strong> provides checks to ensure a valid lanelet2 map</li>
  <li>
<strong>lanelet2_examples</strong> contains tutorials for working with Lanelet2 in C++ and Python</li>
</ul>

<h2 id="citation">Citation</h2>

<p>If you are using Lanelet2 for scientific research, we would be pleased if you would cite our <a href="http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf">publication</a>:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@inproceedings<span class="p">{</span>poggenhans2018lanelet2,
  title     = <span class="p">{</span>Lanelet2: A High-Definition Map Framework for the Future of Automated Driving<span class="p">}</span>,
  author    = <span class="p">{</span>Poggenhans, Fabian and Pauls, Jan-Hendrik and Janosovits, Johannes and Orf, Stefan and Naumann, Maximilian and Kuhnt, Florian and Mayr, Matthias<span class="p">}</span>,
  booktitle = <span class="p">{</span>Proc.<span class="k">\ </span>IEEE Intell.<span class="k">\ </span>Trans.<span class="k">\ </span>Syst.<span class="k">\ </span>Conf.<span class="p">}</span>,
  year      = <span class="p">{</span>2018<span class="p">}</span>,
  address   = <span class="p">{</span>Hawaii, USA<span class="p">}</span>,
  owner     = <span class="p">{</span>poggenhans<span class="p">}</span>,
  month     = <span class="p">{</span>November<span class="p">}</span>,
  Url=<span class="p">{</span>http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf<span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lanelet2">lanelet2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/lanelet2">lanelet2</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_core">lanelet2_core</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_examples">lanelet2_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_io">lanelet2_io</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_maps">lanelet2_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_matching">lanelet2_matching</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_projection">lanelet2_projection</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_python">lanelet2_python</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_routing">lanelet2_routing</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_validation">lanelet2_validation</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-fzi-forschungszentrum-informatik-lanelet2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-fzi-forschungszentrum-informatik-lanelet2" role="menuitem" tabindex="-1" href="/r/lanelet2/github-fzi-forschungszentrum-informatik-lanelet2" data="github-fzi-forschungszentrum-informatik-lanelet2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-fzi-forschungszentrum-informatik-lanelet2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Map handling framework for automated driving</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/fzi-forschungszentrum-informatik/lanelet2.git">https://github.com/fzi-forschungszentrum-informatik/lanelet2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-03-03
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/lanelet2/#kilted-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#kilted-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#kilted-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/lanelet2">lanelet2</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_core">lanelet2_core</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_examples">lanelet2_examples</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_io">lanelet2_io</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_maps">lanelet2_maps</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_matching">lanelet2_matching</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_projection">lanelet2_projection</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_python">lanelet2_python</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_routing">lanelet2_routing</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_validation">lanelet2_validation</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="lanelet2">Lanelet2</h1>

<p><a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml/badge.svg" alt="CI"></a>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml/badge.svg" alt="CD"></a>
<a href="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS%20noetic%20%28on%20focal%29" alt="Build Status ROS focal/noetic"></a>
<a href="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS2%20foxy%20%28on%20focal%29" alt="Build Status ROS2 focal/foxy"></a>
<a href="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/"><img src="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/badge/icon?subject=ROS2%20humble%20%28on%20jammy%29" alt="Build Status ROS2 jammy/humble"></a>
<a href="https://pypi.org/project/lanelet2/"><img src="https://img.shields.io/pypi/dm/lanelet2.svg?label=PyPI%20downloads" alt="PyPI Downloads"></a></p>

<h2 id="overview">Overview</h2>

<p>Lanelet2 is a C++ library for handling map data in the context of automated driving. It is designed to utilize high-definition map data in order to efficiently handle the challenges posed to a vehicle in complex traffic scenarios. Flexibility and extensibility are some of the core principles to handle the upcoming challenges of future maps.</p>

<p>Features:</p>
<ul>
  <li>
<strong>2D and 3D</strong> support</li>
  <li>
<strong>Consistent modification</strong>: if one point is modified, all owning objects see the change</li>
  <li>Supports <strong>lane changes</strong>, routing through areas, etc.</li>
  <li>
<strong>Separated routing</strong> for pedestrians, vehicles, bikes, etc.</li>
  <li>Many <strong>customization points</strong> to add new traffic rules, routing costs, parsers, etc.</li>
  <li>
<strong>Simple convenience functions</strong> for common tasks when handling maps</li>
  <li>
<strong>Accurate Projection</strong> between the lat/lon geographic world and local metric coordinates</li>
  <li>
<strong>IO Interface</strong> for reading and writing e.g. <em>osm</em> data formats (this does not mean it can deal with <em>osm maps</em>)</li>
  <li>
<strong>Python</strong> bindings for the whole C++ interface</li>
  <li>
<strong>Boost Geometry</strong> support for all thinkable kinds of geometry calculations on map primitives</li>
  <li>Released under the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/LICENSE"><strong>BSD 3-Clause license</strong></a>
</li>
  <li>Support for <strong>ROS1, ROS2, Docker and Conan</strong> (see instructions below)</li>
</ul>

<p><img src="https://raw.githubusercontent.com/fzi-forschungszentrum-informatik/lanelet2/master/lanelet2_core/doc/images/lanelet2_example_image.png" alt=""></p>

<p>Lanelet2 is the successor of the old <a href="https://github.com/phbender/liblanelet/tree/master/libLanelet">liblanelet</a> that was developed in 2013. If you know Lanelet1, you might be interested in <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Lanelet1Compability.md">reading this</a>.</p>

<h2 id="documentation">Documentation</h2>

<p>You can find more documentation in the individual packages and in doxygen comments. Here is an overview on the most important topics:</p>
<ul>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/LaneletPrimitives.md">Here</a> is more information on the basic primitives that make up a Lanelet2 map.</li>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Architecture.md">Read here</a> for a primer on the <strong>software architecture</strong> of lanelet2.</li>
  <li>There is also some <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/GeometryPrimer.md">documentation</a> on the geometry calculations you can do with lanelet2 primitives.</li>
  <li>If you are interested in Lanelet2’s <strong>projections</strong>, you will find more <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_projection/doc/Map_Projections_Coordinate_Systems.md">here</a>.</li>
  <li>To get more information on how to create valid maps, see <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_maps/README.md">here</a>.</li>
</ul>

<p>You can also find the documentation at this <a href="https://fzi-forschungszentrum-informatik.github.io/Lanelet2">link</a>.</p>

<h2 id="installation">Installation</h2>

<h3 id="within-ros">Within ROS</h3>
<p>Lanelet2 has been released for ROS. Just install <code class="language-plaintext highlighter-rouge">ros-[distribution]-lanelet2</code>, e.g.:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-noetic-lanelet2

</code></pre></div></div>

<h3 id="without-ros">Without ROS</h3>
<p>Outside of ROS, Lanelet2 can be installed from PyPI. Note that currently only Python 3.8-3.11 linux builds are available and that Python 3.10+ is only supported for recent linux distributions such as Ubuntu 20.04+.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install lanelet2

</code></pre></div></div>
<h4 id="note">Note:</h4>

<p>If you receive the error</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: Could not find a version that satisfies the requirement lanelet2 (from versions: none)
ERROR: No matching distribution found for lanelet2

</code></pre></div></div>

<p>during installation, even when using e.g. python 3.9 or 3.8 on a somewhat recent linux such as Ubuntu 18.04 or newer, your pip version is probably too old, 
as e.g. the pip version that comes with apt on Ubuntu 20.04 (20.0.2) is not recent enough for the provided package.</p>

<p>In this case you need to simply update pip with</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -U pip 

</code></pre></div></div>

<h3 id="using-docker">Using Docker</h3>

<p>There is a Docker container from which you can test things out:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t lanelet2 .                    # builds a docker image named "lanelet2"
docker run -it --rm lanelet2:latest /bin/bash # starts the docker image
python -c "import lanelet2"                   # quick check to see everything is fine

</code></pre></div></div>

<p>The docker image contains a link to your local lanelet2, so you can work and see changes (almost) at the same time. Work with two screens, one local and one on docker. Make your code changes locally, then run again <code class="language-plaintext highlighter-rouge">catkin build</code> on docker to recompile the code (update python modules).</p>

<h3 id="manual-installation">Manual installation</h3>

<p>In case you want to build it in your own way (without the above Docker image) use these instructions.</p>

<p>Lanelet2 relies mainly on <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a> for building and is targeted towards Linux.</p>

<p>At least <strong>C++14</strong> is required.</p>

<h3 id="dependencies">Dependencies</h3>
<p>Besides <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a>, the dependencies are</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Boost</code> (from 1.58)</li>
  <li><code class="language-plaintext highlighter-rouge">eigen3</code></li>
  <li>
<a href="https://github.com/KIT-MRT/mrt_cmake_modules"><code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code></a>, a CMake helper library</li>
  <li>
<code class="language-plaintext highlighter-rouge">pugixml</code> (for lanelet2_io)</li>
  <li>
<code class="language-plaintext highlighter-rouge">boost-python, python2 or python3</code> (for lanelet2_python)</li>
  <li>
<code class="language-plaintext highlighter-rouge">geographiclib</code> (for lanelet2_projection)</li>
  <li>
<code class="language-plaintext highlighter-rouge">rosbash</code> (for lanelet2_examples)</li>
</ul>

<p>For Ubuntu, the steps are the following:</p>
<ul>
  <li>
<a href="http://wiki.ros.org/ROS/Installation">Set up ROS</a>, and install at least <code class="language-plaintext highlighter-rouge">rospack</code>, <code class="language-plaintext highlighter-rouge">catkin</code> and <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> (e.g. <code class="language-plaintext highlighter-rouge">ros-melodic-rospack</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-catkin</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-mrt-cmake-modules</code>):</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install ros-melodic-rospack ros-melodic-catkin ros-melodic-mrt-cmake-modules

</code></pre></div></div>

<ul>
  <li>Install the dependencies above:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>libboost-dev libeigen3-dev libgeographic-dev libpugixml-dev libpython-dev libboost-python-dev python-catkin-tools

</code></pre></div></div>

<p><strong>On 16.04 and below</strong>, <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> is not available in ROS and you have to clone it into your workspace (<code class="language-plaintext highlighter-rouge">git clone https://github.com/KIT-MRT/mrt_cmake_modules.git</code>).</p>

<h3 id="building">Building</h3>
<p>As usual with Catkin, after you have sourced the ros installation, you have to create a workspace and clone all required packages there. Then you can build.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.bash
<span class="nb">mkdir </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">cd </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">mkdir </span>src
catkin init
catkin config <span class="nt">--cmake-args</span> <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>RelWithDebInfo <span class="c"># build in release mode (or whatever you prefer)</span>
<span class="nb">cd </span>src
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd</span> ..
catkin build

</code></pre></div></div>

<p>If unsure, see the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/Dockerfile">Dockerfile</a> or the <a href="https://travis-ci.org/fzi-forschungszentrum-informatik/Lanelet2">travis build log</a>. It shows the full installation process, with subsequent build and test based on a docker image with a clean Ubuntu installation.</p>

<h3 id="manual-experimental-installation-using-conan">Manual, experimental installation using conan</h3>
<p><strong>Note: Updated instructions for conan2!</strong>
For non-catkin users, we also offer a conan based install process. Its experimental and might not work on all platforms, especially Windows.
Since conan handles installing all C++ dependencies, all you need is a cloned repository, conan itself and a few python dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>conan catkin_pkg numpy
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd </span>lanelet2

</code></pre></div></div>

<p>From here, just use the default conan build/install procedure, e.g.:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conan create <span class="nb">.</span> <span class="nt">--build</span><span class="o">=</span>missing

</code></pre></div></div>
<p>Different from the conan defaults, we build lanelet2 and boost as shared libraries, because otherwise the lanelet2’s plugin mechanisms as well as boost::python will fail. E.g. loading maps will not be possible and the python API will not be usable.</p>

<p>To be able to use the python bindings, you have to make conan export the PYTHONPATH for lanelet2 after <code class="language-plaintext highlighter-rouge">conan create</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source </span>activate.sh
python <span class="nt">-c</span> <span class="s2">"import lanelet2"</span> <span class="c"># or whatever you want to do</span>
<span class="nb">source </span>deactivate.sh

</code></pre></div></div>

<h3 id="python3">Python3</h3>

<p>The python bindings are build for your default python installation by default (which currently is python2 on most systems). To build for python3 instead of python2, create a python3 virtualenv before initializing the workspace with <code class="language-plaintext highlighter-rouge">catkin init</code>. The command <code class="language-plaintext highlighter-rouge">python</code> should point to <code class="language-plaintext highlighter-rouge">python3</code>.</p>

<p>After <code class="language-plaintext highlighter-rouge">catkin init</code> run <code class="language-plaintext highlighter-rouge">catkin config --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo -DPYTHON_VERSION=3.6</code> to make sure that the correct python version is used. Then build and use as usual.</p>

<p><em>Note: With bionic and beyond, the apt package <code class="language-plaintext highlighter-rouge">python3-catkin-tools</code> conflicts with ROS melodic and should not be used. Use either the python2 version or use pip to install the python3 version.</em></p>

<h2 id="examples">Examples</h2>
<p>Examples and common use cases in both C++ and Python can be found <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_examples/README.md">here</a>.</p>

<h2 id="packages">Packages</h2>
<ul>
  <li>
<strong>lanelet2</strong> is the meta-package for the whole lanelet2 framework</li>
  <li>
<strong>lanelet2_core</strong> implements the basic library with all the primitives, geometry calculations and the LanletMap object</li>
  <li>
<strong>lanelet2_io</strong> is responsible for reading and writing lanelet maps</li>
  <li>
<strong>lanelet2_traffic_rules</strong> provides support to interpret the traffic rules encoded in a map</li>
  <li>
<strong>lanelet2_projection</strong> for projecting maps from WGS84 (lat/lon) to local metric coordinates</li>
  <li>
<strong>lanelet2_routing</strong> implements the routing graph for routing or reachable set or queries as well as collision checking</li>
  <li>
<strong>lanelet2_maps</strong> provides example maps and functionality to visualize and modify them easily in JOSM</li>
  <li>
<strong>lanelet2_matching</strong> provides functions to determine in which lanelet an object is/could be currently located</li>
  <li>
<strong>lanelet2_python</strong> implements the python interface for lanelet2</li>
  <li>
<strong>lanelet2_validation</strong> provides checks to ensure a valid lanelet2 map</li>
  <li>
<strong>lanelet2_examples</strong> contains tutorials for working with Lanelet2 in C++ and Python</li>
</ul>

<h2 id="citation">Citation</h2>

<p>If you are using Lanelet2 for scientific research, we would be pleased if you would cite our <a href="http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf">publication</a>:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@inproceedings<span class="p">{</span>poggenhans2018lanelet2,
  title     = <span class="p">{</span>Lanelet2: A High-Definition Map Framework for the Future of Automated Driving<span class="p">}</span>,
  author    = <span class="p">{</span>Poggenhans, Fabian and Pauls, Jan-Hendrik and Janosovits, Johannes and Orf, Stefan and Naumann, Maximilian and Kuhnt, Florian and Mayr, Matthias<span class="p">}</span>,
  booktitle = <span class="p">{</span>Proc.<span class="k">\ </span>IEEE Intell.<span class="k">\ </span>Trans.<span class="k">\ </span>Syst.<span class="k">\ </span>Conf.<span class="p">}</span>,
  year      = <span class="p">{</span>2018<span class="p">}</span>,
  address   = <span class="p">{</span>Hawaii, USA<span class="p">}</span>,
  owner     = <span class="p">{</span>poggenhans<span class="p">}</span>,
  month     = <span class="p">{</span>November<span class="p">}</span>,
  Url=<span class="p">{</span>http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf<span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lanelet2">lanelet2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/lanelet2">lanelet2</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_core">lanelet2_core</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_examples">lanelet2_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_io">lanelet2_io</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_maps">lanelet2_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_matching">lanelet2_matching</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_projection">lanelet2_projection</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_python">lanelet2_python</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_routing">lanelet2_routing</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_validation">lanelet2_validation</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-fzi-forschungszentrum-informatik-lanelet2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-fzi-forschungszentrum-informatik-lanelet2" role="menuitem" tabindex="-1" href="/r/lanelet2/github-fzi-forschungszentrum-informatik-lanelet2" data="github-fzi-forschungszentrum-informatik-lanelet2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-fzi-forschungszentrum-informatik-lanelet2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Map handling framework for automated driving</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/fzi-forschungszentrum-informatik/lanelet2.git">https://github.com/fzi-forschungszentrum-informatik/lanelet2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-03-03
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/lanelet2/#rolling-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#rolling-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#rolling-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/lanelet2">lanelet2</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_core">lanelet2_core</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_examples">lanelet2_examples</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_io">lanelet2_io</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_maps">lanelet2_maps</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_matching">lanelet2_matching</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_projection">lanelet2_projection</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_python">lanelet2_python</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_routing">lanelet2_routing</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_validation">lanelet2_validation</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="lanelet2">Lanelet2</h1>

<p><a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml/badge.svg" alt="CI"></a>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml/badge.svg" alt="CD"></a>
<a href="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS%20noetic%20%28on%20focal%29" alt="Build Status ROS focal/noetic"></a>
<a href="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS2%20foxy%20%28on%20focal%29" alt="Build Status ROS2 focal/foxy"></a>
<a href="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/"><img src="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/badge/icon?subject=ROS2%20humble%20%28on%20jammy%29" alt="Build Status ROS2 jammy/humble"></a>
<a href="https://pypi.org/project/lanelet2/"><img src="https://img.shields.io/pypi/dm/lanelet2.svg?label=PyPI%20downloads" alt="PyPI Downloads"></a></p>

<h2 id="overview">Overview</h2>

<p>Lanelet2 is a C++ library for handling map data in the context of automated driving. It is designed to utilize high-definition map data in order to efficiently handle the challenges posed to a vehicle in complex traffic scenarios. Flexibility and extensibility are some of the core principles to handle the upcoming challenges of future maps.</p>

<p>Features:</p>
<ul>
  <li>
<strong>2D and 3D</strong> support</li>
  <li>
<strong>Consistent modification</strong>: if one point is modified, all owning objects see the change</li>
  <li>Supports <strong>lane changes</strong>, routing through areas, etc.</li>
  <li>
<strong>Separated routing</strong> for pedestrians, vehicles, bikes, etc.</li>
  <li>Many <strong>customization points</strong> to add new traffic rules, routing costs, parsers, etc.</li>
  <li>
<strong>Simple convenience functions</strong> for common tasks when handling maps</li>
  <li>
<strong>Accurate Projection</strong> between the lat/lon geographic world and local metric coordinates</li>
  <li>
<strong>IO Interface</strong> for reading and writing e.g. <em>osm</em> data formats (this does not mean it can deal with <em>osm maps</em>)</li>
  <li>
<strong>Python</strong> bindings for the whole C++ interface</li>
  <li>
<strong>Boost Geometry</strong> support for all thinkable kinds of geometry calculations on map primitives</li>
  <li>Released under the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/LICENSE"><strong>BSD 3-Clause license</strong></a>
</li>
  <li>Support for <strong>ROS1, ROS2, Docker and Conan</strong> (see instructions below)</li>
</ul>

<p><img src="https://raw.githubusercontent.com/fzi-forschungszentrum-informatik/lanelet2/master/lanelet2_core/doc/images/lanelet2_example_image.png" alt=""></p>

<p>Lanelet2 is the successor of the old <a href="https://github.com/phbender/liblanelet/tree/master/libLanelet">liblanelet</a> that was developed in 2013. If you know Lanelet1, you might be interested in <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Lanelet1Compability.md">reading this</a>.</p>

<h2 id="documentation">Documentation</h2>

<p>You can find more documentation in the individual packages and in doxygen comments. Here is an overview on the most important topics:</p>
<ul>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/LaneletPrimitives.md">Here</a> is more information on the basic primitives that make up a Lanelet2 map.</li>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Architecture.md">Read here</a> for a primer on the <strong>software architecture</strong> of lanelet2.</li>
  <li>There is also some <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/GeometryPrimer.md">documentation</a> on the geometry calculations you can do with lanelet2 primitives.</li>
  <li>If you are interested in Lanelet2’s <strong>projections</strong>, you will find more <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_projection/doc/Map_Projections_Coordinate_Systems.md">here</a>.</li>
  <li>To get more information on how to create valid maps, see <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_maps/README.md">here</a>.</li>
</ul>

<p>You can also find the documentation at this <a href="https://fzi-forschungszentrum-informatik.github.io/Lanelet2">link</a>.</p>

<h2 id="installation">Installation</h2>

<h3 id="within-ros">Within ROS</h3>
<p>Lanelet2 has been released for ROS. Just install <code class="language-plaintext highlighter-rouge">ros-[distribution]-lanelet2</code>, e.g.:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-noetic-lanelet2

</code></pre></div></div>

<h3 id="without-ros">Without ROS</h3>
<p>Outside of ROS, Lanelet2 can be installed from PyPI. Note that currently only Python 3.8-3.11 linux builds are available and that Python 3.10+ is only supported for recent linux distributions such as Ubuntu 20.04+.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install lanelet2

</code></pre></div></div>
<h4 id="note">Note:</h4>

<p>If you receive the error</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: Could not find a version that satisfies the requirement lanelet2 (from versions: none)
ERROR: No matching distribution found for lanelet2

</code></pre></div></div>

<p>during installation, even when using e.g. python 3.9 or 3.8 on a somewhat recent linux such as Ubuntu 18.04 or newer, your pip version is probably too old, 
as e.g. the pip version that comes with apt on Ubuntu 20.04 (20.0.2) is not recent enough for the provided package.</p>

<p>In this case you need to simply update pip with</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -U pip 

</code></pre></div></div>

<h3 id="using-docker">Using Docker</h3>

<p>There is a Docker container from which you can test things out:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t lanelet2 .                    # builds a docker image named "lanelet2"
docker run -it --rm lanelet2:latest /bin/bash # starts the docker image
python -c "import lanelet2"                   # quick check to see everything is fine

</code></pre></div></div>

<p>The docker image contains a link to your local lanelet2, so you can work and see changes (almost) at the same time. Work with two screens, one local and one on docker. Make your code changes locally, then run again <code class="language-plaintext highlighter-rouge">catkin build</code> on docker to recompile the code (update python modules).</p>

<h3 id="manual-installation">Manual installation</h3>

<p>In case you want to build it in your own way (without the above Docker image) use these instructions.</p>

<p>Lanelet2 relies mainly on <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a> for building and is targeted towards Linux.</p>

<p>At least <strong>C++14</strong> is required.</p>

<h3 id="dependencies">Dependencies</h3>
<p>Besides <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a>, the dependencies are</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Boost</code> (from 1.58)</li>
  <li><code class="language-plaintext highlighter-rouge">eigen3</code></li>
  <li>
<a href="https://github.com/KIT-MRT/mrt_cmake_modules"><code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code></a>, a CMake helper library</li>
  <li>
<code class="language-plaintext highlighter-rouge">pugixml</code> (for lanelet2_io)</li>
  <li>
<code class="language-plaintext highlighter-rouge">boost-python, python2 or python3</code> (for lanelet2_python)</li>
  <li>
<code class="language-plaintext highlighter-rouge">geographiclib</code> (for lanelet2_projection)</li>
  <li>
<code class="language-plaintext highlighter-rouge">rosbash</code> (for lanelet2_examples)</li>
</ul>

<p>For Ubuntu, the steps are the following:</p>
<ul>
  <li>
<a href="http://wiki.ros.org/ROS/Installation">Set up ROS</a>, and install at least <code class="language-plaintext highlighter-rouge">rospack</code>, <code class="language-plaintext highlighter-rouge">catkin</code> and <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> (e.g. <code class="language-plaintext highlighter-rouge">ros-melodic-rospack</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-catkin</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-mrt-cmake-modules</code>):</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install ros-melodic-rospack ros-melodic-catkin ros-melodic-mrt-cmake-modules

</code></pre></div></div>

<ul>
  <li>Install the dependencies above:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>libboost-dev libeigen3-dev libgeographic-dev libpugixml-dev libpython-dev libboost-python-dev python-catkin-tools

</code></pre></div></div>

<p><strong>On 16.04 and below</strong>, <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> is not available in ROS and you have to clone it into your workspace (<code class="language-plaintext highlighter-rouge">git clone https://github.com/KIT-MRT/mrt_cmake_modules.git</code>).</p>

<h3 id="building">Building</h3>
<p>As usual with Catkin, after you have sourced the ros installation, you have to create a workspace and clone all required packages there. Then you can build.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.bash
<span class="nb">mkdir </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">cd </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">mkdir </span>src
catkin init
catkin config <span class="nt">--cmake-args</span> <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>RelWithDebInfo <span class="c"># build in release mode (or whatever you prefer)</span>
<span class="nb">cd </span>src
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd</span> ..
catkin build

</code></pre></div></div>

<p>If unsure, see the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/Dockerfile">Dockerfile</a> or the <a href="https://travis-ci.org/fzi-forschungszentrum-informatik/Lanelet2">travis build log</a>. It shows the full installation process, with subsequent build and test based on a docker image with a clean Ubuntu installation.</p>

<h3 id="manual-experimental-installation-using-conan">Manual, experimental installation using conan</h3>
<p><strong>Note: Updated instructions for conan2!</strong>
For non-catkin users, we also offer a conan based install process. Its experimental and might not work on all platforms, especially Windows.
Since conan handles installing all C++ dependencies, all you need is a cloned repository, conan itself and a few python dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>conan catkin_pkg numpy
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd </span>lanelet2

</code></pre></div></div>

<p>From here, just use the default conan build/install procedure, e.g.:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conan create <span class="nb">.</span> <span class="nt">--build</span><span class="o">=</span>missing

</code></pre></div></div>
<p>Different from the conan defaults, we build lanelet2 and boost as shared libraries, because otherwise the lanelet2’s plugin mechanisms as well as boost::python will fail. E.g. loading maps will not be possible and the python API will not be usable.</p>

<p>To be able to use the python bindings, you have to make conan export the PYTHONPATH for lanelet2 after <code class="language-plaintext highlighter-rouge">conan create</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source </span>activate.sh
python <span class="nt">-c</span> <span class="s2">"import lanelet2"</span> <span class="c"># or whatever you want to do</span>
<span class="nb">source </span>deactivate.sh

</code></pre></div></div>

<h3 id="python3">Python3</h3>

<p>The python bindings are build for your default python installation by default (which currently is python2 on most systems). To build for python3 instead of python2, create a python3 virtualenv before initializing the workspace with <code class="language-plaintext highlighter-rouge">catkin init</code>. The command <code class="language-plaintext highlighter-rouge">python</code> should point to <code class="language-plaintext highlighter-rouge">python3</code>.</p>

<p>After <code class="language-plaintext highlighter-rouge">catkin init</code> run <code class="language-plaintext highlighter-rouge">catkin config --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo -DPYTHON_VERSION=3.6</code> to make sure that the correct python version is used. Then build and use as usual.</p>

<p><em>Note: With bionic and beyond, the apt package <code class="language-plaintext highlighter-rouge">python3-catkin-tools</code> conflicts with ROS melodic and should not be used. Use either the python2 version or use pip to install the python3 version.</em></p>

<h2 id="examples">Examples</h2>
<p>Examples and common use cases in both C++ and Python can be found <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_examples/README.md">here</a>.</p>

<h2 id="packages">Packages</h2>
<ul>
  <li>
<strong>lanelet2</strong> is the meta-package for the whole lanelet2 framework</li>
  <li>
<strong>lanelet2_core</strong> implements the basic library with all the primitives, geometry calculations and the LanletMap object</li>
  <li>
<strong>lanelet2_io</strong> is responsible for reading and writing lanelet maps</li>
  <li>
<strong>lanelet2_traffic_rules</strong> provides support to interpret the traffic rules encoded in a map</li>
  <li>
<strong>lanelet2_projection</strong> for projecting maps from WGS84 (lat/lon) to local metric coordinates</li>
  <li>
<strong>lanelet2_routing</strong> implements the routing graph for routing or reachable set or queries as well as collision checking</li>
  <li>
<strong>lanelet2_maps</strong> provides example maps and functionality to visualize and modify them easily in JOSM</li>
  <li>
<strong>lanelet2_matching</strong> provides functions to determine in which lanelet an object is/could be currently located</li>
  <li>
<strong>lanelet2_python</strong> implements the python interface for lanelet2</li>
  <li>
<strong>lanelet2_validation</strong> provides checks to ensure a valid lanelet2 map</li>
  <li>
<strong>lanelet2_examples</strong> contains tutorials for working with Lanelet2 in C++ and Python</li>
</ul>

<h2 id="citation">Citation</h2>

<p>If you are using Lanelet2 for scientific research, we would be pleased if you would cite our <a href="http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf">publication</a>:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@inproceedings<span class="p">{</span>poggenhans2018lanelet2,
  title     = <span class="p">{</span>Lanelet2: A High-Definition Map Framework for the Future of Automated Driving<span class="p">}</span>,
  author    = <span class="p">{</span>Poggenhans, Fabian and Pauls, Jan-Hendrik and Janosovits, Johannes and Orf, Stefan and Naumann, Maximilian and Kuhnt, Florian and Mayr, Matthias<span class="p">}</span>,
  booktitle = <span class="p">{</span>Proc.<span class="k">\ </span>IEEE Intell.<span class="k">\ </span>Trans.<span class="k">\ </span>Syst.<span class="k">\ </span>Conf.<span class="p">}</span>,
  year      = <span class="p">{</span>2018<span class="p">}</span>,
  address   = <span class="p">{</span>Hawaii, USA<span class="p">}</span>,
  owner     = <span class="p">{</span>poggenhans<span class="p">}</span>,
  month     = <span class="p">{</span>November<span class="p">}</span>,
  Url=<span class="p">{</span>http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf<span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lanelet2">lanelet2</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-fzi-forschungszentrum-informatik-lanelet2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-fzi-forschungszentrum-informatik-lanelet2" role="menuitem" tabindex="-1" href="/r/lanelet2/github-fzi-forschungszentrum-informatik-lanelet2" data="github-fzi-forschungszentrum-informatik-lanelet2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-fzi-forschungszentrum-informatik-lanelet2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lanelet2">lanelet2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/lanelet2">lanelet2</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_core">lanelet2_core</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_examples">lanelet2_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_io">lanelet2_io</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_maps">lanelet2_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_matching">lanelet2_matching</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_projection">lanelet2_projection</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_python">lanelet2_python</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_routing">lanelet2_routing</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_validation">lanelet2_validation</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-fzi-forschungszentrum-informatik-lanelet2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-fzi-forschungszentrum-informatik-lanelet2" role="menuitem" tabindex="-1" href="/r/lanelet2/github-fzi-forschungszentrum-informatik-lanelet2" data="github-fzi-forschungszentrum-informatik-lanelet2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-fzi-forschungszentrum-informatik-lanelet2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Map handling framework for automated driving</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/fzi-forschungszentrum-informatik/lanelet2.git">https://github.com/fzi-forschungszentrum-informatik/lanelet2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-03-03
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/lanelet2/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/lanelet2">lanelet2</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_core">lanelet2_core</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_examples">lanelet2_examples</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_io">lanelet2_io</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_maps">lanelet2_maps</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_matching">lanelet2_matching</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_projection">lanelet2_projection</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_python">lanelet2_python</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_routing">lanelet2_routing</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_validation">lanelet2_validation</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="lanelet2">Lanelet2</h1>

<p><a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml/badge.svg" alt="CI"></a>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml/badge.svg" alt="CD"></a>
<a href="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS%20noetic%20%28on%20focal%29" alt="Build Status ROS focal/noetic"></a>
<a href="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS2%20foxy%20%28on%20focal%29" alt="Build Status ROS2 focal/foxy"></a>
<a href="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/"><img src="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/badge/icon?subject=ROS2%20humble%20%28on%20jammy%29" alt="Build Status ROS2 jammy/humble"></a>
<a href="https://pypi.org/project/lanelet2/"><img src="https://img.shields.io/pypi/dm/lanelet2.svg?label=PyPI%20downloads" alt="PyPI Downloads"></a></p>

<h2 id="overview">Overview</h2>

<p>Lanelet2 is a C++ library for handling map data in the context of automated driving. It is designed to utilize high-definition map data in order to efficiently handle the challenges posed to a vehicle in complex traffic scenarios. Flexibility and extensibility are some of the core principles to handle the upcoming challenges of future maps.</p>

<p>Features:</p>
<ul>
  <li>
<strong>2D and 3D</strong> support</li>
  <li>
<strong>Consistent modification</strong>: if one point is modified, all owning objects see the change</li>
  <li>Supports <strong>lane changes</strong>, routing through areas, etc.</li>
  <li>
<strong>Separated routing</strong> for pedestrians, vehicles, bikes, etc.</li>
  <li>Many <strong>customization points</strong> to add new traffic rules, routing costs, parsers, etc.</li>
  <li>
<strong>Simple convenience functions</strong> for common tasks when handling maps</li>
  <li>
<strong>Accurate Projection</strong> between the lat/lon geographic world and local metric coordinates</li>
  <li>
<strong>IO Interface</strong> for reading and writing e.g. <em>osm</em> data formats (this does not mean it can deal with <em>osm maps</em>)</li>
  <li>
<strong>Python</strong> bindings for the whole C++ interface</li>
  <li>
<strong>Boost Geometry</strong> support for all thinkable kinds of geometry calculations on map primitives</li>
  <li>Released under the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/LICENSE"><strong>BSD 3-Clause license</strong></a>
</li>
  <li>Support for <strong>ROS1, ROS2, Docker and Conan</strong> (see instructions below)</li>
</ul>

<p><img src="https://raw.githubusercontent.com/fzi-forschungszentrum-informatik/lanelet2/master/lanelet2_core/doc/images/lanelet2_example_image.png" alt=""></p>

<p>Lanelet2 is the successor of the old <a href="https://github.com/phbender/liblanelet/tree/master/libLanelet">liblanelet</a> that was developed in 2013. If you know Lanelet1, you might be interested in <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Lanelet1Compability.md">reading this</a>.</p>

<h2 id="documentation">Documentation</h2>

<p>You can find more documentation in the individual packages and in doxygen comments. Here is an overview on the most important topics:</p>
<ul>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/LaneletPrimitives.md">Here</a> is more information on the basic primitives that make up a Lanelet2 map.</li>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Architecture.md">Read here</a> for a primer on the <strong>software architecture</strong> of lanelet2.</li>
  <li>There is also some <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/GeometryPrimer.md">documentation</a> on the geometry calculations you can do with lanelet2 primitives.</li>
  <li>If you are interested in Lanelet2’s <strong>projections</strong>, you will find more <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_projection/doc/Map_Projections_Coordinate_Systems.md">here</a>.</li>
  <li>To get more information on how to create valid maps, see <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_maps/README.md">here</a>.</li>
</ul>

<p>You can also find the documentation at this <a href="https://fzi-forschungszentrum-informatik.github.io/Lanelet2">link</a>.</p>

<h2 id="installation">Installation</h2>

<h3 id="within-ros">Within ROS</h3>
<p>Lanelet2 has been released for ROS. Just install <code class="language-plaintext highlighter-rouge">ros-[distribution]-lanelet2</code>, e.g.:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-noetic-lanelet2

</code></pre></div></div>

<h3 id="without-ros">Without ROS</h3>
<p>Outside of ROS, Lanelet2 can be installed from PyPI. Note that currently only Python 3.8-3.11 linux builds are available and that Python 3.10+ is only supported for recent linux distributions such as Ubuntu 20.04+.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install lanelet2

</code></pre></div></div>
<h4 id="note">Note:</h4>

<p>If you receive the error</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: Could not find a version that satisfies the requirement lanelet2 (from versions: none)
ERROR: No matching distribution found for lanelet2

</code></pre></div></div>

<p>during installation, even when using e.g. python 3.9 or 3.8 on a somewhat recent linux such as Ubuntu 18.04 or newer, your pip version is probably too old, 
as e.g. the pip version that comes with apt on Ubuntu 20.04 (20.0.2) is not recent enough for the provided package.</p>

<p>In this case you need to simply update pip with</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -U pip 

</code></pre></div></div>

<h3 id="using-docker">Using Docker</h3>

<p>There is a Docker container from which you can test things out:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t lanelet2 .                    # builds a docker image named "lanelet2"
docker run -it --rm lanelet2:latest /bin/bash # starts the docker image
python -c "import lanelet2"                   # quick check to see everything is fine

</code></pre></div></div>

<p>The docker image contains a link to your local lanelet2, so you can work and see changes (almost) at the same time. Work with two screens, one local and one on docker. Make your code changes locally, then run again <code class="language-plaintext highlighter-rouge">catkin build</code> on docker to recompile the code (update python modules).</p>

<h3 id="manual-installation">Manual installation</h3>

<p>In case you want to build it in your own way (without the above Docker image) use these instructions.</p>

<p>Lanelet2 relies mainly on <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a> for building and is targeted towards Linux.</p>

<p>At least <strong>C++14</strong> is required.</p>

<h3 id="dependencies">Dependencies</h3>
<p>Besides <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a>, the dependencies are</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Boost</code> (from 1.58)</li>
  <li><code class="language-plaintext highlighter-rouge">eigen3</code></li>
  <li>
<a href="https://github.com/KIT-MRT/mrt_cmake_modules"><code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code></a>, a CMake helper library</li>
  <li>
<code class="language-plaintext highlighter-rouge">pugixml</code> (for lanelet2_io)</li>
  <li>
<code class="language-plaintext highlighter-rouge">boost-python, python2 or python3</code> (for lanelet2_python)</li>
  <li>
<code class="language-plaintext highlighter-rouge">geographiclib</code> (for lanelet2_projection)</li>
  <li>
<code class="language-plaintext highlighter-rouge">rosbash</code> (for lanelet2_examples)</li>
</ul>

<p>For Ubuntu, the steps are the following:</p>
<ul>
  <li>
<a href="http://wiki.ros.org/ROS/Installation">Set up ROS</a>, and install at least <code class="language-plaintext highlighter-rouge">rospack</code>, <code class="language-plaintext highlighter-rouge">catkin</code> and <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> (e.g. <code class="language-plaintext highlighter-rouge">ros-melodic-rospack</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-catkin</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-mrt-cmake-modules</code>):</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install ros-melodic-rospack ros-melodic-catkin ros-melodic-mrt-cmake-modules

</code></pre></div></div>

<ul>
  <li>Install the dependencies above:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>libboost-dev libeigen3-dev libgeographic-dev libpugixml-dev libpython-dev libboost-python-dev python-catkin-tools

</code></pre></div></div>

<p><strong>On 16.04 and below</strong>, <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> is not available in ROS and you have to clone it into your workspace (<code class="language-plaintext highlighter-rouge">git clone https://github.com/KIT-MRT/mrt_cmake_modules.git</code>).</p>

<h3 id="building">Building</h3>
<p>As usual with Catkin, after you have sourced the ros installation, you have to create a workspace and clone all required packages there. Then you can build.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.bash
<span class="nb">mkdir </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">cd </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">mkdir </span>src
catkin init
catkin config <span class="nt">--cmake-args</span> <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>RelWithDebInfo <span class="c"># build in release mode (or whatever you prefer)</span>
<span class="nb">cd </span>src
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd</span> ..
catkin build

</code></pre></div></div>

<p>If unsure, see the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/Dockerfile">Dockerfile</a> or the <a href="https://travis-ci.org/fzi-forschungszentrum-informatik/Lanelet2">travis build log</a>. It shows the full installation process, with subsequent build and test based on a docker image with a clean Ubuntu installation.</p>

<h3 id="manual-experimental-installation-using-conan">Manual, experimental installation using conan</h3>
<p><strong>Note: Updated instructions for conan2!</strong>
For non-catkin users, we also offer a conan based install process. Its experimental and might not work on all platforms, especially Windows.
Since conan handles installing all C++ dependencies, all you need is a cloned repository, conan itself and a few python dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>conan catkin_pkg numpy
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd </span>lanelet2

</code></pre></div></div>

<p>From here, just use the default conan build/install procedure, e.g.:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conan create <span class="nb">.</span> <span class="nt">--build</span><span class="o">=</span>missing

</code></pre></div></div>
<p>Different from the conan defaults, we build lanelet2 and boost as shared libraries, because otherwise the lanelet2’s plugin mechanisms as well as boost::python will fail. E.g. loading maps will not be possible and the python API will not be usable.</p>

<p>To be able to use the python bindings, you have to make conan export the PYTHONPATH for lanelet2 after <code class="language-plaintext highlighter-rouge">conan create</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source </span>activate.sh
python <span class="nt">-c</span> <span class="s2">"import lanelet2"</span> <span class="c"># or whatever you want to do</span>
<span class="nb">source </span>deactivate.sh

</code></pre></div></div>

<h3 id="python3">Python3</h3>

<p>The python bindings are build for your default python installation by default (which currently is python2 on most systems). To build for python3 instead of python2, create a python3 virtualenv before initializing the workspace with <code class="language-plaintext highlighter-rouge">catkin init</code>. The command <code class="language-plaintext highlighter-rouge">python</code> should point to <code class="language-plaintext highlighter-rouge">python3</code>.</p>

<p>After <code class="language-plaintext highlighter-rouge">catkin init</code> run <code class="language-plaintext highlighter-rouge">catkin config --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo -DPYTHON_VERSION=3.6</code> to make sure that the correct python version is used. Then build and use as usual.</p>

<p><em>Note: With bionic and beyond, the apt package <code class="language-plaintext highlighter-rouge">python3-catkin-tools</code> conflicts with ROS melodic and should not be used. Use either the python2 version or use pip to install the python3 version.</em></p>

<h2 id="examples">Examples</h2>
<p>Examples and common use cases in both C++ and Python can be found <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_examples/README.md">here</a>.</p>

<h2 id="packages">Packages</h2>
<ul>
  <li>
<strong>lanelet2</strong> is the meta-package for the whole lanelet2 framework</li>
  <li>
<strong>lanelet2_core</strong> implements the basic library with all the primitives, geometry calculations and the LanletMap object</li>
  <li>
<strong>lanelet2_io</strong> is responsible for reading and writing lanelet maps</li>
  <li>
<strong>lanelet2_traffic_rules</strong> provides support to interpret the traffic rules encoded in a map</li>
  <li>
<strong>lanelet2_projection</strong> for projecting maps from WGS84 (lat/lon) to local metric coordinates</li>
  <li>
<strong>lanelet2_routing</strong> implements the routing graph for routing or reachable set or queries as well as collision checking</li>
  <li>
<strong>lanelet2_maps</strong> provides example maps and functionality to visualize and modify them easily in JOSM</li>
  <li>
<strong>lanelet2_matching</strong> provides functions to determine in which lanelet an object is/could be currently located</li>
  <li>
<strong>lanelet2_python</strong> implements the python interface for lanelet2</li>
  <li>
<strong>lanelet2_validation</strong> provides checks to ensure a valid lanelet2 map</li>
  <li>
<strong>lanelet2_examples</strong> contains tutorials for working with Lanelet2 in C++ and Python</li>
</ul>

<h2 id="citation">Citation</h2>

<p>If you are using Lanelet2 for scientific research, we would be pleased if you would cite our <a href="http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf">publication</a>:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@inproceedings<span class="p">{</span>poggenhans2018lanelet2,
  title     = <span class="p">{</span>Lanelet2: A High-Definition Map Framework for the Future of Automated Driving<span class="p">}</span>,
  author    = <span class="p">{</span>Poggenhans, Fabian and Pauls, Jan-Hendrik and Janosovits, Johannes and Orf, Stefan and Naumann, Maximilian and Kuhnt, Florian and Mayr, Matthias<span class="p">}</span>,
  booktitle = <span class="p">{</span>Proc.<span class="k">\ </span>IEEE Intell.<span class="k">\ </span>Trans.<span class="k">\ </span>Syst.<span class="k">\ </span>Conf.<span class="p">}</span>,
  year      = <span class="p">{</span>2018<span class="p">}</span>,
  address   = <span class="p">{</span>Hawaii, USA<span class="p">}</span>,
  owner     = <span class="p">{</span>poggenhans<span class="p">}</span>,
  month     = <span class="p">{</span>November<span class="p">}</span>,
  Url=<span class="p">{</span>http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf<span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lanelet2">lanelet2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/lanelet2">lanelet2</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_core">lanelet2_core</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_examples">lanelet2_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_io">lanelet2_io</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_maps">lanelet2_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_matching">lanelet2_matching</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_projection">lanelet2_projection</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_python">lanelet2_python</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_routing">lanelet2_routing</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_validation">lanelet2_validation</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-fzi-forschungszentrum-informatik-lanelet2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-fzi-forschungszentrum-informatik-lanelet2" role="menuitem" tabindex="-1" href="/r/lanelet2/github-fzi-forschungszentrum-informatik-lanelet2" data="github-fzi-forschungszentrum-informatik-lanelet2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-fzi-forschungszentrum-informatik-lanelet2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Map handling framework for automated driving</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/fzi-forschungszentrum-informatik/lanelet2.git">https://github.com/fzi-forschungszentrum-informatik/lanelet2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-03-03
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/lanelet2/#galactic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#galactic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#galactic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/lanelet2">lanelet2</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_core">lanelet2_core</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_examples">lanelet2_examples</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_io">lanelet2_io</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_maps">lanelet2_maps</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_matching">lanelet2_matching</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_projection">lanelet2_projection</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_python">lanelet2_python</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_routing">lanelet2_routing</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_validation">lanelet2_validation</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="lanelet2">Lanelet2</h1>

<p><a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml/badge.svg" alt="CI"></a>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml/badge.svg" alt="CD"></a>
<a href="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS%20noetic%20%28on%20focal%29" alt="Build Status ROS focal/noetic"></a>
<a href="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS2%20foxy%20%28on%20focal%29" alt="Build Status ROS2 focal/foxy"></a>
<a href="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/"><img src="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/badge/icon?subject=ROS2%20humble%20%28on%20jammy%29" alt="Build Status ROS2 jammy/humble"></a>
<a href="https://pypi.org/project/lanelet2/"><img src="https://img.shields.io/pypi/dm/lanelet2.svg?label=PyPI%20downloads" alt="PyPI Downloads"></a></p>

<h2 id="overview">Overview</h2>

<p>Lanelet2 is a C++ library for handling map data in the context of automated driving. It is designed to utilize high-definition map data in order to efficiently handle the challenges posed to a vehicle in complex traffic scenarios. Flexibility and extensibility are some of the core principles to handle the upcoming challenges of future maps.</p>

<p>Features:</p>
<ul>
  <li>
<strong>2D and 3D</strong> support</li>
  <li>
<strong>Consistent modification</strong>: if one point is modified, all owning objects see the change</li>
  <li>Supports <strong>lane changes</strong>, routing through areas, etc.</li>
  <li>
<strong>Separated routing</strong> for pedestrians, vehicles, bikes, etc.</li>
  <li>Many <strong>customization points</strong> to add new traffic rules, routing costs, parsers, etc.</li>
  <li>
<strong>Simple convenience functions</strong> for common tasks when handling maps</li>
  <li>
<strong>Accurate Projection</strong> between the lat/lon geographic world and local metric coordinates</li>
  <li>
<strong>IO Interface</strong> for reading and writing e.g. <em>osm</em> data formats (this does not mean it can deal with <em>osm maps</em>)</li>
  <li>
<strong>Python</strong> bindings for the whole C++ interface</li>
  <li>
<strong>Boost Geometry</strong> support for all thinkable kinds of geometry calculations on map primitives</li>
  <li>Released under the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/LICENSE"><strong>BSD 3-Clause license</strong></a>
</li>
  <li>Support for <strong>ROS1, ROS2, Docker and Conan</strong> (see instructions below)</li>
</ul>

<p><img src="https://raw.githubusercontent.com/fzi-forschungszentrum-informatik/lanelet2/master/lanelet2_core/doc/images/lanelet2_example_image.png" alt=""></p>

<p>Lanelet2 is the successor of the old <a href="https://github.com/phbender/liblanelet/tree/master/libLanelet">liblanelet</a> that was developed in 2013. If you know Lanelet1, you might be interested in <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Lanelet1Compability.md">reading this</a>.</p>

<h2 id="documentation">Documentation</h2>

<p>You can find more documentation in the individual packages and in doxygen comments. Here is an overview on the most important topics:</p>
<ul>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/LaneletPrimitives.md">Here</a> is more information on the basic primitives that make up a Lanelet2 map.</li>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Architecture.md">Read here</a> for a primer on the <strong>software architecture</strong> of lanelet2.</li>
  <li>There is also some <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/GeometryPrimer.md">documentation</a> on the geometry calculations you can do with lanelet2 primitives.</li>
  <li>If you are interested in Lanelet2’s <strong>projections</strong>, you will find more <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_projection/doc/Map_Projections_Coordinate_Systems.md">here</a>.</li>
  <li>To get more information on how to create valid maps, see <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_maps/README.md">here</a>.</li>
</ul>

<p>You can also find the documentation at this <a href="https://fzi-forschungszentrum-informatik.github.io/Lanelet2">link</a>.</p>

<h2 id="installation">Installation</h2>

<h3 id="within-ros">Within ROS</h3>
<p>Lanelet2 has been released for ROS. Just install <code class="language-plaintext highlighter-rouge">ros-[distribution]-lanelet2</code>, e.g.:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-noetic-lanelet2

</code></pre></div></div>

<h3 id="without-ros">Without ROS</h3>
<p>Outside of ROS, Lanelet2 can be installed from PyPI. Note that currently only Python 3.8-3.11 linux builds are available and that Python 3.10+ is only supported for recent linux distributions such as Ubuntu 20.04+.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install lanelet2

</code></pre></div></div>
<h4 id="note">Note:</h4>

<p>If you receive the error</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: Could not find a version that satisfies the requirement lanelet2 (from versions: none)
ERROR: No matching distribution found for lanelet2

</code></pre></div></div>

<p>during installation, even when using e.g. python 3.9 or 3.8 on a somewhat recent linux such as Ubuntu 18.04 or newer, your pip version is probably too old, 
as e.g. the pip version that comes with apt on Ubuntu 20.04 (20.0.2) is not recent enough for the provided package.</p>

<p>In this case you need to simply update pip with</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -U pip 

</code></pre></div></div>

<h3 id="using-docker">Using Docker</h3>

<p>There is a Docker container from which you can test things out:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t lanelet2 .                    # builds a docker image named "lanelet2"
docker run -it --rm lanelet2:latest /bin/bash # starts the docker image
python -c "import lanelet2"                   # quick check to see everything is fine

</code></pre></div></div>

<p>The docker image contains a link to your local lanelet2, so you can work and see changes (almost) at the same time. Work with two screens, one local and one on docker. Make your code changes locally, then run again <code class="language-plaintext highlighter-rouge">catkin build</code> on docker to recompile the code (update python modules).</p>

<h3 id="manual-installation">Manual installation</h3>

<p>In case you want to build it in your own way (without the above Docker image) use these instructions.</p>

<p>Lanelet2 relies mainly on <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a> for building and is targeted towards Linux.</p>

<p>At least <strong>C++14</strong> is required.</p>

<h3 id="dependencies">Dependencies</h3>
<p>Besides <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a>, the dependencies are</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Boost</code> (from 1.58)</li>
  <li><code class="language-plaintext highlighter-rouge">eigen3</code></li>
  <li>
<a href="https://github.com/KIT-MRT/mrt_cmake_modules"><code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code></a>, a CMake helper library</li>
  <li>
<code class="language-plaintext highlighter-rouge">pugixml</code> (for lanelet2_io)</li>
  <li>
<code class="language-plaintext highlighter-rouge">boost-python, python2 or python3</code> (for lanelet2_python)</li>
  <li>
<code class="language-plaintext highlighter-rouge">geographiclib</code> (for lanelet2_projection)</li>
  <li>
<code class="language-plaintext highlighter-rouge">rosbash</code> (for lanelet2_examples)</li>
</ul>

<p>For Ubuntu, the steps are the following:</p>
<ul>
  <li>
<a href="http://wiki.ros.org/ROS/Installation">Set up ROS</a>, and install at least <code class="language-plaintext highlighter-rouge">rospack</code>, <code class="language-plaintext highlighter-rouge">catkin</code> and <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> (e.g. <code class="language-plaintext highlighter-rouge">ros-melodic-rospack</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-catkin</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-mrt-cmake-modules</code>):</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install ros-melodic-rospack ros-melodic-catkin ros-melodic-mrt-cmake-modules

</code></pre></div></div>

<ul>
  <li>Install the dependencies above:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>libboost-dev libeigen3-dev libgeographic-dev libpugixml-dev libpython-dev libboost-python-dev python-catkin-tools

</code></pre></div></div>

<p><strong>On 16.04 and below</strong>, <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> is not available in ROS and you have to clone it into your workspace (<code class="language-plaintext highlighter-rouge">git clone https://github.com/KIT-MRT/mrt_cmake_modules.git</code>).</p>

<h3 id="building">Building</h3>
<p>As usual with Catkin, after you have sourced the ros installation, you have to create a workspace and clone all required packages there. Then you can build.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.bash
<span class="nb">mkdir </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">cd </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">mkdir </span>src
catkin init
catkin config <span class="nt">--cmake-args</span> <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>RelWithDebInfo <span class="c"># build in release mode (or whatever you prefer)</span>
<span class="nb">cd </span>src
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd</span> ..
catkin build

</code></pre></div></div>

<p>If unsure, see the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/Dockerfile">Dockerfile</a> or the <a href="https://travis-ci.org/fzi-forschungszentrum-informatik/Lanelet2">travis build log</a>. It shows the full installation process, with subsequent build and test based on a docker image with a clean Ubuntu installation.</p>

<h3 id="manual-experimental-installation-using-conan">Manual, experimental installation using conan</h3>
<p><strong>Note: Updated instructions for conan2!</strong>
For non-catkin users, we also offer a conan based install process. Its experimental and might not work on all platforms, especially Windows.
Since conan handles installing all C++ dependencies, all you need is a cloned repository, conan itself and a few python dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>conan catkin_pkg numpy
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd </span>lanelet2

</code></pre></div></div>

<p>From here, just use the default conan build/install procedure, e.g.:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conan create <span class="nb">.</span> <span class="nt">--build</span><span class="o">=</span>missing

</code></pre></div></div>
<p>Different from the conan defaults, we build lanelet2 and boost as shared libraries, because otherwise the lanelet2’s plugin mechanisms as well as boost::python will fail. E.g. loading maps will not be possible and the python API will not be usable.</p>

<p>To be able to use the python bindings, you have to make conan export the PYTHONPATH for lanelet2 after <code class="language-plaintext highlighter-rouge">conan create</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source </span>activate.sh
python <span class="nt">-c</span> <span class="s2">"import lanelet2"</span> <span class="c"># or whatever you want to do</span>
<span class="nb">source </span>deactivate.sh

</code></pre></div></div>

<h3 id="python3">Python3</h3>

<p>The python bindings are build for your default python installation by default (which currently is python2 on most systems). To build for python3 instead of python2, create a python3 virtualenv before initializing the workspace with <code class="language-plaintext highlighter-rouge">catkin init</code>. The command <code class="language-plaintext highlighter-rouge">python</code> should point to <code class="language-plaintext highlighter-rouge">python3</code>.</p>

<p>After <code class="language-plaintext highlighter-rouge">catkin init</code> run <code class="language-plaintext highlighter-rouge">catkin config --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo -DPYTHON_VERSION=3.6</code> to make sure that the correct python version is used. Then build and use as usual.</p>

<p><em>Note: With bionic and beyond, the apt package <code class="language-plaintext highlighter-rouge">python3-catkin-tools</code> conflicts with ROS melodic and should not be used. Use either the python2 version or use pip to install the python3 version.</em></p>

<h2 id="examples">Examples</h2>
<p>Examples and common use cases in both C++ and Python can be found <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_examples/README.md">here</a>.</p>

<h2 id="packages">Packages</h2>
<ul>
  <li>
<strong>lanelet2</strong> is the meta-package for the whole lanelet2 framework</li>
  <li>
<strong>lanelet2_core</strong> implements the basic library with all the primitives, geometry calculations and the LanletMap object</li>
  <li>
<strong>lanelet2_io</strong> is responsible for reading and writing lanelet maps</li>
  <li>
<strong>lanelet2_traffic_rules</strong> provides support to interpret the traffic rules encoded in a map</li>
  <li>
<strong>lanelet2_projection</strong> for projecting maps from WGS84 (lat/lon) to local metric coordinates</li>
  <li>
<strong>lanelet2_routing</strong> implements the routing graph for routing or reachable set or queries as well as collision checking</li>
  <li>
<strong>lanelet2_maps</strong> provides example maps and functionality to visualize and modify them easily in JOSM</li>
  <li>
<strong>lanelet2_matching</strong> provides functions to determine in which lanelet an object is/could be currently located</li>
  <li>
<strong>lanelet2_python</strong> implements the python interface for lanelet2</li>
  <li>
<strong>lanelet2_validation</strong> provides checks to ensure a valid lanelet2 map</li>
  <li>
<strong>lanelet2_examples</strong> contains tutorials for working with Lanelet2 in C++ and Python</li>
</ul>

<h2 id="citation">Citation</h2>

<p>If you are using Lanelet2 for scientific research, we would be pleased if you would cite our <a href="http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf">publication</a>:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@inproceedings<span class="p">{</span>poggenhans2018lanelet2,
  title     = <span class="p">{</span>Lanelet2: A High-Definition Map Framework for the Future of Automated Driving<span class="p">}</span>,
  author    = <span class="p">{</span>Poggenhans, Fabian and Pauls, Jan-Hendrik and Janosovits, Johannes and Orf, Stefan and Naumann, Maximilian and Kuhnt, Florian and Mayr, Matthias<span class="p">}</span>,
  booktitle = <span class="p">{</span>Proc.<span class="k">\ </span>IEEE Intell.<span class="k">\ </span>Trans.<span class="k">\ </span>Syst.<span class="k">\ </span>Conf.<span class="p">}</span>,
  year      = <span class="p">{</span>2018<span class="p">}</span>,
  address   = <span class="p">{</span>Hawaii, USA<span class="p">}</span>,
  owner     = <span class="p">{</span>poggenhans<span class="p">}</span>,
  month     = <span class="p">{</span>November<span class="p">}</span>,
  Url=<span class="p">{</span>http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf<span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lanelet2">lanelet2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/lanelet2">lanelet2</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_core">lanelet2_core</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_examples">lanelet2_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_io">lanelet2_io</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_maps">lanelet2_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_matching">lanelet2_matching</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_projection">lanelet2_projection</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_python">lanelet2_python</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_routing">lanelet2_routing</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_validation">lanelet2_validation</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-fzi-forschungszentrum-informatik-lanelet2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-fzi-forschungszentrum-informatik-lanelet2" role="menuitem" tabindex="-1" href="/r/lanelet2/github-fzi-forschungszentrum-informatik-lanelet2" data="github-fzi-forschungszentrum-informatik-lanelet2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-fzi-forschungszentrum-informatik-lanelet2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Map handling framework for automated driving</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/fzi-forschungszentrum-informatik/lanelet2.git">https://github.com/fzi-forschungszentrum-informatik/lanelet2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-03-03
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/lanelet2/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/lanelet2">lanelet2</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_core">lanelet2_core</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_examples">lanelet2_examples</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_io">lanelet2_io</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_maps">lanelet2_maps</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_matching">lanelet2_matching</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_projection">lanelet2_projection</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_python">lanelet2_python</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_routing">lanelet2_routing</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_validation">lanelet2_validation</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="lanelet2">Lanelet2</h1>

<p><a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml/badge.svg" alt="CI"></a>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml/badge.svg" alt="CD"></a>
<a href="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS%20noetic%20%28on%20focal%29" alt="Build Status ROS focal/noetic"></a>
<a href="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS2%20foxy%20%28on%20focal%29" alt="Build Status ROS2 focal/foxy"></a>
<a href="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/"><img src="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/badge/icon?subject=ROS2%20humble%20%28on%20jammy%29" alt="Build Status ROS2 jammy/humble"></a>
<a href="https://pypi.org/project/lanelet2/"><img src="https://img.shields.io/pypi/dm/lanelet2.svg?label=PyPI%20downloads" alt="PyPI Downloads"></a></p>

<h2 id="overview">Overview</h2>

<p>Lanelet2 is a C++ library for handling map data in the context of automated driving. It is designed to utilize high-definition map data in order to efficiently handle the challenges posed to a vehicle in complex traffic scenarios. Flexibility and extensibility are some of the core principles to handle the upcoming challenges of future maps.</p>

<p>Features:</p>
<ul>
  <li>
<strong>2D and 3D</strong> support</li>
  <li>
<strong>Consistent modification</strong>: if one point is modified, all owning objects see the change</li>
  <li>Supports <strong>lane changes</strong>, routing through areas, etc.</li>
  <li>
<strong>Separated routing</strong> for pedestrians, vehicles, bikes, etc.</li>
  <li>Many <strong>customization points</strong> to add new traffic rules, routing costs, parsers, etc.</li>
  <li>
<strong>Simple convenience functions</strong> for common tasks when handling maps</li>
  <li>
<strong>Accurate Projection</strong> between the lat/lon geographic world and local metric coordinates</li>
  <li>
<strong>IO Interface</strong> for reading and writing e.g. <em>osm</em> data formats (this does not mean it can deal with <em>osm maps</em>)</li>
  <li>
<strong>Python</strong> bindings for the whole C++ interface</li>
  <li>
<strong>Boost Geometry</strong> support for all thinkable kinds of geometry calculations on map primitives</li>
  <li>Released under the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/LICENSE"><strong>BSD 3-Clause license</strong></a>
</li>
  <li>Support for <strong>ROS1, ROS2, Docker and Conan</strong> (see instructions below)</li>
</ul>

<p><img src="https://raw.githubusercontent.com/fzi-forschungszentrum-informatik/lanelet2/master/lanelet2_core/doc/images/lanelet2_example_image.png" alt=""></p>

<p>Lanelet2 is the successor of the old <a href="https://github.com/phbender/liblanelet/tree/master/libLanelet">liblanelet</a> that was developed in 2013. If you know Lanelet1, you might be interested in <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Lanelet1Compability.md">reading this</a>.</p>

<h2 id="documentation">Documentation</h2>

<p>You can find more documentation in the individual packages and in doxygen comments. Here is an overview on the most important topics:</p>
<ul>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/LaneletPrimitives.md">Here</a> is more information on the basic primitives that make up a Lanelet2 map.</li>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Architecture.md">Read here</a> for a primer on the <strong>software architecture</strong> of lanelet2.</li>
  <li>There is also some <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/GeometryPrimer.md">documentation</a> on the geometry calculations you can do with lanelet2 primitives.</li>
  <li>If you are interested in Lanelet2’s <strong>projections</strong>, you will find more <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_projection/doc/Map_Projections_Coordinate_Systems.md">here</a>.</li>
  <li>To get more information on how to create valid maps, see <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_maps/README.md">here</a>.</li>
</ul>

<p>You can also find the documentation at this <a href="https://fzi-forschungszentrum-informatik.github.io/Lanelet2">link</a>.</p>

<h2 id="installation">Installation</h2>

<h3 id="within-ros">Within ROS</h3>
<p>Lanelet2 has been released for ROS. Just install <code class="language-plaintext highlighter-rouge">ros-[distribution]-lanelet2</code>, e.g.:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-noetic-lanelet2

</code></pre></div></div>

<h3 id="without-ros">Without ROS</h3>
<p>Outside of ROS, Lanelet2 can be installed from PyPI. Note that currently only Python 3.8-3.11 linux builds are available and that Python 3.10+ is only supported for recent linux distributions such as Ubuntu 20.04+.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install lanelet2

</code></pre></div></div>
<h4 id="note">Note:</h4>

<p>If you receive the error</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: Could not find a version that satisfies the requirement lanelet2 (from versions: none)
ERROR: No matching distribution found for lanelet2

</code></pre></div></div>

<p>during installation, even when using e.g. python 3.9 or 3.8 on a somewhat recent linux such as Ubuntu 18.04 or newer, your pip version is probably too old, 
as e.g. the pip version that comes with apt on Ubuntu 20.04 (20.0.2) is not recent enough for the provided package.</p>

<p>In this case you need to simply update pip with</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -U pip 

</code></pre></div></div>

<h3 id="using-docker">Using Docker</h3>

<p>There is a Docker container from which you can test things out:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t lanelet2 .                    # builds a docker image named "lanelet2"
docker run -it --rm lanelet2:latest /bin/bash # starts the docker image
python -c "import lanelet2"                   # quick check to see everything is fine

</code></pre></div></div>

<p>The docker image contains a link to your local lanelet2, so you can work and see changes (almost) at the same time. Work with two screens, one local and one on docker. Make your code changes locally, then run again <code class="language-plaintext highlighter-rouge">catkin build</code> on docker to recompile the code (update python modules).</p>

<h3 id="manual-installation">Manual installation</h3>

<p>In case you want to build it in your own way (without the above Docker image) use these instructions.</p>

<p>Lanelet2 relies mainly on <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a> for building and is targeted towards Linux.</p>

<p>At least <strong>C++14</strong> is required.</p>

<h3 id="dependencies">Dependencies</h3>
<p>Besides <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a>, the dependencies are</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Boost</code> (from 1.58)</li>
  <li><code class="language-plaintext highlighter-rouge">eigen3</code></li>
  <li>
<a href="https://github.com/KIT-MRT/mrt_cmake_modules"><code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code></a>, a CMake helper library</li>
  <li>
<code class="language-plaintext highlighter-rouge">pugixml</code> (for lanelet2_io)</li>
  <li>
<code class="language-plaintext highlighter-rouge">boost-python, python2 or python3</code> (for lanelet2_python)</li>
  <li>
<code class="language-plaintext highlighter-rouge">geographiclib</code> (for lanelet2_projection)</li>
  <li>
<code class="language-plaintext highlighter-rouge">rosbash</code> (for lanelet2_examples)</li>
</ul>

<p>For Ubuntu, the steps are the following:</p>
<ul>
  <li>
<a href="http://wiki.ros.org/ROS/Installation">Set up ROS</a>, and install at least <code class="language-plaintext highlighter-rouge">rospack</code>, <code class="language-plaintext highlighter-rouge">catkin</code> and <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> (e.g. <code class="language-plaintext highlighter-rouge">ros-melodic-rospack</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-catkin</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-mrt-cmake-modules</code>):</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install ros-melodic-rospack ros-melodic-catkin ros-melodic-mrt-cmake-modules

</code></pre></div></div>

<ul>
  <li>Install the dependencies above:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>libboost-dev libeigen3-dev libgeographic-dev libpugixml-dev libpython-dev libboost-python-dev python-catkin-tools

</code></pre></div></div>

<p><strong>On 16.04 and below</strong>, <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> is not available in ROS and you have to clone it into your workspace (<code class="language-plaintext highlighter-rouge">git clone https://github.com/KIT-MRT/mrt_cmake_modules.git</code>).</p>

<h3 id="building">Building</h3>
<p>As usual with Catkin, after you have sourced the ros installation, you have to create a workspace and clone all required packages there. Then you can build.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.bash
<span class="nb">mkdir </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">cd </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">mkdir </span>src
catkin init
catkin config <span class="nt">--cmake-args</span> <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>RelWithDebInfo <span class="c"># build in release mode (or whatever you prefer)</span>
<span class="nb">cd </span>src
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd</span> ..
catkin build

</code></pre></div></div>

<p>If unsure, see the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/Dockerfile">Dockerfile</a> or the <a href="https://travis-ci.org/fzi-forschungszentrum-informatik/Lanelet2">travis build log</a>. It shows the full installation process, with subsequent build and test based on a docker image with a clean Ubuntu installation.</p>

<h3 id="manual-experimental-installation-using-conan">Manual, experimental installation using conan</h3>
<p><strong>Note: Updated instructions for conan2!</strong>
For non-catkin users, we also offer a conan based install process. Its experimental and might not work on all platforms, especially Windows.
Since conan handles installing all C++ dependencies, all you need is a cloned repository, conan itself and a few python dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>conan catkin_pkg numpy
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd </span>lanelet2

</code></pre></div></div>

<p>From here, just use the default conan build/install procedure, e.g.:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conan create <span class="nb">.</span> <span class="nt">--build</span><span class="o">=</span>missing

</code></pre></div></div>
<p>Different from the conan defaults, we build lanelet2 and boost as shared libraries, because otherwise the lanelet2’s plugin mechanisms as well as boost::python will fail. E.g. loading maps will not be possible and the python API will not be usable.</p>

<p>To be able to use the python bindings, you have to make conan export the PYTHONPATH for lanelet2 after <code class="language-plaintext highlighter-rouge">conan create</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source </span>activate.sh
python <span class="nt">-c</span> <span class="s2">"import lanelet2"</span> <span class="c"># or whatever you want to do</span>
<span class="nb">source </span>deactivate.sh

</code></pre></div></div>

<h3 id="python3">Python3</h3>

<p>The python bindings are build for your default python installation by default (which currently is python2 on most systems). To build for python3 instead of python2, create a python3 virtualenv before initializing the workspace with <code class="language-plaintext highlighter-rouge">catkin init</code>. The command <code class="language-plaintext highlighter-rouge">python</code> should point to <code class="language-plaintext highlighter-rouge">python3</code>.</p>

<p>After <code class="language-plaintext highlighter-rouge">catkin init</code> run <code class="language-plaintext highlighter-rouge">catkin config --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo -DPYTHON_VERSION=3.6</code> to make sure that the correct python version is used. Then build and use as usual.</p>

<p><em>Note: With bionic and beyond, the apt package <code class="language-plaintext highlighter-rouge">python3-catkin-tools</code> conflicts with ROS melodic and should not be used. Use either the python2 version or use pip to install the python3 version.</em></p>

<h2 id="examples">Examples</h2>
<p>Examples and common use cases in both C++ and Python can be found <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_examples/README.md">here</a>.</p>

<h2 id="packages">Packages</h2>
<ul>
  <li>
<strong>lanelet2</strong> is the meta-package for the whole lanelet2 framework</li>
  <li>
<strong>lanelet2_core</strong> implements the basic library with all the primitives, geometry calculations and the LanletMap object</li>
  <li>
<strong>lanelet2_io</strong> is responsible for reading and writing lanelet maps</li>
  <li>
<strong>lanelet2_traffic_rules</strong> provides support to interpret the traffic rules encoded in a map</li>
  <li>
<strong>lanelet2_projection</strong> for projecting maps from WGS84 (lat/lon) to local metric coordinates</li>
  <li>
<strong>lanelet2_routing</strong> implements the routing graph for routing or reachable set or queries as well as collision checking</li>
  <li>
<strong>lanelet2_maps</strong> provides example maps and functionality to visualize and modify them easily in JOSM</li>
  <li>
<strong>lanelet2_matching</strong> provides functions to determine in which lanelet an object is/could be currently located</li>
  <li>
<strong>lanelet2_python</strong> implements the python interface for lanelet2</li>
  <li>
<strong>lanelet2_validation</strong> provides checks to ensure a valid lanelet2 map</li>
  <li>
<strong>lanelet2_examples</strong> contains tutorials for working with Lanelet2 in C++ and Python</li>
</ul>

<h2 id="citation">Citation</h2>

<p>If you are using Lanelet2 for scientific research, we would be pleased if you would cite our <a href="http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf">publication</a>:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@inproceedings<span class="p">{</span>poggenhans2018lanelet2,
  title     = <span class="p">{</span>Lanelet2: A High-Definition Map Framework for the Future of Automated Driving<span class="p">}</span>,
  author    = <span class="p">{</span>Poggenhans, Fabian and Pauls, Jan-Hendrik and Janosovits, Johannes and Orf, Stefan and Naumann, Maximilian and Kuhnt, Florian and Mayr, Matthias<span class="p">}</span>,
  booktitle = <span class="p">{</span>Proc.<span class="k">\ </span>IEEE Intell.<span class="k">\ </span>Trans.<span class="k">\ </span>Syst.<span class="k">\ </span>Conf.<span class="p">}</span>,
  year      = <span class="p">{</span>2018<span class="p">}</span>,
  address   = <span class="p">{</span>Hawaii, USA<span class="p">}</span>,
  owner     = <span class="p">{</span>poggenhans<span class="p">}</span>,
  month     = <span class="p">{</span>November<span class="p">}</span>,
  Url=<span class="p">{</span>http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf<span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lanelet2">lanelet2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/lanelet2">lanelet2</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_core">lanelet2_core</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_examples">lanelet2_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_io">lanelet2_io</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_maps">lanelet2_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_matching">lanelet2_matching</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_projection">lanelet2_projection</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_python">lanelet2_python</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_routing">lanelet2_routing</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a>
        
        <a class="label label-primary pkg-label" href="/p/lanelet2_validation">lanelet2_validation</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-fzi-forschungszentrum-informatik-lanelet2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-fzi-forschungszentrum-informatik-lanelet2" role="menuitem" tabindex="-1" href="/r/lanelet2/github-fzi-forschungszentrum-informatik-lanelet2" data="github-fzi-forschungszentrum-informatik-lanelet2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-fzi-forschungszentrum-informatik-lanelet2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Map handling framework for automated driving</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/fzi-forschungszentrum-informatik/lanelet2.git">https://github.com/fzi-forschungszentrum-informatik/lanelet2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-03-03
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/lanelet2/#melodic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#melodic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lanelet2/#melodic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/lanelet2">lanelet2</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_core">lanelet2_core</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_examples">lanelet2_examples</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_io">lanelet2_io</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_maps">lanelet2_maps</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_matching">lanelet2_matching</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_projection">lanelet2_projection</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_python">lanelet2_python</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_routing">lanelet2_routing</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_traffic_rules">lanelet2_traffic_rules</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lanelet2_validation">lanelet2_validation</a></td>
                    <td>1.2.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="lanelet2">Lanelet2</h1>

<p><a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/ci.yaml/badge.svg" alt="CI"></a>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml"><img src="https://github.com/fzi-forschungszentrum-informatik/lanelet2/actions/workflows/cd.yaml/badge.svg" alt="CD"></a>
<a href="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros.org/job/Ndev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS%20noetic%20%28on%20focal%29" alt="Build Status ROS focal/noetic"></a>
<a href="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/"><img src="https://build.ros2.org/job/Fdev__lanelet2__ubuntu_focal_amd64/lastBuild/badge/icon?subject=ROS2%20foxy%20%28on%20focal%29" alt="Build Status ROS2 focal/foxy"></a>
<a href="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/"><img src="https://build.ros2.org/job/Hdev__lanelet2__ubuntu_jammy_amd64/lastBuild/badge/icon?subject=ROS2%20humble%20%28on%20jammy%29" alt="Build Status ROS2 jammy/humble"></a>
<a href="https://pypi.org/project/lanelet2/"><img src="https://img.shields.io/pypi/dm/lanelet2.svg?label=PyPI%20downloads" alt="PyPI Downloads"></a></p>

<h2 id="overview">Overview</h2>

<p>Lanelet2 is a C++ library for handling map data in the context of automated driving. It is designed to utilize high-definition map data in order to efficiently handle the challenges posed to a vehicle in complex traffic scenarios. Flexibility and extensibility are some of the core principles to handle the upcoming challenges of future maps.</p>

<p>Features:</p>
<ul>
  <li>
<strong>2D and 3D</strong> support</li>
  <li>
<strong>Consistent modification</strong>: if one point is modified, all owning objects see the change</li>
  <li>Supports <strong>lane changes</strong>, routing through areas, etc.</li>
  <li>
<strong>Separated routing</strong> for pedestrians, vehicles, bikes, etc.</li>
  <li>Many <strong>customization points</strong> to add new traffic rules, routing costs, parsers, etc.</li>
  <li>
<strong>Simple convenience functions</strong> for common tasks when handling maps</li>
  <li>
<strong>Accurate Projection</strong> between the lat/lon geographic world and local metric coordinates</li>
  <li>
<strong>IO Interface</strong> for reading and writing e.g. <em>osm</em> data formats (this does not mean it can deal with <em>osm maps</em>)</li>
  <li>
<strong>Python</strong> bindings for the whole C++ interface</li>
  <li>
<strong>Boost Geometry</strong> support for all thinkable kinds of geometry calculations on map primitives</li>
  <li>Released under the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/LICENSE"><strong>BSD 3-Clause license</strong></a>
</li>
  <li>Support for <strong>ROS1, ROS2, Docker and Conan</strong> (see instructions below)</li>
</ul>

<p><img src="https://raw.githubusercontent.com/fzi-forschungszentrum-informatik/lanelet2/master/lanelet2_core/doc/images/lanelet2_example_image.png" alt=""></p>

<p>Lanelet2 is the successor of the old <a href="https://github.com/phbender/liblanelet/tree/master/libLanelet">liblanelet</a> that was developed in 2013. If you know Lanelet1, you might be interested in <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Lanelet1Compability.md">reading this</a>.</p>

<h2 id="documentation">Documentation</h2>

<p>You can find more documentation in the individual packages and in doxygen comments. Here is an overview on the most important topics:</p>
<ul>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/LaneletPrimitives.md">Here</a> is more information on the basic primitives that make up a Lanelet2 map.</li>
  <li>
<a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/Architecture.md">Read here</a> for a primer on the <strong>software architecture</strong> of lanelet2.</li>
  <li>There is also some <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_core/doc/GeometryPrimer.md">documentation</a> on the geometry calculations you can do with lanelet2 primitives.</li>
  <li>If you are interested in Lanelet2’s <strong>projections</strong>, you will find more <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_projection/doc/Map_Projections_Coordinate_Systems.md">here</a>.</li>
  <li>To get more information on how to create valid maps, see <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_maps/README.md">here</a>.</li>
</ul>

<p>You can also find the documentation at this <a href="https://fzi-forschungszentrum-informatik.github.io/Lanelet2">link</a>.</p>

<h2 id="installation">Installation</h2>

<h3 id="within-ros">Within ROS</h3>
<p>Lanelet2 has been released for ROS. Just install <code class="language-plaintext highlighter-rouge">ros-[distribution]-lanelet2</code>, e.g.:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-noetic-lanelet2

</code></pre></div></div>

<h3 id="without-ros">Without ROS</h3>
<p>Outside of ROS, Lanelet2 can be installed from PyPI. Note that currently only Python 3.8-3.11 linux builds are available and that Python 3.10+ is only supported for recent linux distributions such as Ubuntu 20.04+.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install lanelet2

</code></pre></div></div>
<h4 id="note">Note:</h4>

<p>If you receive the error</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: Could not find a version that satisfies the requirement lanelet2 (from versions: none)
ERROR: No matching distribution found for lanelet2

</code></pre></div></div>

<p>during installation, even when using e.g. python 3.9 or 3.8 on a somewhat recent linux such as Ubuntu 18.04 or newer, your pip version is probably too old, 
as e.g. the pip version that comes with apt on Ubuntu 20.04 (20.0.2) is not recent enough for the provided package.</p>

<p>In this case you need to simply update pip with</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 install -U pip 

</code></pre></div></div>

<h3 id="using-docker">Using Docker</h3>

<p>There is a Docker container from which you can test things out:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t lanelet2 .                    # builds a docker image named "lanelet2"
docker run -it --rm lanelet2:latest /bin/bash # starts the docker image
python -c "import lanelet2"                   # quick check to see everything is fine

</code></pre></div></div>

<p>The docker image contains a link to your local lanelet2, so you can work and see changes (almost) at the same time. Work with two screens, one local and one on docker. Make your code changes locally, then run again <code class="language-plaintext highlighter-rouge">catkin build</code> on docker to recompile the code (update python modules).</p>

<h3 id="manual-installation">Manual installation</h3>

<p>In case you want to build it in your own way (without the above Docker image) use these instructions.</p>

<p>Lanelet2 relies mainly on <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a> for building and is targeted towards Linux.</p>

<p>At least <strong>C++14</strong> is required.</p>

<h3 id="dependencies">Dependencies</h3>
<p>Besides <a href="https://catkin-tools.readthedocs.io/en/latest/index.html">Catkin</a>, the dependencies are</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Boost</code> (from 1.58)</li>
  <li><code class="language-plaintext highlighter-rouge">eigen3</code></li>
  <li>
<a href="https://github.com/KIT-MRT/mrt_cmake_modules"><code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code></a>, a CMake helper library</li>
  <li>
<code class="language-plaintext highlighter-rouge">pugixml</code> (for lanelet2_io)</li>
  <li>
<code class="language-plaintext highlighter-rouge">boost-python, python2 or python3</code> (for lanelet2_python)</li>
  <li>
<code class="language-plaintext highlighter-rouge">geographiclib</code> (for lanelet2_projection)</li>
  <li>
<code class="language-plaintext highlighter-rouge">rosbash</code> (for lanelet2_examples)</li>
</ul>

<p>For Ubuntu, the steps are the following:</p>
<ul>
  <li>
<a href="http://wiki.ros.org/ROS/Installation">Set up ROS</a>, and install at least <code class="language-plaintext highlighter-rouge">rospack</code>, <code class="language-plaintext highlighter-rouge">catkin</code> and <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> (e.g. <code class="language-plaintext highlighter-rouge">ros-melodic-rospack</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-catkin</code>, <code class="language-plaintext highlighter-rouge">ros-melodic-mrt-cmake-modules</code>):</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install ros-melodic-rospack ros-melodic-catkin ros-melodic-mrt-cmake-modules

</code></pre></div></div>

<ul>
  <li>Install the dependencies above:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>libboost-dev libeigen3-dev libgeographic-dev libpugixml-dev libpython-dev libboost-python-dev python-catkin-tools

</code></pre></div></div>

<p><strong>On 16.04 and below</strong>, <code class="language-plaintext highlighter-rouge">mrt_cmake_modules</code> is not available in ROS and you have to clone it into your workspace (<code class="language-plaintext highlighter-rouge">git clone https://github.com/KIT-MRT/mrt_cmake_modules.git</code>).</p>

<h3 id="building">Building</h3>
<p>As usual with Catkin, after you have sourced the ros installation, you have to create a workspace and clone all required packages there. Then you can build.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> /opt/ros/<span class="nv">$ROS_DISTRO</span>/setup.bash
<span class="nb">mkdir </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">cd </span>catkin_ws <span class="o">&amp;&amp;</span> <span class="nb">mkdir </span>src
catkin init
catkin config <span class="nt">--cmake-args</span> <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>RelWithDebInfo <span class="c"># build in release mode (or whatever you prefer)</span>
<span class="nb">cd </span>src
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd</span> ..
catkin build

</code></pre></div></div>

<p>If unsure, see the <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/Dockerfile">Dockerfile</a> or the <a href="https://travis-ci.org/fzi-forschungszentrum-informatik/Lanelet2">travis build log</a>. It shows the full installation process, with subsequent build and test based on a docker image with a clean Ubuntu installation.</p>

<h3 id="manual-experimental-installation-using-conan">Manual, experimental installation using conan</h3>
<p><strong>Note: Updated instructions for conan2!</strong>
For non-catkin users, we also offer a conan based install process. Its experimental and might not work on all platforms, especially Windows.
Since conan handles installing all C++ dependencies, all you need is a cloned repository, conan itself and a few python dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>conan catkin_pkg numpy
git clone https://github.com/fzi-forschungszentrum-informatik/lanelet2.git
<span class="nb">cd </span>lanelet2

</code></pre></div></div>

<p>From here, just use the default conan build/install procedure, e.g.:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conan create <span class="nb">.</span> <span class="nt">--build</span><span class="o">=</span>missing

</code></pre></div></div>
<p>Different from the conan defaults, we build lanelet2 and boost as shared libraries, because otherwise the lanelet2’s plugin mechanisms as well as boost::python will fail. E.g. loading maps will not be possible and the python API will not be usable.</p>

<p>To be able to use the python bindings, you have to make conan export the PYTHONPATH for lanelet2 after <code class="language-plaintext highlighter-rouge">conan create</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source </span>activate.sh
python <span class="nt">-c</span> <span class="s2">"import lanelet2"</span> <span class="c"># or whatever you want to do</span>
<span class="nb">source </span>deactivate.sh

</code></pre></div></div>

<h3 id="python3">Python3</h3>

<p>The python bindings are build for your default python installation by default (which currently is python2 on most systems). To build for python3 instead of python2, create a python3 virtualenv before initializing the workspace with <code class="language-plaintext highlighter-rouge">catkin init</code>. The command <code class="language-plaintext highlighter-rouge">python</code> should point to <code class="language-plaintext highlighter-rouge">python3</code>.</p>

<p>After <code class="language-plaintext highlighter-rouge">catkin init</code> run <code class="language-plaintext highlighter-rouge">catkin config --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo -DPYTHON_VERSION=3.6</code> to make sure that the correct python version is used. Then build and use as usual.</p>

<p><em>Note: With bionic and beyond, the apt package <code class="language-plaintext highlighter-rouge">python3-catkin-tools</code> conflicts with ROS melodic and should not be used. Use either the python2 version or use pip to install the python3 version.</em></p>

<h2 id="examples">Examples</h2>
<p>Examples and common use cases in both C++ and Python can be found <a href="https://github.com/fzi-forschungszentrum-informatik/lanelet2/tree/master/lanelet2_examples/README.md">here</a>.</p>

<h2 id="packages">Packages</h2>
<ul>
  <li>
<strong>lanelet2</strong> is the meta-package for the whole lanelet2 framework</li>
  <li>
<strong>lanelet2_core</strong> implements the basic library with all the primitives, geometry calculations and the LanletMap object</li>
  <li>
<strong>lanelet2_io</strong> is responsible for reading and writing lanelet maps</li>
  <li>
<strong>lanelet2_traffic_rules</strong> provides support to interpret the traffic rules encoded in a map</li>
  <li>
<strong>lanelet2_projection</strong> for projecting maps from WGS84 (lat/lon) to local metric coordinates</li>
  <li>
<strong>lanelet2_routing</strong> implements the routing graph for routing or reachable set or queries as well as collision checking</li>
  <li>
<strong>lanelet2_maps</strong> provides example maps and functionality to visualize and modify them easily in JOSM</li>
  <li>
<strong>lanelet2_matching</strong> provides functions to determine in which lanelet an object is/could be currently located</li>
  <li>
<strong>lanelet2_python</strong> implements the python interface for lanelet2</li>
  <li>
<strong>lanelet2_validation</strong> provides checks to ensure a valid lanelet2 map</li>
  <li>
<strong>lanelet2_examples</strong> contains tutorials for working with Lanelet2 in C++ and Python</li>
</ul>

<h2 id="citation">Citation</h2>

<p>If you are using Lanelet2 for scientific research, we would be pleased if you would cite our <a href="http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf">publication</a>:</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@inproceedings<span class="p">{</span>poggenhans2018lanelet2,
  title     = <span class="p">{</span>Lanelet2: A High-Definition Map Framework for the Future of Automated Driving<span class="p">}</span>,
  author    = <span class="p">{</span>Poggenhans, Fabian and Pauls, Jan-Hendrik and Janosovits, Johannes and Orf, Stefan and Naumann, Maximilian and Kuhnt, Florian and Mayr, Matthias<span class="p">}</span>,
  booktitle = <span class="p">{</span>Proc.<span class="k">\ </span>IEEE Intell.<span class="k">\ </span>Trans.<span class="k">\ </span>Syst.<span class="k">\ </span>Conf.<span class="p">}</span>,
  year      = <span class="p">{</span>2018<span class="p">}</span>,
  address   = <span class="p">{</span>Hawaii, USA<span class="p">}</span>,
  owner     = <span class="p">{</span>poggenhans<span class="p">}</span>,
  month     = <span class="p">{</span>November<span class="p">}</span>,
  Url=<span class="p">{</span>http://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf<span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/fzi-forschungszentrum-informatik/lanelet2.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
