<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/paho-mqtt-c/github-eclipse-paho-mqtt-c/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">paho-mqtt-c</li>
        <!--<li class="active">paho-mqtt-c</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class=" older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/paho-mqtt-c">paho-mqtt-c</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-eclipse-paho-mqtt-c
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-eclipse-paho-mqtt-c" role="menuitem" tabindex="-1" href="/r/paho-mqtt-c/github-eclipse-paho-mqtt-c" data="github-eclipse-paho-mqtt-c">
                    <span class="glyphicon glyphicon-star"></span>
                    github-eclipse-paho-mqtt-c
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/paho-mqtt-c">paho-mqtt-c</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-eclipse-paho-mqtt-c
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-eclipse-paho-mqtt-c" role="menuitem" tabindex="-1" href="/r/paho-mqtt-c/github-eclipse-paho-mqtt-c" data="github-eclipse-paho-mqtt-c">
                    <span class="glyphicon glyphicon-star"></span>
                    github-eclipse-paho-mqtt-c
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/paho-mqtt-c">paho-mqtt-c</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-eclipse-paho-mqtt-c
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-eclipse-paho-mqtt-c" role="menuitem" tabindex="-1" href="/r/paho-mqtt-c/github-eclipse-paho-mqtt-c" data="github-eclipse-paho-mqtt-c">
                    <span class="glyphicon glyphicon-star"></span>
                    github-eclipse-paho-mqtt-c
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/paho-mqtt-c">paho-mqtt-c</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-eclipse-paho-mqtt-c
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-eclipse-paho-mqtt-c" role="menuitem" tabindex="-1" href="/r/paho-mqtt-c/github-eclipse-paho-mqtt-c" data="github-eclipse-paho-mqtt-c">
                    <span class="glyphicon glyphicon-star"></span>
                    github-eclipse-paho-mqtt-c
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/paho-mqtt-c">paho-mqtt-c</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-eclipse-paho-mqtt-c
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-eclipse-paho-mqtt-c" role="menuitem" tabindex="-1" href="/r/paho-mqtt-c/github-eclipse-paho-mqtt-c" data="github-eclipse-paho-mqtt-c">
                    <span class="glyphicon glyphicon-star"></span>
                    github-eclipse-paho-mqtt-c
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/paho-mqtt-c">paho-mqtt-c</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-eclipse-paho-mqtt-c
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-eclipse-paho-mqtt-c" role="menuitem" tabindex="-1" href="/r/paho-mqtt-c/github-eclipse-paho-mqtt-c" data="github-eclipse-paho-mqtt-c">
                    <span class="glyphicon glyphicon-star"></span>
                    github-eclipse-paho-mqtt-c
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">An Eclipse Paho C client library for MQTT for Windows, Linux and MacOS. API documentation: https://eclipse-paho.github.io/paho.mqtt.c/</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/eclipse/paho.mqtt.c.git">https://github.com/eclipse/paho.mqtt.c.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-01-07
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/paho-mqtt-c/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/paho-mqtt-c/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/paho-mqtt-c/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <em>No packages found.</em>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p><a href="https://travis-ci.org/eclipse/paho.mqtt.c"><img src="https://travis-ci.org/eclipse/paho.mqtt.c.svg?branch=master" alt="Build Status"></a>
<a href="https://lgtm.com/projects/g/eclipse/paho.mqtt.c/alerts/"><img src="https://img.shields.io/lgtm/alerts/g/eclipse/paho.mqtt.c.svg?logo=lgtm&amp;logoWidth=18" alt="Total Alerts"></a>
<a href="https://scan.coverity.com/projects/paho-c"><img src="https://scan.coverity.com/projects/2339/badge.svg" alt="Coverity Scan Build Status"></a></p>

<h1 id="eclipse-paho-c-client-library-for-the-mqtt-protocol">Eclipse Paho C Client Library for the MQTT Protocol</h1>

<p>This repository contains the source code for the <a href="http://eclipse.org/paho">Eclipse Paho</a> MQTT C client library.</p>

<p>This code builds libraries which enable applications to connect to an <a href="http://mqtt.org">MQTT</a> broker to publish messages, and to subscribe to topics and receive published messages.</p>

<p>Synchronous and various asynchronous programming models are supported.</p>

<h2 id="information-about-mqtt">Information About MQTT</h2>

<ul>
  <li><a href="http://mqtt.org">MQTT website</a></li>
  <li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html">The MQTT 3.1.1 standard</a></li>
  <li><a href="https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html">The MQTT 5.0 standard</a></li>
  <li><a href="https://www.hivemq.com/mqtt/">HiveMQ introduction to MQTT</a></li>
  <li><a href="https://www.oasis-open.org/committees/download.php/49205/MQTT-OASIS-Webinar.pdf">OASIS Introduction to MQTT presentation</a></li>
</ul>

<h2 id="libraries">Libraries</h2>

<p>The Paho C client comprises four variant libraries, shared or static:</p>

<ul>
  <li>paho-mqtt3a - asynchronous (MQTTAsync)</li>
  <li>paho-mqtt3as - asynchronous with SSL/TLS (MQTTAsync)</li>
  <li>paho-mqtt3c - “classic” / synchronous (MQTTClient)</li>
  <li>paho-mqtt3cs - “classic” / synchronous with SSL/TLS (MQTTClient)</li>
</ul>

<p><a href="https://modelbasedtesting.co.uk/2013/10/13/which-paho-mqtt-c-api-to-use-and-some-history/">Which Paho C API to use, with some history, for context</a></p>

<h2 id="usage-and-api">Usage and API</h2>

<p>Detailed API documentation <a href="https://eclipse-paho.github.io/paho.mqtt.c/MQTTClient/html/">is available online</a>.  It is also available by building the Doxygen docs in the  <code class="language-plaintext highlighter-rouge">doc</code> directory.</p>

<p>Samples are available in the Doxygen docs and also in <code class="language-plaintext highlighter-rouge">src/samples</code> for reference.  These are:</p>

<ul>
  <li>
<em>paho_c_pub.c</em> and <em>paho_c_sub.c:</em> command line utilities to publish and subscribe, -h will give help</li>
  <li>
<em>paho_cs_pub.c</em> and <em>paho_cs_sub.c:</em> command line utilities using MQTTClient to publish and subscribe</li>
  <li>
<em>MQTTClient_publish.c, MQTTClient_subscribe.c</em> and <em>MQTTClient_publish_async.c:</em> MQTTClient simple code examples</li>
  <li>
<em>MQTTAsync_publish.c</em> and <em>MQTTAsync_subscribe.c:</em> MQTTAsync simple code examples</li>
</ul>

<p>Some potentially useful blog posts:</p>

<ul>
  <li><a href="https://modelbasedtesting.co.uk/2018/08/08/paho-c-client-mqtt-5-0-and-command-line-utilities/">Paho client MQTT 5.0 support and command line utilities</a></li>
  <li><a href="https://modelbasedtesting.co.uk/2013/11/24/mqtt-qos-and-persistence/">MQTT, QoS and persistence</a></li>
  <li><a href="https://modelbasedtesting.co.uk/2018/04/09/a-story-of-mqtt-5-0/">A story of MQTT 5.0</a></li>
</ul>

<p><a href="https://modelbasedtesting.co.uk/talks-ive-given/">Various MQTT and MQTT-SN talks I’ve given.</a></p>

<h3 id="supported-network-protocols">Supported Network Protocols</h3>

<p>The library supports connecting to an MQTT server using TCP, SSL/TLS, Unix-domain sockets, and websockets (secure and insecure). This is chosen by the client using the URI supplied in the connect options. It can be specified as:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"mqtt://&lt;host&gt;:&lt;port&gt;"         - TCP, unsecure
 "tcp://&lt;host&gt;:&lt;port&gt;"           (same)

"mqtts://&lt;host&gt;:&lt;port&gt;"        - SSL/TLS
 "ssl://&lt;host&gt;:&lt;port&gt;"           (same)

"unix:///path/to/socket        - UNIX-domain socket (*nix systems only)

"ws://&lt;host&gt;:&lt;port&gt;[/path]"    - Websockets, unsecure
"wss://&lt;host&gt;:&lt;port&gt;[/path]"   - Websockets, secure
</code></pre></div></div>

<p>The “mqtt://” and “tcp://” schemas are identical. They indicate an insecure connection over TCP. The “mqtt://” variation is new for the library, but becoming more common across different MQTT libraries.</p>

<p>Similarly, the “mqtts://” and “ssl://” schemas are identical. They specify a secure connection over SSL/TLS sockets. The use any of the secure connect options requires that you compile the library with the <code class="language-plaintext highlighter-rouge">PAHO_WITH_SSL=TRUE</code> CMake option to include OpenSSL. In addition, you <em>must</em> specify <code class="language-plaintext highlighter-rouge">ssl_options</code> when you connect to the broker - i.e. you must add an instance of <code class="language-plaintext highlighter-rouge">ssl_options</code> to the <code class="language-plaintext highlighter-rouge">connect_options</code> when calling <code class="language-plaintext highlighter-rouge">connect()</code>.</p>

<p>The use of Unix-domain sockets requires the build option of <code class="language-plaintext highlighter-rouge">PAHO_WITH_UNIX_SOCKETS=TRUE</code> is required. This is only available on *nix-style systems like Linux and macOS. It is not vailable on Windows.</p>

<h2 id="runtime-tracing">Runtime tracing</h2>

<p>A number of environment variables control runtime tracing of the C library.</p>

<p>Tracing is switched on using <code class="language-plaintext highlighter-rouge">MQTT_C_CLIENT_TRACE</code> (a value of ON traces to stdout, any other value should specify a file to trace to).</p>

<p>The verbosity of the output is controlled using the  <code class="language-plaintext highlighter-rouge">MQTT_C_CLIENT_TRACE_LEVEL</code> environment variable - valid values are ERROR, PROTOCOL, MINIMUM, MEDIUM and MAXIMUM (from least to most verbose).</p>

<p>The variable <code class="language-plaintext highlighter-rouge">MQTT_C_CLIENT_TRACE_MAX_LINES</code> limits the number of lines of trace that are output.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export MQTT_C_CLIENT_TRACE=ON
export MQTT_C_CLIENT_TRACE_LEVEL=PROTOCOL

</code></pre></div></div>

<h2 id="reporting-bugs">Reporting bugs</h2>

<p>Please open issues in the Github project: https://github.com/eclipse-paho/paho.mqtt.c/issues.</p>

<h2 id="more-information">More information</h2>

<p>Discussion of the Paho clients takes place on the <a href="https://dev.eclipse.org/mailman/listinfo/paho-dev">Eclipse paho-dev mailing list</a>.</p>

<h2 id="follow-eclipse-paho-on-twitter-eclipsepaho">Follow Eclipse Paho on Twitter: <a href="https://twitter.com/eclipsepaho">@eclipsepaho</a>
</h2>

<p>General questions about the MQTT protocol are discussed in the <a href="https://groups.google.com/forum/?hl=en-US&amp;fromgroups#!forum/mqtt">MQTT Google Group</a>.</p>

<p>There is more information available via the <a href="http://mqtt.org">MQTT community site</a>.</p>

<h2 id="building-with-cmake">Building with CMake</h2>

<p>The build process currently supports a number of Linux “flavors” including ARM and s390, OS X, AIX and Solaris as well as the Windows operating system. The build process requires the following tools:</p>
<ul>
  <li><a href="http://cmake.org">CMake</a></li>
  <li>
<a href="https://www.gnu.org/software/make/">GNU Make</a> or <a href="https://martine.github.io/ninja/">Ninja</a>
</li>
  <li>A conforming C compiler, such as <a href="https://gcc.gnu.org/">gcc</a>, <a href="https://clang.llvm.org/">Clang</a>, etc</li>
</ul>

<p>On Debian based systems this would mean that the following packages have to be installed:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-get install build-essential gcc make cmake cmake-gui cmake-curses-gui

</code></pre></div></div>

<p>Also, in order to build a debian package from the source code, the following packages have to be installed</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-get install fakeroot devscripts dh-make lsb-release

</code></pre></div></div>

<p>Ninja can be downloaded from its github project page in the “releases” section. Optionally it is possible to build binaries with SSL/TLS support. This requires the OpenSSL libraries and includes to be available. E. g. on Debian:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-get install libssl-dev

</code></pre></div></div>

<p>The documentation requires doxygen and optionally graphviz:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-get install doxygen graphviz

</code></pre></div></div>

<h3 id="building-your-application-with-cmake">Building your application with CMake</h3>

<p>If the Paho C library was built with CMake and is already installed on the system, it is relatively easy to set up a CMake build for your application. (If it’s not already built and installed read the next section).</p>

<p>The library can be built with several options which create variations of the library for asynchronous or synchronous use; encryption (SSL/TLS) support or not; and whether the library is shared or static. CMake exports all of the libraries that were built as targets, and the user can chose which is best suited for an application.</p>

<p>The package is named: <strong>eclipse-paho-mqtt-c</strong></p>

<p>The namespace for all the targets is also: <strong>eclipse-paho-mqtt-c</strong></p>

<p>The target names are the same as the library names. The static libraries append <em>-static</em> to the target name even for platforms that use the same base name for shared and static libraries. So:</p>

<table>
  <thead>
    <tr>
      <th>Target</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>paho-mqtt3a</td>
      <td>asynchronous, no encryption</td>
    </tr>
    <tr>
      <td>paho-mqtt3as</td>
      <td>asynchronous with SSL/TLS support</td>
    </tr>
    <tr>
      <td>paho-mqtt3c</td>
      <td>synchronous, no encryption</td>
    </tr>
    <tr>
      <td>paho-mqtt3cs</td>
      <td>synchronous with SSL/TLS support</td>
    </tr>
    <tr>
      <td>paho-mqtt3a-static</td>
      <td>asynchronous, no encryption, static linkage</td>
    </tr>
    <tr>
      <td>paho-mqtt3as-static</td>
      <td>asynchronous with SSL/TLS support, static linkage</td>
    </tr>
    <tr>
      <td>paho-mqtt3c-static</td>
      <td>synchronous, no encryption, static linkage</td>
    </tr>
    <tr>
      <td>paho-mqtt3cs-static</td>
      <td>synchronous with SSL/TLS support, static linkage</td>
    </tr>
  </tbody>
</table>

<p>Remember, though, that not all of these targets may be available. It depends on how the library was built.</p>

<p>A sample <em>CMakeLists.txt</em> for an application that uses the asynchronous library with encryption support <em>(paho-mqtt3as)</em> might look like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake_minimum_required(VERSION 3.5)
project(MyMQTTApp VERSION 1.0.0 LANGUAGES C)

find_package(eclipse-paho-mqtt-c REQUIRED)

add_executable(MyMQTTApp MyMQTTApp.c)
target_link_libraries(MQTTVersion eclipse-paho-mqtt-c::paho-mqtt3as) 

</code></pre></div></div>

<p>If the library was installed to a non-traditional location, you may need to tell CMake where to find it using <code class="language-plaintext highlighter-rouge">CMAKE_PREFIX_PATH</code>. For example, if you installed it in <em>/opt/mqtt/paho.mqtt.c</em></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cmake -DCMAKE_PREFIX_PATH=/opt/mqtt/paho.mqtt.c ..

</code></pre></div></div>

<h3 id="building-the-paho-c-library-with-cmake">Building the Paho C library with CMake</h3>

<p>Before compiling, determine the value of some variables in order to configure features, library locations, and other options:</p>

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Default Value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>PAHO_BUILD_SHARED</td>
      <td>TRUE</td>
      <td>Build a shared version of the libraries</td>
    </tr>
    <tr>
      <td>PAHO_BUILD_STATIC</td>
      <td>FALSE</td>
      <td>Build a static version of the libraries</td>
    </tr>
    <tr>
      <td>PAHO_HIGH_PERFORMANCE</td>
      <td>FALSE</td>
      <td>When set to true, the debugging aids internal tracing and heap tracking are not included.</td>
    </tr>
    <tr>
      <td>PAHO_WITH_SSL</td>
      <td>FALSE</td>
      <td>Flag that defines whether to build ssl-enabled binaries too.</td>
    </tr>
    <tr>
      <td>OPENSSL_ROOT_DIR</td>
      <td>”” (system default)</td>
      <td>Directory containing your OpenSSL installation (i.e. <code class="language-plaintext highlighter-rouge">/usr/local</code> when headers are in <code class="language-plaintext highlighter-rouge">/usr/local/include</code> and libraries are in <code class="language-plaintext highlighter-rouge">/usr/local/lib</code>)</td>
    </tr>
    <tr>
      <td>PAHO_WITH_LIBRESSL</td>
      <td>FALSE</td>
      <td>Flag that defines whether to build ssl-enabled binaries with LibreSSL instead of OpenSSL.</td>
    </tr>
    <tr>
      <td>LIBRESSL_ROOT_DIR</td>
      <td>”” (system default)</td>
      <td>Directory containing your LibreSSL installation (i.e. <code class="language-plaintext highlighter-rouge">/usr/local</code> when headers are in <code class="language-plaintext highlighter-rouge">/usr/local/include</code> and libraries are in <code class="language-plaintext highlighter-rouge">/usr/local/lib</code>)</td>
    </tr>
    <tr>
      <td>PAHO_WITH_UNIX_SOCKETS</td>
      <td>FALSE</td>
      <td>(*nix systems only) Flag to enable support for UNIX-domain sockets</td>
    </tr>
    <tr>
      <td>PAHO_BUILD_DOCUMENTATION</td>
      <td>FALSE</td>
      <td>Create and install the HTML based API documentation (requires Doxygen)</td>
    </tr>
    <tr>
      <td>PAHO_BUILD_SAMPLES</td>
      <td>FALSE</td>
      <td>Build sample programs</td>
    </tr>
    <tr>
      <td>PAHO_ENABLE_TESTING</td>
      <td>TRUE</td>
      <td>Build test and run</td>
    </tr>
    <tr>
      <td>MQTT_TEST_BROKER</td>
      <td>tcp://localhost:1883</td>
      <td>MQTT connection URL for a broker to use during test execution</td>
    </tr>
    <tr>
      <td>MQTT_TEST_PROXY</td>
      <td>tcp://localhost:1883</td>
      <td>Hostname of the test proxy to use</td>
    </tr>
    <tr>
      <td>MQTT_SSL_HOSTNAME</td>
      <td>localhost</td>
      <td>Hostname of a test SSL MQTT broker to use</td>
    </tr>
    <tr>
      <td>PAHO_BUILD_DEB_PACKAGE</td>
      <td>FALSE</td>
      <td>Build debian package</td>
    </tr>
  </tbody>
</table>

<p>Using these variables CMake can be used to generate your Ninja or Make files. Using CMake, building out-of-source is the default. Therefore it is recommended to invoke all build commands inside your chosen build directory but outside of the source tree.</p>

<p>An example build session targeting the build platform could look like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mkdir /tmp/build.paho ; cd /tmp/build.paho
$ cmake -DPAHO_WITH_SSL=TRUE -DPAHO_BUILD_DOCUMENTATION=TRUE \
    -DPAHO_BUILD_SAMPLES=TRUE ~/paho.mqtt.c

</code></pre></div></div>

<p>Invoking cmake and specifying build options can also be performed using cmake-gui or ccmake (see https://cmake.org/runningcmake/). For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ccmake ~/paho.mqtt.c

</code></pre></div></div>

<p>To compile/link the binaries, to install, or to generate packages, use these commands:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cmake --build .

$ cmake --build . --target install

$ cmake --build . --target package

</code></pre></div></div>

<p>To build, install, or generate packages, you can also use the generated builder like <em>ninja</em> or <em>make</em> directly after invoking the initial CMake configuration step, such as <code class="language-plaintext highlighter-rouge">ninja package</code> or <code class="language-plaintext highlighter-rouge">make -j &lt;number-of-jpbs&gt; package</code>.</p>

<h3 id="debug-builds">Debug builds</h3>

<p>Debug builds can be performed by defining the value of the <code class="language-plaintext highlighter-rouge">CMAKE_BUILD_TYPE</code> option to <code class="language-plaintext highlighter-rouge">Debug</code>. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cmake -DCMAKE_BUILD_TYPE=Debug ~/paho.mqtt.c

</code></pre></div></div>

<h3 id="running-the-tests">Running the tests</h3>

<p>Test code is available in the <code class="language-plaintext highlighter-rouge">test</code> directory. The tests can be built and executed with the CMake build system. The test execution requires a MQTT broker running. By default, the build system uses <code class="language-plaintext highlighter-rouge">localhost</code>, however it is possible to configure the build to use an external broker. These parameters are documented in the Build Requirements section above.</p>

<p>After ensuring a MQTT broker is available, it is possible to execute the tests by starting the proxy and running <code class="language-plaintext highlighter-rouge">ctest</code> as described below:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python ../test/mqttsas.py &amp;
$ ctest -VV

</code></pre></div></div>

<h3 id="cross-compilation">Cross compilation</h3>

<p>Cross compilation using CMake is performed by using so called “toolchain files” (see: https://cmake.org/cmake/help/latest/manual/cmake-toolchains.7.html).</p>

<p>The path to the toolchain file can be specified by using CMake’s <code class="language-plaintext highlighter-rouge">-DCMAKE_TOOLCHAIN_FILE</code> option. In case no toolchain file is specified, the build is performed for the native build platform.</p>

<p>For your convenience toolchain files for the following platforms can be found in the <code class="language-plaintext highlighter-rouge">cmake</code> directory of Eclipse Paho:</p>
<ul>
  <li>Linux x86</li>
  <li>Linux ARM11 (a.k.a. the Raspberry Pi)</li>
  <li>Windows x86_64</li>
  <li>Windows x86</li>
</ul>

<p>The provided toolchain files assume that required compilers/linkers are to be found in the environment, i. e. the PATH-Variable of your user or system. If you prefer, you can also specify the absolute location of your compilers in the toolchain files.</p>

<p>Example invocation for the Raspberry Pi:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cmake -GNinja -DPAHO_WITH_SSL=TRUE -DPAHO_BUILD_SAMPLES=TRUE \
    -DPAHO_BUILD_DOCUMENTATION=TRUE \
    -DOPENSSL_LIB_SEARCH_PATH=/tmp/libssl-dev/usr/lib/arm-linux-gnueabihf \
    -DOPENSSL_INC_SEARCH_PATH="/tmp/libssl-dev/usr/include/openssl;/tmp/libssl-dev/usr/include/arm-linux-gnueabihf" \
    -DCMAKE_TOOLCHAIN_FILE=~/paho.mqtt.c/cmake/toolchain.linux-arm11.cmake \
    ~/paho.mqtt.c

</code></pre></div></div>

<p>Compilers for the Raspberry Pi and other ARM targets can be obtained from ARM (https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/downloads)</p>

<p>This example assumes that OpenSSL-libraries and includes have been installed in the <code class="language-plaintext highlighter-rouge">/tmp/libssl-dev</code> directory.</p>

<p>Example invocation for Windows 64 bit:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cmake -DPAHO_BUILD_SAMPLES=TRUE \
    -DCMAKE_TOOLCHAIN_FILE=~/paho.mqtt.c/cmake/toolchain.win64.cmake \
    ~/paho.mqtt.c

</code></pre></div></div>

<p>In this case the libraries and executable are not linked against OpenSSL Libraries. Cross compilers for the Windows platform can be installed on Debian like systems like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-get install gcc-mingw-w64-x86-64 gcc-mingw-w64-i686

</code></pre></div></div>

<h2 id="build-instructions-for-gnu-make">Build instructions for GNU Make</h2>

<p>Ensure the OpenSSL development package is installed.  Then from the client library base directory run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make
$ sudo make install

</code></pre></div></div>

<p>This will build and install the libraries.  To uninstall:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo make uninstall

</code></pre></div></div>

<p>To build the documentation requires doxygen and optionally graphviz.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make html

</code></pre></div></div>

<p>The provided GNU Makefile is intended to perform all build steps in the
<code class="language-plaintext highlighter-rouge">build
</code> directory within the source-tree of Eclipse Paho. Generated binares, libraries, and the documentation can be found in the
<code class="language-plaintext highlighter-rouge">build/output
</code> directory after completion.</p>

<p>Options that are passed to the compiler/linker can be specified by typical Unix build variables:</p>

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CC</td>
      <td>Path to the C compiler</td>
    </tr>
    <tr>
      <td>CFLAGS</td>
      <td>Flags passed to compiler calls</td>
    </tr>
    <tr>
      <td>LDFLAGS</td>
      <td>Flags passed to linker calls</td>
    </tr>
  </tbody>
</table>

<h2 id="building-paho-mqtt---using-vcpkg">Building paho-mqtt - Using vcpkg</h2>

<p>You can download and install paho-mqtt using the <a href="https://github.com/Microsoft/vcpkg">vcpkg</a> dependency manager:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/Microsoft/vcpkg.git
cd vcpkg
./bootstrap-vcpkg.sh
./vcpkg integrate install
./vcpkg install paho-mqtt
</code></pre></div></div>

<p>The paho-mqtt port in vcpkg is kept up to date by Microsoft team members and community contributors. If the version is out of date, please <a href="https://github.com/Microsoft/vcpkg">create an issue or pull request</a> on the vcpkg repository.</p>

<h2 id="fully-static-builds-with-musl-libc">Fully static builds with musl libc</h2>

<p>(By Frank Pagliughi)</p>

<p><a href="https://musl.libc.org/">musl libc</a> is is an implementation of the C standard library built on top of the Linux system call API, including interfaces defined in the base language standard, POSIX, and widely agreed-upon extensions.</p>

<p>Users of the Rust library, which wraps this one, had been complaining that they could not compile using the musl build tools. Musl is a small std C lib that can be statically linked. With the latest Paho C library (and a very minor tweak to the build), we’re now able to build Rust apps using musl and Paho C that are fully static; no runtime dependencies on the platform; not even on the standard C lib.</p>

<p>$ ./async_publish
Publishing a message on the ‘test’ topic</p>

<p>$ ldd async_publish
	not a dynamic executable</p>

<p>So, for example, if maintaining a suite of apps for some newer and older embedded Linux boards, the same executables could be deployed without worry about the C ABI on the particular boards.</p>

<p>Certainly C apps using the Paho library could do this also.</p>

<h2 id="microsoft-windows">Microsoft Windows</h2>

<h3 id="calling-convention">Calling convention</h3>

<p>As is normal for C programs on Windows, the calling convention is __cdecl.  See the Microsoft documentation here:</p>

<p>https://docs.microsoft.com/en-us/cpp/cpp/cdecl?view=vs-2019</p>

<p>If you call this library from another language, you may need to take this into account.</p>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="contributing-to-paho">Contributing to Paho</h1>

<p>Thanks for your interest in this project!</p>

<p>You can contribute bugfixes and new features by sending pull requests through GitHub.</p>

<h2 id="legal">Legal</h2>

<p>In order for your contribution to be accepted, it must comply with the Eclipse Foundation IP policy.</p>

<p>Please read the <a href="http://wiki.eclipse.org/Development_Resources/Contributing_via_Git">Eclipse Foundation policy on accepting contributions via Git</a>.</p>

<ol>
  <li>Sign the <a href="http://www.eclipse.org/legal/ECA.php">Eclipse ECA</a>
</li>
  <li>Register for an Eclipse Foundation User ID. You can register <a href="https://dev.eclipse.org/site_login/createaccount.php">here</a>.</li>
  <li>Log into the <a href="https://www.eclipse.org/contribute/cla">Eclipse projects forge</a>, and click on ‘Eclipse Contributor Agreement’.</li>
  <li>Go to your <a href="https://dev.eclipse.org/site_login/myaccount.php#open_tab_accountsettings">account settings</a> and add your GitHub username to your account.</li>
  <li>Make sure that you <em>sign-off</em> your Git commits in the following format:</li>
</ol>

<p><code class="language-plaintext highlighter-rouge">Signed-off-by: Alex Smith &lt;alexsmith@nowhere.com&gt;
</code> This is usually at the bottom of the commit message. You can automate this by adding the ‘-s’ flag when you make the commits. e.g.<br>
```git commit -s -m “Adding a cool feature”</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4. Ensure that the email address that you make your commits with is the same one you used to sign up to the Eclipse Foundation website with.

## Contributing a change

1. [Fork the repository on GitHub](https://github.com/eclipse/paho.mqtt.c/fork)
2. Clone the forked repository onto your computer: 
``` git clone https://github.com/&lt;your username&gt;/paho.mqtt.c.git 
</code></pre></div></div>
<ol>
  <li>Create a new branch from the latest
    <pre><code class="language-develop">``` branch with 
```git checkout -b YOUR_BRANCH_NAME origin/develop
</code></pre>
  </li>
  <li>Make your changes</li>
  <li>If developing a new feature, make sure to include JUnit tests.</li>
  <li>Ensure that all new and existing tests pass.</li>
  <li>Commit the changes into the branch:
<code class="language-plaintext highlighter-rouge">git commit -s
</code> Make sure that your commit message is meaningful and describes your changes correctly.</li>
  <li>If you have a lot of commits for the change, squash them into a single / few commits.</li>
  <li>Push the changes in your branch to your forked repository.</li>
  <li>Finally, go to <a href="https://github.com/eclipse/paho.mqtt.c">https://github.com/eclipse/paho.mqtt.c</a> and create a pull request from your “YOUR_BRANCH_NAME” branch to the
<code class="language-plaintext highlighter-rouge">develop
</code> one to request review and merge of the commits in your pushed branch.</li>
</ol>

<p>What happens next depends on the content of the patch.
If it is 100% authored by the contributor with less than 1000 lines of new product code that meets
the needs of the project (refactored, test code and sample code is excluded from the count), then it
can be pulled into the main repository. When there are more than 1000 lines of new product code,
more steps are required. More details are provided in the <a href="https://www.eclipse.org/projects/handbook/#ip">handbook</a>.</p>

<h2 id="developer-resources">Developer resources:</h2>

<p>Information regarding source code management, builds, coding standards, and more.</p>

<ul>
  <li><a href="https://projects.eclipse.org/projects/iot.paho/developer">https://projects.eclipse.org/projects/iot.paho/developer</a></li>
</ul>

<h2 id="contact">Contact:</h2>

<p>Contact the project developers via the project’s development
<a href="https://dev.eclipse.org/mailman/listinfo/paho-dev">mailing list</a>.</p>

<h2 id="search-for-bugs">Search for bugs:</h2>

<p>This project uses GitHub Issues here: <a href="https://github.com/eclipse/paho.mqtt.c/issues">github.com/eclipse/paho.mqtt.c/issues</a> to track ongoing development and issues.</p>

<h2 id="create-a-new-bug">Create a new bug:</h2>

<p>Be sure to search for existing bugs before you create another one. Remember that contributions are always welcome!</p>

<ul>
  <li><a href="https://github.com/eclipse/paho.mqtt.c/issues/new">Create new Paho bug</a></li>
</ul>
</div>
              <hr id="noetic-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="noetic-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#noetic-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#noetic-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#noetic-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="noetic-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="noetic-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="noetic-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/paho-mqtt-c">paho-mqtt-c</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-eclipse-paho-mqtt-c
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-eclipse-paho-mqtt-c" role="menuitem" tabindex="-1" href="/r/paho-mqtt-c/github-eclipse-paho-mqtt-c" data="github-eclipse-paho-mqtt-c">
                    <span class="glyphicon glyphicon-star"></span>
                    github-eclipse-paho-mqtt-c
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">An Eclipse Paho C client library for MQTT for Windows, Linux and MacOS. API documentation: https://eclipse-paho.github.io/paho.mqtt.c/</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/eclipse/paho.mqtt.c.git">https://github.com/eclipse/paho.mqtt.c.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-01-07
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/paho-mqtt-c/#galactic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/paho-mqtt-c/#galactic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/paho-mqtt-c/#galactic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <em>No packages found.</em>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p><a href="https://travis-ci.org/eclipse/paho.mqtt.c"><img src="https://travis-ci.org/eclipse/paho.mqtt.c.svg?branch=master" alt="Build Status"></a>
<a href="https://lgtm.com/projects/g/eclipse/paho.mqtt.c/alerts/"><img src="https://img.shields.io/lgtm/alerts/g/eclipse/paho.mqtt.c.svg?logo=lgtm&amp;logoWidth=18" alt="Total Alerts"></a>
<a href="https://scan.coverity.com/projects/paho-c"><img src="https://scan.coverity.com/projects/2339/badge.svg" alt="Coverity Scan Build Status"></a></p>

<h1 id="eclipse-paho-c-client-library-for-the-mqtt-protocol">Eclipse Paho C Client Library for the MQTT Protocol</h1>

<p>This repository contains the source code for the <a href="http://eclipse.org/paho">Eclipse Paho</a> MQTT C client library.</p>

<p>This code builds libraries which enable applications to connect to an <a href="http://mqtt.org">MQTT</a> broker to publish messages, and to subscribe to topics and receive published messages.</p>

<p>Synchronous and various asynchronous programming models are supported.</p>

<h2 id="information-about-mqtt">Information About MQTT</h2>

<ul>
  <li><a href="http://mqtt.org">MQTT website</a></li>
  <li><a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html">The MQTT 3.1.1 standard</a></li>
  <li><a href="https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html">The MQTT 5.0 standard</a></li>
  <li><a href="https://www.hivemq.com/mqtt/">HiveMQ introduction to MQTT</a></li>
  <li><a href="https://www.oasis-open.org/committees/download.php/49205/MQTT-OASIS-Webinar.pdf">OASIS Introduction to MQTT presentation</a></li>
</ul>

<h2 id="libraries">Libraries</h2>

<p>The Paho C client comprises four variant libraries, shared or static:</p>

<ul>
  <li>paho-mqtt3a - asynchronous (MQTTAsync)</li>
  <li>paho-mqtt3as - asynchronous with SSL/TLS (MQTTAsync)</li>
  <li>paho-mqtt3c - “classic” / synchronous (MQTTClient)</li>
  <li>paho-mqtt3cs - “classic” / synchronous with SSL/TLS (MQTTClient)</li>
</ul>

<p><a href="https://modelbasedtesting.co.uk/2013/10/13/which-paho-mqtt-c-api-to-use-and-some-history/">Which Paho C API to use, with some history, for context</a></p>

<h2 id="usage-and-api">Usage and API</h2>

<p>Detailed API documentation <a href="https://eclipse-paho.github.io/paho.mqtt.c/MQTTClient/html/">is available online</a>.  It is also available by building the Doxygen docs in the  <code class="language-plaintext highlighter-rouge">doc</code> directory.</p>

<p>Samples are available in the Doxygen docs and also in <code class="language-plaintext highlighter-rouge">src/samples</code> for reference.  These are:</p>

<ul>
  <li>
<em>paho_c_pub.c</em> and <em>paho_c_sub.c:</em> command line utilities to publish and subscribe, -h will give help</li>
  <li>
<em>paho_cs_pub.c</em> and <em>paho_cs_sub.c:</em> command line utilities using MQTTClient to publish and subscribe</li>
  <li>
<em>MQTTClient_publish.c, MQTTClient_subscribe.c</em> and <em>MQTTClient_publish_async.c:</em> MQTTClient simple code examples</li>
  <li>
<em>MQTTAsync_publish.c</em> and <em>MQTTAsync_subscribe.c:</em> MQTTAsync simple code examples</li>
</ul>

<p>Some potentially useful blog posts:</p>

<ul>
  <li><a href="https://modelbasedtesting.co.uk/2018/08/08/paho-c-client-mqtt-5-0-and-command-line-utilities/">Paho client MQTT 5.0 support and command line utilities</a></li>
  <li><a href="https://modelbasedtesting.co.uk/2013/11/24/mqtt-qos-and-persistence/">MQTT, QoS and persistence</a></li>
  <li><a href="https://modelbasedtesting.co.uk/2018/04/09/a-story-of-mqtt-5-0/">A story of MQTT 5.0</a></li>
</ul>

<p><a href="https://modelbasedtesting.co.uk/talks-ive-given/">Various MQTT and MQTT-SN talks I’ve given.</a></p>

<h3 id="supported-network-protocols">Supported Network Protocols</h3>

<p>The library supports connecting to an MQTT server using TCP, SSL/TLS, Unix-domain sockets, and websockets (secure and insecure). This is chosen by the client using the URI supplied in the connect options. It can be specified as:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"mqtt://&lt;host&gt;:&lt;port&gt;"         - TCP, unsecure
 "tcp://&lt;host&gt;:&lt;port&gt;"           (same)

"mqtts://&lt;host&gt;:&lt;port&gt;"        - SSL/TLS
 "ssl://&lt;host&gt;:&lt;port&gt;"           (same)

"unix:///path/to/socket        - UNIX-domain socket (*nix systems only)

"ws://&lt;host&gt;:&lt;port&gt;[/path]"    - Websockets, unsecure
"wss://&lt;host&gt;:&lt;port&gt;[/path]"   - Websockets, secure
</code></pre></div></div>

<p>The “mqtt://” and “tcp://” schemas are identical. They indicate an insecure connection over TCP. The “mqtt://” variation is new for the library, but becoming more common across different MQTT libraries.</p>

<p>Similarly, the “mqtts://” and “ssl://” schemas are identical. They specify a secure connection over SSL/TLS sockets. The use any of the secure connect options requires that you compile the library with the <code class="language-plaintext highlighter-rouge">PAHO_WITH_SSL=TRUE</code> CMake option to include OpenSSL. In addition, you <em>must</em> specify <code class="language-plaintext highlighter-rouge">ssl_options</code> when you connect to the broker - i.e. you must add an instance of <code class="language-plaintext highlighter-rouge">ssl_options</code> to the <code class="language-plaintext highlighter-rouge">connect_options</code> when calling <code class="language-plaintext highlighter-rouge">connect()</code>.</p>

<p>The use of Unix-domain sockets requires the build option of <code class="language-plaintext highlighter-rouge">PAHO_WITH_UNIX_SOCKETS=TRUE</code> is required. This is only available on *nix-style systems like Linux and macOS. It is not vailable on Windows.</p>

<h2 id="runtime-tracing">Runtime tracing</h2>

<p>A number of environment variables control runtime tracing of the C library.</p>

<p>Tracing is switched on using <code class="language-plaintext highlighter-rouge">MQTT_C_CLIENT_TRACE</code> (a value of ON traces to stdout, any other value should specify a file to trace to).</p>

<p>The verbosity of the output is controlled using the  <code class="language-plaintext highlighter-rouge">MQTT_C_CLIENT_TRACE_LEVEL</code> environment variable - valid values are ERROR, PROTOCOL, MINIMUM, MEDIUM and MAXIMUM (from least to most verbose).</p>

<p>The variable <code class="language-plaintext highlighter-rouge">MQTT_C_CLIENT_TRACE_MAX_LINES</code> limits the number of lines of trace that are output.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export MQTT_C_CLIENT_TRACE=ON
export MQTT_C_CLIENT_TRACE_LEVEL=PROTOCOL

</code></pre></div></div>

<h2 id="reporting-bugs">Reporting bugs</h2>

<p>Please open issues in the Github project: https://github.com/eclipse-paho/paho.mqtt.c/issues.</p>

<h2 id="more-information">More information</h2>

<p>Discussion of the Paho clients takes place on the <a href="https://dev.eclipse.org/mailman/listinfo/paho-dev">Eclipse paho-dev mailing list</a>.</p>

<h2 id="follow-eclipse-paho-on-twitter-eclipsepaho">Follow Eclipse Paho on Twitter: <a href="https://twitter.com/eclipsepaho">@eclipsepaho</a>
</h2>

<p>General questions about the MQTT protocol are discussed in the <a href="https://groups.google.com/forum/?hl=en-US&amp;fromgroups#!forum/mqtt">MQTT Google Group</a>.</p>

<p>There is more information available via the <a href="http://mqtt.org">MQTT community site</a>.</p>

<h2 id="building-with-cmake">Building with CMake</h2>

<p>The build process currently supports a number of Linux “flavors” including ARM and s390, OS X, AIX and Solaris as well as the Windows operating system. The build process requires the following tools:</p>
<ul>
  <li><a href="http://cmake.org">CMake</a></li>
  <li>
<a href="https://www.gnu.org/software/make/">GNU Make</a> or <a href="https://martine.github.io/ninja/">Ninja</a>
</li>
  <li>A conforming C compiler, such as <a href="https://gcc.gnu.org/">gcc</a>, <a href="https://clang.llvm.org/">Clang</a>, etc</li>
</ul>

<p>On Debian based systems this would mean that the following packages have to be installed:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-get install build-essential gcc make cmake cmake-gui cmake-curses-gui

</code></pre></div></div>

<p>Also, in order to build a debian package from the source code, the following packages have to be installed</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-get install fakeroot devscripts dh-make lsb-release

</code></pre></div></div>

<p>Ninja can be downloaded from its github project page in the “releases” section. Optionally it is possible to build binaries with SSL/TLS support. This requires the OpenSSL libraries and includes to be available. E. g. on Debian:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-get install libssl-dev

</code></pre></div></div>

<p>The documentation requires doxygen and optionally graphviz:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-get install doxygen graphviz

</code></pre></div></div>

<h3 id="building-your-application-with-cmake">Building your application with CMake</h3>

<p>If the Paho C library was built with CMake and is already installed on the system, it is relatively easy to set up a CMake build for your application. (If it’s not already built and installed read the next section).</p>

<p>The library can be built with several options which create variations of the library for asynchronous or synchronous use; encryption (SSL/TLS) support or not; and whether the library is shared or static. CMake exports all of the libraries that were built as targets, and the user can chose which is best suited for an application.</p>

<p>The package is named: <strong>eclipse-paho-mqtt-c</strong></p>

<p>The namespace for all the targets is also: <strong>eclipse-paho-mqtt-c</strong></p>

<p>The target names are the same as the library names. The static libraries append <em>-static</em> to the target name even for platforms that use the same base name for shared and static libraries. So:</p>

<table>
  <thead>
    <tr>
      <th>Target</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>paho-mqtt3a</td>
      <td>asynchronous, no encryption</td>
    </tr>
    <tr>
      <td>paho-mqtt3as</td>
      <td>asynchronous with SSL/TLS support</td>
    </tr>
    <tr>
      <td>paho-mqtt3c</td>
      <td>synchronous, no encryption</td>
    </tr>
    <tr>
      <td>paho-mqtt3cs</td>
      <td>synchronous with SSL/TLS support</td>
    </tr>
    <tr>
      <td>paho-mqtt3a-static</td>
      <td>asynchronous, no encryption, static linkage</td>
    </tr>
    <tr>
      <td>paho-mqtt3as-static</td>
      <td>asynchronous with SSL/TLS support, static linkage</td>
    </tr>
    <tr>
      <td>paho-mqtt3c-static</td>
      <td>synchronous, no encryption, static linkage</td>
    </tr>
    <tr>
      <td>paho-mqtt3cs-static</td>
      <td>synchronous with SSL/TLS support, static linkage</td>
    </tr>
  </tbody>
</table>

<p>Remember, though, that not all of these targets may be available. It depends on how the library was built.</p>

<p>A sample <em>CMakeLists.txt</em> for an application that uses the asynchronous library with encryption support <em>(paho-mqtt3as)</em> might look like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake_minimum_required(VERSION 3.5)
project(MyMQTTApp VERSION 1.0.0 LANGUAGES C)

find_package(eclipse-paho-mqtt-c REQUIRED)

add_executable(MyMQTTApp MyMQTTApp.c)
target_link_libraries(MQTTVersion eclipse-paho-mqtt-c::paho-mqtt3as) 

</code></pre></div></div>

<p>If the library was installed to a non-traditional location, you may need to tell CMake where to find it using <code class="language-plaintext highlighter-rouge">CMAKE_PREFIX_PATH</code>. For example, if you installed it in <em>/opt/mqtt/paho.mqtt.c</em></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cmake -DCMAKE_PREFIX_PATH=/opt/mqtt/paho.mqtt.c ..

</code></pre></div></div>

<h3 id="building-the-paho-c-library-with-cmake">Building the Paho C library with CMake</h3>

<p>Before compiling, determine the value of some variables in order to configure features, library locations, and other options:</p>

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Default Value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>PAHO_BUILD_SHARED</td>
      <td>TRUE</td>
      <td>Build a shared version of the libraries</td>
    </tr>
    <tr>
      <td>PAHO_BUILD_STATIC</td>
      <td>FALSE</td>
      <td>Build a static version of the libraries</td>
    </tr>
    <tr>
      <td>PAHO_HIGH_PERFORMANCE</td>
      <td>FALSE</td>
      <td>When set to true, the debugging aids internal tracing and heap tracking are not included.</td>
    </tr>
    <tr>
      <td>PAHO_WITH_SSL</td>
      <td>FALSE</td>
      <td>Flag that defines whether to build ssl-enabled binaries too.</td>
    </tr>
    <tr>
      <td>OPENSSL_ROOT_DIR</td>
      <td>”” (system default)</td>
      <td>Directory containing your OpenSSL installation (i.e. <code class="language-plaintext highlighter-rouge">/usr/local</code> when headers are in <code class="language-plaintext highlighter-rouge">/usr/local/include</code> and libraries are in <code class="language-plaintext highlighter-rouge">/usr/local/lib</code>)</td>
    </tr>
    <tr>
      <td>PAHO_WITH_LIBRESSL</td>
      <td>FALSE</td>
      <td>Flag that defines whether to build ssl-enabled binaries with LibreSSL instead of OpenSSL.</td>
    </tr>
    <tr>
      <td>LIBRESSL_ROOT_DIR</td>
      <td>”” (system default)</td>
      <td>Directory containing your LibreSSL installation (i.e. <code class="language-plaintext highlighter-rouge">/usr/local</code> when headers are in <code class="language-plaintext highlighter-rouge">/usr/local/include</code> and libraries are in <code class="language-plaintext highlighter-rouge">/usr/local/lib</code>)</td>
    </tr>
    <tr>
      <td>PAHO_WITH_UNIX_SOCKETS</td>
      <td>FALSE</td>
      <td>(*nix systems only) Flag to enable support for UNIX-domain sockets</td>
    </tr>
    <tr>
      <td>PAHO_BUILD_DOCUMENTATION</td>
      <td>FALSE</td>
      <td>Create and install the HTML based API documentation (requires Doxygen)</td>
    </tr>
    <tr>
      <td>PAHO_BUILD_SAMPLES</td>
      <td>FALSE</td>
      <td>Build sample programs</td>
    </tr>
    <tr>
      <td>PAHO_ENABLE_TESTING</td>
      <td>TRUE</td>
      <td>Build test and run</td>
    </tr>
    <tr>
      <td>MQTT_TEST_BROKER</td>
      <td>tcp://localhost:1883</td>
      <td>MQTT connection URL for a broker to use during test execution</td>
    </tr>
    <tr>
      <td>MQTT_TEST_PROXY</td>
      <td>tcp://localhost:1883</td>
      <td>Hostname of the test proxy to use</td>
    </tr>
    <tr>
      <td>MQTT_SSL_HOSTNAME</td>
      <td>localhost</td>
      <td>Hostname of a test SSL MQTT broker to use</td>
    </tr>
    <tr>
      <td>PAHO_BUILD_DEB_PACKAGE</td>
      <td>FALSE</td>
      <td>Build debian package</td>
    </tr>
  </tbody>
</table>

<p>Using these variables CMake can be used to generate your Ninja or Make files. Using CMake, building out-of-source is the default. Therefore it is recommended to invoke all build commands inside your chosen build directory but outside of the source tree.</p>

<p>An example build session targeting the build platform could look like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mkdir /tmp/build.paho ; cd /tmp/build.paho
$ cmake -DPAHO_WITH_SSL=TRUE -DPAHO_BUILD_DOCUMENTATION=TRUE \
    -DPAHO_BUILD_SAMPLES=TRUE ~/paho.mqtt.c

</code></pre></div></div>

<p>Invoking cmake and specifying build options can also be performed using cmake-gui or ccmake (see https://cmake.org/runningcmake/). For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ccmake ~/paho.mqtt.c

</code></pre></div></div>

<p>To compile/link the binaries, to install, or to generate packages, use these commands:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cmake --build .

$ cmake --build . --target install

$ cmake --build . --target package

</code></pre></div></div>

<p>To build, install, or generate packages, you can also use the generated builder like <em>ninja</em> or <em>make</em> directly after invoking the initial CMake configuration step, such as <code class="language-plaintext highlighter-rouge">ninja package</code> or <code class="language-plaintext highlighter-rouge">make -j &lt;number-of-jpbs&gt; package</code>.</p>

<h3 id="debug-builds">Debug builds</h3>

<p>Debug builds can be performed by defining the value of the <code class="language-plaintext highlighter-rouge">CMAKE_BUILD_TYPE</code> option to <code class="language-plaintext highlighter-rouge">Debug</code>. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cmake -DCMAKE_BUILD_TYPE=Debug ~/paho.mqtt.c

</code></pre></div></div>

<h3 id="running-the-tests">Running the tests</h3>

<p>Test code is available in the <code class="language-plaintext highlighter-rouge">test</code> directory. The tests can be built and executed with the CMake build system. The test execution requires a MQTT broker running. By default, the build system uses <code class="language-plaintext highlighter-rouge">localhost</code>, however it is possible to configure the build to use an external broker. These parameters are documented in the Build Requirements section above.</p>

<p>After ensuring a MQTT broker is available, it is possible to execute the tests by starting the proxy and running <code class="language-plaintext highlighter-rouge">ctest</code> as described below:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python ../test/mqttsas.py &amp;
$ ctest -VV

</code></pre></div></div>

<h3 id="cross-compilation">Cross compilation</h3>

<p>Cross compilation using CMake is performed by using so called “toolchain files” (see: https://cmake.org/cmake/help/latest/manual/cmake-toolchains.7.html).</p>

<p>The path to the toolchain file can be specified by using CMake’s <code class="language-plaintext highlighter-rouge">-DCMAKE_TOOLCHAIN_FILE</code> option. In case no toolchain file is specified, the build is performed for the native build platform.</p>

<p>For your convenience toolchain files for the following platforms can be found in the <code class="language-plaintext highlighter-rouge">cmake</code> directory of Eclipse Paho:</p>
<ul>
  <li>Linux x86</li>
  <li>Linux ARM11 (a.k.a. the Raspberry Pi)</li>
  <li>Windows x86_64</li>
  <li>Windows x86</li>
</ul>

<p>The provided toolchain files assume that required compilers/linkers are to be found in the environment, i. e. the PATH-Variable of your user or system. If you prefer, you can also specify the absolute location of your compilers in the toolchain files.</p>

<p>Example invocation for the Raspberry Pi:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cmake -GNinja -DPAHO_WITH_SSL=TRUE -DPAHO_BUILD_SAMPLES=TRUE \
    -DPAHO_BUILD_DOCUMENTATION=TRUE \
    -DOPENSSL_LIB_SEARCH_PATH=/tmp/libssl-dev/usr/lib/arm-linux-gnueabihf \
    -DOPENSSL_INC_SEARCH_PATH="/tmp/libssl-dev/usr/include/openssl;/tmp/libssl-dev/usr/include/arm-linux-gnueabihf" \
    -DCMAKE_TOOLCHAIN_FILE=~/paho.mqtt.c/cmake/toolchain.linux-arm11.cmake \
    ~/paho.mqtt.c

</code></pre></div></div>

<p>Compilers for the Raspberry Pi and other ARM targets can be obtained from ARM (https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/downloads)</p>

<p>This example assumes that OpenSSL-libraries and includes have been installed in the <code class="language-plaintext highlighter-rouge">/tmp/libssl-dev</code> directory.</p>

<p>Example invocation for Windows 64 bit:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cmake -DPAHO_BUILD_SAMPLES=TRUE \
    -DCMAKE_TOOLCHAIN_FILE=~/paho.mqtt.c/cmake/toolchain.win64.cmake \
    ~/paho.mqtt.c

</code></pre></div></div>

<p>In this case the libraries and executable are not linked against OpenSSL Libraries. Cross compilers for the Windows platform can be installed on Debian like systems like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ apt-get install gcc-mingw-w64-x86-64 gcc-mingw-w64-i686

</code></pre></div></div>

<h2 id="build-instructions-for-gnu-make">Build instructions for GNU Make</h2>

<p>Ensure the OpenSSL development package is installed.  Then from the client library base directory run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make
$ sudo make install

</code></pre></div></div>

<p>This will build and install the libraries.  To uninstall:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo make uninstall

</code></pre></div></div>

<p>To build the documentation requires doxygen and optionally graphviz.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ make html

</code></pre></div></div>

<p>The provided GNU Makefile is intended to perform all build steps in the
<code class="language-plaintext highlighter-rouge">build
</code> directory within the source-tree of Eclipse Paho. Generated binares, libraries, and the documentation can be found in the
<code class="language-plaintext highlighter-rouge">build/output
</code> directory after completion.</p>

<p>Options that are passed to the compiler/linker can be specified by typical Unix build variables:</p>

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CC</td>
      <td>Path to the C compiler</td>
    </tr>
    <tr>
      <td>CFLAGS</td>
      <td>Flags passed to compiler calls</td>
    </tr>
    <tr>
      <td>LDFLAGS</td>
      <td>Flags passed to linker calls</td>
    </tr>
  </tbody>
</table>

<h2 id="building-paho-mqtt---using-vcpkg">Building paho-mqtt - Using vcpkg</h2>

<p>You can download and install paho-mqtt using the <a href="https://github.com/Microsoft/vcpkg">vcpkg</a> dependency manager:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/Microsoft/vcpkg.git
cd vcpkg
./bootstrap-vcpkg.sh
./vcpkg integrate install
./vcpkg install paho-mqtt
</code></pre></div></div>

<p>The paho-mqtt port in vcpkg is kept up to date by Microsoft team members and community contributors. If the version is out of date, please <a href="https://github.com/Microsoft/vcpkg">create an issue or pull request</a> on the vcpkg repository.</p>

<h2 id="fully-static-builds-with-musl-libc">Fully static builds with musl libc</h2>

<p>(By Frank Pagliughi)</p>

<p><a href="https://musl.libc.org/">musl libc</a> is is an implementation of the C standard library built on top of the Linux system call API, including interfaces defined in the base language standard, POSIX, and widely agreed-upon extensions.</p>

<p>Users of the Rust library, which wraps this one, had been complaining that they could not compile using the musl build tools. Musl is a small std C lib that can be statically linked. With the latest Paho C library (and a very minor tweak to the build), we’re now able to build Rust apps using musl and Paho C that are fully static; no runtime dependencies on the platform; not even on the standard C lib.</p>

<p>$ ./async_publish
Publishing a message on the ‘test’ topic</p>

<p>$ ldd async_publish
	not a dynamic executable</p>

<p>So, for example, if maintaining a suite of apps for some newer and older embedded Linux boards, the same executables could be deployed without worry about the C ABI on the particular boards.</p>

<p>Certainly C apps using the Paho library could do this also.</p>

<h2 id="microsoft-windows">Microsoft Windows</h2>

<h3 id="calling-convention">Calling convention</h3>

<p>As is normal for C programs on Windows, the calling convention is __cdecl.  See the Microsoft documentation here:</p>

<p>https://docs.microsoft.com/en-us/cpp/cpp/cdecl?view=vs-2019</p>

<p>If you call this library from another language, you may need to take this into account.</p>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="contributing-to-paho">Contributing to Paho</h1>

<p>Thanks for your interest in this project!</p>

<p>You can contribute bugfixes and new features by sending pull requests through GitHub.</p>

<h2 id="legal">Legal</h2>

<p>In order for your contribution to be accepted, it must comply with the Eclipse Foundation IP policy.</p>

<p>Please read the <a href="http://wiki.eclipse.org/Development_Resources/Contributing_via_Git">Eclipse Foundation policy on accepting contributions via Git</a>.</p>

<ol>
  <li>Sign the <a href="http://www.eclipse.org/legal/ECA.php">Eclipse ECA</a>
</li>
  <li>Register for an Eclipse Foundation User ID. You can register <a href="https://dev.eclipse.org/site_login/createaccount.php">here</a>.</li>
  <li>Log into the <a href="https://www.eclipse.org/contribute/cla">Eclipse projects forge</a>, and click on ‘Eclipse Contributor Agreement’.</li>
  <li>Go to your <a href="https://dev.eclipse.org/site_login/myaccount.php#open_tab_accountsettings">account settings</a> and add your GitHub username to your account.</li>
  <li>Make sure that you <em>sign-off</em> your Git commits in the following format:</li>
</ol>

<p><code class="language-plaintext highlighter-rouge">Signed-off-by: Alex Smith &lt;alexsmith@nowhere.com&gt;
</code> This is usually at the bottom of the commit message. You can automate this by adding the ‘-s’ flag when you make the commits. e.g.<br>
```git commit -s -m “Adding a cool feature”</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4. Ensure that the email address that you make your commits with is the same one you used to sign up to the Eclipse Foundation website with.

## Contributing a change

1. [Fork the repository on GitHub](https://github.com/eclipse/paho.mqtt.c/fork)
2. Clone the forked repository onto your computer: 
``` git clone https://github.com/&lt;your username&gt;/paho.mqtt.c.git 
</code></pre></div></div>
<ol>
  <li>Create a new branch from the latest
    <pre><code class="language-develop">``` branch with 
```git checkout -b YOUR_BRANCH_NAME origin/develop
</code></pre>
  </li>
  <li>Make your changes</li>
  <li>If developing a new feature, make sure to include JUnit tests.</li>
  <li>Ensure that all new and existing tests pass.</li>
  <li>Commit the changes into the branch:
<code class="language-plaintext highlighter-rouge">git commit -s
</code> Make sure that your commit message is meaningful and describes your changes correctly.</li>
  <li>If you have a lot of commits for the change, squash them into a single / few commits.</li>
  <li>Push the changes in your branch to your forked repository.</li>
  <li>Finally, go to <a href="https://github.com/eclipse/paho.mqtt.c">https://github.com/eclipse/paho.mqtt.c</a> and create a pull request from your “YOUR_BRANCH_NAME” branch to the
<code class="language-plaintext highlighter-rouge">develop
</code> one to request review and merge of the commits in your pushed branch.</li>
</ol>

<p>What happens next depends on the content of the patch.
If it is 100% authored by the contributor with less than 1000 lines of new product code that meets
the needs of the project (refactored, test code and sample code is excluded from the count), then it
can be pulled into the main repository. When there are more than 1000 lines of new product code,
more steps are required. More details are provided in the <a href="https://www.eclipse.org/projects/handbook/#ip">handbook</a>.</p>

<h2 id="developer-resources">Developer resources:</h2>

<p>Information regarding source code management, builds, coding standards, and more.</p>

<ul>
  <li><a href="https://projects.eclipse.org/projects/iot.paho/developer">https://projects.eclipse.org/projects/iot.paho/developer</a></li>
</ul>

<h2 id="contact">Contact:</h2>

<p>Contact the project developers via the project’s development
<a href="https://dev.eclipse.org/mailman/listinfo/paho-dev">mailing list</a>.</p>

<h2 id="search-for-bugs">Search for bugs:</h2>

<p>This project uses GitHub Issues here: <a href="https://github.com/eclipse/paho.mqtt.c/issues">github.com/eclipse/paho.mqtt.c/issues</a> to track ongoing development and issues.</p>

<h2 id="create-a-new-bug">Create a new bug:</h2>

<p>Be sure to search for existing bugs before you create another one. Remember that contributions are always welcome!</p>

<ul>
  <li><a href="https://github.com/eclipse/paho.mqtt.c/issues/new">Create new Paho bug</a></li>
</ul>
</div>
              <hr id="galactic-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="galactic-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#galactic-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#galactic-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#galactic-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="galactic-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="galactic-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="galactic-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/paho-mqtt-c">paho-mqtt-c</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-eclipse-paho-mqtt-c
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-eclipse-paho-mqtt-c" role="menuitem" tabindex="-1" href="/r/paho-mqtt-c/github-eclipse-paho-mqtt-c" data="github-eclipse-paho-mqtt-c">
                    <span class="glyphicon glyphicon-star"></span>
                    github-eclipse-paho-mqtt-c
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/paho-mqtt-c">paho-mqtt-c</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-eclipse-paho-mqtt-c
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-eclipse-paho-mqtt-c" role="menuitem" tabindex="-1" href="/r/paho-mqtt-c/github-eclipse-paho-mqtt-c" data="github-eclipse-paho-mqtt-c">
                    <span class="glyphicon glyphicon-star"></span>
                    github-eclipse-paho-mqtt-c
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/eclipse/paho.mqtt.c.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
