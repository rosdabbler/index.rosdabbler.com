<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/camera_aravis2/github-FraunhoferIOSB-camera_aravis2/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">camera_aravis2</li>
        <!--<li class="active">camera_aravis2</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/camera_aravis2">camera_aravis2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/camera_aravis2">camera_aravis2</a>
        
        <a class="label label-primary pkg-label" href="/p/camera_aravis2_msgs">camera_aravis2_msgs</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-FraunhoferIOSB-camera_aravis2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-FraunhoferIOSB-camera_aravis2" role="menuitem" tabindex="-1" href="/r/camera_aravis2/github-FraunhoferIOSB-camera_aravis2" data="github-FraunhoferIOSB-camera_aravis2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-FraunhoferIOSB-camera_aravis2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS2 camera driver for GenICam-based GigEVision and USB3Vision cameras.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/FraunhoferIOSB/camera_aravis2.git">https://github.com/FraunhoferIOSB/camera_aravis2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-12-12
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/camera_aravis2/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/camera_aravis2/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/camera_aravis2/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/camera_aravis2">camera_aravis2</a></td>
                    <td>1.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/camera_aravis2_msgs">camera_aravis2_msgs</a></td>
                    <td>1.1.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="camera_aravis2">camera_aravis2</h1>

<p>An actively maintained ROS 2 camera driver for <a href="https://www.emva.org/standards-technology/genicam/">GenICam</a>-based (GigEVision and USB3Vision) cameras. 
It is a subsequent development of <a href="https://github.com/FraunhoferIOSB/camera_aravis">camera_aravis</a>, but in order to clean up some legacy code and, in turn, support new features mor easily, we opted to implement it with a new code-base. 
It is open sourced under the 3-clause BSD license.</p>

<p>It relies on the <a href="http://live.gnome.org/Aravis">Aravis</a> library to access the GigEVision and USB3Vision cameras. 
Aravis is a glib/gobject based library for video acquisition using GenICam cameras. 
It currently implements the gigabit ethernet and USB3 protocols used by industrial cameras.</p>

<p><strong>Acknowledgement</strong>: This software was developed as part of the project <a href="https://robdekon.de/">ROBDEKON – Robotic Systems for Decontamination in Hazardous Environments</a>, funded by the Federal Ministry of Education and Research (BMBF) under the German Federal Government’s Research for Civil Security program.</p>

<p><em>camera_aravis for ROS 1 can be found here: https://github.com/FraunhoferIOSB/camera_aravis</em></p>

<hr>

<h3 id="continuous-integration">Continuous Integration:</h3>

<table>
  <thead>
    <tr>
      <th>Service</th>
      <th>devel</th>
      <th>main</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GitHub</td>
      <td>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml/badge.svg?branch=devel" alt="Humble Hawksbill"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml/badge.svg?branch=devel" alt="Iron Irwini"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml/badge.svg?branch=devel" alt="Jazzy Jalisco"></a>
</td>
      <td>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml/badge.svg?branch=main" alt="Humble Hawksbill"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml/badge.svg?branch=main" alt="Iron Irwini"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml/badge.svg?branch=main" alt="Jazzy Jalisco"></a>
</td>
    </tr>
  </tbody>
</table>

<hr>

<h3 id="contents">Contents:</h3>

<ul>
  <li>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#running-the-camera-driver">Running the Camera Driver</a>
    <ul>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#configuration">Configuration</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#example-launch-files">Example Launch Files</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#finding-available-cameras">Finding Available Cameras</a></li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#extracting-camera-specific-genicam-xml">Extracting Camera-Specific GenICam XML</a></li>
  <li>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#building-from-source">Building from Source</a>
    <ul>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#requirements">Requirements</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#build">Build</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#test">Test</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#faq">FAQ</a>
    <ul>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-use-ptp">How to use PTP</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-set-specific-analog-control-values-eg-balance-ratios">How to set specific analog control values (e.g. balance ratios)</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-manually-trigger-calculation-of-white-balance-ratios">How to manually trigger calculation of white balance ratios</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-dynamically-change-camera-parameters">How to dynamically change camera parameters</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-publish-camera-diagnostics--status">How to publish camera diagnostics / status</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-access-gigevision-camera-using-the-ip-address">How to access GigEVision camera using the IP address</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#known-issues">Known Issues</a></li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/CONTRIBUTING.md">Contributing</a></li>
</ul>

<hr>

<h2 id="running-the-camera-driver">Running the Camera Driver</h2>

<p>In camera_aravis2 the actual camera driver is implemented in two nodes:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">camera_driver_gv</code> for GigEVision cameras, and</li>
  <li>
<code class="language-plaintext highlighter-rouge">camera_driver_uv</code>, for USB3Vision cameras.</li>
</ul>

<h3 id="configuration">Configuration</h3>

<p>The configuration of the camera driver is divided into a driver-specific and GenICam-specific parameterization as described below.</p>

<h4 id="driver-specific-parameters">Driver-specific Parameters</h4>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">guid</code>: Serial number or IP address <em>(GigEVision Cameras only)</em> of the camera that is to be opened. GUIDs and IP addresses of available cameras can be discovered with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#finding-available-cameras"><code class="language-plaintext highlighter-rouge">camera_finder</code></a> node.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If omitted a random camera is picked from the list of connected cameras and will be opened.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">stream_names</code>: String list of names that are to be associated with each stream. If multiple streams are available, these names will be appended to the topic names in order to distinguish the different image streams.
    <ul>
      <li>Type: String-Array</li>
      <li>Default: {}</li>
      <li>Optional. If omitted or less names are given than streams available, each stream will get given a name based on its ID, starting with 0.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">camera_info_urls</code>: String list of urls to camera_info files associated with each stream. List should have the same length as the number of streams provided by the camera. If the number of URLs does not correspond to number of streams available, the minimum of both is used to set the number of streams that are to be established.
    <ul>
      <li>Type: String-Array</li>
      <li>Default: {}</li>
      <li>Optional. If omitted, it is constructed from the camera GUID located within the current working directory, with the stream name separated by ‘_’ appended to the file name, if more than one streams are instantiated.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">frame_id</code>: Frame ID that is to be associated with the sensor and, in turn,  with the image data. If multiple streams are supported by the camera, the given ID serves as a base string to which the stream name is appended, together with ‘_’ as separator.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If no frame ID is specified, the name of the node will be used.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">dynamic_parameters_yaml_url
</code>: URL to yaml file specifying camera parameters that are to be made dynamically changeable.  See ‘<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-dynamically-change-camera-parameters">How to dynamically change camera parameters</a>’ for more info.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If left empty no dynamic parameters, apart from the camera_aravis-specific parameters will be available</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">diagnostic_yaml_url
</code>: URL to yaml file specifying the camera features which are to be 
monitored. See ‘<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-publish-camera-diagnostics--status">How to publish camera diagnostics / status</a>’ for more info.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If left empty no diagnostic features will be read and published.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">diagnostic_publish_rate
</code>: Rate (in Hz) at which to read and publish the diagnostic data.
    <ul>
      <li>Type: double</li>
      <li>Default: 0.1 (every 10 seconds)</li>
    </ul>
  </li>
</ul>

<h4 id="genicam-specific-parameters">GenICam-Specific Parameters</h4>

<p>To configure the camera, camera_aravis2 relies on the GenICam Standard Feature Naming Convention (SNFC) which can be found <a href="https://www.emva.org/standards-technology/genicam/genicam-downloads/">here</a>. 
The SNFC groups the individual features into numerous catagories (e.g. Image Format Control, Acquisition Control, Analog Control, …).
Camera_aravis2 explicitly looks for a number of features in a couple of categories to be specified and tries to set the features accordingly. 
If specified as launch parameter, camera_aravis2 will set the following features in the same order as listed below:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">DeviceControl</code> (List): GenICam parameters of the ‘DeviceControl’ category that are to be set. Here, no specific order is implemented. Nested parameter list is evaluated in alphabetical order.</li>
  <li>
<code class="language-plaintext highlighter-rouge">TransportLayerControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘TransportLayerControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">GevSCPSPacketSize</code> (Int) - <em>GigEVision Cameras only</em> : Specifies the packet size, in bytes, which are to be send. This should correspond ‘DeviceStreamChannelPacketSize’ and the maximum transport unit (MTU) of the interface.</li>
      <li>
<code class="language-plaintext highlighter-rouge">GevSCPD</code> (Int) - <em>GigEVision Cameras only</em> : Controls the delay (in GEV timestamp counter unit) to insert between
each packet for this stream channel.</li>
      <li>
<code class="language-plaintext highlighter-rouge">PtpEnable</code> (Bool) - <em>GigEVision Cameras only</em> : Enables the Precision Time Protocol (PTP).</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘TransportLayerControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">ImageFormatControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘ImageFormatControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">PixelFormat</code>* (String): Format of the pixels provided by the device.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ReverseX</code>* (Bool): Flip horizontally the image sent by the device.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ReverseY</code>* (Bool): Flip vertically the image sent by the device.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningHorizontal</code>* (Int): Number of pixels to horizontally combine together.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningHorizontalMode</code>* (String): Mode to use when BinningHorizontal is used. Values possible: ‘Sum’, or ‘Average’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningVertical</code>* (Int): Number of pixels to horizontally combine together.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningVerticalMode</code>* (String): Mode to use when BinningHorizontal is used. Values possible: ‘Sum’, or ‘Average’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">Width</code>* (Int): Width of the image provided by the device (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">Height</code>* (Int): Height of the image provided by the device (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">OffsetX</code>* (Int): Horizontal offset from the origin to the region of interest (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">OffsetY</code>* (Int): Vertical offset from the origin to the region of interest (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘ImageFormatControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">AcquisitionControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionMode</code>* (String): Sets the acquisition mode of the device. Values possible: ‘SingleFrame’, ‘MultiFrame’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionFrameCount</code>* (Int): Number of frames to acquire in MultiFrame Acquisition mode. Only evaluated if ‘AcquisitionMode’ is ‘MultiFrame’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ExposureMode</code>* (String): Sets the operation mode of the Exposure. Values possible: ‘Off’, ‘Timed’, ‘TriggerWidth’, or ‘TriggerControlled’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ExposureAuto</code>* (String): Sets the automatic exposure mode when ExposureMode is Timed. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ExposureTime</code>* (Double): Sets the Exposure time when ‘ExposureMode’ is ‘Timed’ and ‘ExposureAuto’ is ‘Off’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionFrameRateEnable</code>* (Bool): Controls if the AcquisitionFrameRate feature is writable and used to control the acquisition rate.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionFrameRate</code>* (Double): Controls the acquisition rate (in Hertz) at which the frames are captured.</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">AnalogControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">GainAuto</code>* (String): Sets the automatic gain control mode. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">Gain</code>* (List): Key-Value pairs of type string (key) and double (value) to set specific gain values in case ‘GainAuto’ is set to ‘Off’. In this, the key will be set as value to the ‘GainSelector’ and the value will be set to the ‘Gain’ feature. The list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BlackLevelAuto</code>* (String): Controls the mode for automatic black level adjustment. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BlackLevel</code>* (List): Key-Value pairs of type string (key) and double (value) to set specific black level values in case ‘BlackLevelAuto’ is set to ‘Off’. In this, the key will be set as value to the ‘BlackLevelSelector’ and the value will be set to the ‘BlackLevel’ feature. The list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BalanceWhiteAuto</code>* (String): Controls the mode for automatic black level adjustment. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BalanceRatio</code>* (List): Key-Value pairs of type string (key) and double (value) to set specific balance ratio values in case ‘BalanceWhiteAuto’ is set to ‘Off’. In this, the key will be set as value to the ‘BalanceRatioSelector’ and the value will be set to the ‘BalanceRatio’ feature. The list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
</ul>

<p>In the sections where a certain order of predefined parameters is considered and implemented, the user can specify a list of additional GenICam parameters nested underneath the parameter <code class="language-plaintext highlighter-rouge">BEGIN</code> and <code class="language-plaintext highlighter-rouge">END</code>, respectively, which are not explicitly evaluated as part of the list above. 
This allows for the user to specify parameters which are not known to camera_aravis2. 
Similar holds for the parameters within the ‘DeviceControl’ category.
It is to be noted, however, that the nested parameters are evaluated in alphabetical order, which might lead to unintended behavior, depending on the camera device.</p>

<p>The example values that are given in case of string parameters are given in accordance with the GenICam SNFC.
The possible values might differ according to the actual implementation by the camera manufacturer.</p>

<p>Parameters marked with * are evaluated and set per stream/channel. 
Meaning, that for a multi-channel or multi-source camera one can either specify a single parameter or a list of parameters (see ‘PixelFormat’ in the example below).
In case a single parameter is specified, the corresponding value is set for all channels.
If a list of parameters is given, for each channel the value with the corresponding channel index will be set.
If the list is smaller than the available channels, the value of the last entry will be set for the remaining channels.
Please note, that the flexibility of setting different parameters values for the individual channels depends on the actual implementation by the camera manufacturer.</p>

<p>When launching the camera driver, the features are to be configured as nested launch parameters.
While the parameters are evaluated by camera_aravis2 in the specific order which is listed above, they can be specified in an arbitrary order in the launch file.</p>
<details>
<summary>For example ...</summary>


```Python
    ...
    parameters=[{
                    # Driver-specific parameters
                    ...
                    
                    # GenICam-specific parameters
                    "DeviceControl": {
                        "DeviceLinkThroughputLimit": 125000000,
                        "DeviceLinkThroughputLimitMode": "On"
                    },
                    "TransportLayerControl": {
                        "GevSCPSPacketSize": 9000,
                        "PtpEnable": True
                    },
                    "ImageFormatControl": {
                        "BEGIN": {
                            "BinningSelector": "Digital"
                        },
                        "PixelFormat": "BayerRG8",
                        "Width": 1920,
                        "Height": 1200
                    },
                    "AcquisitionControl": {
                        "ExposureMode": "Timed",
                        "ExposureAuto": "Continuous",
                        "AcquisitionFrameRate": 30.0
                    },
                    "AnalogControl": {
                        "GainAuto": "Continuous",
                        "BalanceWhiteAuto": "Off",
                        "BalanceRatio": {
                            "Red": 1.6,
                            "Blue": 2.0
                        }
                    }
                }]
    ...

```
</details>
<p><br></p>

<p>If a feature is omitted but supported by the camera, it will default to the value that is currently set on the device.</p>

<p>To find the features that are available for configuration on the camera, together with their feature names and their value ranges, look into the documentation of the manufacturer or <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#extracting-camera-specific-genicam-xml">extract the camera-specific GenICam XML file</a>.</p>

<h3 id="example-launch-files">Example Launch Files</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">camera_driver_gv
</code>: <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/./camera_aravis2/launch/camera_driver_gv_example.launch.py">camera_aravis2/launch/camera_driver_gv_example.launch.py</a></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">camera_driver_uv
</code>: <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/./camera_aravis2/launch/camera_driver_uv_example.launch.py">camera_aravis2/launch/camera_driver_uv_example.launch.py</a></p>
  </li>
</ul>

<h2 id="finding-available-cameras">Finding Available Cameras</h2>

<p>Camera_aravis2 provides the node <code class="language-plaintext highlighter-rouge">camera_finder</code> to find available cameras and print out the corresponding GUIDs.
These, in turn, are needed to run the camera drivers or to export the camera specific GenICam XML.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run camera_aravis2 camera_finder

</code></pre></div></div>

<p>Alternatively, you can use <code class="language-plaintext highlighter-rouge">aravis-tools</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install aravis-tools
arv-tool-0.8

</code></pre></div></div>

<h2 id="extracting-camera-specific-genicam-xml">Extracting Camera-specific GenICam XML</h2>

<p>Each camera model has a specific XML data stored inside the device memory which describes the GenICam interface of the camera. 
In this XML data the supported features of the camera are documented and can help to configure the camera.
To extract this XML data and write it into a file, camera_aravis2 provides the node <code class="language-plaintext highlighter-rouge">camera_xml_exporter</code> which can be invoked as shown below:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run camera_aravis2 camera_xml_exporter <span class="nt">--ros-args</span> <span class="nt">-p</span> guid:<span class="o">=</span>&lt;camera_guid&gt; <span class="nt">-p</span> xml_file:<span class="o">=</span>&lt;output_file&gt;

</code></pre></div></div>

<p>If <code class="language-plaintext highlighter-rouge">guid</code> is omitted, the XML data will be read from any of the cameras which are connected and found by camera_aravis2.
As a <code class="language-plaintext highlighter-rouge">xml_file</code>, either a relative or absolute path can be provided in which the XML data is to be saved.
If omitted, the data is saved into a file in the current working directory with the ‘guid’ as filename.</p>

<p>Example launch file: <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/./camera_aravis2/launch/camera_xml_exporter_example.launch.py">camera_aravis2/launch/camera_xml_exporter_example.launch.py</a>.</p>

<p>Alternatively, you can use <code class="language-plaintext highlighter-rouge">aravis-tools</code> to see the feature list and the XML file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install aravis-tools
arv-tool-0.8 --name=&lt;camera_guid&gt; features
arv-tool-0.8 --name=&lt;camera_guid&gt; genicam

</code></pre></div></div>

<h2 id="building-from-source">Building from Source</h2>

<h3 id="requirements">Requirements</h3>

<p><strong>camera_aravis2</strong>:</p>

<ul>
  <li>Aravis 0.8 or later</li>
  <li>ROS 2 (tested with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#continuous-integration">humble and later</a>)</li>
  <li>cv_bridge</li>
  <li>image_transport</li>
  <li>camera_info_manager</li>
  <li>std_msgs</li>
  <li>sensor_msgs</li>
  <li>camera_aravis2_msgs</li>
</ul>

<p><strong>camera_aravis2_msgs</strong>:</p>

<ul>
  <li>ROS 2 (tested with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#continuous-integration">humble and later</a>)</li>
  <li>std_msgs</li>
  <li>sensor_msgs</li>
</ul>

<h3 id="build">Build</h3>

<p>Install aravis:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>libaravis-dev

</code></pre></div></div>

<p>Initialize <code class="language-plaintext highlighter-rouge">rosdep</code> and install dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>rosdep init
rosdep update
rosdep <span class="nb">install</span> <span class="nt">--from-paths</span> src <span class="nt">-y</span> <span class="nt">--ignore-src</span>

</code></pre></div></div>

<p>Run <code class="language-plaintext highlighter-rouge">colcon</code> to build from source:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>colcon build <span class="nt">--symlink-install</span> <span class="nt">--packages-up-to</span> camera_aravis2

</code></pre></div></div>

<p>To build in ‘Debug’ mode add <code class="language-plaintext highlighter-rouge">--cmake-args -DCMAKE_BUILD_TYPE=Debug</code> to colcon command.
If omitted, camera_aravis2 will be build in ‘Release’ mode.</p>

<h3 id="test">Test</h3>

<p>To run tests after build, additionally call:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>colcon <span class="nb">test</span> <span class="nt">--event-handlers</span><span class="o">=</span>console_direct+
colcon test-result <span class="nt">--all</span>


</code></pre></div></div>

<h2 id="faq">FAQ</h2>

<h3 id="how-to-use-ptp">How to use PTP</h3>

<p><em>GigEVision Cameras Only</em></p>

<p>Some GigEVision cameras support the use of the Precision Time Protocol (PTP) to set the timestamps of the captured images. To activate and use it just set the launch parameter ‘TransportLayerControl.PtpEnable’ to ‘True’ as seen blow:</p>

<pre><code class="language-Python">    ...
    parameters=[{
                    ...
                    "TransportLayerControl": {
                        "PtpEnable": True
                    }
                    ...
                }]
    ...

</code></pre>

<h3 id="how-to-set-specific-analog-control-values-eg-balance-ratios">How to set specific analog control values (e.g. balance ratios)</h3>

<p>Typically GenICam cameras support three different modes for automatic control of analog settings (e.g. gain, black level, white balance), namely ‘Continuous’, ‘Once’, and ‘Off’. These can be set via the launch parameter and corresponding feature names, i.e. ‘GainAuto’, ‘BlackLevelAuto’, ‘BalanceWhiteAuto’. As the names suggest, the first mode will continuously adjust the white 
balance, while the second mode will measure the white balance once and then freeze the ratio
parameters. In case, of the third mode, the ratios of the different color channels can and need to be set manually.</p>

<p>Use the launch parameters of camera_aravis2 to manually set the ratio parameters and configure the analog control, by</p>

<ul>
  <li>setting the corresponding auto feature to ‘Off’,</li>
  <li>and providing a list of key-value pairs of type string (key) and double (value) for the corresponding feature.</li>
</ul>

<p>In this, the key will be set as value to the corresponding selector (e.g. ‘GainSelector’, ‘BalanceRatioSelector’) and the value will be set to the feature.</p>

<p>For example:</p>

<pre><code class="language-Python">    ...
    parameters=[{
                    ...
                    "AnalogControl": {
                        "GainAuto": "Continuous",
                        "BalanceWhiteAuto": "Off",
                        "BalanceRatio": {
                            "Red": 1.6,
                            "Blue": 2.0
                        }
                    }
                    ...
                }]
    ...

</code></pre>

<h3 id="how-to-manually-trigger-calculation-of-white-balance-ratios">How to manually trigger calculation of white balance ratios</h3>
<p>To trigger an automatic white balance computation and a subsequent setting of</p>
<pre><code class="language-BalanceWhiteAuto">``` to 
```Once
```, camera_aravis2 provides a service called 
```calculate_white_balance_once
```. 
Calling this service will trigger a one shot computation of the white balance parameters and return the newly computed balance ratios.
This can be called no matter which mode has been set previously.

### How to dynamically change camera parameters

Camera_aravis allows to customize the camera parameters that are to be made dynamically changeable, for example, by utilizing 
```rqt_reconfigure
```.
The parameters that are to be changed dynamically can be specified within a yaml file which, in turn, is to be passed to camera_aravis through the [launch parameter](#driver-specific-parameters):
- 'dynamic_parameters_yaml_url'.

This file should hold a list of 

```FeatureName
```, representing the camera parameter that is to be changed, together with a corresponding 
```Type
``` (bool, float, int, or string).
In addition to the feature name and the type an optional 
```Description
``` can be specified.
Furthermore, for integer and floating point parameters a lower and upper bound can optionally be specified through the fields 
```Min
``` and 
```Max
```.

For example, the following snippet will declare the parameter 'AcquisitionFrameRate' as dynamically changeable and set the possible value range to [0.1, 50.0]:

```Yaml
    ...
    - FeatureName: AcquisitionFrameRate
      Type: float
      Min: 0.1
      Max: 50.0
      Description: Controls the acquisition rate (in Hertz) at which the frames are captured.
    ...

</code></pre>

<p>During the declaration of floating point or integer parameters, camera_aravis will additionally try to extract the lower and upper bounds of the feature from the device and compare it to the possibly declared bounds by the user. 
In this, camera_aravis will set the intersection of both ranges as the range for the corresponding parameter.</p>

<p>An example of this yaml file is given in <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/camera_aravis2/config/dynamic_parameters_example.yaml">dynamic_parameters_example.yaml</a>.</p>

<h3 id="how-to-publish-camera-diagnostics--status">How to publish camera diagnostics / status</h3>

<p>Camera_aravis allows to periodically monitor custom camera features and publish them in a designated
topic named
<code class="language-plaintext highlighter-rouge">~/diagnostics
</code> in a message type as specified in 
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/camera_aravis2_msgs/msg/CameraDiagnostics.msg">CameraDiagnostics.msg</a>. In order to configure and customize this 
status monitoring, two <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#driver-specific-parameters">launch parameters</a> are provided:</p>
<ul>
  <li>‘diagnostic_publish_rate’, and</li>
  <li>‘diagnostic_yaml_url’.</li>
</ul>

<p>An example of such a diagnostic yaml file is given in 
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/camera_aravis2/config/camera_diagnostics_example.yaml">camera_diagnostics_example.yaml</a>. This file should hold a list of</p>

<p><code class="language-plaintext highlighter-rouge">FeatureName
</code> together with a corresponding
<code class="language-plaintext highlighter-rouge">Type
</code> (bool, float, int, or string) for each
feature which is to be monitored. If a feature is associated with a feature selector, one can 
additionally specify a list of
<code class="language-plaintext highlighter-rouge">Selectors
</code>. Each entry in this list should again have a</p>

<p><code class="language-plaintext highlighter-rouge">FeatureName
</code> and
<code class="language-plaintext highlighter-rouge">Type
</code>, as well as a
<code class="language-plaintext highlighter-rouge">Value
</code> to set.</p>

<p>For each feature a key-value pair is constructed and published in the
<code class="language-plaintext highlighter-rouge">data
</code> field of the 
message stated above. If a feature as a list of selectors, one key-value pair is constructed for each Feature-Selector pair.</p>

<h3 id="how-to-access-gigevision-camera-using-the-ip-address">How to access GigEVision camera using the IP address</h3>

<p>GigEVision cameras can also be accessed using their IP address instead of their serial number simply by passing the address to the launch parameter <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#driver-specific-parameters"><code class="language-plaintext highlighter-rouge">guid</code></a>. 
GUIDs and IP addresses of available cameras can be discovered with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#finding-available-cameras"><code class="language-plaintext highlighter-rouge">camera_finder</code></a> node.</p>

<h2 id="known-issues">Known Issues</h2>

<ul>
  <li>
<strong>Permanent acquisition and publication of image data prior to Jazzy Jalisco:</strong>
With camera_aravis for ROS1, the acquisition and publication of the image data only started when a subscriber has been registered on the image topic and stopped as soon as no subscriber has been registered anymore.
This helped to minimize unnecessary data transfer. 
With the so-called <a href="https://docs.ros.org/en/foxy/Releases/Release-Iron-Irwini.html#matched-events"><code class="language-plaintext highlighter-rouge">matched-events</code></a>, ROS Iron Irwini has introduced a functionality that allows to do the same. 
However, the <code class="language-plaintext highlighter-rouge">image_transport</code> package for ROS Iron, which is used in <code class="language-plaintext highlighter-rouge">camera_aravis</code>, does not yet implement this feature.
This feature is only available and implemented sinze ROS Jazzy Jalisco.</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="contributing">CONTRIBUTING</h1>

<p>We are using the <a href="https://guides.github.com/introduction/flow/">Feature Branch Workflow</a>, and prefer contributions as merge requests.</p>

<p><strong>There’s only one rule: anything in the master branch is always deployable.</strong></p>

<p>Create a feature branch:</p>

<p><code class="language-plaintext highlighter-rouge">git checkout -B feat/&lt;feature_name&gt;</code></p>

<h2 id="recommended-workflow">Recommended workflow</h2>

<ol>
  <li>
<strong>Fork</strong> the repository if your are not a collaborator and have direct access to the repository</li>
  <li>Checkout new <strong>branch</strong> (branching of <code class="language-plaintext highlighter-rouge">devel</code>)</li>
  <li>Make <strong>changes</strong>
</li>
  <li>Run <strong>tests</strong>
</li>
  <li>
<strong>Commit</strong> those changes</li>
  <li><strong>Push</strong></li>
  <li>Create a <strong>pull request</strong> (targeting <code class="language-plaintext highlighter-rouge">devel</code>)</li>
</ol>

<hr>

<h2 id="branching-recommendations">Branching Recommendations</h2>

<ul>
  <li>
    <p>Try to keep two main branches
<code class="language-plaintext highlighter-rouge">main
</code> and
<code class="language-plaintext highlighter-rouge">devel
</code>.</p>
  </li>
  <li>
    <p>The
<code class="language-plaintext highlighter-rouge">devel
</code>-branch should be the default branch in which all developments are done and from which new branches are created.</p>
  </li>
  <li>
    <p>Each new release with a version tag should be merged into
<code class="language-plaintext highlighter-rouge">main
</code>. <em>Intermediate merges can be made if there is a feature which is to be made available in the default branch prior to an official release.</em></p>
  </li>
</ul>

<hr>

<h2 id="commit-conventions">Commit Conventions</h2>

<p>We aim at concise and yet descriptive commit messages. In this, we suggest the following:</p>

<p>Each top line of a commit should be made up of a type and a subject</p>

<p><code class="language-plaintext highlighter-rouge">&lt;type&gt;: &lt;subject&gt;</code></p>

<p>Allowed types:</p>

<ul>
  <li>
<strong>feat</strong>: A new feature</li>
  <li>
<strong>enhance</strong>: An enhancement to the current feature set</li>
  <li>
<strong>fix</strong>: A bug fix</li>
  <li>
<strong>docs</strong>: Documentation only changes</li>
  <li>
<strong>style</strong>: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, newline, line endings, etc)</li>
  <li>
<strong>refactor</strong>: A code change that neither fixes a bug or adds a feature</li>
  <li>
<strong>perf</strong>: A code change that improves performance</li>
  <li>
<strong>test</strong>: Adding missing tests</li>
  <li>
<strong>chore</strong>: Changes to the build process or auxiliary tools and libraries such as documentation generation</li>
  <li>
<strong>release</strong>: Committing changes, e.g. to CHANGELOG.rst, for a new release</li>
</ul>

<p>You can add additional details after a new line to describe the change in detail or automatically close a issue on Github.</p>

<p>Example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docs: create initial CONTRIBUTING

This closes #73

</code></pre></div></div>
<hr>

<h1 id="versioning-conventions">Versioning Conventions</h1>

<p>This repo adheres to semantic versioning: <a href="http://semver.org/">http://semver.org/</a>.
Given a version number MAJOR.MINOR.PATCH, increment the:</p>

<ul>
  <li>MAJOR version when you make incompatible API changes,</li>
  <li>MINOR version when you add functionality in a backwards-compatible manner, and</li>
  <li>PATCH version when you make backwards-compatible bug fixes.</li>
</ul>

<p>Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format</p>

<hr>

</div>
              <hr id="humble-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="humble-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#humble-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#humble-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#humble-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="humble-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="humble-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="humble-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/camera_aravis2">camera_aravis2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/camera_aravis2">camera_aravis2</a>
        
        <a class="label label-primary pkg-label" href="/p/camera_aravis2_msgs">camera_aravis2_msgs</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-FraunhoferIOSB-camera_aravis2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-FraunhoferIOSB-camera_aravis2" role="menuitem" tabindex="-1" href="/r/camera_aravis2/github-FraunhoferIOSB-camera_aravis2" data="github-FraunhoferIOSB-camera_aravis2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-FraunhoferIOSB-camera_aravis2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS2 camera driver for GenICam-based GigEVision and USB3Vision cameras.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/FraunhoferIOSB/camera_aravis2.git">https://github.com/FraunhoferIOSB/camera_aravis2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-12-12
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/camera_aravis2/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/camera_aravis2/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/camera_aravis2/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/camera_aravis2">camera_aravis2</a></td>
                    <td>1.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/camera_aravis2_msgs">camera_aravis2_msgs</a></td>
                    <td>1.1.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="camera_aravis2">camera_aravis2</h1>

<p>An actively maintained ROS 2 camera driver for <a href="https://www.emva.org/standards-technology/genicam/">GenICam</a>-based (GigEVision and USB3Vision) cameras. 
It is a subsequent development of <a href="https://github.com/FraunhoferIOSB/camera_aravis">camera_aravis</a>, but in order to clean up some legacy code and, in turn, support new features mor easily, we opted to implement it with a new code-base. 
It is open sourced under the 3-clause BSD license.</p>

<p>It relies on the <a href="http://live.gnome.org/Aravis">Aravis</a> library to access the GigEVision and USB3Vision cameras. 
Aravis is a glib/gobject based library for video acquisition using GenICam cameras. 
It currently implements the gigabit ethernet and USB3 protocols used by industrial cameras.</p>

<p><strong>Acknowledgement</strong>: This software was developed as part of the project <a href="https://robdekon.de/">ROBDEKON – Robotic Systems for Decontamination in Hazardous Environments</a>, funded by the Federal Ministry of Education and Research (BMBF) under the German Federal Government’s Research for Civil Security program.</p>

<p><em>camera_aravis for ROS 1 can be found here: https://github.com/FraunhoferIOSB/camera_aravis</em></p>

<hr>

<h3 id="continuous-integration">Continuous Integration:</h3>

<table>
  <thead>
    <tr>
      <th>Service</th>
      <th>devel</th>
      <th>main</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GitHub</td>
      <td>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml/badge.svg?branch=devel" alt="Humble Hawksbill"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml/badge.svg?branch=devel" alt="Iron Irwini"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml/badge.svg?branch=devel" alt="Jazzy Jalisco"></a>
</td>
      <td>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml/badge.svg?branch=main" alt="Humble Hawksbill"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml/badge.svg?branch=main" alt="Iron Irwini"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml/badge.svg?branch=main" alt="Jazzy Jalisco"></a>
</td>
    </tr>
  </tbody>
</table>

<hr>

<h3 id="contents">Contents:</h3>

<ul>
  <li>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#running-the-camera-driver">Running the Camera Driver</a>
    <ul>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#configuration">Configuration</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#example-launch-files">Example Launch Files</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#finding-available-cameras">Finding Available Cameras</a></li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#extracting-camera-specific-genicam-xml">Extracting Camera-Specific GenICam XML</a></li>
  <li>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#building-from-source">Building from Source</a>
    <ul>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#requirements">Requirements</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#build">Build</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#test">Test</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#faq">FAQ</a>
    <ul>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-use-ptp">How to use PTP</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-set-specific-analog-control-values-eg-balance-ratios">How to set specific analog control values (e.g. balance ratios)</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-manually-trigger-calculation-of-white-balance-ratios">How to manually trigger calculation of white balance ratios</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-dynamically-change-camera-parameters">How to dynamically change camera parameters</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-publish-camera-diagnostics--status">How to publish camera diagnostics / status</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-access-gigevision-camera-using-the-ip-address">How to access GigEVision camera using the IP address</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#known-issues">Known Issues</a></li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/CONTRIBUTING.md">Contributing</a></li>
</ul>

<hr>

<h2 id="running-the-camera-driver">Running the Camera Driver</h2>

<p>In camera_aravis2 the actual camera driver is implemented in two nodes:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">camera_driver_gv</code> for GigEVision cameras, and</li>
  <li>
<code class="language-plaintext highlighter-rouge">camera_driver_uv</code>, for USB3Vision cameras.</li>
</ul>

<h3 id="configuration">Configuration</h3>

<p>The configuration of the camera driver is divided into a driver-specific and GenICam-specific parameterization as described below.</p>

<h4 id="driver-specific-parameters">Driver-specific Parameters</h4>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">guid</code>: Serial number or IP address <em>(GigEVision Cameras only)</em> of the camera that is to be opened. GUIDs and IP addresses of available cameras can be discovered with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#finding-available-cameras"><code class="language-plaintext highlighter-rouge">camera_finder</code></a> node.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If omitted a random camera is picked from the list of connected cameras and will be opened.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">stream_names</code>: String list of names that are to be associated with each stream. If multiple streams are available, these names will be appended to the topic names in order to distinguish the different image streams.
    <ul>
      <li>Type: String-Array</li>
      <li>Default: {}</li>
      <li>Optional. If omitted or less names are given than streams available, each stream will get given a name based on its ID, starting with 0.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">camera_info_urls</code>: String list of urls to camera_info files associated with each stream. List should have the same length as the number of streams provided by the camera. If the number of URLs does not correspond to number of streams available, the minimum of both is used to set the number of streams that are to be established.
    <ul>
      <li>Type: String-Array</li>
      <li>Default: {}</li>
      <li>Optional. If omitted, it is constructed from the camera GUID located within the current working directory, with the stream name separated by ‘_’ appended to the file name, if more than one streams are instantiated.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">frame_id</code>: Frame ID that is to be associated with the sensor and, in turn,  with the image data. If multiple streams are supported by the camera, the given ID serves as a base string to which the stream name is appended, together with ‘_’ as separator.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If no frame ID is specified, the name of the node will be used.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">dynamic_parameters_yaml_url
</code>: URL to yaml file specifying camera parameters that are to be made dynamically changeable.  See ‘<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-dynamically-change-camera-parameters">How to dynamically change camera parameters</a>’ for more info.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If left empty no dynamic parameters, apart from the camera_aravis-specific parameters will be available</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">diagnostic_yaml_url
</code>: URL to yaml file specifying the camera features which are to be 
monitored. See ‘<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-publish-camera-diagnostics--status">How to publish camera diagnostics / status</a>’ for more info.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If left empty no diagnostic features will be read and published.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">diagnostic_publish_rate
</code>: Rate (in Hz) at which to read and publish the diagnostic data.
    <ul>
      <li>Type: double</li>
      <li>Default: 0.1 (every 10 seconds)</li>
    </ul>
  </li>
</ul>

<h4 id="genicam-specific-parameters">GenICam-Specific Parameters</h4>

<p>To configure the camera, camera_aravis2 relies on the GenICam Standard Feature Naming Convention (SNFC) which can be found <a href="https://www.emva.org/standards-technology/genicam/genicam-downloads/">here</a>. 
The SNFC groups the individual features into numerous catagories (e.g. Image Format Control, Acquisition Control, Analog Control, …).
Camera_aravis2 explicitly looks for a number of features in a couple of categories to be specified and tries to set the features accordingly. 
If specified as launch parameter, camera_aravis2 will set the following features in the same order as listed below:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">DeviceControl</code> (List): GenICam parameters of the ‘DeviceControl’ category that are to be set. Here, no specific order is implemented. Nested parameter list is evaluated in alphabetical order.</li>
  <li>
<code class="language-plaintext highlighter-rouge">TransportLayerControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘TransportLayerControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">GevSCPSPacketSize</code> (Int) - <em>GigEVision Cameras only</em> : Specifies the packet size, in bytes, which are to be send. This should correspond ‘DeviceStreamChannelPacketSize’ and the maximum transport unit (MTU) of the interface.</li>
      <li>
<code class="language-plaintext highlighter-rouge">GevSCPD</code> (Int) - <em>GigEVision Cameras only</em> : Controls the delay (in GEV timestamp counter unit) to insert between
each packet for this stream channel.</li>
      <li>
<code class="language-plaintext highlighter-rouge">PtpEnable</code> (Bool) - <em>GigEVision Cameras only</em> : Enables the Precision Time Protocol (PTP).</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘TransportLayerControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">ImageFormatControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘ImageFormatControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">PixelFormat</code>* (String): Format of the pixels provided by the device.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ReverseX</code>* (Bool): Flip horizontally the image sent by the device.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ReverseY</code>* (Bool): Flip vertically the image sent by the device.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningHorizontal</code>* (Int): Number of pixels to horizontally combine together.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningHorizontalMode</code>* (String): Mode to use when BinningHorizontal is used. Values possible: ‘Sum’, or ‘Average’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningVertical</code>* (Int): Number of pixels to horizontally combine together.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningVerticalMode</code>* (String): Mode to use when BinningHorizontal is used. Values possible: ‘Sum’, or ‘Average’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">Width</code>* (Int): Width of the image provided by the device (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">Height</code>* (Int): Height of the image provided by the device (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">OffsetX</code>* (Int): Horizontal offset from the origin to the region of interest (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">OffsetY</code>* (Int): Vertical offset from the origin to the region of interest (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘ImageFormatControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">AcquisitionControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionMode</code>* (String): Sets the acquisition mode of the device. Values possible: ‘SingleFrame’, ‘MultiFrame’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionFrameCount</code>* (Int): Number of frames to acquire in MultiFrame Acquisition mode. Only evaluated if ‘AcquisitionMode’ is ‘MultiFrame’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ExposureMode</code>* (String): Sets the operation mode of the Exposure. Values possible: ‘Off’, ‘Timed’, ‘TriggerWidth’, or ‘TriggerControlled’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ExposureAuto</code>* (String): Sets the automatic exposure mode when ExposureMode is Timed. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ExposureTime</code>* (Double): Sets the Exposure time when ‘ExposureMode’ is ‘Timed’ and ‘ExposureAuto’ is ‘Off’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionFrameRateEnable</code>* (Bool): Controls if the AcquisitionFrameRate feature is writable and used to control the acquisition rate.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionFrameRate</code>* (Double): Controls the acquisition rate (in Hertz) at which the frames are captured.</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">AnalogControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">GainAuto</code>* (String): Sets the automatic gain control mode. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">Gain</code>* (List): Key-Value pairs of type string (key) and double (value) to set specific gain values in case ‘GainAuto’ is set to ‘Off’. In this, the key will be set as value to the ‘GainSelector’ and the value will be set to the ‘Gain’ feature. The list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BlackLevelAuto</code>* (String): Controls the mode for automatic black level adjustment. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BlackLevel</code>* (List): Key-Value pairs of type string (key) and double (value) to set specific black level values in case ‘BlackLevelAuto’ is set to ‘Off’. In this, the key will be set as value to the ‘BlackLevelSelector’ and the value will be set to the ‘BlackLevel’ feature. The list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BalanceWhiteAuto</code>* (String): Controls the mode for automatic black level adjustment. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BalanceRatio</code>* (List): Key-Value pairs of type string (key) and double (value) to set specific balance ratio values in case ‘BalanceWhiteAuto’ is set to ‘Off’. In this, the key will be set as value to the ‘BalanceRatioSelector’ and the value will be set to the ‘BalanceRatio’ feature. The list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
</ul>

<p>In the sections where a certain order of predefined parameters is considered and implemented, the user can specify a list of additional GenICam parameters nested underneath the parameter <code class="language-plaintext highlighter-rouge">BEGIN</code> and <code class="language-plaintext highlighter-rouge">END</code>, respectively, which are not explicitly evaluated as part of the list above. 
This allows for the user to specify parameters which are not known to camera_aravis2. 
Similar holds for the parameters within the ‘DeviceControl’ category.
It is to be noted, however, that the nested parameters are evaluated in alphabetical order, which might lead to unintended behavior, depending on the camera device.</p>

<p>The example values that are given in case of string parameters are given in accordance with the GenICam SNFC.
The possible values might differ according to the actual implementation by the camera manufacturer.</p>

<p>Parameters marked with * are evaluated and set per stream/channel. 
Meaning, that for a multi-channel or multi-source camera one can either specify a single parameter or a list of parameters (see ‘PixelFormat’ in the example below).
In case a single parameter is specified, the corresponding value is set for all channels.
If a list of parameters is given, for each channel the value with the corresponding channel index will be set.
If the list is smaller than the available channels, the value of the last entry will be set for the remaining channels.
Please note, that the flexibility of setting different parameters values for the individual channels depends on the actual implementation by the camera manufacturer.</p>

<p>When launching the camera driver, the features are to be configured as nested launch parameters.
While the parameters are evaluated by camera_aravis2 in the specific order which is listed above, they can be specified in an arbitrary order in the launch file.</p>
<details>
<summary>For example ...</summary>


```Python
    ...
    parameters=[{
                    # Driver-specific parameters
                    ...
                    
                    # GenICam-specific parameters
                    "DeviceControl": {
                        "DeviceLinkThroughputLimit": 125000000,
                        "DeviceLinkThroughputLimitMode": "On"
                    },
                    "TransportLayerControl": {
                        "GevSCPSPacketSize": 9000,
                        "PtpEnable": True
                    },
                    "ImageFormatControl": {
                        "BEGIN": {
                            "BinningSelector": "Digital"
                        },
                        "PixelFormat": "BayerRG8",
                        "Width": 1920,
                        "Height": 1200
                    },
                    "AcquisitionControl": {
                        "ExposureMode": "Timed",
                        "ExposureAuto": "Continuous",
                        "AcquisitionFrameRate": 30.0
                    },
                    "AnalogControl": {
                        "GainAuto": "Continuous",
                        "BalanceWhiteAuto": "Off",
                        "BalanceRatio": {
                            "Red": 1.6,
                            "Blue": 2.0
                        }
                    }
                }]
    ...

```
</details>
<p><br></p>

<p>If a feature is omitted but supported by the camera, it will default to the value that is currently set on the device.</p>

<p>To find the features that are available for configuration on the camera, together with their feature names and their value ranges, look into the documentation of the manufacturer or <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#extracting-camera-specific-genicam-xml">extract the camera-specific GenICam XML file</a>.</p>

<h3 id="example-launch-files">Example Launch Files</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">camera_driver_gv
</code>: <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/./camera_aravis2/launch/camera_driver_gv_example.launch.py">camera_aravis2/launch/camera_driver_gv_example.launch.py</a></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">camera_driver_uv
</code>: <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/./camera_aravis2/launch/camera_driver_uv_example.launch.py">camera_aravis2/launch/camera_driver_uv_example.launch.py</a></p>
  </li>
</ul>

<h2 id="finding-available-cameras">Finding Available Cameras</h2>

<p>Camera_aravis2 provides the node <code class="language-plaintext highlighter-rouge">camera_finder</code> to find available cameras and print out the corresponding GUIDs.
These, in turn, are needed to run the camera drivers or to export the camera specific GenICam XML.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run camera_aravis2 camera_finder

</code></pre></div></div>

<p>Alternatively, you can use <code class="language-plaintext highlighter-rouge">aravis-tools</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install aravis-tools
arv-tool-0.8

</code></pre></div></div>

<h2 id="extracting-camera-specific-genicam-xml">Extracting Camera-specific GenICam XML</h2>

<p>Each camera model has a specific XML data stored inside the device memory which describes the GenICam interface of the camera. 
In this XML data the supported features of the camera are documented and can help to configure the camera.
To extract this XML data and write it into a file, camera_aravis2 provides the node <code class="language-plaintext highlighter-rouge">camera_xml_exporter</code> which can be invoked as shown below:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run camera_aravis2 camera_xml_exporter <span class="nt">--ros-args</span> <span class="nt">-p</span> guid:<span class="o">=</span>&lt;camera_guid&gt; <span class="nt">-p</span> xml_file:<span class="o">=</span>&lt;output_file&gt;

</code></pre></div></div>

<p>If <code class="language-plaintext highlighter-rouge">guid</code> is omitted, the XML data will be read from any of the cameras which are connected and found by camera_aravis2.
As a <code class="language-plaintext highlighter-rouge">xml_file</code>, either a relative or absolute path can be provided in which the XML data is to be saved.
If omitted, the data is saved into a file in the current working directory with the ‘guid’ as filename.</p>

<p>Example launch file: <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/./camera_aravis2/launch/camera_xml_exporter_example.launch.py">camera_aravis2/launch/camera_xml_exporter_example.launch.py</a>.</p>

<p>Alternatively, you can use <code class="language-plaintext highlighter-rouge">aravis-tools</code> to see the feature list and the XML file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install aravis-tools
arv-tool-0.8 --name=&lt;camera_guid&gt; features
arv-tool-0.8 --name=&lt;camera_guid&gt; genicam

</code></pre></div></div>

<h2 id="building-from-source">Building from Source</h2>

<h3 id="requirements">Requirements</h3>

<p><strong>camera_aravis2</strong>:</p>

<ul>
  <li>Aravis 0.8 or later</li>
  <li>ROS 2 (tested with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#continuous-integration">humble and later</a>)</li>
  <li>cv_bridge</li>
  <li>image_transport</li>
  <li>camera_info_manager</li>
  <li>std_msgs</li>
  <li>sensor_msgs</li>
  <li>camera_aravis2_msgs</li>
</ul>

<p><strong>camera_aravis2_msgs</strong>:</p>

<ul>
  <li>ROS 2 (tested with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#continuous-integration">humble and later</a>)</li>
  <li>std_msgs</li>
  <li>sensor_msgs</li>
</ul>

<h3 id="build">Build</h3>

<p>Install aravis:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>libaravis-dev

</code></pre></div></div>

<p>Initialize <code class="language-plaintext highlighter-rouge">rosdep</code> and install dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>rosdep init
rosdep update
rosdep <span class="nb">install</span> <span class="nt">--from-paths</span> src <span class="nt">-y</span> <span class="nt">--ignore-src</span>

</code></pre></div></div>

<p>Run <code class="language-plaintext highlighter-rouge">colcon</code> to build from source:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>colcon build <span class="nt">--symlink-install</span> <span class="nt">--packages-up-to</span> camera_aravis2

</code></pre></div></div>

<p>To build in ‘Debug’ mode add <code class="language-plaintext highlighter-rouge">--cmake-args -DCMAKE_BUILD_TYPE=Debug</code> to colcon command.
If omitted, camera_aravis2 will be build in ‘Release’ mode.</p>

<h3 id="test">Test</h3>

<p>To run tests after build, additionally call:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>colcon <span class="nb">test</span> <span class="nt">--event-handlers</span><span class="o">=</span>console_direct+
colcon test-result <span class="nt">--all</span>


</code></pre></div></div>

<h2 id="faq">FAQ</h2>

<h3 id="how-to-use-ptp">How to use PTP</h3>

<p><em>GigEVision Cameras Only</em></p>

<p>Some GigEVision cameras support the use of the Precision Time Protocol (PTP) to set the timestamps of the captured images. To activate and use it just set the launch parameter ‘TransportLayerControl.PtpEnable’ to ‘True’ as seen blow:</p>

<pre><code class="language-Python">    ...
    parameters=[{
                    ...
                    "TransportLayerControl": {
                        "PtpEnable": True
                    }
                    ...
                }]
    ...

</code></pre>

<h3 id="how-to-set-specific-analog-control-values-eg-balance-ratios">How to set specific analog control values (e.g. balance ratios)</h3>

<p>Typically GenICam cameras support three different modes for automatic control of analog settings (e.g. gain, black level, white balance), namely ‘Continuous’, ‘Once’, and ‘Off’. These can be set via the launch parameter and corresponding feature names, i.e. ‘GainAuto’, ‘BlackLevelAuto’, ‘BalanceWhiteAuto’. As the names suggest, the first mode will continuously adjust the white 
balance, while the second mode will measure the white balance once and then freeze the ratio
parameters. In case, of the third mode, the ratios of the different color channels can and need to be set manually.</p>

<p>Use the launch parameters of camera_aravis2 to manually set the ratio parameters and configure the analog control, by</p>

<ul>
  <li>setting the corresponding auto feature to ‘Off’,</li>
  <li>and providing a list of key-value pairs of type string (key) and double (value) for the corresponding feature.</li>
</ul>

<p>In this, the key will be set as value to the corresponding selector (e.g. ‘GainSelector’, ‘BalanceRatioSelector’) and the value will be set to the feature.</p>

<p>For example:</p>

<pre><code class="language-Python">    ...
    parameters=[{
                    ...
                    "AnalogControl": {
                        "GainAuto": "Continuous",
                        "BalanceWhiteAuto": "Off",
                        "BalanceRatio": {
                            "Red": 1.6,
                            "Blue": 2.0
                        }
                    }
                    ...
                }]
    ...

</code></pre>

<h3 id="how-to-manually-trigger-calculation-of-white-balance-ratios">How to manually trigger calculation of white balance ratios</h3>
<p>To trigger an automatic white balance computation and a subsequent setting of</p>
<pre><code class="language-BalanceWhiteAuto">``` to 
```Once
```, camera_aravis2 provides a service called 
```calculate_white_balance_once
```. 
Calling this service will trigger a one shot computation of the white balance parameters and return the newly computed balance ratios.
This can be called no matter which mode has been set previously.

### How to dynamically change camera parameters

Camera_aravis allows to customize the camera parameters that are to be made dynamically changeable, for example, by utilizing 
```rqt_reconfigure
```.
The parameters that are to be changed dynamically can be specified within a yaml file which, in turn, is to be passed to camera_aravis through the [launch parameter](#driver-specific-parameters):
- 'dynamic_parameters_yaml_url'.

This file should hold a list of 

```FeatureName
```, representing the camera parameter that is to be changed, together with a corresponding 
```Type
``` (bool, float, int, or string).
In addition to the feature name and the type an optional 
```Description
``` can be specified.
Furthermore, for integer and floating point parameters a lower and upper bound can optionally be specified through the fields 
```Min
``` and 
```Max
```.

For example, the following snippet will declare the parameter 'AcquisitionFrameRate' as dynamically changeable and set the possible value range to [0.1, 50.0]:

```Yaml
    ...
    - FeatureName: AcquisitionFrameRate
      Type: float
      Min: 0.1
      Max: 50.0
      Description: Controls the acquisition rate (in Hertz) at which the frames are captured.
    ...

</code></pre>

<p>During the declaration of floating point or integer parameters, camera_aravis will additionally try to extract the lower and upper bounds of the feature from the device and compare it to the possibly declared bounds by the user. 
In this, camera_aravis will set the intersection of both ranges as the range for the corresponding parameter.</p>

<p>An example of this yaml file is given in <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/camera_aravis2/config/dynamic_parameters_example.yaml">dynamic_parameters_example.yaml</a>.</p>

<h3 id="how-to-publish-camera-diagnostics--status">How to publish camera diagnostics / status</h3>

<p>Camera_aravis allows to periodically monitor custom camera features and publish them in a designated
topic named
<code class="language-plaintext highlighter-rouge">~/diagnostics
</code> in a message type as specified in 
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/camera_aravis2_msgs/msg/CameraDiagnostics.msg">CameraDiagnostics.msg</a>. In order to configure and customize this 
status monitoring, two <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#driver-specific-parameters">launch parameters</a> are provided:</p>
<ul>
  <li>‘diagnostic_publish_rate’, and</li>
  <li>‘diagnostic_yaml_url’.</li>
</ul>

<p>An example of such a diagnostic yaml file is given in 
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/camera_aravis2/config/camera_diagnostics_example.yaml">camera_diagnostics_example.yaml</a>. This file should hold a list of</p>

<p><code class="language-plaintext highlighter-rouge">FeatureName
</code> together with a corresponding
<code class="language-plaintext highlighter-rouge">Type
</code> (bool, float, int, or string) for each
feature which is to be monitored. If a feature is associated with a feature selector, one can 
additionally specify a list of
<code class="language-plaintext highlighter-rouge">Selectors
</code>. Each entry in this list should again have a</p>

<p><code class="language-plaintext highlighter-rouge">FeatureName
</code> and
<code class="language-plaintext highlighter-rouge">Type
</code>, as well as a
<code class="language-plaintext highlighter-rouge">Value
</code> to set.</p>

<p>For each feature a key-value pair is constructed and published in the
<code class="language-plaintext highlighter-rouge">data
</code> field of the 
message stated above. If a feature as a list of selectors, one key-value pair is constructed for each Feature-Selector pair.</p>

<h3 id="how-to-access-gigevision-camera-using-the-ip-address">How to access GigEVision camera using the IP address</h3>

<p>GigEVision cameras can also be accessed using their IP address instead of their serial number simply by passing the address to the launch parameter <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#driver-specific-parameters"><code class="language-plaintext highlighter-rouge">guid</code></a>. 
GUIDs and IP addresses of available cameras can be discovered with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#finding-available-cameras"><code class="language-plaintext highlighter-rouge">camera_finder</code></a> node.</p>

<h2 id="known-issues">Known Issues</h2>

<ul>
  <li>
<strong>Permanent acquisition and publication of image data prior to Jazzy Jalisco:</strong>
With camera_aravis for ROS1, the acquisition and publication of the image data only started when a subscriber has been registered on the image topic and stopped as soon as no subscriber has been registered anymore.
This helped to minimize unnecessary data transfer. 
With the so-called <a href="https://docs.ros.org/en/foxy/Releases/Release-Iron-Irwini.html#matched-events"><code class="language-plaintext highlighter-rouge">matched-events</code></a>, ROS Iron Irwini has introduced a functionality that allows to do the same. 
However, the <code class="language-plaintext highlighter-rouge">image_transport</code> package for ROS Iron, which is used in <code class="language-plaintext highlighter-rouge">camera_aravis</code>, does not yet implement this feature.
This feature is only available and implemented sinze ROS Jazzy Jalisco.</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="contributing">CONTRIBUTING</h1>

<p>We are using the <a href="https://guides.github.com/introduction/flow/">Feature Branch Workflow</a>, and prefer contributions as merge requests.</p>

<p><strong>There’s only one rule: anything in the master branch is always deployable.</strong></p>

<p>Create a feature branch:</p>

<p><code class="language-plaintext highlighter-rouge">git checkout -B feat/&lt;feature_name&gt;</code></p>

<h2 id="recommended-workflow">Recommended workflow</h2>

<ol>
  <li>
<strong>Fork</strong> the repository if your are not a collaborator and have direct access to the repository</li>
  <li>Checkout new <strong>branch</strong> (branching of <code class="language-plaintext highlighter-rouge">devel</code>)</li>
  <li>Make <strong>changes</strong>
</li>
  <li>Run <strong>tests</strong>
</li>
  <li>
<strong>Commit</strong> those changes</li>
  <li><strong>Push</strong></li>
  <li>Create a <strong>pull request</strong> (targeting <code class="language-plaintext highlighter-rouge">devel</code>)</li>
</ol>

<hr>

<h2 id="branching-recommendations">Branching Recommendations</h2>

<ul>
  <li>
    <p>Try to keep two main branches
<code class="language-plaintext highlighter-rouge">main
</code> and
<code class="language-plaintext highlighter-rouge">devel
</code>.</p>
  </li>
  <li>
    <p>The
<code class="language-plaintext highlighter-rouge">devel
</code>-branch should be the default branch in which all developments are done and from which new branches are created.</p>
  </li>
  <li>
    <p>Each new release with a version tag should be merged into
<code class="language-plaintext highlighter-rouge">main
</code>. <em>Intermediate merges can be made if there is a feature which is to be made available in the default branch prior to an official release.</em></p>
  </li>
</ul>

<hr>

<h2 id="commit-conventions">Commit Conventions</h2>

<p>We aim at concise and yet descriptive commit messages. In this, we suggest the following:</p>

<p>Each top line of a commit should be made up of a type and a subject</p>

<p><code class="language-plaintext highlighter-rouge">&lt;type&gt;: &lt;subject&gt;</code></p>

<p>Allowed types:</p>

<ul>
  <li>
<strong>feat</strong>: A new feature</li>
  <li>
<strong>enhance</strong>: An enhancement to the current feature set</li>
  <li>
<strong>fix</strong>: A bug fix</li>
  <li>
<strong>docs</strong>: Documentation only changes</li>
  <li>
<strong>style</strong>: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, newline, line endings, etc)</li>
  <li>
<strong>refactor</strong>: A code change that neither fixes a bug or adds a feature</li>
  <li>
<strong>perf</strong>: A code change that improves performance</li>
  <li>
<strong>test</strong>: Adding missing tests</li>
  <li>
<strong>chore</strong>: Changes to the build process or auxiliary tools and libraries such as documentation generation</li>
  <li>
<strong>release</strong>: Committing changes, e.g. to CHANGELOG.rst, for a new release</li>
</ul>

<p>You can add additional details after a new line to describe the change in detail or automatically close a issue on Github.</p>

<p>Example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docs: create initial CONTRIBUTING

This closes #73

</code></pre></div></div>
<hr>

<h1 id="versioning-conventions">Versioning Conventions</h1>

<p>This repo adheres to semantic versioning: <a href="http://semver.org/">http://semver.org/</a>.
Given a version number MAJOR.MINOR.PATCH, increment the:</p>

<ul>
  <li>MAJOR version when you make incompatible API changes,</li>
  <li>MINOR version when you add functionality in a backwards-compatible manner, and</li>
  <li>PATCH version when you make backwards-compatible bug fixes.</li>
</ul>

<p>Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format</p>

<hr>

</div>
              <hr id="jazzy-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="jazzy-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#jazzy-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#jazzy-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#jazzy-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="jazzy-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="jazzy-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="jazzy-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/camera_aravis2">camera_aravis2</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-FraunhoferIOSB-camera_aravis2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-FraunhoferIOSB-camera_aravis2" role="menuitem" tabindex="-1" href="/r/camera_aravis2/github-FraunhoferIOSB-camera_aravis2" data="github-FraunhoferIOSB-camera_aravis2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-FraunhoferIOSB-camera_aravis2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/camera_aravis2">camera_aravis2</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-FraunhoferIOSB-camera_aravis2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-FraunhoferIOSB-camera_aravis2" role="menuitem" tabindex="-1" href="/r/camera_aravis2/github-FraunhoferIOSB-camera_aravis2" data="github-FraunhoferIOSB-camera_aravis2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-FraunhoferIOSB-camera_aravis2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/camera_aravis2">camera_aravis2</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-FraunhoferIOSB-camera_aravis2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-FraunhoferIOSB-camera_aravis2" role="menuitem" tabindex="-1" href="/r/camera_aravis2/github-FraunhoferIOSB-camera_aravis2" data="github-FraunhoferIOSB-camera_aravis2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-FraunhoferIOSB-camera_aravis2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/camera_aravis2">camera_aravis2</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-FraunhoferIOSB-camera_aravis2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-FraunhoferIOSB-camera_aravis2" role="menuitem" tabindex="-1" href="/r/camera_aravis2/github-FraunhoferIOSB-camera_aravis2" data="github-FraunhoferIOSB-camera_aravis2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-FraunhoferIOSB-camera_aravis2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/camera_aravis2">camera_aravis2</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-FraunhoferIOSB-camera_aravis2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-FraunhoferIOSB-camera_aravis2" role="menuitem" tabindex="-1" href="/r/camera_aravis2/github-FraunhoferIOSB-camera_aravis2" data="github-FraunhoferIOSB-camera_aravis2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-FraunhoferIOSB-camera_aravis2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/camera_aravis2">camera_aravis2</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/camera_aravis2">camera_aravis2</a>
        
        <a class="label label-primary pkg-label" href="/p/camera_aravis2_msgs">camera_aravis2_msgs</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-FraunhoferIOSB-camera_aravis2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-FraunhoferIOSB-camera_aravis2" role="menuitem" tabindex="-1" href="/r/camera_aravis2/github-FraunhoferIOSB-camera_aravis2" data="github-FraunhoferIOSB-camera_aravis2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-FraunhoferIOSB-camera_aravis2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS2 camera driver for GenICam-based GigEVision and USB3Vision cameras.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/FraunhoferIOSB/camera_aravis2.git">https://github.com/FraunhoferIOSB/camera_aravis2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-12-12
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/camera_aravis2/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/camera_aravis2/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/camera_aravis2/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/camera_aravis2">camera_aravis2</a></td>
                    <td>1.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/camera_aravis2_msgs">camera_aravis2_msgs</a></td>
                    <td>1.1.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="camera_aravis2">camera_aravis2</h1>

<p>An actively maintained ROS 2 camera driver for <a href="https://www.emva.org/standards-technology/genicam/">GenICam</a>-based (GigEVision and USB3Vision) cameras. 
It is a subsequent development of <a href="https://github.com/FraunhoferIOSB/camera_aravis">camera_aravis</a>, but in order to clean up some legacy code and, in turn, support new features mor easily, we opted to implement it with a new code-base. 
It is open sourced under the 3-clause BSD license.</p>

<p>It relies on the <a href="http://live.gnome.org/Aravis">Aravis</a> library to access the GigEVision and USB3Vision cameras. 
Aravis is a glib/gobject based library for video acquisition using GenICam cameras. 
It currently implements the gigabit ethernet and USB3 protocols used by industrial cameras.</p>

<p><strong>Acknowledgement</strong>: This software was developed as part of the project <a href="https://robdekon.de/">ROBDEKON – Robotic Systems for Decontamination in Hazardous Environments</a>, funded by the Federal Ministry of Education and Research (BMBF) under the German Federal Government’s Research for Civil Security program.</p>

<p><em>camera_aravis for ROS 1 can be found here: https://github.com/FraunhoferIOSB/camera_aravis</em></p>

<hr>

<h3 id="continuous-integration">Continuous Integration:</h3>

<table>
  <thead>
    <tr>
      <th>Service</th>
      <th>devel</th>
      <th>main</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GitHub</td>
      <td>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml/badge.svg?branch=devel" alt="Humble Hawksbill"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml/badge.svg?branch=devel" alt="Iron Irwini"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml/badge.svg?branch=devel" alt="Jazzy Jalisco"></a>
</td>
      <td>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_humble.yml/badge.svg?branch=main" alt="Humble Hawksbill"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_iron.yml/badge.svg?branch=main" alt="Iron Irwini"></a><br><a href="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml"><img src="https://github.com/FraunhoferIOSB/camera_aravis2/actions/workflows/build_and_test_jazzy.yml/badge.svg?branch=main" alt="Jazzy Jalisco"></a>
</td>
    </tr>
  </tbody>
</table>

<hr>

<h3 id="contents">Contents:</h3>

<ul>
  <li>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#running-the-camera-driver">Running the Camera Driver</a>
    <ul>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#configuration">Configuration</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#example-launch-files">Example Launch Files</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#finding-available-cameras">Finding Available Cameras</a></li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#extracting-camera-specific-genicam-xml">Extracting Camera-Specific GenICam XML</a></li>
  <li>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#building-from-source">Building from Source</a>
    <ul>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#requirements">Requirements</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#build">Build</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#test">Test</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#faq">FAQ</a>
    <ul>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-use-ptp">How to use PTP</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-set-specific-analog-control-values-eg-balance-ratios">How to set specific analog control values (e.g. balance ratios)</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-manually-trigger-calculation-of-white-balance-ratios">How to manually trigger calculation of white balance ratios</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-dynamically-change-camera-parameters">How to dynamically change camera parameters</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-publish-camera-diagnostics--status">How to publish camera diagnostics / status</a></li>
      <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-access-gigevision-camera-using-the-ip-address">How to access GigEVision camera using the IP address</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#known-issues">Known Issues</a></li>
  <li><a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/CONTRIBUTING.md">Contributing</a></li>
</ul>

<hr>

<h2 id="running-the-camera-driver">Running the Camera Driver</h2>

<p>In camera_aravis2 the actual camera driver is implemented in two nodes:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">camera_driver_gv</code> for GigEVision cameras, and</li>
  <li>
<code class="language-plaintext highlighter-rouge">camera_driver_uv</code>, for USB3Vision cameras.</li>
</ul>

<h3 id="configuration">Configuration</h3>

<p>The configuration of the camera driver is divided into a driver-specific and GenICam-specific parameterization as described below.</p>

<h4 id="driver-specific-parameters">Driver-specific Parameters</h4>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">guid</code>: Serial number or IP address <em>(GigEVision Cameras only)</em> of the camera that is to be opened. GUIDs and IP addresses of available cameras can be discovered with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#finding-available-cameras"><code class="language-plaintext highlighter-rouge">camera_finder</code></a> node.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If omitted a random camera is picked from the list of connected cameras and will be opened.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">stream_names</code>: String list of names that are to be associated with each stream. If multiple streams are available, these names will be appended to the topic names in order to distinguish the different image streams.
    <ul>
      <li>Type: String-Array</li>
      <li>Default: {}</li>
      <li>Optional. If omitted or less names are given than streams available, each stream will get given a name based on its ID, starting with 0.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">camera_info_urls</code>: String list of urls to camera_info files associated with each stream. List should have the same length as the number of streams provided by the camera. If the number of URLs does not correspond to number of streams available, the minimum of both is used to set the number of streams that are to be established.
    <ul>
      <li>Type: String-Array</li>
      <li>Default: {}</li>
      <li>Optional. If omitted, it is constructed from the camera GUID located within the current working directory, with the stream name separated by ‘_’ appended to the file name, if more than one streams are instantiated.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">frame_id</code>: Frame ID that is to be associated with the sensor and, in turn,  with the image data. If multiple streams are supported by the camera, the given ID serves as a base string to which the stream name is appended, together with ‘_’ as separator.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If no frame ID is specified, the name of the node will be used.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">dynamic_parameters_yaml_url
</code>: URL to yaml file specifying camera parameters that are to be made dynamically changeable.  See ‘<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-dynamically-change-camera-parameters">How to dynamically change camera parameters</a>’ for more info.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If left empty no dynamic parameters, apart from the camera_aravis-specific parameters will be available</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">diagnostic_yaml_url
</code>: URL to yaml file specifying the camera features which are to be 
monitored. See ‘<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#how-to-publish-camera-diagnostics--status">How to publish camera diagnostics / status</a>’ for more info.
    <ul>
      <li>Type: String</li>
      <li>Default: “”</li>
      <li>Optional. If left empty no diagnostic features will be read and published.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">diagnostic_publish_rate
</code>: Rate (in Hz) at which to read and publish the diagnostic data.
    <ul>
      <li>Type: double</li>
      <li>Default: 0.1 (every 10 seconds)</li>
    </ul>
  </li>
</ul>

<h4 id="genicam-specific-parameters">GenICam-Specific Parameters</h4>

<p>To configure the camera, camera_aravis2 relies on the GenICam Standard Feature Naming Convention (SNFC) which can be found <a href="https://www.emva.org/standards-technology/genicam/genicam-downloads/">here</a>. 
The SNFC groups the individual features into numerous catagories (e.g. Image Format Control, Acquisition Control, Analog Control, …).
Camera_aravis2 explicitly looks for a number of features in a couple of categories to be specified and tries to set the features accordingly. 
If specified as launch parameter, camera_aravis2 will set the following features in the same order as listed below:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">DeviceControl</code> (List): GenICam parameters of the ‘DeviceControl’ category that are to be set. Here, no specific order is implemented. Nested parameter list is evaluated in alphabetical order.</li>
  <li>
<code class="language-plaintext highlighter-rouge">TransportLayerControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘TransportLayerControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">GevSCPSPacketSize</code> (Int) - <em>GigEVision Cameras only</em> : Specifies the packet size, in bytes, which are to be send. This should correspond ‘DeviceStreamChannelPacketSize’ and the maximum transport unit (MTU) of the interface.</li>
      <li>
<code class="language-plaintext highlighter-rouge">GevSCPD</code> (Int) - <em>GigEVision Cameras only</em> : Controls the delay (in GEV timestamp counter unit) to insert between
each packet for this stream channel.</li>
      <li>
<code class="language-plaintext highlighter-rouge">PtpEnable</code> (Bool) - <em>GigEVision Cameras only</em> : Enables the Precision Time Protocol (PTP).</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘TransportLayerControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">ImageFormatControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘ImageFormatControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">PixelFormat</code>* (String): Format of the pixels provided by the device.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ReverseX</code>* (Bool): Flip horizontally the image sent by the device.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ReverseY</code>* (Bool): Flip vertically the image sent by the device.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningHorizontal</code>* (Int): Number of pixels to horizontally combine together.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningHorizontalMode</code>* (String): Mode to use when BinningHorizontal is used. Values possible: ‘Sum’, or ‘Average’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningVertical</code>* (Int): Number of pixels to horizontally combine together.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BinningVerticalMode</code>* (String): Mode to use when BinningHorizontal is used. Values possible: ‘Sum’, or ‘Average’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">Width</code>* (Int): Width of the image provided by the device (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">Height</code>* (Int): Height of the image provided by the device (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">OffsetX</code>* (Int): Horizontal offset from the origin to the region of interest (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">OffsetY</code>* (Int): Vertical offset from the origin to the region of interest (in pixels).</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘ImageFormatControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">AcquisitionControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionMode</code>* (String): Sets the acquisition mode of the device. Values possible: ‘SingleFrame’, ‘MultiFrame’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionFrameCount</code>* (Int): Number of frames to acquire in MultiFrame Acquisition mode. Only evaluated if ‘AcquisitionMode’ is ‘MultiFrame’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ExposureMode</code>* (String): Sets the operation mode of the Exposure. Values possible: ‘Off’, ‘Timed’, ‘TriggerWidth’, or ‘TriggerControlled’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ExposureAuto</code>* (String): Sets the automatic exposure mode when ExposureMode is Timed. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">ExposureTime</code>* (Double): Sets the Exposure time when ‘ExposureMode’ is ‘Timed’ and ‘ExposureAuto’ is ‘Off’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionFrameRateEnable</code>* (Bool): Controls if the AcquisitionFrameRate feature is writable and used to control the acquisition rate.</li>
      <li>
<code class="language-plaintext highlighter-rouge">AcquisitionFrameRate</code>* (Double): Controls the acquisition rate (in Hertz) at which the frames are captured.</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">AnalogControl</code>
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">BEGIN</code> (List): Additional GenICam parameters that are not be set at the beginning of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">GainAuto</code>* (String): Sets the automatic gain control mode. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">Gain</code>* (List): Key-Value pairs of type string (key) and double (value) to set specific gain values in case ‘GainAuto’ is set to ‘Off’. In this, the key will be set as value to the ‘GainSelector’ and the value will be set to the ‘Gain’ feature. The list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BlackLevelAuto</code>* (String): Controls the mode for automatic black level adjustment. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BlackLevel</code>* (List): Key-Value pairs of type string (key) and double (value) to set specific black level values in case ‘BlackLevelAuto’ is set to ‘Off’. In this, the key will be set as value to the ‘BlackLevelSelector’ and the value will be set to the ‘BlackLevel’ feature. The list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BalanceWhiteAuto</code>* (String): Controls the mode for automatic black level adjustment. Values possible: ‘Off’, ‘Once’, or ‘Continuous’.</li>
      <li>
<code class="language-plaintext highlighter-rouge">BalanceRatio</code>* (List): Key-Value pairs of type string (key) and double (value) to set specific balance ratio values in case ‘BalanceWhiteAuto’ is set to ‘Off’. In this, the key will be set as value to the ‘BalanceRatioSelector’ and the value will be set to the ‘BalanceRatio’ feature. The list is evaluated in alphabetical order.</li>
      <li>
<code class="language-plaintext highlighter-rouge">END</code> (List): Additional GenICam parameters that are not be set at the end of the ‘AcquisitionControl’ section. Nested parameter list is evaluated in alphabetical order.</li>
    </ul>
  </li>
</ul>

<p>In the sections where a certain order of predefined parameters is considered and implemented, the user can specify a list of additional GenICam parameters nested underneath the parameter <code class="language-plaintext highlighter-rouge">BEGIN</code> and <code class="language-plaintext highlighter-rouge">END</code>, respectively, which are not explicitly evaluated as part of the list above. 
This allows for the user to specify parameters which are not known to camera_aravis2. 
Similar holds for the parameters within the ‘DeviceControl’ category.
It is to be noted, however, that the nested parameters are evaluated in alphabetical order, which might lead to unintended behavior, depending on the camera device.</p>

<p>The example values that are given in case of string parameters are given in accordance with the GenICam SNFC.
The possible values might differ according to the actual implementation by the camera manufacturer.</p>

<p>Parameters marked with * are evaluated and set per stream/channel. 
Meaning, that for a multi-channel or multi-source camera one can either specify a single parameter or a list of parameters (see ‘PixelFormat’ in the example below).
In case a single parameter is specified, the corresponding value is set for all channels.
If a list of parameters is given, for each channel the value with the corresponding channel index will be set.
If the list is smaller than the available channels, the value of the last entry will be set for the remaining channels.
Please note, that the flexibility of setting different parameters values for the individual channels depends on the actual implementation by the camera manufacturer.</p>

<p>When launching the camera driver, the features are to be configured as nested launch parameters.
While the parameters are evaluated by camera_aravis2 in the specific order which is listed above, they can be specified in an arbitrary order in the launch file.</p>
<details>
<summary>For example ...</summary>


```Python
    ...
    parameters=[{
                    # Driver-specific parameters
                    ...
                    
                    # GenICam-specific parameters
                    "DeviceControl": {
                        "DeviceLinkThroughputLimit": 125000000,
                        "DeviceLinkThroughputLimitMode": "On"
                    },
                    "TransportLayerControl": {
                        "GevSCPSPacketSize": 9000,
                        "PtpEnable": True
                    },
                    "ImageFormatControl": {
                        "BEGIN": {
                            "BinningSelector": "Digital"
                        },
                        "PixelFormat": "BayerRG8",
                        "Width": 1920,
                        "Height": 1200
                    },
                    "AcquisitionControl": {
                        "ExposureMode": "Timed",
                        "ExposureAuto": "Continuous",
                        "AcquisitionFrameRate": 30.0
                    },
                    "AnalogControl": {
                        "GainAuto": "Continuous",
                        "BalanceWhiteAuto": "Off",
                        "BalanceRatio": {
                            "Red": 1.6,
                            "Blue": 2.0
                        }
                    }
                }]
    ...

```
</details>
<p><br></p>

<p>If a feature is omitted but supported by the camera, it will default to the value that is currently set on the device.</p>

<p>To find the features that are available for configuration on the camera, together with their feature names and their value ranges, look into the documentation of the manufacturer or <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#extracting-camera-specific-genicam-xml">extract the camera-specific GenICam XML file</a>.</p>

<h3 id="example-launch-files">Example Launch Files</h3>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">camera_driver_gv
</code>: <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/./camera_aravis2/launch/camera_driver_gv_example.launch.py">camera_aravis2/launch/camera_driver_gv_example.launch.py</a></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">camera_driver_uv
</code>: <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/./camera_aravis2/launch/camera_driver_uv_example.launch.py">camera_aravis2/launch/camera_driver_uv_example.launch.py</a></p>
  </li>
</ul>

<h2 id="finding-available-cameras">Finding Available Cameras</h2>

<p>Camera_aravis2 provides the node <code class="language-plaintext highlighter-rouge">camera_finder</code> to find available cameras and print out the corresponding GUIDs.
These, in turn, are needed to run the camera drivers or to export the camera specific GenICam XML.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run camera_aravis2 camera_finder

</code></pre></div></div>

<p>Alternatively, you can use <code class="language-plaintext highlighter-rouge">aravis-tools</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install aravis-tools
arv-tool-0.8

</code></pre></div></div>

<h2 id="extracting-camera-specific-genicam-xml">Extracting Camera-specific GenICam XML</h2>

<p>Each camera model has a specific XML data stored inside the device memory which describes the GenICam interface of the camera. 
In this XML data the supported features of the camera are documented and can help to configure the camera.
To extract this XML data and write it into a file, camera_aravis2 provides the node <code class="language-plaintext highlighter-rouge">camera_xml_exporter</code> which can be invoked as shown below:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run camera_aravis2 camera_xml_exporter <span class="nt">--ros-args</span> <span class="nt">-p</span> guid:<span class="o">=</span>&lt;camera_guid&gt; <span class="nt">-p</span> xml_file:<span class="o">=</span>&lt;output_file&gt;

</code></pre></div></div>

<p>If <code class="language-plaintext highlighter-rouge">guid</code> is omitted, the XML data will be read from any of the cameras which are connected and found by camera_aravis2.
As a <code class="language-plaintext highlighter-rouge">xml_file</code>, either a relative or absolute path can be provided in which the XML data is to be saved.
If omitted, the data is saved into a file in the current working directory with the ‘guid’ as filename.</p>

<p>Example launch file: <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/./camera_aravis2/launch/camera_xml_exporter_example.launch.py">camera_aravis2/launch/camera_xml_exporter_example.launch.py</a>.</p>

<p>Alternatively, you can use <code class="language-plaintext highlighter-rouge">aravis-tools</code> to see the feature list and the XML file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install aravis-tools
arv-tool-0.8 --name=&lt;camera_guid&gt; features
arv-tool-0.8 --name=&lt;camera_guid&gt; genicam

</code></pre></div></div>

<h2 id="building-from-source">Building from Source</h2>

<h3 id="requirements">Requirements</h3>

<p><strong>camera_aravis2</strong>:</p>

<ul>
  <li>Aravis 0.8 or later</li>
  <li>ROS 2 (tested with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#continuous-integration">humble and later</a>)</li>
  <li>cv_bridge</li>
  <li>image_transport</li>
  <li>camera_info_manager</li>
  <li>std_msgs</li>
  <li>sensor_msgs</li>
  <li>camera_aravis2_msgs</li>
</ul>

<p><strong>camera_aravis2_msgs</strong>:</p>

<ul>
  <li>ROS 2 (tested with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#continuous-integration">humble and later</a>)</li>
  <li>std_msgs</li>
  <li>sensor_msgs</li>
</ul>

<h3 id="build">Build</h3>

<p>Install aravis:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>libaravis-dev

</code></pre></div></div>

<p>Initialize <code class="language-plaintext highlighter-rouge">rosdep</code> and install dependencies:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>rosdep init
rosdep update
rosdep <span class="nb">install</span> <span class="nt">--from-paths</span> src <span class="nt">-y</span> <span class="nt">--ignore-src</span>

</code></pre></div></div>

<p>Run <code class="language-plaintext highlighter-rouge">colcon</code> to build from source:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>colcon build <span class="nt">--symlink-install</span> <span class="nt">--packages-up-to</span> camera_aravis2

</code></pre></div></div>

<p>To build in ‘Debug’ mode add <code class="language-plaintext highlighter-rouge">--cmake-args -DCMAKE_BUILD_TYPE=Debug</code> to colcon command.
If omitted, camera_aravis2 will be build in ‘Release’ mode.</p>

<h3 id="test">Test</h3>

<p>To run tests after build, additionally call:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>colcon <span class="nb">test</span> <span class="nt">--event-handlers</span><span class="o">=</span>console_direct+
colcon test-result <span class="nt">--all</span>


</code></pre></div></div>

<h2 id="faq">FAQ</h2>

<h3 id="how-to-use-ptp">How to use PTP</h3>

<p><em>GigEVision Cameras Only</em></p>

<p>Some GigEVision cameras support the use of the Precision Time Protocol (PTP) to set the timestamps of the captured images. To activate and use it just set the launch parameter ‘TransportLayerControl.PtpEnable’ to ‘True’ as seen blow:</p>

<pre><code class="language-Python">    ...
    parameters=[{
                    ...
                    "TransportLayerControl": {
                        "PtpEnable": True
                    }
                    ...
                }]
    ...

</code></pre>

<h3 id="how-to-set-specific-analog-control-values-eg-balance-ratios">How to set specific analog control values (e.g. balance ratios)</h3>

<p>Typically GenICam cameras support three different modes for automatic control of analog settings (e.g. gain, black level, white balance), namely ‘Continuous’, ‘Once’, and ‘Off’. These can be set via the launch parameter and corresponding feature names, i.e. ‘GainAuto’, ‘BlackLevelAuto’, ‘BalanceWhiteAuto’. As the names suggest, the first mode will continuously adjust the white 
balance, while the second mode will measure the white balance once and then freeze the ratio
parameters. In case, of the third mode, the ratios of the different color channels can and need to be set manually.</p>

<p>Use the launch parameters of camera_aravis2 to manually set the ratio parameters and configure the analog control, by</p>

<ul>
  <li>setting the corresponding auto feature to ‘Off’,</li>
  <li>and providing a list of key-value pairs of type string (key) and double (value) for the corresponding feature.</li>
</ul>

<p>In this, the key will be set as value to the corresponding selector (e.g. ‘GainSelector’, ‘BalanceRatioSelector’) and the value will be set to the feature.</p>

<p>For example:</p>

<pre><code class="language-Python">    ...
    parameters=[{
                    ...
                    "AnalogControl": {
                        "GainAuto": "Continuous",
                        "BalanceWhiteAuto": "Off",
                        "BalanceRatio": {
                            "Red": 1.6,
                            "Blue": 2.0
                        }
                    }
                    ...
                }]
    ...

</code></pre>

<h3 id="how-to-manually-trigger-calculation-of-white-balance-ratios">How to manually trigger calculation of white balance ratios</h3>
<p>To trigger an automatic white balance computation and a subsequent setting of</p>
<pre><code class="language-BalanceWhiteAuto">``` to 
```Once
```, camera_aravis2 provides a service called 
```calculate_white_balance_once
```. 
Calling this service will trigger a one shot computation of the white balance parameters and return the newly computed balance ratios.
This can be called no matter which mode has been set previously.

### How to dynamically change camera parameters

Camera_aravis allows to customize the camera parameters that are to be made dynamically changeable, for example, by utilizing 
```rqt_reconfigure
```.
The parameters that are to be changed dynamically can be specified within a yaml file which, in turn, is to be passed to camera_aravis through the [launch parameter](#driver-specific-parameters):
- 'dynamic_parameters_yaml_url'.

This file should hold a list of 

```FeatureName
```, representing the camera parameter that is to be changed, together with a corresponding 
```Type
``` (bool, float, int, or string).
In addition to the feature name and the type an optional 
```Description
``` can be specified.
Furthermore, for integer and floating point parameters a lower and upper bound can optionally be specified through the fields 
```Min
``` and 
```Max
```.

For example, the following snippet will declare the parameter 'AcquisitionFrameRate' as dynamically changeable and set the possible value range to [0.1, 50.0]:

```Yaml
    ...
    - FeatureName: AcquisitionFrameRate
      Type: float
      Min: 0.1
      Max: 50.0
      Description: Controls the acquisition rate (in Hertz) at which the frames are captured.
    ...

</code></pre>

<p>During the declaration of floating point or integer parameters, camera_aravis will additionally try to extract the lower and upper bounds of the feature from the device and compare it to the possibly declared bounds by the user. 
In this, camera_aravis will set the intersection of both ranges as the range for the corresponding parameter.</p>

<p>An example of this yaml file is given in <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/camera_aravis2/config/dynamic_parameters_example.yaml">dynamic_parameters_example.yaml</a>.</p>

<h3 id="how-to-publish-camera-diagnostics--status">How to publish camera diagnostics / status</h3>

<p>Camera_aravis allows to periodically monitor custom camera features and publish them in a designated
topic named
<code class="language-plaintext highlighter-rouge">~/diagnostics
</code> in a message type as specified in 
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/camera_aravis2_msgs/msg/CameraDiagnostics.msg">CameraDiagnostics.msg</a>. In order to configure and customize this 
status monitoring, two <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#driver-specific-parameters">launch parameters</a> are provided:</p>
<ul>
  <li>‘diagnostic_publish_rate’, and</li>
  <li>‘diagnostic_yaml_url’.</li>
</ul>

<p>An example of such a diagnostic yaml file is given in 
<a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/camera_aravis2/config/camera_diagnostics_example.yaml">camera_diagnostics_example.yaml</a>. This file should hold a list of</p>

<p><code class="language-plaintext highlighter-rouge">FeatureName
</code> together with a corresponding
<code class="language-plaintext highlighter-rouge">Type
</code> (bool, float, int, or string) for each
feature which is to be monitored. If a feature is associated with a feature selector, one can 
additionally specify a list of
<code class="language-plaintext highlighter-rouge">Selectors
</code>. Each entry in this list should again have a</p>

<p><code class="language-plaintext highlighter-rouge">FeatureName
</code> and
<code class="language-plaintext highlighter-rouge">Type
</code>, as well as a
<code class="language-plaintext highlighter-rouge">Value
</code> to set.</p>

<p>For each feature a key-value pair is constructed and published in the
<code class="language-plaintext highlighter-rouge">data
</code> field of the 
message stated above. If a feature as a list of selectors, one key-value pair is constructed for each Feature-Selector pair.</p>

<h3 id="how-to-access-gigevision-camera-using-the-ip-address">How to access GigEVision camera using the IP address</h3>

<p>GigEVision cameras can also be accessed using their IP address instead of their serial number simply by passing the address to the launch parameter <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#driver-specific-parameters"><code class="language-plaintext highlighter-rouge">guid</code></a>. 
GUIDs and IP addresses of available cameras can be discovered with <a href="https://github.com/FraunhoferIOSB/camera_aravis2/tree/main/#finding-available-cameras"><code class="language-plaintext highlighter-rouge">camera_finder</code></a> node.</p>

<h2 id="known-issues">Known Issues</h2>

<ul>
  <li>
<strong>Permanent acquisition and publication of image data prior to Jazzy Jalisco:</strong>
With camera_aravis for ROS1, the acquisition and publication of the image data only started when a subscriber has been registered on the image topic and stopped as soon as no subscriber has been registered anymore.
This helped to minimize unnecessary data transfer. 
With the so-called <a href="https://docs.ros.org/en/foxy/Releases/Release-Iron-Irwini.html#matched-events"><code class="language-plaintext highlighter-rouge">matched-events</code></a>, ROS Iron Irwini has introduced a functionality that allows to do the same. 
However, the <code class="language-plaintext highlighter-rouge">image_transport</code> package for ROS Iron, which is used in <code class="language-plaintext highlighter-rouge">camera_aravis</code>, does not yet implement this feature.
This feature is only available and implemented sinze ROS Jazzy Jalisco.</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="contributing">CONTRIBUTING</h1>

<p>We are using the <a href="https://guides.github.com/introduction/flow/">Feature Branch Workflow</a>, and prefer contributions as merge requests.</p>

<p><strong>There’s only one rule: anything in the master branch is always deployable.</strong></p>

<p>Create a feature branch:</p>

<p><code class="language-plaintext highlighter-rouge">git checkout -B feat/&lt;feature_name&gt;</code></p>

<h2 id="recommended-workflow">Recommended workflow</h2>

<ol>
  <li>
<strong>Fork</strong> the repository if your are not a collaborator and have direct access to the repository</li>
  <li>Checkout new <strong>branch</strong> (branching of <code class="language-plaintext highlighter-rouge">devel</code>)</li>
  <li>Make <strong>changes</strong>
</li>
  <li>Run <strong>tests</strong>
</li>
  <li>
<strong>Commit</strong> those changes</li>
  <li><strong>Push</strong></li>
  <li>Create a <strong>pull request</strong> (targeting <code class="language-plaintext highlighter-rouge">devel</code>)</li>
</ol>

<hr>

<h2 id="branching-recommendations">Branching Recommendations</h2>

<ul>
  <li>
    <p>Try to keep two main branches
<code class="language-plaintext highlighter-rouge">main
</code> and
<code class="language-plaintext highlighter-rouge">devel
</code>.</p>
  </li>
  <li>
    <p>The
<code class="language-plaintext highlighter-rouge">devel
</code>-branch should be the default branch in which all developments are done and from which new branches are created.</p>
  </li>
  <li>
    <p>Each new release with a version tag should be merged into
<code class="language-plaintext highlighter-rouge">main
</code>. <em>Intermediate merges can be made if there is a feature which is to be made available in the default branch prior to an official release.</em></p>
  </li>
</ul>

<hr>

<h2 id="commit-conventions">Commit Conventions</h2>

<p>We aim at concise and yet descriptive commit messages. In this, we suggest the following:</p>

<p>Each top line of a commit should be made up of a type and a subject</p>

<p><code class="language-plaintext highlighter-rouge">&lt;type&gt;: &lt;subject&gt;</code></p>

<p>Allowed types:</p>

<ul>
  <li>
<strong>feat</strong>: A new feature</li>
  <li>
<strong>enhance</strong>: An enhancement to the current feature set</li>
  <li>
<strong>fix</strong>: A bug fix</li>
  <li>
<strong>docs</strong>: Documentation only changes</li>
  <li>
<strong>style</strong>: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, newline, line endings, etc)</li>
  <li>
<strong>refactor</strong>: A code change that neither fixes a bug or adds a feature</li>
  <li>
<strong>perf</strong>: A code change that improves performance</li>
  <li>
<strong>test</strong>: Adding missing tests</li>
  <li>
<strong>chore</strong>: Changes to the build process or auxiliary tools and libraries such as documentation generation</li>
  <li>
<strong>release</strong>: Committing changes, e.g. to CHANGELOG.rst, for a new release</li>
</ul>

<p>You can add additional details after a new line to describe the change in detail or automatically close a issue on Github.</p>

<p>Example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docs: create initial CONTRIBUTING

This closes #73

</code></pre></div></div>
<hr>

<h1 id="versioning-conventions">Versioning Conventions</h1>

<p>This repo adheres to semantic versioning: <a href="http://semver.org/">http://semver.org/</a>.
Given a version number MAJOR.MINOR.PATCH, increment the:</p>

<ul>
  <li>MAJOR version when you make incompatible API changes,</li>
  <li>MINOR version when you add functionality in a backwards-compatible manner, and</li>
  <li>PATCH version when you make backwards-compatible bug fixes.</li>
</ul>

<p>Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format</p>

<hr>

</div>
              <hr id="iron-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="iron-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#iron-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#iron-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#iron-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="iron-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="iron-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="iron-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/camera_aravis2">camera_aravis2</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-FraunhoferIOSB-camera_aravis2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-FraunhoferIOSB-camera_aravis2" role="menuitem" tabindex="-1" href="/r/camera_aravis2/github-FraunhoferIOSB-camera_aravis2" data="github-FraunhoferIOSB-camera_aravis2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-FraunhoferIOSB-camera_aravis2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/FraunhoferIOSB/camera_aravis2.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
