<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/tf2_server/github-peci1-tf2_server/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">tf2_server</li>
        <!--<li class="active">tf2_server</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class=" older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/tf2_server">tf2_server</a> <small>repository</small></h3>
        <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-peci1-tf2_server
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-peci1-tf2_server" role="menuitem" tabindex="-1" href="/r/tf2_server/github-peci1-tf2_server" data="github-peci1-tf2_server">
                    <span class="glyphicon glyphicon-star"></span>
                    github-peci1-tf2_server
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/tf2_server">tf2_server</a> <small>repository</small></h3>
        <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-peci1-tf2_server
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-peci1-tf2_server" role="menuitem" tabindex="-1" href="/r/tf2_server/github-peci1-tf2_server" data="github-peci1-tf2_server">
                    <span class="glyphicon glyphicon-star"></span>
                    github-peci1-tf2_server
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/tf2_server">tf2_server</a> <small>repository</small></h3>
        <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-peci1-tf2_server
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-peci1-tf2_server" role="menuitem" tabindex="-1" href="/r/tf2_server/github-peci1-tf2_server" data="github-peci1-tf2_server">
                    <span class="glyphicon glyphicon-star"></span>
                    github-peci1-tf2_server
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/tf2_server">tf2_server</a> <small>repository</small></h3>
        <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-peci1-tf2_server
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-peci1-tf2_server" role="menuitem" tabindex="-1" href="/r/tf2_server/github-peci1-tf2_server" data="github-peci1-tf2_server">
                    <span class="glyphicon glyphicon-star"></span>
                    github-peci1-tf2_server
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/tf2_server">tf2_server</a> <small>repository</small></h3>
        <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-peci1-tf2_server
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-peci1-tf2_server" role="menuitem" tabindex="-1" href="/r/tf2_server/github-peci1-tf2_server" data="github-peci1-tf2_server">
                    <span class="glyphicon glyphicon-star"></span>
                    github-peci1-tf2_server
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/tf2_server">tf2_server</a> <small>repository</small></h3>
        <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        
        <a class="label label-primary pkg-label" href="/p/tf2_server">tf2_server</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-peci1-tf2_server
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-peci1-tf2_server" role="menuitem" tabindex="-1" href="/r/tf2_server/github-peci1-tf2_server" data="github-peci1-tf2_server">
                    <span class="glyphicon glyphicon-star"></span>
                    github-peci1-tf2_server
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">An upgraded tf2_ros/buffer_server which allows clients to request only subparts of the TF tree</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/peci1/tf2_server.git">https://github.com/peci1/tf2_server.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-01-10
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/tf2_server/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/tf2_server/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/tf2_server/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/tf2_server">tf2_server</a></td>
                    <td>1.1.3</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="tf2_server">tf2_server</h1>

<p><img src="https://github.com/peci1/tf2_server/workflows/CI/badge.svg" alt="CI"></p>

<p>An upgraded <a href="https://github.com/ros/geometry2/blob/melodic-devel/tf2_ros/src/buffer_server.cpp">tf2_ros/buffer_server</a>.
Main features are:</p>

<ul>
  <li>It supports the same action API as <code class="language-plaintext highlighter-rouge">tf2_ros/buffer_server</code> node for on-demand transform querying (which is however
not suitable for fast queries).</li>
  <li>It allows clients to request only subparts (or “streams”) of the TF tree, which results in lowering the data
transfer rates and computational burden of TF clients.</li>
  <li>It provides C++ and Python helper libraries that make the subtree subscription easier. However, use of these
libraries is optional and client code can make full use of subscription to a TF subtree just by correct configuration
in <code class="language-plaintext highlighter-rouge">.launch</code> files.</li>
  <li>It can be used as a TF concentrator which reduces the usual M:N connection nature of the TF topic to a M:1 and 1:N.</li>
</ul>

<p>The subtree subscription mode is useful as a middle way between standard <code class="language-plaintext highlighter-rouge">TransformListener</code> and the action interface of
the <code class="language-plaintext highlighter-rouge">buffer_server</code> - it transmits only the requested transform(s), but isn’t burdened with the overhead the action
interface brings in.</p>

<p>The server publishes the so called “TF streams”, which are internally utilized by the helper libraries,
but can also be used by custom user code. The streams can either be requested dynamically by calling service
<code class="language-plaintext highlighter-rouge">~/request_transform_stream</code> or by setting an initial set of streams using the <code class="language-plaintext highlighter-rouge">streams</code> parameter described in the
following section.</p>

<h2 id="nodes-and-nodelets">Nodes and nodelets</h2>

<p>This package provides node <code class="language-plaintext highlighter-rouge">tf2_server_node</code> and nodelet <code class="language-plaintext highlighter-rouge">tf2_server/nodelet</code> with
equal functionality. Try running the nodelet version with your TF-hungry nodes.</p>

<h2 id="actions">Actions</h2>

<ul>
  <li>
<a href="http://docs.ros.org/api/tf2_msgs/html/action/LookupTransform.html"><code class="language-plaintext highlighter-rouge">tf2_msgs/LookupTransform</code></a>: Depending on value
of parameter <code class="language-plaintext highlighter-rouge">~use_node_namespace</code>, this action is either published in namespace of the node, or in namespace
<code class="language-plaintext highlighter-rouge">tf2_buffer_server</code>.</li>
</ul>

<h2 id="parameters">Parameters</h2>

<p>The first 3 parameters are taken from the original TF2 buffer server. To stay compatible, the parameters are not
node-private, but should be set “one level” higher, e.g. besides the node and not inside it.</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">double</code> <code class="language-plaintext highlighter-rouge">buffer_size</code>: Duration of the buffer memory (in seconds). Default is 120.0.</li>
  <li>
<code class="language-plaintext highlighter-rouge">bool</code> <code class="language-plaintext highlighter-rouge">publish_frame_service</code>: If <code class="language-plaintext highlighter-rouge">True</code>, the server will enable service <code class="language-plaintext highlighter-rouge">~/tf2_frames</code> which shows debug information
about the contents of the buffer. Default is <code class="language-plaintext highlighter-rouge">False</code>.</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">bool</code> <code class="language-plaintext highlighter-rouge">use_node_namespace</code>: If <code class="language-plaintext highlighter-rouge">True</code>, the lookup transform action of this server will be published under the
namespace of this tf2_server. If <code class="language-plaintext highlighter-rouge">False</code>, the action server will be published in namespace <code class="language-plaintext highlighter-rouge">tf2_buffer_server</code>.
Default is <code class="language-plaintext highlighter-rouge">False</code>.</p>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">double</code> <code class="language-plaintext highlighter-rouge">~transforms_update_period</code>: The period at which the server looks for
newly added TF frames.</li>
  <li>
<code class="language-plaintext highlighter-rouge">double</code> <code class="language-plaintext highlighter-rouge">~initial_streams_wait_time</code>: Specifies how long to wait before 
registering streams from parameter <code class="language-plaintext highlighter-rouge">streams</code> (in seconds). This helps in case
not all frames are right away available and you do not want to dynamically update
the lists of available frames.</li>
  <li>
<code class="language-plaintext highlighter-rouge">dict</code> <code class="language-plaintext highlighter-rouge">~streams</code>: If nonempty, specifies some TF streams that should be registered
right after starting the server. Each stream has a name (its key in this dict).
The stream will be published at <code class="language-plaintext highlighter-rouge">~/stream_key</code> and 
<code class="language-plaintext highlighter-rouge">~/stream_key/static</code>. The structure is the following and is described
in more detail in the following section:</li>
</ul>

<pre><code class="language-YAML">streams:
  body:
    parent_frame: 'base_link'
    child_frames: []
    intermediate_frames: True
    publication_period: 0.1
    publisher_queue_size: 11
    allow_transforms_update: True

</code></pre>

<h2 id="services">Services</h2>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">tf2_server/RequestTransformStream</code> <code class="language-plaintext highlighter-rouge">~/request_transform_stream</code>: Requests a transform
stream satisfying the given parameters.</li>
  <li>
<a href="http://docs.ros.org/api/tf2_msgs/html/srv/FrameGraph.html"><code class="language-plaintext highlighter-rouge">tf2_msgs/FrameGraph</code></a> <code class="language-plaintext highlighter-rouge">~/tf2_frames</code>: Returns a list
of all available frames seen by the buffer server.</li>
</ul>

<h2 id="tf2_server_node-publications-and-subscriptions">tf2_server_node publications and subscriptions</h2>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/tf</code>, <code class="language-plaintext highlighter-rouge">/tf_static</code>: The original TF topics.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~/stream_key</code>, <code class="language-plaintext highlighter-rouge">~/stream_key/static</code> for each <code class="language-plaintext highlighter-rouge">stream_key</code>
</li>
</ul>

<h2 id="requesttransformstream">RequestTransformStream</h2>

<p>The subtree subscription API is built around <a href="https://github.com/peci1/tf2_server/tree/master/srv/RequestTransformStream.srv">ReuqestTranformStream</a>
service type. The subtree listeners are configured by RequestTransformStreamRequest
objects. The meaning of the individual fields is as follows:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">string</code> <code class="language-plaintext highlighter-rouge">parent_frame</code>: The top-most frame in TF tree you’re interested in.</li>
  <li>
<code class="language-plaintext highlighter-rouge">string[]</code> <code class="language-plaintext highlighter-rouge">child_frames</code>: In case a nonempty list is given, this specifies the
  child transforms you are interested in. They don’t need to be direct children
  of <code class="language-plaintext highlighter-rouge">parent_frame</code>, but they should be in the same TF tree. If an empty list is
  given, stream the whole subtree of <code class="language-plaintext highlighter-rouge">parent_frame</code>. This mode requires 
  <code class="language-plaintext highlighter-rouge">intermediate_frames</code> set to <code class="language-plaintext highlighter-rouge">True</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">bool</code> <code class="language-plaintext highlighter-rouge">intermediate_frames</code>: If <code class="language-plaintext highlighter-rouge">False</code>, stream only direct
 <code class="language-plaintext highlighter-rouge">parent_frame</code>-&gt;<code class="language-plaintext highlighter-rouge">child_frame</code> transforms (no matter if they were originally
 direct neighbors). If <code class="language-plaintext highlighter-rouge">True</code>, stream all the transforms between <code class="language-plaintext highlighter-rouge">parent_frame</code>
 and all <code class="language-plaintext highlighter-rouge">child_frames</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">duration</code> <code class="language-plaintext highlighter-rouge">publication_period</code>: How often to publish the transforms.</li>
  <li>
<code class="language-plaintext highlighter-rouge">bool</code> <code class="language-plaintext highlighter-rouge">allow_transforms_update</code>: If true, periodically checks for updates in
subtree topology. Can even handle cases when <code class="language-plaintext highlighter-rouge">parent_frame</code> isn’t reachable
at the time of the request. Default is false.</li>
  <li>
<code class="language-plaintext highlighter-rouge">int32</code> <code class="language-plaintext highlighter-rouge">publisher_queue_size</code>: Queue size of the transform publisher.</li>
  <li>
<code class="language-plaintext highlighter-rouge">string</code> <code class="language-plaintext highlighter-rouge">requested_topic_name</code>: If nonempty, the stream will be published on
the given topic. Leads to an error if another stream is only registered on
this topic with incompatible settings.</li>
  <li>
<code class="language-plaintext highlighter-rouge">string</code> <code class="language-plaintext highlighter-rouge">requested_static_topic_name</code>: If nonempty, specifies the name of
the stream with static transforms. Defaults to <code class="language-plaintext highlighter-rouge">$(requested_topic_name)/static</code>.</li>
</ul>

<h2 id="example-usage">Example usage</h2>

<h3 id="tf2_serverlaunch">tf2_server.launch</h3>

<pre><code class="language-XML">&lt;launch&gt;
    &lt;param name="buffer_size" value="30.0"/&gt;
    &lt;param name="publish_frame_service" value="true"/&gt;
    &lt;param name="use_node_namespace" value="true"/&gt;
    &lt;node name="tf_server" pkg="tf2_server" type="tf2_server_node"&gt;
        &lt;param name="transforms_update_period" value="10.0" /&gt;
        &lt;rosparam&gt;
            streams:
                odom:
                    parent_frame: 'odom'
                    child_frames: ['base_link']
                    intermediate_frames: True
                    publication_period: 0.02
                    publisher_queue_size: 10
                    allow_transforms_update: True
        &lt;/rosparam&gt;
    &lt;/node&gt;
&lt;/launch&gt;

</code></pre>

<h3 id="c-client">C++ client</h3>

<p>This C++ client code shows how to subscribe the whole TF subtree under the
<code class="language-plaintext highlighter-rouge">base_link</code> frame. The transforms in the buffer get updated once every 0.1 s.</p>

<pre><code class="language-C++">#include &lt;tf2_server/tf2_subtree_listener.h&gt;

RequestTransformStreamRequest req;
req.parent_frame = "base_link";
req.child_frames = { };
req.intermediate_frames = true;
req.publisher_queue_size = 10;
req.publication_period = ros::Duration(0.1);

tf2_ros::Buffer buffer;
TransformSubtreeListener listener(req, buffer, false, ros::Duration(10));

...

buffer.canTransform("base_link", "left_track", ros::Time(0));

</code></pre>

<h3 id="python-client">Python client</h3>

<p>This Python client example shows how to subscribe exactly two transforms:
<code class="language-plaintext highlighter-rouge">base_link</code>-&gt;<code class="language-plaintext highlighter-rouge">left_track</code> and <code class="language-plaintext highlighter-rouge">base_link</code>-&gt;<code class="language-plaintext highlighter-rouge">front_left_flipper_endpoint</code>.
No other transforms are transmitted to the client.</p>

<pre><code class="language-Python">req = RequestTransformStreamRequest()
req.parent_frame = "base_link"
req.child_frames = ["left_track", "front_left_flipper_endpoint"]
req.intermediate_frames = False
req.publisher_queue_size = 10
req.publication_period = rospy.Duration(0.1)

buffer = Buffer()
listener = TransformSubtreeListener(req, buffer, max_server_wait=rospy.Duration(10))

...

buffer.can_transform("base_link", "left_track", rospy.Time(0))

</code></pre>

<h3 id="connect-a-node-to-an-already-existing-transform-stream">Connect a node to an already existing transform stream</h3>

<pre><code class="language-XML">&lt;launch&gt;
    &lt;!-- This assumes you've already requested a TF subtree "odom", e.g. by putting it in the `streams` parameter. --&gt;
    &lt;node name="my_node" pkg="any_pkg" type="node"&gt;
        &lt;remap from="/tf" to="tf2_server/streams/odom" /&gt;
        &lt;remap from="/tf_static" to="tf2_server/streams/odom/static" /&gt;
    &lt;/node&gt;
&lt;/launch&gt;

</code></pre>

<h2 id="principle-of-working-of-the-subtree-listenerpublisher">Principle of working of the subtree listener/publisher</h2>

<p>The <code class="language-plaintext highlighter-rouge">TransformSubtreeListener</code> classes hide some implementation details from the
user. Here we describe what exactly happens when a subtree is requested.</p>

<p>First, service <code class="language-plaintext highlighter-rouge">~/request_transform_stream</code> is called with the given
subtree configuration. The server responds with a message that specifies
<code class="language-plaintext highlighter-rouge">topic_name</code> and <code class="language-plaintext highlighter-rouge">static_topic_name</code>, which are autogenerated topic names from
namespace <code class="language-plaintext highlighter-rouge">~/streams/*</code>. The client then remaps <code class="language-plaintext highlighter-rouge">/tf</code> and <code class="language-plaintext highlighter-rouge">/tf_static</code>
to these topics and subscribes to them.</p>

<p>On the server side, the autogenerated topics are cached and when a new client
asks for an already published subtree configuration, the already existing topic
names are returned. Each unique subtree configuration starts a timer in the
server node, which publishes the requested transforms on the requested rate.
When last client with a given configuration disconnects from its topics, the
timer is stopped so that it doesn’t eat resources. But the topic remains and
anyone can connect later, which will start the timer again.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/tf2_server">tf2_server</a> <small>repository</small></h3>
        <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-peci1-tf2_server
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-peci1-tf2_server" role="menuitem" tabindex="-1" href="/r/tf2_server/github-peci1-tf2_server" data="github-peci1-tf2_server">
                    <span class="glyphicon glyphicon-star"></span>
                    github-peci1-tf2_server
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/tf2_server">tf2_server</a> <small>repository</small></h3>
        <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-peci1-tf2_server
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-peci1-tf2_server" role="menuitem" tabindex="-1" href="/r/tf2_server/github-peci1-tf2_server" data="github-peci1-tf2_server">
                    <span class="glyphicon glyphicon-star"></span>
                    github-peci1-tf2_server
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/tf2_server">tf2_server</a> <small>repository</small></h3>
        <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        
        <a class="label label-primary pkg-label" href="/p/tf2_server">tf2_server</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-peci1-tf2_server
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-peci1-tf2_server" role="menuitem" tabindex="-1" href="/r/tf2_server/github-peci1-tf2_server" data="github-peci1-tf2_server">
                    <span class="glyphicon glyphicon-star"></span>
                    github-peci1-tf2_server
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">An upgraded tf2_ros/buffer_server which allows clients to request only subparts of the TF tree</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/peci1/tf2_server.git">https://github.com/peci1/tf2_server.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-01-10
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">tf2</span> <span class="label label-default">ros</span> <span class="label label-default">transforms</span> <span class="label label-default">tf2-ros</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/tf2_server/#melodic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/tf2_server/#melodic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/tf2_server/#melodic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/tf2_server">tf2_server</a></td>
                    <td>1.1.3</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="tf2_server">tf2_server</h1>

<p><img src="https://github.com/peci1/tf2_server/workflows/CI/badge.svg" alt="CI"></p>

<p>An upgraded <a href="https://github.com/ros/geometry2/blob/melodic-devel/tf2_ros/src/buffer_server.cpp">tf2_ros/buffer_server</a>.
Main features are:</p>

<ul>
  <li>It supports the same action API as <code class="language-plaintext highlighter-rouge">tf2_ros/buffer_server</code> node for on-demand transform querying (which is however
not suitable for fast queries).</li>
  <li>It allows clients to request only subparts (or “streams”) of the TF tree, which results in lowering the data
transfer rates and computational burden of TF clients.</li>
  <li>It provides C++ and Python helper libraries that make the subtree subscription easier. However, use of these
libraries is optional and client code can make full use of subscription to a TF subtree just by correct configuration
in <code class="language-plaintext highlighter-rouge">.launch</code> files.</li>
  <li>It can be used as a TF concentrator which reduces the usual M:N connection nature of the TF topic to a M:1 and 1:N.</li>
</ul>

<p>The subtree subscription mode is useful as a middle way between standard <code class="language-plaintext highlighter-rouge">TransformListener</code> and the action interface of
the <code class="language-plaintext highlighter-rouge">buffer_server</code> - it transmits only the requested transform(s), but isn’t burdened with the overhead the action
interface brings in.</p>

<p>The server publishes the so called “TF streams”, which are internally utilized by the helper libraries,
but can also be used by custom user code. The streams can either be requested dynamically by calling service
<code class="language-plaintext highlighter-rouge">~/request_transform_stream</code> or by setting an initial set of streams using the <code class="language-plaintext highlighter-rouge">streams</code> parameter described in the
following section.</p>

<h2 id="nodes-and-nodelets">Nodes and nodelets</h2>

<p>This package provides node <code class="language-plaintext highlighter-rouge">tf2_server_node</code> and nodelet <code class="language-plaintext highlighter-rouge">tf2_server/nodelet</code> with
equal functionality. Try running the nodelet version with your TF-hungry nodes.</p>

<h2 id="actions">Actions</h2>

<ul>
  <li>
<a href="http://docs.ros.org/api/tf2_msgs/html/action/LookupTransform.html"><code class="language-plaintext highlighter-rouge">tf2_msgs/LookupTransform</code></a>: Depending on value
of parameter <code class="language-plaintext highlighter-rouge">~use_node_namespace</code>, this action is either published in namespace of the node, or in namespace
<code class="language-plaintext highlighter-rouge">tf2_buffer_server</code>.</li>
</ul>

<h2 id="parameters">Parameters</h2>

<p>The first 3 parameters are taken from the original TF2 buffer server. To stay compatible, the parameters are not
node-private, but should be set “one level” higher, e.g. besides the node and not inside it.</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">double</code> <code class="language-plaintext highlighter-rouge">buffer_size</code>: Duration of the buffer memory (in seconds). Default is 120.0.</li>
  <li>
<code class="language-plaintext highlighter-rouge">bool</code> <code class="language-plaintext highlighter-rouge">publish_frame_service</code>: If <code class="language-plaintext highlighter-rouge">True</code>, the server will enable service <code class="language-plaintext highlighter-rouge">~/tf2_frames</code> which shows debug information
about the contents of the buffer. Default is <code class="language-plaintext highlighter-rouge">False</code>.</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">bool</code> <code class="language-plaintext highlighter-rouge">use_node_namespace</code>: If <code class="language-plaintext highlighter-rouge">True</code>, the lookup transform action of this server will be published under the
namespace of this tf2_server. If <code class="language-plaintext highlighter-rouge">False</code>, the action server will be published in namespace <code class="language-plaintext highlighter-rouge">tf2_buffer_server</code>.
Default is <code class="language-plaintext highlighter-rouge">False</code>.</p>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">double</code> <code class="language-plaintext highlighter-rouge">~transforms_update_period</code>: The period at which the server looks for
newly added TF frames.</li>
  <li>
<code class="language-plaintext highlighter-rouge">double</code> <code class="language-plaintext highlighter-rouge">~initial_streams_wait_time</code>: Specifies how long to wait before 
registering streams from parameter <code class="language-plaintext highlighter-rouge">streams</code> (in seconds). This helps in case
not all frames are right away available and you do not want to dynamically update
the lists of available frames.</li>
  <li>
<code class="language-plaintext highlighter-rouge">dict</code> <code class="language-plaintext highlighter-rouge">~streams</code>: If nonempty, specifies some TF streams that should be registered
right after starting the server. Each stream has a name (its key in this dict).
The stream will be published at <code class="language-plaintext highlighter-rouge">~/stream_key</code> and 
<code class="language-plaintext highlighter-rouge">~/stream_key/static</code>. The structure is the following and is described
in more detail in the following section:</li>
</ul>

<pre><code class="language-YAML">streams:
  body:
    parent_frame: 'base_link'
    child_frames: []
    intermediate_frames: True
    publication_period: 0.1
    publisher_queue_size: 11
    allow_transforms_update: True

</code></pre>

<h2 id="services">Services</h2>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">tf2_server/RequestTransformStream</code> <code class="language-plaintext highlighter-rouge">~/request_transform_stream</code>: Requests a transform
stream satisfying the given parameters.</li>
  <li>
<a href="http://docs.ros.org/api/tf2_msgs/html/srv/FrameGraph.html"><code class="language-plaintext highlighter-rouge">tf2_msgs/FrameGraph</code></a> <code class="language-plaintext highlighter-rouge">~/tf2_frames</code>: Returns a list
of all available frames seen by the buffer server.</li>
</ul>

<h2 id="tf2_server_node-publications-and-subscriptions">tf2_server_node publications and subscriptions</h2>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/tf</code>, <code class="language-plaintext highlighter-rouge">/tf_static</code>: The original TF topics.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~/stream_key</code>, <code class="language-plaintext highlighter-rouge">~/stream_key/static</code> for each <code class="language-plaintext highlighter-rouge">stream_key</code>
</li>
</ul>

<h2 id="requesttransformstream">RequestTransformStream</h2>

<p>The subtree subscription API is built around <a href="https://github.com/peci1/tf2_server/tree/master/srv/RequestTransformStream.srv">ReuqestTranformStream</a>
service type. The subtree listeners are configured by RequestTransformStreamRequest
objects. The meaning of the individual fields is as follows:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">string</code> <code class="language-plaintext highlighter-rouge">parent_frame</code>: The top-most frame in TF tree you’re interested in.</li>
  <li>
<code class="language-plaintext highlighter-rouge">string[]</code> <code class="language-plaintext highlighter-rouge">child_frames</code>: In case a nonempty list is given, this specifies the
  child transforms you are interested in. They don’t need to be direct children
  of <code class="language-plaintext highlighter-rouge">parent_frame</code>, but they should be in the same TF tree. If an empty list is
  given, stream the whole subtree of <code class="language-plaintext highlighter-rouge">parent_frame</code>. This mode requires 
  <code class="language-plaintext highlighter-rouge">intermediate_frames</code> set to <code class="language-plaintext highlighter-rouge">True</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">bool</code> <code class="language-plaintext highlighter-rouge">intermediate_frames</code>: If <code class="language-plaintext highlighter-rouge">False</code>, stream only direct
 <code class="language-plaintext highlighter-rouge">parent_frame</code>-&gt;<code class="language-plaintext highlighter-rouge">child_frame</code> transforms (no matter if they were originally
 direct neighbors). If <code class="language-plaintext highlighter-rouge">True</code>, stream all the transforms between <code class="language-plaintext highlighter-rouge">parent_frame</code>
 and all <code class="language-plaintext highlighter-rouge">child_frames</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">duration</code> <code class="language-plaintext highlighter-rouge">publication_period</code>: How often to publish the transforms.</li>
  <li>
<code class="language-plaintext highlighter-rouge">bool</code> <code class="language-plaintext highlighter-rouge">allow_transforms_update</code>: If true, periodically checks for updates in
subtree topology. Can even handle cases when <code class="language-plaintext highlighter-rouge">parent_frame</code> isn’t reachable
at the time of the request. Default is false.</li>
  <li>
<code class="language-plaintext highlighter-rouge">int32</code> <code class="language-plaintext highlighter-rouge">publisher_queue_size</code>: Queue size of the transform publisher.</li>
  <li>
<code class="language-plaintext highlighter-rouge">string</code> <code class="language-plaintext highlighter-rouge">requested_topic_name</code>: If nonempty, the stream will be published on
the given topic. Leads to an error if another stream is only registered on
this topic with incompatible settings.</li>
  <li>
<code class="language-plaintext highlighter-rouge">string</code> <code class="language-plaintext highlighter-rouge">requested_static_topic_name</code>: If nonempty, specifies the name of
the stream with static transforms. Defaults to <code class="language-plaintext highlighter-rouge">$(requested_topic_name)/static</code>.</li>
</ul>

<h2 id="example-usage">Example usage</h2>

<h3 id="tf2_serverlaunch">tf2_server.launch</h3>

<pre><code class="language-XML">&lt;launch&gt;
    &lt;param name="buffer_size" value="30.0"/&gt;
    &lt;param name="publish_frame_service" value="true"/&gt;
    &lt;param name="use_node_namespace" value="true"/&gt;
    &lt;node name="tf_server" pkg="tf2_server" type="tf2_server_node"&gt;
        &lt;param name="transforms_update_period" value="10.0" /&gt;
        &lt;rosparam&gt;
            streams:
                odom:
                    parent_frame: 'odom'
                    child_frames: ['base_link']
                    intermediate_frames: True
                    publication_period: 0.02
                    publisher_queue_size: 10
                    allow_transforms_update: True
        &lt;/rosparam&gt;
    &lt;/node&gt;
&lt;/launch&gt;

</code></pre>

<h3 id="c-client">C++ client</h3>

<p>This C++ client code shows how to subscribe the whole TF subtree under the
<code class="language-plaintext highlighter-rouge">base_link</code> frame. The transforms in the buffer get updated once every 0.1 s.</p>

<pre><code class="language-C++">#include &lt;tf2_server/tf2_subtree_listener.h&gt;

RequestTransformStreamRequest req;
req.parent_frame = "base_link";
req.child_frames = { };
req.intermediate_frames = true;
req.publisher_queue_size = 10;
req.publication_period = ros::Duration(0.1);

tf2_ros::Buffer buffer;
TransformSubtreeListener listener(req, buffer, false, ros::Duration(10));

...

buffer.canTransform("base_link", "left_track", ros::Time(0));

</code></pre>

<h3 id="python-client">Python client</h3>

<p>This Python client example shows how to subscribe exactly two transforms:
<code class="language-plaintext highlighter-rouge">base_link</code>-&gt;<code class="language-plaintext highlighter-rouge">left_track</code> and <code class="language-plaintext highlighter-rouge">base_link</code>-&gt;<code class="language-plaintext highlighter-rouge">front_left_flipper_endpoint</code>.
No other transforms are transmitted to the client.</p>

<pre><code class="language-Python">req = RequestTransformStreamRequest()
req.parent_frame = "base_link"
req.child_frames = ["left_track", "front_left_flipper_endpoint"]
req.intermediate_frames = False
req.publisher_queue_size = 10
req.publication_period = rospy.Duration(0.1)

buffer = Buffer()
listener = TransformSubtreeListener(req, buffer, max_server_wait=rospy.Duration(10))

...

buffer.can_transform("base_link", "left_track", rospy.Time(0))

</code></pre>

<h3 id="connect-a-node-to-an-already-existing-transform-stream">Connect a node to an already existing transform stream</h3>

<pre><code class="language-XML">&lt;launch&gt;
    &lt;!-- This assumes you've already requested a TF subtree "odom", e.g. by putting it in the `streams` parameter. --&gt;
    &lt;node name="my_node" pkg="any_pkg" type="node"&gt;
        &lt;remap from="/tf" to="tf2_server/streams/odom" /&gt;
        &lt;remap from="/tf_static" to="tf2_server/streams/odom/static" /&gt;
    &lt;/node&gt;
&lt;/launch&gt;

</code></pre>

<h2 id="principle-of-working-of-the-subtree-listenerpublisher">Principle of working of the subtree listener/publisher</h2>

<p>The <code class="language-plaintext highlighter-rouge">TransformSubtreeListener</code> classes hide some implementation details from the
user. Here we describe what exactly happens when a subtree is requested.</p>

<p>First, service <code class="language-plaintext highlighter-rouge">~/request_transform_stream</code> is called with the given
subtree configuration. The server responds with a message that specifies
<code class="language-plaintext highlighter-rouge">topic_name</code> and <code class="language-plaintext highlighter-rouge">static_topic_name</code>, which are autogenerated topic names from
namespace <code class="language-plaintext highlighter-rouge">~/streams/*</code>. The client then remaps <code class="language-plaintext highlighter-rouge">/tf</code> and <code class="language-plaintext highlighter-rouge">/tf_static</code>
to these topics and subscribes to them.</p>

<p>On the server side, the autogenerated topics are cached and when a new client
asks for an already published subtree configuration, the already existing topic
names are returned. Each unique subtree configuration starts a timer in the
server node, which publishes the requested transforms on the requested rate.
When last client with a given configuration disconnects from its topics, the
timer is stopped so that it doesn’t eat resources. But the topic remains and
anyone can connect later, which will start the timer again.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/peci1/tf2_server.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
