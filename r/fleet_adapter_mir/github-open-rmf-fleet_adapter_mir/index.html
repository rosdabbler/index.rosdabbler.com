<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/fleet_adapter_mir/github-open-rmf-fleet_adapter_mir/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">fleet_adapter_mir</li>
        <!--<li class="active">fleet_adapter_mir</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-primary" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/fleet_adapter_mir">fleet_adapter_mir</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-fleet_adapter_mir
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-fleet_adapter_mir" role="menuitem" tabindex="-1" href="/r/fleet_adapter_mir/github-open-rmf-fleet_adapter_mir" data="github-open-rmf-fleet_adapter_mir">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-fleet_adapter_mir
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/fleet_adapter_mir">fleet_adapter_mir</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-fleet_adapter_mir
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-fleet_adapter_mir" role="menuitem" tabindex="-1" href="/r/fleet_adapter_mir/github-open-rmf-fleet_adapter_mir" data="github-open-rmf-fleet_adapter_mir">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-fleet_adapter_mir
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/fleet_adapter_mir">fleet_adapter_mir</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-fleet_adapter_mir
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-fleet_adapter_mir" role="menuitem" tabindex="-1" href="/r/fleet_adapter_mir/github-open-rmf-fleet_adapter_mir" data="github-open-rmf-fleet_adapter_mir">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-fleet_adapter_mir
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/fleet_adapter_mir">fleet_adapter_mir</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-fleet_adapter_mir
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-fleet_adapter_mir" role="menuitem" tabindex="-1" href="/r/fleet_adapter_mir/github-open-rmf-fleet_adapter_mir" data="github-open-rmf-fleet_adapter_mir">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-fleet_adapter_mir
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/fleet_adapter_mir">fleet_adapter_mir</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/fleet_adapter_mir">fleet_adapter_mir</a>
        
        <a class="label label-primary pkg-label" href="/p/fleet_adapter_mir_actions">fleet_adapter_mir_actions</a>
        
        <a class="label label-primary pkg-label" href="/p/fleet_adapter_mir_tasks">fleet_adapter_mir_tasks</a>
        
        <a class="label label-primary pkg-label" href="/p/fleet_adapter_mirfm">fleet_adapter_mirfm</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-fleet_adapter_mir
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-fleet_adapter_mir" role="menuitem" tabindex="-1" href="/r/fleet_adapter_mir/github-open-rmf-fleet_adapter_mir" data="github-open-rmf-fleet_adapter_mir">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-fleet_adapter_mir
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">RMF/RoMi-H fleet adapter for the MiR API</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/open-rmf/fleet_adapter_mir.git">https://github.com/open-rmf/fleet_adapter_mir.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-12-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNKNOWN
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/fleet_adapter_mir/#github-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/fleet_adapter_mir/#github-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/fleet_adapter_mir/#github-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/fleet_adapter_mir">fleet_adapter_mir</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/fleet_adapter_mir_actions">fleet_adapter_mir_actions</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/fleet_adapter_mir_tasks">fleet_adapter_mir_tasks</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/fleet_adapter_mirfm">fleet_adapter_mirfm</a></td>
                    <td>0.1.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="fleet_adapter_mir">fleet_adapter_mir</h1>
<p>MiR100, 200 and 250 using the https://github.com/open-rmf/rmf_ros2/tree/main/rmf_fleet_adapter_python</p>

<h2 id="pre-requisites">Pre-Requisites</h2>

<ul>
  <li>ROS 2 (Foxy onwards)</li>
  <li>
<a href="https://github.com/open-rmf/rmf">open-rmf</a> (source build recommended)</li>
</ul>

<h2 id="installation">Installation</h2>

<p>If a source build of <code class="language-plaintext highlighter-rouge">open-rmf</code> is used, source the built workspace as an underlay, and build a new workspace with this repository.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create the MiR workspace and clone the repository</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> ~/mir_ws/src
<span class="nb">cd</span> ~/mir_ws/src
git clone https://github.com/osrf/fleet_adapter_mir

<span class="c"># Source the Open-RMF underlay workspace and build</span>
<span class="nb">source</span> ~/rmf_ws/install/setup.bash
<span class="nb">cd</span> ~/mir_ws
colcon build

</code></pre></div></div>

<h2 id="description">Description</h2>

<p>These packages implement a MiR command handle that is managed by a fleet adapter in Python. (Along with some helpers.) It can be used to command and manage a fleet of MiR robots using RMF!</p>

<p>It uses the <code class="language-plaintext highlighter-rouge">rmf_fleet_adapter_python</code> bindings, which allows for communication with <code class="language-plaintext highlighter-rouge">open-rmf</code> libraries and ROS2 nodes.</p>

<p>In effect, it interfaces the MiR REST API with <code class="language-plaintext highlighter-rouge">open-rmf</code>, all without needing to directly use ROS 2 messages to communicate with <code class="language-plaintext highlighter-rouge">open-rmf</code>!</p>

<h3 id="mir-vs-mir-fleet">MiR vs. MiR Fleet</h3>

<p>Since the MiR robots and MiR Fleet work with different sets of endpoints that serve different functions, both <code class="language-plaintext highlighter-rouge">fleet_adapter_mir</code> and <code class="language-plaintext highlighter-rouge">fleet_adapter_mirfm</code> packages are availble to demonstrate RMF integration between MiR100/200/250 and MiR Fleet respectively. In addition, the <code class="language-plaintext highlighter-rouge">mir_fleet_client</code> package provides additional API needed for the MiR Fleet + RMF integration.</p>

<p>For users who wish to take advantage of MiR Fleet’s centralized control system/interface or do not have access to individual MiR robots, the <code class="language-plaintext highlighter-rouge">fleet_adapter_mirfm</code> package enables RMF integration with MiR Fleet by obtaining individual MiR robot positions and mission GUIDs via the MiR Fleet API and dispatching commands directly to the robots themselves. The current MiR Fleet API does not provide all the necessary endpoints for RMF to perform its task allocation and traffic deconfliction to the full extent, hence the implementation contains direct communication between RMF and MiR robots as well.</p>

<p>As such, it is recommended to implement the fleet adapter directly with individual MiR robots using <code class="language-plaintext highlighter-rouge">fleet_adapter_mir</code>.</p>

<p><strong>NOTE</strong>: <code class="language-plaintext highlighter-rouge">fleet_adapter_mirfm</code> is currently not being actively supported.</p>

<h2 id="additional-notes">Additional Notes</h2>

<h3 id="different-units-for-angles">Different Units for Angles</h3>

<p>MiR and RMF use different units for angles.</p>

<ul>
  <li>MiR uses <strong>degrees</strong>
</li>
  <li>RMF uses <strong>radians</strong>.</li>
</ul>

<p>You might also have to clamp your angles to be within +-180 or +-3.14.</p>

<h3 id="task-ids">Task IDs</h3>

<p>Task IDs are kept as a monotonically increasing integer, with each robot having its own counter. They will be reflected as such in any <code class="language-plaintext highlighter-rouge">RobotState</code> messages that get published.</p>

<h3 id="fleet-states">Fleet States</h3>

<p><code class="language-plaintext highlighter-rouge">FleetState</code> publishing is done manually and not under the purview of the individual robot command handle instances. Each robot handle will internally update its corresponding <code class="language-plaintext highlighter-rouge">RobotState</code> message, so it is fairly trivial to aggregate them all into a <code class="language-plaintext highlighter-rouge">FleetState</code> message externally.</p>

<p>The example script <code class="language-plaintext highlighter-rouge">fleet_adapter_mir/fleet_adapter_mir.py</code> does this.</p>

<h3 id="robot-transforms-two-coordinate-systems">Robot Transforms: Two Coordinate Systems</h3>

<p>Since we are interfacing MiR and <code class="language-plaintext highlighter-rouge">open-rmf</code>, we need to deal with two coordinate systems and two forms of ‘maps’.</p>

<p>We have to deal with the <code class="language-plaintext highlighter-rouge">rmf_traffic</code> navgraph and the MiR map, with their own individual coordinate systems, waypoints/positions, and waypoint keys/position names.</p>

<p>Luckily, we can leverage the <code class="language-plaintext highlighter-rouge">nudged</code> Python library to compute coordinate transforms between the two sets of coordinates. You just have to make sure to provide equivalent reference points within the two maps so transforms can be computed.</p>

<p>The transform objects are stored in the EasyFullControl fleet adapter handle.</p>

<h3 id="very-involved-location-tracking">Very Involved: Location Tracking</h3>

<blockquote>
  <p><strong>Note</strong>: You do <strong>not</strong> need to know this if you just want to use this package to control robots. This is here to help any developers that want to look into the source code’s guts to understand why the code is written the way it is (and why there seem to be weird variables strewn about.)</p>

  <p>This will be helpful if you intend on writing other fleet adapters for other robots that communicate with REST APIs.</p>
</blockquote>

<p>In order for the appropriate <code class="language-plaintext highlighter-rouge">RobotUpdateHandle.update_position()</code> method calls to be used, we need some way to track the location of the robot on the <code class="language-plaintext highlighter-rouge">rmf_core</code> navigation graph.</p>

<p>The trouble is, since we are using the MiR REST API, the only way we can obtain information about the robot’s state is by polling it via REST calls.</p>

<p>Even harder than that, the MiR REST API does not care to store information about the <code class="language-plaintext highlighter-rouge">rmf_traffic</code> navigation graph, and any goals that are set with respect to that. In fact, the corresponding path following calls that <code class="language-plaintext highlighter-rouge">open-rmf</code> issues gets translated into move-to-coordinate missions for the MiR to execute.</p>

<p>This is <strong>very messy</strong>. Mainly because we cannot immediately infer the semantic state of the robot (with respect to RMF.) Instead, we have to infer it based off of what we know, from the tracking variables we are using, and the robot’s mode.</p>

<h4 id="trackers"><strong>Trackers</strong></h4>

<p>There are a couple of semantic states we need to be aware of, characterised by the state of the following tracker variables:</p>

<p>Three variables that keep track of location:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">current_waypoint</code></li>
  <li><code class="language-plaintext highlighter-rouge">target_waypoint</code></li>
  <li><code class="language-plaintext highlighter-rouge">current_lane</code></li>
</ol>

<p>The <code class="language-plaintext highlighter-rouge">RobotState</code> with the following robot modes:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">MODE_MOVING</code> : Moving</li>
  <li>
<code class="language-plaintext highlighter-rouge">MODE_CHARGING</code> : Charging</li>
  <li>
<code class="language-plaintext highlighter-rouge">MODE_IDLE</code> : Ready</li>
  <li>
<code class="language-plaintext highlighter-rouge">MODE_PAUSED</code>: Interrupted</li>
  <li>
<code class="language-plaintext highlighter-rouge">MODE_DOCKING</code>: Docking</li>
</ul>

<p>And a flag that gets set whenever the robot is executing a path following request from <code class="language-plaintext highlighter-rouge">open-rmf</code>:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">rmf_path_requested</code>: <code class="language-plaintext highlighter-rouge">True</code> if executing a path request, <code class="language-plaintext highlighter-rouge">False</code> once complete</li>
</ul>

<h4 id="updating-position"><strong>Updating Position</strong></h4>

<p>Additionally, there are four ways to update robot position. Listed in order of priority, or preference:</p>

<ol>
  <li>
<code class="language-plaintext highlighter-rouge">update_position(waypoint, orientation)</code>
    <ul>
      <li>When the robot is at a waypoint</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">update_position(position, lane)</code>
    <ul>
      <li>When the robot is in transit</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">update_position(position, target_waypoint)</code>
    <ul>
      <li>When the robot is in transit but has lost track of the lane it is in</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">update_position(map_name, position)</code>
    <ul>
      <li>When the robot is <strong>completely lost</strong>
</li>
      <li>Could potentially cause the robot to ‘hop’ around on the navigation graph, use as a last resort</li>
    </ul>
  </li>
</ol>

<blockquote>
  <p><strong>Note:</strong> Notice that this is a cool instance of method overloading that is invokable in Python! This is because of how the Python bindings were created! Different method calls are executed at the lower level!!</p>
</blockquote>

<h4 id="semantic-states"><strong>Semantic States</strong></h4>

<p>With this information, we can then infer the robot’s meta/semantic state with respect to RMF, which will help inform us on what information is available to us, and hence what <code class="language-plaintext highlighter-rouge">update_position</code> call to use.</p>

<p>Then, we track how the semantic states transition as the robot goes about doing its business (changing the state of its tracking variables.)</p>

<p>Note, that in this case, all semantic states are <strong>implicit</strong> and are characterised and defined <strong>purely by the state of the tracker variables listed above</strong>!</p>

<h4 id="state-diagram"><strong>State Diagram</strong></h4>

<p>Here’s a state diagram to show how the states transition between themselves. But before that, here’s the legend and some notes.</p>

<p><strong>State Diagram Legend</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;RobotMode&gt; (current_lane, current_waypoint, target_waypoint)

For example, IDLE (0, 1, 0) implies:
- RobotMode: MODE_IDLE
- current_lane: None
- current_waypoint: Populated
- target_waypoint: None

If a state has multiple lines, the state might be in EITHER of those listed.

---

Additionally, any extra notes will be included after a --- in the description box

</code></pre></div></div>

<p><strong>Notes</strong></p>

<blockquote>
  <p><strong>State Names</strong></p>

  <p>The state names are just there so we know intuitively what they mean. They do not represent actual variable names or values in the source code. Though they will be referenced in the comments so you know what they mean (hence semantic/meta states.)</p>

  <p>The states are characterised <strong>ONLY</strong> by the <code class="language-plaintext highlighter-rouge">RobotMode</code> and the status of the three tracking variables (which will be <code class="language-plaintext highlighter-rouge">None</code> or some <code class="language-plaintext highlighter-rouge">int</code>) and the <code class="language-plaintext highlighter-rouge">rmf_path_requested</code> variable (which will be <code class="language-plaintext highlighter-rouge">True</code> or <code class="language-plaintext highlighter-rouge">False</code>).</p>

  <p><strong>Robot Modes</strong></p>

  <p>Robot modes will change independently as the command handle keeps running its internal <code class="language-plaintext highlighter-rouge">update_internal_robot_state()</code> update method. We only need to keep track of how our states are changing and adjust the internal trackers accordingly.</p>

  <p><strong>Paused States</strong></p>

  <p>Paused states (interrupted) not included for simplicity.</p>

  <p>For those, just assume that any <code class="language-plaintext highlighter-rouge">target_waypoint</code> trackers will be <code class="language-plaintext highlighter-rouge">None</code></p>

</blockquote>

<p><strong>Diagram Time!</strong></p>

<p><img src="https://raw.githubusercontent.com/open-rmf/fleet_adapter_mir/main/_images/README/state_diagram.png" alt="image-20200702030242372"></p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/fleet_adapter_mir">fleet_adapter_mir</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-fleet_adapter_mir
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-fleet_adapter_mir" role="menuitem" tabindex="-1" href="/r/fleet_adapter_mir/github-open-rmf-fleet_adapter_mir" data="github-open-rmf-fleet_adapter_mir">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-fleet_adapter_mir
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/fleet_adapter_mir">fleet_adapter_mir</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-fleet_adapter_mir
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-fleet_adapter_mir" role="menuitem" tabindex="-1" href="/r/fleet_adapter_mir/github-open-rmf-fleet_adapter_mir" data="github-open-rmf-fleet_adapter_mir">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-fleet_adapter_mir
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/fleet_adapter_mir">fleet_adapter_mir</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-fleet_adapter_mir
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-fleet_adapter_mir" role="menuitem" tabindex="-1" href="/r/fleet_adapter_mir/github-open-rmf-fleet_adapter_mir" data="github-open-rmf-fleet_adapter_mir">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-fleet_adapter_mir
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/fleet_adapter_mir">fleet_adapter_mir</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-fleet_adapter_mir
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-fleet_adapter_mir" role="menuitem" tabindex="-1" href="/r/fleet_adapter_mir/github-open-rmf-fleet_adapter_mir" data="github-open-rmf-fleet_adapter_mir">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-fleet_adapter_mir
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/open-rmf/fleet_adapter_mir.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
