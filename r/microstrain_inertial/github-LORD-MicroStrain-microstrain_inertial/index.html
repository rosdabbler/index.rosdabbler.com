<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">microstrain_inertial</li>
        <!--<li class="active">microstrain_inertial</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-primary" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-primary" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class=" older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class=" older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/microstrain_inertial">microstrain_inertial</a> <small>repository</small></h3>
        <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_description">microstrain_inertial_description</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-LORD-MicroStrain-microstrain_inertial
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-LORD-MicroStrain-microstrain_inertial" role="menuitem" tabindex="-1" href="/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial" data="github-LORD-MicroStrain-microstrain_inertial">
                    <span class="glyphicon glyphicon-star"></span>
                    github-LORD-MicroStrain-microstrain_inertial
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS driver for all of MicroStrain's current G and C series products. To learn more visit</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/LORD-MicroStrain/microstrain_inertial.git">https://github.com/LORD-MicroStrain/microstrain_inertial.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-25
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/microstrain_inertial/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_description">microstrain_inertial_description</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h2 id="description">Description</h2>

<p>Interface (driver) software, including ROS node, for inertial sensors from <a href="https://microstrain.com">MicroStrain by HBK</a>, developed in Williston, VT.</p>

<p>Implemented using the MicroStrain Inertial Protocol SDK (<a href="https://github.com/LORD-MicroStrain/mip_sdk"><code class="language-plaintext highlighter-rouge">mip_sdk</code></a>)</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-wiki">ROS Wiki</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-vs-ros2-versions">ROS vs ROS2 versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#packages">Packages</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#install-instructions">Install Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#buildfarm">Buildfarm</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#source">Source</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#udev-rules">Udev Rules</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#run-instructions">Run Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#launch-the-node-and-publish-data">Single Device</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#publish-data-from-two-devices-simultaneously">Multiple Devices</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#docker-development">Docker Development</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#vscode">VSCode</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#make">Make</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#shared-codebases">Shared Codebases</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#previous-versions">Previous Versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#license">Licenses</a></li>
</ul>

<h2 id="ros-wiki">ROS Wiki</h2>

<p>For more information on the data published and services available see our <a href="https://wiki.ros.org/microstrain_inertial_driver">ROS wiki</a> page</p>

<h2 id="ros-vs-ros2-versions">ROS vs ROS2 Versions</h2>

<p>Note that this branch contains the ROS2 implementation for the packages. If you are looking for the ROS version, you should go to the <a href="https://github.com/LORD-MicroStrain/ROS-MSCL/tree/ros"><code class="language-plaintext highlighter-rouge">ros</code></a> branch</p>

<h2 id="packages">Packages</h2>

<p>This repo contains the following packages:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver"><code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code></a> – ROS node that will communicate with the devices</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs"><code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs</code></a> – Collection of messages produced by the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples"><code class="language-plaintext highlighter-rouge">microstrain_inretial_examples</code></a> – Collection of examples that show how to interact with the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node. Currently contains one simple C++ and python subscriber node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt"><code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt</code></a> – Collection of RQT plugins to view the status of inertial devices when running the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
</ul>

<h2 id="install-instructions">Install Instructions</h2>

<h3 id="buildfarm">Buildfarm</h3>

<p>As of <code class="language-plaintext highlighter-rouge">v2.0.5</code> this package is being built and distributed by the ROS build farm. If you do not need to modify the source, it is recommended to install directly from the buildfarm by running the following commands where <code class="language-plaintext highlighter-rouge">ROS_DISTRO</code> is the version of ROS you are using such as <code class="language-plaintext highlighter-rouge">galactic</code> or <code class="language-plaintext highlighter-rouge">humble</code>:</p>

<p>Driver:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-driver

</code></pre></div></div>

<p>RQT:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-rqt

</code></pre></div></div>

<p>For more information on the ROS distros and platforms we support, please see <a href="https://index.ros.org/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial/#humble">index.ros.org</a></p>

<h3 id="source">Source</h3>

<p>If you need to modify the source of this repository, or are running on a platform that we do not support, you can build from source by following the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a> guide below.</p>

<h4 id="important-note-about-cloning"><strong>IMPORTANT NOTE ABOUT CLONING</strong></h4>

<p>This repo takes advantage of git submodules in order to share code between ROS versions. When cloning the repo, you should clone with the <code class="language-plaintext highlighter-rouge">--recursive</code> flag to get all of the submodules.</p>

<p>If you have already cloned the repo, you can checkout the submodules by running <code class="language-plaintext highlighter-rouge">git submodule update --init --recursive</code> from the project directory</p>

<p>The <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/CMakeLists.txt">CMakeLists.txt</a> will automatically checkout the submodule if it does not exist, but it will not keep it up to date. In order to keep up to date, every
time you pull changes you should pull with the <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> flag, or alternatively run <code class="language-plaintext highlighter-rouge">git submodule update --recursive</code> after you have pulled changes</p>

<h2 id="building-from-source">Building from source</h2>

<ol>
  <li>
    <p>Install ROS2 and create a workspace: <a href="https://docs.ros.org/en/foxy/Tutorials/Configuring-ROS2-Environment.html">Configuring Your ROS2 Environment</a></p>
  </li>
  <li>
    <p>Clone the repository into your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    git clone <span class="nt">--recursive</span> <span class="nt">--branch</span> ros2 https://github.com/LORD-MicroStrain/microstrain_inertial.git ~/your_workspace/src/microstrain_inertial
    
</code></pre></div></div>

<ol>
  <li>
    <p>Install rosdeps for this package: <code class="language-plaintext highlighter-rouge">rosdep install --from-paths ~/your_workspace/src -i -r -y</code></p>
  </li>
  <li>
    <p>Build your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">cd</span> ~/your_workspace
    colcon build
    <span class="nb">source</span> ~/your_workspace/install/setup.bash
    
</code></pre></div></div>
<p>The source command will need to be run in each terminal prior to launching a ROS node.</p>

<h2 id="udev-rules">Udev Rules</h2>

<p><strong>NOTE</strong>: If installing from the buildfarm, the udev rules will be installed automatically</p>

<p>This driver comes with <a href="https://wiki.debian.org/udev">udev rules</a> that will create a symlink for all microstrain devices.
To install the rules. Download the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/debian/udev">udev</a> file from this repo and copy it to
<code class="language-plaintext highlighter-rouge">/etc/udev/rules.d/100-microstrain.rules</code></p>

<p>Once the udev rules are installed, the devices will appear as follows in the file system, where {serial} is the serial number of the device:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main</code> - Most recent non-GQ7 device, or the main port of a GQ7 connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux</code> - Most recent GQ7 aux port connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main_{serial}</code> - All non-GQ7 devices, and the main port of GQ7 devices</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux_{serial}</code> - The aux port of GQ7 devices</li>
</ul>

<h2 id="run-instructions">Run Instructions</h2>

<h4 id="launch-the-node-and-publish-data">Launch the node and publish data</h4>
<p>The following command will launch the driver. Keep in mind each instance needs to be run in a separate terminal.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_launch.py

</code></pre></div></div>

<p>The node has some optional launch parameters that can be specified from the command line in the format <code class="language-plaintext highlighter-rouge">param:=value</code></p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">namespace</code> : namespace that the driver will run in. All services and publishers will be prepended with this, default: <code class="language-plaintext highlighter-rouge">/</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">node_name</code> : name of the driver, default: <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">debug</code>     : output debug logs, default: <code class="language-plaintext highlighter-rouge">false</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">params_file</code> : path to a parameter file to override the default parameters stored in <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a>, default: <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>
</li>
</ul>

<blockquote>
  <p>[!NOTE]
The example <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a> file is formatted to work with ROS and will not work if specified as the params_file argument in ROS2.</p>

  <p>If you want to override parameters for ROS2, start with <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>.</p>
</blockquote>

<h4 id="publish-data-from-two-devices-simultaneously">Publish data from two devices simultaneously</h4>

<ol>
  <li>Create the following files somewhere on your system (we will assume they are stored in your home (<code class="language-plaintext highlighter-rouge">~</code>) directory):
    <ol>
      <li>
<code class="language-plaintext highlighter-rouge">~/sensor_a_params.yml</code> with the contents:</li>
    </ol>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM0</span>
        
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2. `~/sensor_b_params.yml` with the contents:
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM1</span>
        
</code></pre></div></div>
<ol>
  <li>In two different terminals:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_a_node namespace:<span class="o">=</span>sensor_a params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_a_params.yml"</span>
    
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_b_node namespace:<span class="o">=</span>sensor_b params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_b_params.yml"</span>
    
</code></pre></div></div>

<p>This will launch two nodes that publish data to different namespaces:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_a</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM0</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_b</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM1</code>
</li>
</ul>

<p>An example subscriber node can be found in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples">MicroStrain Examples</a> package.</p>

<h4 id="lifecycle-node">Lifecycle Node</h4>

<p>This package also provides a lifecycle node implementation. This version of the driver can be launched by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_lifecycle_launch.py

</code></pre></div></div>

<p>This launch file accepts all of the same arguments as the above node as well as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">configure</code> : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the configure state.</li>
  <li>
<code class="language-plaintext highlighter-rouge">activate</code>  : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the activate state.</li>
</ul>

<p>Additionally, the node may be transitioned anytime after startup using the following commands (note that the <code class="language-plaintext highlighter-rouge">namespace</code> and <code class="language-plaintext highlighter-rouge">name</code> parameters will affect the node name in the following commands):</p>

<ul>
  <li>Transition to configure state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node configure
    
</code></pre></div></div>

<ul>
  <li>Transition to active state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node activate
    
</code></pre></div></div>

<p>You can stop data from streaming by putting the device into the “deactivate” state.  Both the “cleanup” and “shutdown” states will disconnect from the device and close the raw data log file (if enabled.)</p>

<h2 id="docker-development">Docker Development</h2>

<h3 id="vscode">VSCode</h3>

<p>The easiest way to develop in docker while still using an IDE is to use VSCode. Follow the steps below to develop on this repo in a docker container.</p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://code.visualstudio.com/">VSCode</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
    </ol>
  </li>
  <li>Open VSCode and install the following <a href="https://code.visualstudio.com/docs/editor/extension-marketplace">plugins</a>:
    <ol>
      <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">VSCode Remote Containers plugin</a></li>
    </ol>
  </li>
  <li>Open this directory in a container:
    <ol>
      <li>Open the <code class="language-plaintext highlighter-rouge">microstrain_inertial</code> directory in VSCode</li>
      <li>Click the green <code class="language-plaintext highlighter-rouge">&gt;&lt;</code> icon in the bottom left corner of the window</li>
      <li>Choose <code class="language-plaintext highlighter-rouge">Reopen In Container</code>
</li>
    </ol>
  </li>
  <li>Once the project is open in the container, it will take some time to automatically install the rosdeps inside the container, you can then build and run the container by following step 4 of <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building from source</a>
</li>
</ol>

<h3 id="make">Make</h3>

<p>If you are comfortable working from the command line, or want to produce your own runtime images, the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer/Makefile">Makefile</a> in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer">.devcontainer</a> 
directory can be used to build docker images, run a shell inside the docker images and produce a runtime image. Follow the steps below to setup your environment to use the <code class="language-plaintext highlighter-rouge">Makefile</code></p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://www.gnu.org/software/make/">Make</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
      <li>
<a href="https://packages.ubuntu.com/bionic/qemu-user-static">qemu-user-static</a> (<strong>only for multiarch builds</strong>)
        <ol>
          <li>Run the following command to register the qemu binaries with docker: <code class="language-plaintext highlighter-rouge">docker run --rm --privileged multiarch/qemu-user-static:register</code>
</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The <code class="language-plaintext highlighter-rouge">Makefile</code> exposes the following tasks. They can all be run from the <code class="language-plaintext highlighter-rouge">.devcontainer</code> directory:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">make build-shell</code> - Builds the development docker image and starts a shell session in the image allowing the user to develop and build the ROS project using common commands such as <code class="language-plaintext highlighter-rouge">catkin_make</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">make image</code> - Builds the runtime image that contains only the required dependencies and the ROS node.</li>
  <li>
<code class="language-plaintext highlighter-rouge">make clean</code> - Cleans up after the above two tasks</li>
</ul>

<h2 id="shared-codebases">Shared codebases</h2>

<p>Both the <code class="language-plaintext highlighter-rouge">ros</code> and <code class="language-plaintext highlighter-rouge">ros2</code> branches share most of their code by using git submodules. The following submodules contain most of the actual implementations:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/tree/main">microstrain_inertial_driver_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver/microstrain_inertial_driver_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_msgs_common/tree/main">microstrain_inertial_msgs_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs/microstrain_inertial_msgs_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_rqt_common/tree/main">microstrain_inertial_rqt_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt/microstrain_inertial_rqt_common</code>
</li>
</ul>

<h2 id="previous-versions">Previous Versions</h2>

<p>Previous versions of the driver were released as <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tags">tags</a> on Github. They can also be found in specific branches:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-3.x.x"><code class="language-plaintext highlighter-rouge">ros2-3.x.x</code></a> contains the most recent code before the standardizing refactor</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-2.x.x"><code class="language-plaintext highlighter-rouge">ros2-2.x.x</code></a> contains the most recent code before the MIP SDK refactor</li>
</ul>

<h2 id="license">License</h2>

<p>Different packages in this repo are released under different licenses. For more information, see the LICENSE files in each of the package directories.</p>

<p>Here is a quick overview of the licenses used in each package:</p>

<table>
  <thead>
    <tr>
      <th>Package</th>
      <th>License</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/LICENSE">microstrain_inertial_driver</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/LICENSE">microstrain_inertial_msgs</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt/LICENSE">microstrain_inertial_rqt</a></td>
      <td>BSD</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples/LICENSE">microstrain_inertial_examples</a></td>
      <td>MIT</td>
    </tr>
  </tbody>
</table>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/microstrain_inertial">microstrain_inertial</a> <small>repository</small></h3>
        <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_description">microstrain_inertial_description</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-LORD-MicroStrain-microstrain_inertial
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-LORD-MicroStrain-microstrain_inertial" role="menuitem" tabindex="-1" href="/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial" data="github-LORD-MicroStrain-microstrain_inertial">
                    <span class="glyphicon glyphicon-star"></span>
                    github-LORD-MicroStrain-microstrain_inertial
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS driver for all of MicroStrain's current G and C series products. To learn more visit</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/LORD-MicroStrain/microstrain_inertial.git">https://github.com/LORD-MicroStrain/microstrain_inertial.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-25
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/microstrain_inertial/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_description">microstrain_inertial_description</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h2 id="description">Description</h2>

<p>Interface (driver) software, including ROS node, for inertial sensors from <a href="https://microstrain.com">MicroStrain by HBK</a>, developed in Williston, VT.</p>

<p>Implemented using the MicroStrain Inertial Protocol SDK (<a href="https://github.com/LORD-MicroStrain/mip_sdk"><code class="language-plaintext highlighter-rouge">mip_sdk</code></a>)</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-wiki">ROS Wiki</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-vs-ros2-versions">ROS vs ROS2 versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#packages">Packages</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#install-instructions">Install Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#buildfarm">Buildfarm</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#source">Source</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#udev-rules">Udev Rules</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#run-instructions">Run Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#launch-the-node-and-publish-data">Single Device</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#publish-data-from-two-devices-simultaneously">Multiple Devices</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#docker-development">Docker Development</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#vscode">VSCode</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#make">Make</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#shared-codebases">Shared Codebases</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#previous-versions">Previous Versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#license">Licenses</a></li>
</ul>

<h2 id="ros-wiki">ROS Wiki</h2>

<p>For more information on the data published and services available see our <a href="https://wiki.ros.org/microstrain_inertial_driver">ROS wiki</a> page</p>

<h2 id="ros-vs-ros2-versions">ROS vs ROS2 Versions</h2>

<p>Note that this branch contains the ROS2 implementation for the packages. If you are looking for the ROS version, you should go to the <a href="https://github.com/LORD-MicroStrain/ROS-MSCL/tree/ros"><code class="language-plaintext highlighter-rouge">ros</code></a> branch</p>

<h2 id="packages">Packages</h2>

<p>This repo contains the following packages:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver"><code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code></a> – ROS node that will communicate with the devices</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs"><code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs</code></a> – Collection of messages produced by the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples"><code class="language-plaintext highlighter-rouge">microstrain_inretial_examples</code></a> – Collection of examples that show how to interact with the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node. Currently contains one simple C++ and python subscriber node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt"><code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt</code></a> – Collection of RQT plugins to view the status of inertial devices when running the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
</ul>

<h2 id="install-instructions">Install Instructions</h2>

<h3 id="buildfarm">Buildfarm</h3>

<p>As of <code class="language-plaintext highlighter-rouge">v2.0.5</code> this package is being built and distributed by the ROS build farm. If you do not need to modify the source, it is recommended to install directly from the buildfarm by running the following commands where <code class="language-plaintext highlighter-rouge">ROS_DISTRO</code> is the version of ROS you are using such as <code class="language-plaintext highlighter-rouge">galactic</code> or <code class="language-plaintext highlighter-rouge">humble</code>:</p>

<p>Driver:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-driver

</code></pre></div></div>

<p>RQT:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-rqt

</code></pre></div></div>

<p>For more information on the ROS distros and platforms we support, please see <a href="https://index.ros.org/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial/#humble">index.ros.org</a></p>

<h3 id="source">Source</h3>

<p>If you need to modify the source of this repository, or are running on a platform that we do not support, you can build from source by following the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a> guide below.</p>

<h4 id="important-note-about-cloning"><strong>IMPORTANT NOTE ABOUT CLONING</strong></h4>

<p>This repo takes advantage of git submodules in order to share code between ROS versions. When cloning the repo, you should clone with the <code class="language-plaintext highlighter-rouge">--recursive</code> flag to get all of the submodules.</p>

<p>If you have already cloned the repo, you can checkout the submodules by running <code class="language-plaintext highlighter-rouge">git submodule update --init --recursive</code> from the project directory</p>

<p>The <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/CMakeLists.txt">CMakeLists.txt</a> will automatically checkout the submodule if it does not exist, but it will not keep it up to date. In order to keep up to date, every
time you pull changes you should pull with the <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> flag, or alternatively run <code class="language-plaintext highlighter-rouge">git submodule update --recursive</code> after you have pulled changes</p>

<h2 id="building-from-source">Building from source</h2>

<ol>
  <li>
    <p>Install ROS2 and create a workspace: <a href="https://docs.ros.org/en/foxy/Tutorials/Configuring-ROS2-Environment.html">Configuring Your ROS2 Environment</a></p>
  </li>
  <li>
    <p>Clone the repository into your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    git clone <span class="nt">--recursive</span> <span class="nt">--branch</span> ros2 https://github.com/LORD-MicroStrain/microstrain_inertial.git ~/your_workspace/src/microstrain_inertial
    
</code></pre></div></div>

<ol>
  <li>
    <p>Install rosdeps for this package: <code class="language-plaintext highlighter-rouge">rosdep install --from-paths ~/your_workspace/src -i -r -y</code></p>
  </li>
  <li>
    <p>Build your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">cd</span> ~/your_workspace
    colcon build
    <span class="nb">source</span> ~/your_workspace/install/setup.bash
    
</code></pre></div></div>
<p>The source command will need to be run in each terminal prior to launching a ROS node.</p>

<h2 id="udev-rules">Udev Rules</h2>

<p><strong>NOTE</strong>: If installing from the buildfarm, the udev rules will be installed automatically</p>

<p>This driver comes with <a href="https://wiki.debian.org/udev">udev rules</a> that will create a symlink for all microstrain devices.
To install the rules. Download the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/debian/udev">udev</a> file from this repo and copy it to
<code class="language-plaintext highlighter-rouge">/etc/udev/rules.d/100-microstrain.rules</code></p>

<p>Once the udev rules are installed, the devices will appear as follows in the file system, where {serial} is the serial number of the device:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main</code> - Most recent non-GQ7 device, or the main port of a GQ7 connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux</code> - Most recent GQ7 aux port connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main_{serial}</code> - All non-GQ7 devices, and the main port of GQ7 devices</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux_{serial}</code> - The aux port of GQ7 devices</li>
</ul>

<h2 id="run-instructions">Run Instructions</h2>

<h4 id="launch-the-node-and-publish-data">Launch the node and publish data</h4>
<p>The following command will launch the driver. Keep in mind each instance needs to be run in a separate terminal.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_launch.py

</code></pre></div></div>

<p>The node has some optional launch parameters that can be specified from the command line in the format <code class="language-plaintext highlighter-rouge">param:=value</code></p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">namespace</code> : namespace that the driver will run in. All services and publishers will be prepended with this, default: <code class="language-plaintext highlighter-rouge">/</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">node_name</code> : name of the driver, default: <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">debug</code>     : output debug logs, default: <code class="language-plaintext highlighter-rouge">false</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">params_file</code> : path to a parameter file to override the default parameters stored in <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a>, default: <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>
</li>
</ul>

<blockquote>
  <p>[!NOTE]
The example <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a> file is formatted to work with ROS and will not work if specified as the params_file argument in ROS2.</p>

  <p>If you want to override parameters for ROS2, start with <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>.</p>
</blockquote>

<h4 id="publish-data-from-two-devices-simultaneously">Publish data from two devices simultaneously</h4>

<ol>
  <li>Create the following files somewhere on your system (we will assume they are stored in your home (<code class="language-plaintext highlighter-rouge">~</code>) directory):
    <ol>
      <li>
<code class="language-plaintext highlighter-rouge">~/sensor_a_params.yml</code> with the contents:</li>
    </ol>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM0</span>
        
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2. `~/sensor_b_params.yml` with the contents:
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM1</span>
        
</code></pre></div></div>
<ol>
  <li>In two different terminals:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_a_node namespace:<span class="o">=</span>sensor_a params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_a_params.yml"</span>
    
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_b_node namespace:<span class="o">=</span>sensor_b params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_b_params.yml"</span>
    
</code></pre></div></div>

<p>This will launch two nodes that publish data to different namespaces:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_a</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM0</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_b</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM1</code>
</li>
</ul>

<p>An example subscriber node can be found in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples">MicroStrain Examples</a> package.</p>

<h4 id="lifecycle-node">Lifecycle Node</h4>

<p>This package also provides a lifecycle node implementation. This version of the driver can be launched by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_lifecycle_launch.py

</code></pre></div></div>

<p>This launch file accepts all of the same arguments as the above node as well as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">configure</code> : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the configure state.</li>
  <li>
<code class="language-plaintext highlighter-rouge">activate</code>  : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the activate state.</li>
</ul>

<p>Additionally, the node may be transitioned anytime after startup using the following commands (note that the <code class="language-plaintext highlighter-rouge">namespace</code> and <code class="language-plaintext highlighter-rouge">name</code> parameters will affect the node name in the following commands):</p>

<ul>
  <li>Transition to configure state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node configure
    
</code></pre></div></div>

<ul>
  <li>Transition to active state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node activate
    
</code></pre></div></div>

<p>You can stop data from streaming by putting the device into the “deactivate” state.  Both the “cleanup” and “shutdown” states will disconnect from the device and close the raw data log file (if enabled.)</p>

<h2 id="docker-development">Docker Development</h2>

<h3 id="vscode">VSCode</h3>

<p>The easiest way to develop in docker while still using an IDE is to use VSCode. Follow the steps below to develop on this repo in a docker container.</p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://code.visualstudio.com/">VSCode</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
    </ol>
  </li>
  <li>Open VSCode and install the following <a href="https://code.visualstudio.com/docs/editor/extension-marketplace">plugins</a>:
    <ol>
      <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">VSCode Remote Containers plugin</a></li>
    </ol>
  </li>
  <li>Open this directory in a container:
    <ol>
      <li>Open the <code class="language-plaintext highlighter-rouge">microstrain_inertial</code> directory in VSCode</li>
      <li>Click the green <code class="language-plaintext highlighter-rouge">&gt;&lt;</code> icon in the bottom left corner of the window</li>
      <li>Choose <code class="language-plaintext highlighter-rouge">Reopen In Container</code>
</li>
    </ol>
  </li>
  <li>Once the project is open in the container, it will take some time to automatically install the rosdeps inside the container, you can then build and run the container by following step 4 of <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building from source</a>
</li>
</ol>

<h3 id="make">Make</h3>

<p>If you are comfortable working from the command line, or want to produce your own runtime images, the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer/Makefile">Makefile</a> in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer">.devcontainer</a> 
directory can be used to build docker images, run a shell inside the docker images and produce a runtime image. Follow the steps below to setup your environment to use the <code class="language-plaintext highlighter-rouge">Makefile</code></p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://www.gnu.org/software/make/">Make</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
      <li>
<a href="https://packages.ubuntu.com/bionic/qemu-user-static">qemu-user-static</a> (<strong>only for multiarch builds</strong>)
        <ol>
          <li>Run the following command to register the qemu binaries with docker: <code class="language-plaintext highlighter-rouge">docker run --rm --privileged multiarch/qemu-user-static:register</code>
</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The <code class="language-plaintext highlighter-rouge">Makefile</code> exposes the following tasks. They can all be run from the <code class="language-plaintext highlighter-rouge">.devcontainer</code> directory:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">make build-shell</code> - Builds the development docker image and starts a shell session in the image allowing the user to develop and build the ROS project using common commands such as <code class="language-plaintext highlighter-rouge">catkin_make</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">make image</code> - Builds the runtime image that contains only the required dependencies and the ROS node.</li>
  <li>
<code class="language-plaintext highlighter-rouge">make clean</code> - Cleans up after the above two tasks</li>
</ul>

<h2 id="shared-codebases">Shared codebases</h2>

<p>Both the <code class="language-plaintext highlighter-rouge">ros</code> and <code class="language-plaintext highlighter-rouge">ros2</code> branches share most of their code by using git submodules. The following submodules contain most of the actual implementations:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/tree/main">microstrain_inertial_driver_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver/microstrain_inertial_driver_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_msgs_common/tree/main">microstrain_inertial_msgs_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs/microstrain_inertial_msgs_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_rqt_common/tree/main">microstrain_inertial_rqt_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt/microstrain_inertial_rqt_common</code>
</li>
</ul>

<h2 id="previous-versions">Previous Versions</h2>

<p>Previous versions of the driver were released as <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tags">tags</a> on Github. They can also be found in specific branches:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-3.x.x"><code class="language-plaintext highlighter-rouge">ros2-3.x.x</code></a> contains the most recent code before the standardizing refactor</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-2.x.x"><code class="language-plaintext highlighter-rouge">ros2-2.x.x</code></a> contains the most recent code before the MIP SDK refactor</li>
</ul>

<h2 id="license">License</h2>

<p>Different packages in this repo are released under different licenses. For more information, see the LICENSE files in each of the package directories.</p>

<p>Here is a quick overview of the licenses used in each package:</p>

<table>
  <thead>
    <tr>
      <th>Package</th>
      <th>License</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/LICENSE">microstrain_inertial_driver</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/LICENSE">microstrain_inertial_msgs</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt/LICENSE">microstrain_inertial_rqt</a></td>
      <td>BSD</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples/LICENSE">microstrain_inertial_examples</a></td>
      <td>MIT</td>
    </tr>
  </tbody>
</table>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/microstrain_inertial">microstrain_inertial</a> <small>repository</small></h3>
        <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_description">microstrain_inertial_description</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-LORD-MicroStrain-microstrain_inertial
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-LORD-MicroStrain-microstrain_inertial" role="menuitem" tabindex="-1" href="/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial" data="github-LORD-MicroStrain-microstrain_inertial">
                    <span class="glyphicon glyphicon-star"></span>
                    github-LORD-MicroStrain-microstrain_inertial
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS driver for all of MicroStrain's current G and C series products. To learn more visit</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/LORD-MicroStrain/microstrain_inertial.git">https://github.com/LORD-MicroStrain/microstrain_inertial.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-25
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/microstrain_inertial/#kilted-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#kilted-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#kilted-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_description">microstrain_inertial_description</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h2 id="description">Description</h2>

<p>Interface (driver) software, including ROS node, for inertial sensors from <a href="https://microstrain.com">MicroStrain by HBK</a>, developed in Williston, VT.</p>

<p>Implemented using the MicroStrain Inertial Protocol SDK (<a href="https://github.com/LORD-MicroStrain/mip_sdk"><code class="language-plaintext highlighter-rouge">mip_sdk</code></a>)</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-wiki">ROS Wiki</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-vs-ros2-versions">ROS vs ROS2 versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#packages">Packages</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#install-instructions">Install Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#buildfarm">Buildfarm</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#source">Source</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#udev-rules">Udev Rules</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#run-instructions">Run Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#launch-the-node-and-publish-data">Single Device</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#publish-data-from-two-devices-simultaneously">Multiple Devices</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#docker-development">Docker Development</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#vscode">VSCode</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#make">Make</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#shared-codebases">Shared Codebases</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#previous-versions">Previous Versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#license">Licenses</a></li>
</ul>

<h2 id="ros-wiki">ROS Wiki</h2>

<p>For more information on the data published and services available see our <a href="https://wiki.ros.org/microstrain_inertial_driver">ROS wiki</a> page</p>

<h2 id="ros-vs-ros2-versions">ROS vs ROS2 Versions</h2>

<p>Note that this branch contains the ROS2 implementation for the packages. If you are looking for the ROS version, you should go to the <a href="https://github.com/LORD-MicroStrain/ROS-MSCL/tree/ros"><code class="language-plaintext highlighter-rouge">ros</code></a> branch</p>

<h2 id="packages">Packages</h2>

<p>This repo contains the following packages:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver"><code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code></a> – ROS node that will communicate with the devices</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs"><code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs</code></a> – Collection of messages produced by the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples"><code class="language-plaintext highlighter-rouge">microstrain_inretial_examples</code></a> – Collection of examples that show how to interact with the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node. Currently contains one simple C++ and python subscriber node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt"><code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt</code></a> – Collection of RQT plugins to view the status of inertial devices when running the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
</ul>

<h2 id="install-instructions">Install Instructions</h2>

<h3 id="buildfarm">Buildfarm</h3>

<p>As of <code class="language-plaintext highlighter-rouge">v2.0.5</code> this package is being built and distributed by the ROS build farm. If you do not need to modify the source, it is recommended to install directly from the buildfarm by running the following commands where <code class="language-plaintext highlighter-rouge">ROS_DISTRO</code> is the version of ROS you are using such as <code class="language-plaintext highlighter-rouge">galactic</code> or <code class="language-plaintext highlighter-rouge">humble</code>:</p>

<p>Driver:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-driver

</code></pre></div></div>

<p>RQT:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-rqt

</code></pre></div></div>

<p>For more information on the ROS distros and platforms we support, please see <a href="https://index.ros.org/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial/#humble">index.ros.org</a></p>

<h3 id="source">Source</h3>

<p>If you need to modify the source of this repository, or are running on a platform that we do not support, you can build from source by following the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a> guide below.</p>

<h4 id="important-note-about-cloning"><strong>IMPORTANT NOTE ABOUT CLONING</strong></h4>

<p>This repo takes advantage of git submodules in order to share code between ROS versions. When cloning the repo, you should clone with the <code class="language-plaintext highlighter-rouge">--recursive</code> flag to get all of the submodules.</p>

<p>If you have already cloned the repo, you can checkout the submodules by running <code class="language-plaintext highlighter-rouge">git submodule update --init --recursive</code> from the project directory</p>

<p>The <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/CMakeLists.txt">CMakeLists.txt</a> will automatically checkout the submodule if it does not exist, but it will not keep it up to date. In order to keep up to date, every
time you pull changes you should pull with the <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> flag, or alternatively run <code class="language-plaintext highlighter-rouge">git submodule update --recursive</code> after you have pulled changes</p>

<h2 id="building-from-source">Building from source</h2>

<ol>
  <li>
    <p>Install ROS2 and create a workspace: <a href="https://docs.ros.org/en/foxy/Tutorials/Configuring-ROS2-Environment.html">Configuring Your ROS2 Environment</a></p>
  </li>
  <li>
    <p>Clone the repository into your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    git clone <span class="nt">--recursive</span> <span class="nt">--branch</span> ros2 https://github.com/LORD-MicroStrain/microstrain_inertial.git ~/your_workspace/src/microstrain_inertial
    
</code></pre></div></div>

<ol>
  <li>
    <p>Install rosdeps for this package: <code class="language-plaintext highlighter-rouge">rosdep install --from-paths ~/your_workspace/src -i -r -y</code></p>
  </li>
  <li>
    <p>Build your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">cd</span> ~/your_workspace
    colcon build
    <span class="nb">source</span> ~/your_workspace/install/setup.bash
    
</code></pre></div></div>
<p>The source command will need to be run in each terminal prior to launching a ROS node.</p>

<h2 id="udev-rules">Udev Rules</h2>

<p><strong>NOTE</strong>: If installing from the buildfarm, the udev rules will be installed automatically</p>

<p>This driver comes with <a href="https://wiki.debian.org/udev">udev rules</a> that will create a symlink for all microstrain devices.
To install the rules. Download the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/debian/udev">udev</a> file from this repo and copy it to
<code class="language-plaintext highlighter-rouge">/etc/udev/rules.d/100-microstrain.rules</code></p>

<p>Once the udev rules are installed, the devices will appear as follows in the file system, where {serial} is the serial number of the device:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main</code> - Most recent non-GQ7 device, or the main port of a GQ7 connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux</code> - Most recent GQ7 aux port connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main_{serial}</code> - All non-GQ7 devices, and the main port of GQ7 devices</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux_{serial}</code> - The aux port of GQ7 devices</li>
</ul>

<h2 id="run-instructions">Run Instructions</h2>

<h4 id="launch-the-node-and-publish-data">Launch the node and publish data</h4>
<p>The following command will launch the driver. Keep in mind each instance needs to be run in a separate terminal.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_launch.py

</code></pre></div></div>

<p>The node has some optional launch parameters that can be specified from the command line in the format <code class="language-plaintext highlighter-rouge">param:=value</code></p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">namespace</code> : namespace that the driver will run in. All services and publishers will be prepended with this, default: <code class="language-plaintext highlighter-rouge">/</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">node_name</code> : name of the driver, default: <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">debug</code>     : output debug logs, default: <code class="language-plaintext highlighter-rouge">false</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">params_file</code> : path to a parameter file to override the default parameters stored in <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a>, default: <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>
</li>
</ul>

<blockquote>
  <p>[!NOTE]
The example <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a> file is formatted to work with ROS and will not work if specified as the params_file argument in ROS2.</p>

  <p>If you want to override parameters for ROS2, start with <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>.</p>
</blockquote>

<h4 id="publish-data-from-two-devices-simultaneously">Publish data from two devices simultaneously</h4>

<ol>
  <li>Create the following files somewhere on your system (we will assume they are stored in your home (<code class="language-plaintext highlighter-rouge">~</code>) directory):
    <ol>
      <li>
<code class="language-plaintext highlighter-rouge">~/sensor_a_params.yml</code> with the contents:</li>
    </ol>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM0</span>
        
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2. `~/sensor_b_params.yml` with the contents:
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM1</span>
        
</code></pre></div></div>
<ol>
  <li>In two different terminals:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_a_node namespace:<span class="o">=</span>sensor_a params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_a_params.yml"</span>
    
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_b_node namespace:<span class="o">=</span>sensor_b params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_b_params.yml"</span>
    
</code></pre></div></div>

<p>This will launch two nodes that publish data to different namespaces:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_a</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM0</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_b</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM1</code>
</li>
</ul>

<p>An example subscriber node can be found in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples">MicroStrain Examples</a> package.</p>

<h4 id="lifecycle-node">Lifecycle Node</h4>

<p>This package also provides a lifecycle node implementation. This version of the driver can be launched by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_lifecycle_launch.py

</code></pre></div></div>

<p>This launch file accepts all of the same arguments as the above node as well as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">configure</code> : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the configure state.</li>
  <li>
<code class="language-plaintext highlighter-rouge">activate</code>  : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the activate state.</li>
</ul>

<p>Additionally, the node may be transitioned anytime after startup using the following commands (note that the <code class="language-plaintext highlighter-rouge">namespace</code> and <code class="language-plaintext highlighter-rouge">name</code> parameters will affect the node name in the following commands):</p>

<ul>
  <li>Transition to configure state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node configure
    
</code></pre></div></div>

<ul>
  <li>Transition to active state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node activate
    
</code></pre></div></div>

<p>You can stop data from streaming by putting the device into the “deactivate” state.  Both the “cleanup” and “shutdown” states will disconnect from the device and close the raw data log file (if enabled.)</p>

<h2 id="docker-development">Docker Development</h2>

<h3 id="vscode">VSCode</h3>

<p>The easiest way to develop in docker while still using an IDE is to use VSCode. Follow the steps below to develop on this repo in a docker container.</p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://code.visualstudio.com/">VSCode</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
    </ol>
  </li>
  <li>Open VSCode and install the following <a href="https://code.visualstudio.com/docs/editor/extension-marketplace">plugins</a>:
    <ol>
      <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">VSCode Remote Containers plugin</a></li>
    </ol>
  </li>
  <li>Open this directory in a container:
    <ol>
      <li>Open the <code class="language-plaintext highlighter-rouge">microstrain_inertial</code> directory in VSCode</li>
      <li>Click the green <code class="language-plaintext highlighter-rouge">&gt;&lt;</code> icon in the bottom left corner of the window</li>
      <li>Choose <code class="language-plaintext highlighter-rouge">Reopen In Container</code>
</li>
    </ol>
  </li>
  <li>Once the project is open in the container, it will take some time to automatically install the rosdeps inside the container, you can then build and run the container by following step 4 of <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building from source</a>
</li>
</ol>

<h3 id="make">Make</h3>

<p>If you are comfortable working from the command line, or want to produce your own runtime images, the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer/Makefile">Makefile</a> in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer">.devcontainer</a> 
directory can be used to build docker images, run a shell inside the docker images and produce a runtime image. Follow the steps below to setup your environment to use the <code class="language-plaintext highlighter-rouge">Makefile</code></p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://www.gnu.org/software/make/">Make</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
      <li>
<a href="https://packages.ubuntu.com/bionic/qemu-user-static">qemu-user-static</a> (<strong>only for multiarch builds</strong>)
        <ol>
          <li>Run the following command to register the qemu binaries with docker: <code class="language-plaintext highlighter-rouge">docker run --rm --privileged multiarch/qemu-user-static:register</code>
</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The <code class="language-plaintext highlighter-rouge">Makefile</code> exposes the following tasks. They can all be run from the <code class="language-plaintext highlighter-rouge">.devcontainer</code> directory:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">make build-shell</code> - Builds the development docker image and starts a shell session in the image allowing the user to develop and build the ROS project using common commands such as <code class="language-plaintext highlighter-rouge">catkin_make</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">make image</code> - Builds the runtime image that contains only the required dependencies and the ROS node.</li>
  <li>
<code class="language-plaintext highlighter-rouge">make clean</code> - Cleans up after the above two tasks</li>
</ul>

<h2 id="shared-codebases">Shared codebases</h2>

<p>Both the <code class="language-plaintext highlighter-rouge">ros</code> and <code class="language-plaintext highlighter-rouge">ros2</code> branches share most of their code by using git submodules. The following submodules contain most of the actual implementations:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/tree/main">microstrain_inertial_driver_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver/microstrain_inertial_driver_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_msgs_common/tree/main">microstrain_inertial_msgs_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs/microstrain_inertial_msgs_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_rqt_common/tree/main">microstrain_inertial_rqt_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt/microstrain_inertial_rqt_common</code>
</li>
</ul>

<h2 id="previous-versions">Previous Versions</h2>

<p>Previous versions of the driver were released as <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tags">tags</a> on Github. They can also be found in specific branches:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-3.x.x"><code class="language-plaintext highlighter-rouge">ros2-3.x.x</code></a> contains the most recent code before the standardizing refactor</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-2.x.x"><code class="language-plaintext highlighter-rouge">ros2-2.x.x</code></a> contains the most recent code before the MIP SDK refactor</li>
</ul>

<h2 id="license">License</h2>

<p>Different packages in this repo are released under different licenses. For more information, see the LICENSE files in each of the package directories.</p>

<p>Here is a quick overview of the licenses used in each package:</p>

<table>
  <thead>
    <tr>
      <th>Package</th>
      <th>License</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/LICENSE">microstrain_inertial_driver</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/LICENSE">microstrain_inertial_msgs</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt/LICENSE">microstrain_inertial_rqt</a></td>
      <td>BSD</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples/LICENSE">microstrain_inertial_examples</a></td>
      <td>MIT</td>
    </tr>
  </tbody>
</table>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/microstrain_inertial">microstrain_inertial</a> <small>repository</small></h3>
        <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_description">microstrain_inertial_description</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-LORD-MicroStrain-microstrain_inertial
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-LORD-MicroStrain-microstrain_inertial" role="menuitem" tabindex="-1" href="/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial" data="github-LORD-MicroStrain-microstrain_inertial">
                    <span class="glyphicon glyphicon-star"></span>
                    github-LORD-MicroStrain-microstrain_inertial
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS driver for all of MicroStrain's current G and C series products. To learn more visit</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/LORD-MicroStrain/microstrain_inertial.git">https://github.com/LORD-MicroStrain/microstrain_inertial.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-25
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/microstrain_inertial/#rolling-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#rolling-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#rolling-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_description">microstrain_inertial_description</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h2 id="description">Description</h2>

<p>Interface (driver) software, including ROS node, for inertial sensors from <a href="https://microstrain.com">MicroStrain by HBK</a>, developed in Williston, VT.</p>

<p>Implemented using the MicroStrain Inertial Protocol SDK (<a href="https://github.com/LORD-MicroStrain/mip_sdk"><code class="language-plaintext highlighter-rouge">mip_sdk</code></a>)</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-wiki">ROS Wiki</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-vs-ros2-versions">ROS vs ROS2 versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#packages">Packages</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#install-instructions">Install Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#buildfarm">Buildfarm</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#source">Source</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#udev-rules">Udev Rules</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#run-instructions">Run Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#launch-the-node-and-publish-data">Single Device</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#publish-data-from-two-devices-simultaneously">Multiple Devices</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#docker-development">Docker Development</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#vscode">VSCode</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#make">Make</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#shared-codebases">Shared Codebases</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#previous-versions">Previous Versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#license">Licenses</a></li>
</ul>

<h2 id="ros-wiki">ROS Wiki</h2>

<p>For more information on the data published and services available see our <a href="https://wiki.ros.org/microstrain_inertial_driver">ROS wiki</a> page</p>

<h2 id="ros-vs-ros2-versions">ROS vs ROS2 Versions</h2>

<p>Note that this branch contains the ROS2 implementation for the packages. If you are looking for the ROS version, you should go to the <a href="https://github.com/LORD-MicroStrain/ROS-MSCL/tree/ros"><code class="language-plaintext highlighter-rouge">ros</code></a> branch</p>

<h2 id="packages">Packages</h2>

<p>This repo contains the following packages:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver"><code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code></a> – ROS node that will communicate with the devices</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs"><code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs</code></a> – Collection of messages produced by the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples"><code class="language-plaintext highlighter-rouge">microstrain_inretial_examples</code></a> – Collection of examples that show how to interact with the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node. Currently contains one simple C++ and python subscriber node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt"><code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt</code></a> – Collection of RQT plugins to view the status of inertial devices when running the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
</ul>

<h2 id="install-instructions">Install Instructions</h2>

<h3 id="buildfarm">Buildfarm</h3>

<p>As of <code class="language-plaintext highlighter-rouge">v2.0.5</code> this package is being built and distributed by the ROS build farm. If you do not need to modify the source, it is recommended to install directly from the buildfarm by running the following commands where <code class="language-plaintext highlighter-rouge">ROS_DISTRO</code> is the version of ROS you are using such as <code class="language-plaintext highlighter-rouge">galactic</code> or <code class="language-plaintext highlighter-rouge">humble</code>:</p>

<p>Driver:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-driver

</code></pre></div></div>

<p>RQT:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-rqt

</code></pre></div></div>

<p>For more information on the ROS distros and platforms we support, please see <a href="https://index.ros.org/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial/#humble">index.ros.org</a></p>

<h3 id="source">Source</h3>

<p>If you need to modify the source of this repository, or are running on a platform that we do not support, you can build from source by following the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a> guide below.</p>

<h4 id="important-note-about-cloning"><strong>IMPORTANT NOTE ABOUT CLONING</strong></h4>

<p>This repo takes advantage of git submodules in order to share code between ROS versions. When cloning the repo, you should clone with the <code class="language-plaintext highlighter-rouge">--recursive</code> flag to get all of the submodules.</p>

<p>If you have already cloned the repo, you can checkout the submodules by running <code class="language-plaintext highlighter-rouge">git submodule update --init --recursive</code> from the project directory</p>

<p>The <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/CMakeLists.txt">CMakeLists.txt</a> will automatically checkout the submodule if it does not exist, but it will not keep it up to date. In order to keep up to date, every
time you pull changes you should pull with the <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> flag, or alternatively run <code class="language-plaintext highlighter-rouge">git submodule update --recursive</code> after you have pulled changes</p>

<h2 id="building-from-source">Building from source</h2>

<ol>
  <li>
    <p>Install ROS2 and create a workspace: <a href="https://docs.ros.org/en/foxy/Tutorials/Configuring-ROS2-Environment.html">Configuring Your ROS2 Environment</a></p>
  </li>
  <li>
    <p>Clone the repository into your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    git clone <span class="nt">--recursive</span> <span class="nt">--branch</span> ros2 https://github.com/LORD-MicroStrain/microstrain_inertial.git ~/your_workspace/src/microstrain_inertial
    
</code></pre></div></div>

<ol>
  <li>
    <p>Install rosdeps for this package: <code class="language-plaintext highlighter-rouge">rosdep install --from-paths ~/your_workspace/src -i -r -y</code></p>
  </li>
  <li>
    <p>Build your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">cd</span> ~/your_workspace
    colcon build
    <span class="nb">source</span> ~/your_workspace/install/setup.bash
    
</code></pre></div></div>
<p>The source command will need to be run in each terminal prior to launching a ROS node.</p>

<h2 id="udev-rules">Udev Rules</h2>

<p><strong>NOTE</strong>: If installing from the buildfarm, the udev rules will be installed automatically</p>

<p>This driver comes with <a href="https://wiki.debian.org/udev">udev rules</a> that will create a symlink for all microstrain devices.
To install the rules. Download the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/debian/udev">udev</a> file from this repo and copy it to
<code class="language-plaintext highlighter-rouge">/etc/udev/rules.d/100-microstrain.rules</code></p>

<p>Once the udev rules are installed, the devices will appear as follows in the file system, where {serial} is the serial number of the device:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main</code> - Most recent non-GQ7 device, or the main port of a GQ7 connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux</code> - Most recent GQ7 aux port connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main_{serial}</code> - All non-GQ7 devices, and the main port of GQ7 devices</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux_{serial}</code> - The aux port of GQ7 devices</li>
</ul>

<h2 id="run-instructions">Run Instructions</h2>

<h4 id="launch-the-node-and-publish-data">Launch the node and publish data</h4>
<p>The following command will launch the driver. Keep in mind each instance needs to be run in a separate terminal.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_launch.py

</code></pre></div></div>

<p>The node has some optional launch parameters that can be specified from the command line in the format <code class="language-plaintext highlighter-rouge">param:=value</code></p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">namespace</code> : namespace that the driver will run in. All services and publishers will be prepended with this, default: <code class="language-plaintext highlighter-rouge">/</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">node_name</code> : name of the driver, default: <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">debug</code>     : output debug logs, default: <code class="language-plaintext highlighter-rouge">false</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">params_file</code> : path to a parameter file to override the default parameters stored in <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a>, default: <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>
</li>
</ul>

<blockquote>
  <p>[!NOTE]
The example <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a> file is formatted to work with ROS and will not work if specified as the params_file argument in ROS2.</p>

  <p>If you want to override parameters for ROS2, start with <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>.</p>
</blockquote>

<h4 id="publish-data-from-two-devices-simultaneously">Publish data from two devices simultaneously</h4>

<ol>
  <li>Create the following files somewhere on your system (we will assume they are stored in your home (<code class="language-plaintext highlighter-rouge">~</code>) directory):
    <ol>
      <li>
<code class="language-plaintext highlighter-rouge">~/sensor_a_params.yml</code> with the contents:</li>
    </ol>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM0</span>
        
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2. `~/sensor_b_params.yml` with the contents:
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM1</span>
        
</code></pre></div></div>
<ol>
  <li>In two different terminals:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_a_node namespace:<span class="o">=</span>sensor_a params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_a_params.yml"</span>
    
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_b_node namespace:<span class="o">=</span>sensor_b params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_b_params.yml"</span>
    
</code></pre></div></div>

<p>This will launch two nodes that publish data to different namespaces:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_a</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM0</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_b</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM1</code>
</li>
</ul>

<p>An example subscriber node can be found in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples">MicroStrain Examples</a> package.</p>

<h4 id="lifecycle-node">Lifecycle Node</h4>

<p>This package also provides a lifecycle node implementation. This version of the driver can be launched by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_lifecycle_launch.py

</code></pre></div></div>

<p>This launch file accepts all of the same arguments as the above node as well as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">configure</code> : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the configure state.</li>
  <li>
<code class="language-plaintext highlighter-rouge">activate</code>  : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the activate state.</li>
</ul>

<p>Additionally, the node may be transitioned anytime after startup using the following commands (note that the <code class="language-plaintext highlighter-rouge">namespace</code> and <code class="language-plaintext highlighter-rouge">name</code> parameters will affect the node name in the following commands):</p>

<ul>
  <li>Transition to configure state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node configure
    
</code></pre></div></div>

<ul>
  <li>Transition to active state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node activate
    
</code></pre></div></div>

<p>You can stop data from streaming by putting the device into the “deactivate” state.  Both the “cleanup” and “shutdown” states will disconnect from the device and close the raw data log file (if enabled.)</p>

<h2 id="docker-development">Docker Development</h2>

<h3 id="vscode">VSCode</h3>

<p>The easiest way to develop in docker while still using an IDE is to use VSCode. Follow the steps below to develop on this repo in a docker container.</p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://code.visualstudio.com/">VSCode</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
    </ol>
  </li>
  <li>Open VSCode and install the following <a href="https://code.visualstudio.com/docs/editor/extension-marketplace">plugins</a>:
    <ol>
      <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">VSCode Remote Containers plugin</a></li>
    </ol>
  </li>
  <li>Open this directory in a container:
    <ol>
      <li>Open the <code class="language-plaintext highlighter-rouge">microstrain_inertial</code> directory in VSCode</li>
      <li>Click the green <code class="language-plaintext highlighter-rouge">&gt;&lt;</code> icon in the bottom left corner of the window</li>
      <li>Choose <code class="language-plaintext highlighter-rouge">Reopen In Container</code>
</li>
    </ol>
  </li>
  <li>Once the project is open in the container, it will take some time to automatically install the rosdeps inside the container, you can then build and run the container by following step 4 of <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building from source</a>
</li>
</ol>

<h3 id="make">Make</h3>

<p>If you are comfortable working from the command line, or want to produce your own runtime images, the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer/Makefile">Makefile</a> in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer">.devcontainer</a> 
directory can be used to build docker images, run a shell inside the docker images and produce a runtime image. Follow the steps below to setup your environment to use the <code class="language-plaintext highlighter-rouge">Makefile</code></p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://www.gnu.org/software/make/">Make</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
      <li>
<a href="https://packages.ubuntu.com/bionic/qemu-user-static">qemu-user-static</a> (<strong>only for multiarch builds</strong>)
        <ol>
          <li>Run the following command to register the qemu binaries with docker: <code class="language-plaintext highlighter-rouge">docker run --rm --privileged multiarch/qemu-user-static:register</code>
</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The <code class="language-plaintext highlighter-rouge">Makefile</code> exposes the following tasks. They can all be run from the <code class="language-plaintext highlighter-rouge">.devcontainer</code> directory:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">make build-shell</code> - Builds the development docker image and starts a shell session in the image allowing the user to develop and build the ROS project using common commands such as <code class="language-plaintext highlighter-rouge">catkin_make</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">make image</code> - Builds the runtime image that contains only the required dependencies and the ROS node.</li>
  <li>
<code class="language-plaintext highlighter-rouge">make clean</code> - Cleans up after the above two tasks</li>
</ul>

<h2 id="shared-codebases">Shared codebases</h2>

<p>Both the <code class="language-plaintext highlighter-rouge">ros</code> and <code class="language-plaintext highlighter-rouge">ros2</code> branches share most of their code by using git submodules. The following submodules contain most of the actual implementations:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/tree/main">microstrain_inertial_driver_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver/microstrain_inertial_driver_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_msgs_common/tree/main">microstrain_inertial_msgs_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs/microstrain_inertial_msgs_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_rqt_common/tree/main">microstrain_inertial_rqt_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt/microstrain_inertial_rqt_common</code>
</li>
</ul>

<h2 id="previous-versions">Previous Versions</h2>

<p>Previous versions of the driver were released as <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tags">tags</a> on Github. They can also be found in specific branches:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-3.x.x"><code class="language-plaintext highlighter-rouge">ros2-3.x.x</code></a> contains the most recent code before the standardizing refactor</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-2.x.x"><code class="language-plaintext highlighter-rouge">ros2-2.x.x</code></a> contains the most recent code before the MIP SDK refactor</li>
</ul>

<h2 id="license">License</h2>

<p>Different packages in this repo are released under different licenses. For more information, see the LICENSE files in each of the package directories.</p>

<p>Here is a quick overview of the licenses used in each package:</p>

<table>
  <thead>
    <tr>
      <th>Package</th>
      <th>License</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/LICENSE">microstrain_inertial_driver</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/LICENSE">microstrain_inertial_msgs</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt/LICENSE">microstrain_inertial_rqt</a></td>
      <td>BSD</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples/LICENSE">microstrain_inertial_examples</a></td>
      <td>MIT</td>
    </tr>
  </tbody>
</table>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/microstrain_inertial">microstrain_inertial</a> <small>repository</small></h3>
        <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-LORD-MicroStrain-microstrain_inertial
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-LORD-MicroStrain-microstrain_inertial" role="menuitem" tabindex="-1" href="/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial" data="github-LORD-MicroStrain-microstrain_inertial">
                    <span class="glyphicon glyphicon-star"></span>
                    github-LORD-MicroStrain-microstrain_inertial
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/microstrain_inertial">microstrain_inertial</a> <small>repository</small></h3>
        <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_description">microstrain_inertial_description</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-LORD-MicroStrain-microstrain_inertial
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-LORD-MicroStrain-microstrain_inertial" role="menuitem" tabindex="-1" href="/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial" data="github-LORD-MicroStrain-microstrain_inertial">
                    <span class="glyphicon glyphicon-star"></span>
                    github-LORD-MicroStrain-microstrain_inertial
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS driver for all of MicroStrain's current G and C series products. To learn more visit</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/LORD-MicroStrain/microstrain_inertial.git">https://github.com/LORD-MicroStrain/microstrain_inertial.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-15
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/microstrain_inertial/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_description">microstrain_inertial_description</a></td>
                    <td>4.6.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a></td>
                    <td>4.6.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a></td>
                    <td>4.6.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a></td>
                    <td>4.6.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a></td>
                    <td>4.6.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h2 id="description">Description</h2>

<p>Interface (driver) software, including ROS node, for inertial sensors from <a href="https://microstrain.com">MicroStrain by HBK</a>, developed in Williston, VT.</p>

<p>Implemented using the MicroStrain Inertial Protocol SDK (<a href="https://github.com/LORD-MicroStrain/mip_sdk"><code class="language-plaintext highlighter-rouge">mip_sdk</code></a>)</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#ros-wiki">ROS Wiki</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#ros-vs-ros2-versions">ROS vs ROS2 versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#packages">Packages</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#install-instructions">Install Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#buildfarm">Buildfarm</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#source">Source</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#udev-rules">Udev Rules</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#building-from-source">Building From Source</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#run-instructions">Run Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#launch-the-node-and-publish-data">Single Device</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#publish-data-from-two-devices-simultaneously">Multiple Devices</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#docker-development">Docker Development</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#vscode">VSCode</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#make">Make</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#shared-codebases">Shared Codebases</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#previous-versions">Previous Versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#license">Licenses</a></li>
</ul>

<h2 id="ros-wiki">ROS Wiki</h2>

<p>For more information on the data published and services available see our <a href="https://wiki.ros.org/microstrain_inertial_driver">ROS wiki</a> page</p>

<h2 id="ros-vs-ros2-versions">ROS vs ROS2 Versions</h2>

<p>Note that this branch contains the ROS implementation for the packages. If you are looking for the ROS2 version, you should go to the <a href="https://github.com/LORD-MicroStrain/ROS-MSCL/tree/ros2"><code class="language-plaintext highlighter-rouge">ros2</code></a> branch</p>

<h2 id="packages">Packages</h2>

<p>This repo contains the following packages:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_driver"><code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code></a> – ROS node that will communicate with the devices</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_msgs"><code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs</code></a> – Collection of messages produced by the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_examples"><code class="language-plaintext highlighter-rouge">microstrain_inretial_examples</code></a> – Collection of examples that show how to interact with the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node. Currently contains one simple C++ and python subscriber node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_rqt"><code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt</code></a> – Collection of RQT plugins to view the status of inertial devices when running the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
</ul>

<h2 id="install-instructions">Install Instructions</h2>

<h3 id="buildfarm">Buildfarm</h3>

<p>As of <code class="language-plaintext highlighter-rouge">v2.0.5</code> this package is being built and distributed by the ROS build farm. If you do not need to modify the source, it is recommended to install directly from the buildfarm by running the following commands where <code class="language-plaintext highlighter-rouge">ROS_DISTRO</code> is the version of ROS you are using such as <code class="language-plaintext highlighter-rouge">noetic</code>:</p>

<p>Driver:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-driver

</code></pre></div></div>

<p>RQT:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-rqt

</code></pre></div></div>

<p>For more information on the ROS distros and platforms we support, please see <a href="https://index.ros.org/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial/#noetic">index.ros.org</a></p>

<h3 id="source">Source</h3>

<p>If you need to modify the source of this repository, or are running on a platform that we do not support, you can build from source by following the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#building-from-source">Building From Source</a> guide below.</p>

<h4 id="important-note-about-cloning"><strong>IMPORTANT NOTE ABOUT CLONING</strong></h4>

<p>This repo takes advantage of git submodules in order to share code between ROS versions. When cloning the repo, you should clone with the <code class="language-plaintext highlighter-rouge">--recursive</code> flag to get all of the submodules.</p>

<p>If you have already cloned the repo, you can checkout the submodules by running <code class="language-plaintext highlighter-rouge">git submodule update --init --recursive</code> from the project directory</p>

<p>The <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_msgs/CMakeLists.txt">CMakeLists.txt</a> will automatically checkout the submodule if it does not exist, but it will not keep it up to date. In order to keep up to date, every
time you pull changes you should pull with the <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> flag, or alternatively run <code class="language-plaintext highlighter-rouge">git submodule update --recursive</code> after you have pulled changes</p>

<h2 id="building-from-source">Building from source</h2>

<ol>
  <li>
    <p>Install ROS and create a workspace: <a href="http://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment">Installing and Configuring Your ROS Environment</a></p>
  </li>
  <li>
    <p>Clone the repository into your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    git clone <span class="nt">--recursive</span> <span class="nt">--branch</span> ros https://github.com/LORD-MicroStrain/microstrain_inertial.git ~/your_workspace/src/microstrain_inertial
    
</code></pre></div></div>

<ol>
  <li>
    <p>Install rosdeps for this package: <code class="language-plaintext highlighter-rouge">rosdep install --from-paths ~/your_workspace/src -i -r -y</code></p>
  </li>
  <li>
    <p>Build your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">cd</span> ~/your_workspace
    catkin_make
    <span class="nb">source</span> ~/your_workspace/devel/setup.bash
    
</code></pre></div></div>
<p>The source command will need to be run in each terminal prior to launching a ROS node.</p>

<h2 id="udev-rules">Udev Rules</h2>

<p><strong>NOTE</strong>: If installing from the buildfarm, the udev rules will be installed automatically</p>

<p>This driver comes with <a href="https://wiki.debian.org/udev">udev rules</a> that will create a symlink for all microstrain devices.
To install the rules. Download the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_driver/debian/udev">udev</a> file from this repo and copy it to
<code class="language-plaintext highlighter-rouge">/etc/udev/rules.d/100-microstrain.rules</code></p>

<p>Once the udev rules are installed, the devices will appear as follows in the file system, where {serial} is the serial number of the device:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main</code> - Most recent non-GQ7 device, or the main port of a GQ7 connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux</code> - Most recent GQ7 aux port connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main_{serial}</code> - All non-GQ7 devices, and the main port of GQ7 devices</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux_{serial}</code> - The aux port of GQ7 devices</li>
</ul>

<h2 id="run-instructions">Run Instructions</h2>

<h4 id="launch-the-node-and-publish-data">Launch the node and publish data</h4>
<p>The following command will launch the driver. Keep in mind each instance needs to be run in a separate terminal.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roslaunch microstrain_inertial_driver microstrain.launch

</code></pre></div></div>

<p>The node has some optional launch parameters that can be specified from the command line in the format <code class="language-plaintext highlighter-rouge">param:=value</code></p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">namespace</code> : namespace that the driver will run in. All services and publishers will be prepended with this, default: <code class="language-plaintext highlighter-rouge">/</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">node_name</code> : name of the driver, default: <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">debug</code>     : output debug logs, default: <code class="language-plaintext highlighter-rouge">false</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">params_file</code> : path to a parameter file to override the default parameters stored in <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a>, default: empty</li>
</ul>

<h4 id="publish-data-from-two-devices-simultaneously">Publish data from two devices simultaneously</h4>

<ol>
  <li>Create the following files somewhere on your system (we will assume they are stored in the <code class="language-plaintext highlighter-rouge">~</code> directory):
    <ol>
      <li>
<code class="language-plaintext highlighter-rouge">~/sensor_a_params.yml</code> with the contents:</li>
    </ol>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM0</span>
        
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2. `~/sensor_b_params.yml` with the contents:
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM1</span>
        
</code></pre></div></div>
<ol>
  <li>In two different terminals:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    roslaunch microstrain_inertial_driver microstrain.launch node_name:<span class="o">=</span>sensor_a_node namespace:<span class="o">=</span>sensor_a params_file:<span class="o">=</span><span class="s2">"~/sensor_a_params.yml"</span>
    
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    roslaunch microstrain_inertial_driver microstrain.launch node_name:<span class="o">=</span>sensor_b_node namespace:<span class="o">=</span>sensor_b params_file:<span class="o">=</span><span class="s2">"~/sensor_b_params.yml"</span>
    
</code></pre></div></div>

<p>This will launch two nodes that publish data to different namespaces:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_a</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM0</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_b</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM1</code>
</li>
</ul>

<p>An example subscriber node can be found in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_examples">MicroStrain Examples</a> package.</p>

<h2 id="docker-development">Docker Development</h2>

<h3 id="vscode">VSCode</h3>

<p>The easiest way to develop in docker while still using an IDE is to use VSCode. Follow the steps below to develop on this repo in a docker container.</p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://code.visualstudio.com/">VSCode</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
    </ol>
  </li>
  <li>Open VSCode and install the following <a href="https://code.visualstudio.com/docs/editor/extension-marketplace">plugins</a>:
    <ol>
      <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">VSCode Remote Containers plugin</a></li>
    </ol>
  </li>
  <li>Open this directory in a container:
    <ol>
      <li>Open the <code class="language-plaintext highlighter-rouge">microstrain_inertial</code> directory in VSCode</li>
      <li>Click the green <code class="language-plaintext highlighter-rouge">&gt;&lt;</code> icon in the bottom left corner of the window</li>
      <li>Choose <code class="language-plaintext highlighter-rouge">Reopen In Container</code>
</li>
    </ol>
  </li>
  <li>Once the project is open in the container, it will take some time to automatically install the rosdeps inside the container, you can then build and run the container by following step 4 of <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#building-from-source">Building from source</a>
</li>
</ol>

<h3 id="make">Make</h3>

<p>If you are comfortable working from the command line, or want to produce your own runtime images, the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./devcontainer/Makefile">Makefile</a> in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./devcontainer">.devcontainer</a> 
directory can be used to build docker images, run a shell inside the docker images and produce a runtime image. Follow the steps below to setup your environment to use the <code class="language-plaintext highlighter-rouge">Makefile</code></p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://www.gnu.org/software/make/">Make</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
      <li>
<a href="https://packages.ubuntu.com/bionic/qemu-user-static">qemu-user-static</a> (<strong>only for multiarch builds</strong>)
        <ol>
          <li>Run the following command to register the qemu binaries with docker: <code class="language-plaintext highlighter-rouge">docker run --rm --privileged multiarch/qemu-user-static:register</code>
</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The <code class="language-plaintext highlighter-rouge">Makefile</code> exposes the following tasks. They can all be run from the <code class="language-plaintext highlighter-rouge">.devcontainer</code> directory:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">make build-shell</code> - Builds the development docker image and starts a shell session in the image allowing the user to develop and build the ROS project using common commands such as <code class="language-plaintext highlighter-rouge">catkin_make</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">make image</code> - Builds the runtime image that contains only the required dependencies and the ROS node.</li>
  <li>
<code class="language-plaintext highlighter-rouge">make clean</code> - Cleans up after the above two tasks</li>
</ul>

<h2 id="shared-codebases">Shared codebases</h2>

<p>Both the <code class="language-plaintext highlighter-rouge">ros</code> and <code class="language-plaintext highlighter-rouge">ros2</code> branches share most of their code by using git submodules. The following submodules contain most of the actual implementations:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/tree/main">microstrain_inertial_driver_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver/microstrain_inertial_driver_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_msgs_common/tree/main">microstrain_inertial_msgs_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs/microstrain_inertial_msgs_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_rqt_common/tree/main">microstrain_inertial_rqt_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt/microstrain_inertial_rqt_common</code>
</li>
</ul>

<h2 id="previous-versions">Previous Versions</h2>

<p>Previous versions of the driver were released as <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tags">tags</a> on Github. They can also be found in specific branches:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros-3.x.x"><code class="language-plaintext highlighter-rouge">ros-3.x.x</code></a> contains the most recent code before the standardizing refactor</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros-2.x.x"><code class="language-plaintext highlighter-rouge">ros-2.x.x</code></a> contains the most recent code before the MIP SDK refactor</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/master"><code class="language-plaintext highlighter-rouge">master</code></a> contains the most recent code before the common codebase refactor (prior to <code class="language-plaintext highlighter-rouge">2.0.0</code>)</li>
</ul>

<h2 id="license">License</h2>

<p>Different packages in this repo are released under different licenses. For more information, see the LICENSE files in each of the package directories.</p>

<p>Here is a quick overview of the licenses used in each package:</p>

<table>
  <thead>
    <tr>
      <th>Package</th>
      <th>License</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_driver/LICENSE">microstrain_inertial_driver</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_msgs/LICENSE">microstrain_inertial_msgs</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_rqt/LICENSE">microstrain_inertial_rqt</a></td>
      <td>BSD</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_examples/LICENSE">microstrain_inertial_examples</a></td>
      <td>MIT</td>
    </tr>
  </tbody>
</table>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/microstrain_inertial">microstrain_inertial</a> <small>repository</small></h3>
        <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_description">microstrain_inertial_description</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-LORD-MicroStrain-microstrain_inertial
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-LORD-MicroStrain-microstrain_inertial" role="menuitem" tabindex="-1" href="/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial" data="github-LORD-MicroStrain-microstrain_inertial">
                    <span class="glyphicon glyphicon-star"></span>
                    github-LORD-MicroStrain-microstrain_inertial
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS driver for all of MicroStrain's current G and C series products. To learn more visit</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/LORD-MicroStrain/microstrain_inertial.git">https://github.com/LORD-MicroStrain/microstrain_inertial.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-25
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/microstrain_inertial/#galactic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#galactic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#galactic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_description">microstrain_inertial_description</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h2 id="description">Description</h2>

<p>Interface (driver) software, including ROS node, for inertial sensors from <a href="https://microstrain.com">MicroStrain by HBK</a>, developed in Williston, VT.</p>

<p>Implemented using the MicroStrain Inertial Protocol SDK (<a href="https://github.com/LORD-MicroStrain/mip_sdk"><code class="language-plaintext highlighter-rouge">mip_sdk</code></a>)</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-wiki">ROS Wiki</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-vs-ros2-versions">ROS vs ROS2 versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#packages">Packages</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#install-instructions">Install Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#buildfarm">Buildfarm</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#source">Source</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#udev-rules">Udev Rules</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#run-instructions">Run Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#launch-the-node-and-publish-data">Single Device</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#publish-data-from-two-devices-simultaneously">Multiple Devices</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#docker-development">Docker Development</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#vscode">VSCode</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#make">Make</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#shared-codebases">Shared Codebases</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#previous-versions">Previous Versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#license">Licenses</a></li>
</ul>

<h2 id="ros-wiki">ROS Wiki</h2>

<p>For more information on the data published and services available see our <a href="https://wiki.ros.org/microstrain_inertial_driver">ROS wiki</a> page</p>

<h2 id="ros-vs-ros2-versions">ROS vs ROS2 Versions</h2>

<p>Note that this branch contains the ROS2 implementation for the packages. If you are looking for the ROS version, you should go to the <a href="https://github.com/LORD-MicroStrain/ROS-MSCL/tree/ros"><code class="language-plaintext highlighter-rouge">ros</code></a> branch</p>

<h2 id="packages">Packages</h2>

<p>This repo contains the following packages:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver"><code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code></a> – ROS node that will communicate with the devices</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs"><code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs</code></a> – Collection of messages produced by the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples"><code class="language-plaintext highlighter-rouge">microstrain_inretial_examples</code></a> – Collection of examples that show how to interact with the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node. Currently contains one simple C++ and python subscriber node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt"><code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt</code></a> – Collection of RQT plugins to view the status of inertial devices when running the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
</ul>

<h2 id="install-instructions">Install Instructions</h2>

<h3 id="buildfarm">Buildfarm</h3>

<p>As of <code class="language-plaintext highlighter-rouge">v2.0.5</code> this package is being built and distributed by the ROS build farm. If you do not need to modify the source, it is recommended to install directly from the buildfarm by running the following commands where <code class="language-plaintext highlighter-rouge">ROS_DISTRO</code> is the version of ROS you are using such as <code class="language-plaintext highlighter-rouge">galactic</code> or <code class="language-plaintext highlighter-rouge">humble</code>:</p>

<p>Driver:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-driver

</code></pre></div></div>

<p>RQT:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-rqt

</code></pre></div></div>

<p>For more information on the ROS distros and platforms we support, please see <a href="https://index.ros.org/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial/#humble">index.ros.org</a></p>

<h3 id="source">Source</h3>

<p>If you need to modify the source of this repository, or are running on a platform that we do not support, you can build from source by following the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a> guide below.</p>

<h4 id="important-note-about-cloning"><strong>IMPORTANT NOTE ABOUT CLONING</strong></h4>

<p>This repo takes advantage of git submodules in order to share code between ROS versions. When cloning the repo, you should clone with the <code class="language-plaintext highlighter-rouge">--recursive</code> flag to get all of the submodules.</p>

<p>If you have already cloned the repo, you can checkout the submodules by running <code class="language-plaintext highlighter-rouge">git submodule update --init --recursive</code> from the project directory</p>

<p>The <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/CMakeLists.txt">CMakeLists.txt</a> will automatically checkout the submodule if it does not exist, but it will not keep it up to date. In order to keep up to date, every
time you pull changes you should pull with the <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> flag, or alternatively run <code class="language-plaintext highlighter-rouge">git submodule update --recursive</code> after you have pulled changes</p>

<h2 id="building-from-source">Building from source</h2>

<ol>
  <li>
    <p>Install ROS2 and create a workspace: <a href="https://docs.ros.org/en/foxy/Tutorials/Configuring-ROS2-Environment.html">Configuring Your ROS2 Environment</a></p>
  </li>
  <li>
    <p>Clone the repository into your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    git clone <span class="nt">--recursive</span> <span class="nt">--branch</span> ros2 https://github.com/LORD-MicroStrain/microstrain_inertial.git ~/your_workspace/src/microstrain_inertial
    
</code></pre></div></div>

<ol>
  <li>
    <p>Install rosdeps for this package: <code class="language-plaintext highlighter-rouge">rosdep install --from-paths ~/your_workspace/src -i -r -y</code></p>
  </li>
  <li>
    <p>Build your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">cd</span> ~/your_workspace
    colcon build
    <span class="nb">source</span> ~/your_workspace/install/setup.bash
    
</code></pre></div></div>
<p>The source command will need to be run in each terminal prior to launching a ROS node.</p>

<h2 id="udev-rules">Udev Rules</h2>

<p><strong>NOTE</strong>: If installing from the buildfarm, the udev rules will be installed automatically</p>

<p>This driver comes with <a href="https://wiki.debian.org/udev">udev rules</a> that will create a symlink for all microstrain devices.
To install the rules. Download the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/debian/udev">udev</a> file from this repo and copy it to
<code class="language-plaintext highlighter-rouge">/etc/udev/rules.d/100-microstrain.rules</code></p>

<p>Once the udev rules are installed, the devices will appear as follows in the file system, where {serial} is the serial number of the device:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main</code> - Most recent non-GQ7 device, or the main port of a GQ7 connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux</code> - Most recent GQ7 aux port connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main_{serial}</code> - All non-GQ7 devices, and the main port of GQ7 devices</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux_{serial}</code> - The aux port of GQ7 devices</li>
</ul>

<h2 id="run-instructions">Run Instructions</h2>

<h4 id="launch-the-node-and-publish-data">Launch the node and publish data</h4>
<p>The following command will launch the driver. Keep in mind each instance needs to be run in a separate terminal.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_launch.py

</code></pre></div></div>

<p>The node has some optional launch parameters that can be specified from the command line in the format <code class="language-plaintext highlighter-rouge">param:=value</code></p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">namespace</code> : namespace that the driver will run in. All services and publishers will be prepended with this, default: <code class="language-plaintext highlighter-rouge">/</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">node_name</code> : name of the driver, default: <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">debug</code>     : output debug logs, default: <code class="language-plaintext highlighter-rouge">false</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">params_file</code> : path to a parameter file to override the default parameters stored in <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a>, default: <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>
</li>
</ul>

<blockquote>
  <p>[!NOTE]
The example <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a> file is formatted to work with ROS and will not work if specified as the params_file argument in ROS2.</p>

  <p>If you want to override parameters for ROS2, start with <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>.</p>
</blockquote>

<h4 id="publish-data-from-two-devices-simultaneously">Publish data from two devices simultaneously</h4>

<ol>
  <li>Create the following files somewhere on your system (we will assume they are stored in your home (<code class="language-plaintext highlighter-rouge">~</code>) directory):
    <ol>
      <li>
<code class="language-plaintext highlighter-rouge">~/sensor_a_params.yml</code> with the contents:</li>
    </ol>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM0</span>
        
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2. `~/sensor_b_params.yml` with the contents:
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM1</span>
        
</code></pre></div></div>
<ol>
  <li>In two different terminals:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_a_node namespace:<span class="o">=</span>sensor_a params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_a_params.yml"</span>
    
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_b_node namespace:<span class="o">=</span>sensor_b params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_b_params.yml"</span>
    
</code></pre></div></div>

<p>This will launch two nodes that publish data to different namespaces:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_a</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM0</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_b</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM1</code>
</li>
</ul>

<p>An example subscriber node can be found in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples">MicroStrain Examples</a> package.</p>

<h4 id="lifecycle-node">Lifecycle Node</h4>

<p>This package also provides a lifecycle node implementation. This version of the driver can be launched by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_lifecycle_launch.py

</code></pre></div></div>

<p>This launch file accepts all of the same arguments as the above node as well as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">configure</code> : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the configure state.</li>
  <li>
<code class="language-plaintext highlighter-rouge">activate</code>  : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the activate state.</li>
</ul>

<p>Additionally, the node may be transitioned anytime after startup using the following commands (note that the <code class="language-plaintext highlighter-rouge">namespace</code> and <code class="language-plaintext highlighter-rouge">name</code> parameters will affect the node name in the following commands):</p>

<ul>
  <li>Transition to configure state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node configure
    
</code></pre></div></div>

<ul>
  <li>Transition to active state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node activate
    
</code></pre></div></div>

<p>You can stop data from streaming by putting the device into the “deactivate” state.  Both the “cleanup” and “shutdown” states will disconnect from the device and close the raw data log file (if enabled.)</p>

<h2 id="docker-development">Docker Development</h2>

<h3 id="vscode">VSCode</h3>

<p>The easiest way to develop in docker while still using an IDE is to use VSCode. Follow the steps below to develop on this repo in a docker container.</p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://code.visualstudio.com/">VSCode</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
    </ol>
  </li>
  <li>Open VSCode and install the following <a href="https://code.visualstudio.com/docs/editor/extension-marketplace">plugins</a>:
    <ol>
      <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">VSCode Remote Containers plugin</a></li>
    </ol>
  </li>
  <li>Open this directory in a container:
    <ol>
      <li>Open the <code class="language-plaintext highlighter-rouge">microstrain_inertial</code> directory in VSCode</li>
      <li>Click the green <code class="language-plaintext highlighter-rouge">&gt;&lt;</code> icon in the bottom left corner of the window</li>
      <li>Choose <code class="language-plaintext highlighter-rouge">Reopen In Container</code>
</li>
    </ol>
  </li>
  <li>Once the project is open in the container, it will take some time to automatically install the rosdeps inside the container, you can then build and run the container by following step 4 of <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building from source</a>
</li>
</ol>

<h3 id="make">Make</h3>

<p>If you are comfortable working from the command line, or want to produce your own runtime images, the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer/Makefile">Makefile</a> in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer">.devcontainer</a> 
directory can be used to build docker images, run a shell inside the docker images and produce a runtime image. Follow the steps below to setup your environment to use the <code class="language-plaintext highlighter-rouge">Makefile</code></p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://www.gnu.org/software/make/">Make</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
      <li>
<a href="https://packages.ubuntu.com/bionic/qemu-user-static">qemu-user-static</a> (<strong>only for multiarch builds</strong>)
        <ol>
          <li>Run the following command to register the qemu binaries with docker: <code class="language-plaintext highlighter-rouge">docker run --rm --privileged multiarch/qemu-user-static:register</code>
</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The <code class="language-plaintext highlighter-rouge">Makefile</code> exposes the following tasks. They can all be run from the <code class="language-plaintext highlighter-rouge">.devcontainer</code> directory:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">make build-shell</code> - Builds the development docker image and starts a shell session in the image allowing the user to develop and build the ROS project using common commands such as <code class="language-plaintext highlighter-rouge">catkin_make</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">make image</code> - Builds the runtime image that contains only the required dependencies and the ROS node.</li>
  <li>
<code class="language-plaintext highlighter-rouge">make clean</code> - Cleans up after the above two tasks</li>
</ul>

<h2 id="shared-codebases">Shared codebases</h2>

<p>Both the <code class="language-plaintext highlighter-rouge">ros</code> and <code class="language-plaintext highlighter-rouge">ros2</code> branches share most of their code by using git submodules. The following submodules contain most of the actual implementations:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/tree/main">microstrain_inertial_driver_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver/microstrain_inertial_driver_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_msgs_common/tree/main">microstrain_inertial_msgs_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs/microstrain_inertial_msgs_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_rqt_common/tree/main">microstrain_inertial_rqt_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt/microstrain_inertial_rqt_common</code>
</li>
</ul>

<h2 id="previous-versions">Previous Versions</h2>

<p>Previous versions of the driver were released as <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tags">tags</a> on Github. They can also be found in specific branches:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-3.x.x"><code class="language-plaintext highlighter-rouge">ros2-3.x.x</code></a> contains the most recent code before the standardizing refactor</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-2.x.x"><code class="language-plaintext highlighter-rouge">ros2-2.x.x</code></a> contains the most recent code before the MIP SDK refactor</li>
</ul>

<h2 id="license">License</h2>

<p>Different packages in this repo are released under different licenses. For more information, see the LICENSE files in each of the package directories.</p>

<p>Here is a quick overview of the licenses used in each package:</p>

<table>
  <thead>
    <tr>
      <th>Package</th>
      <th>License</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/LICENSE">microstrain_inertial_driver</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/LICENSE">microstrain_inertial_msgs</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt/LICENSE">microstrain_inertial_rqt</a></td>
      <td>BSD</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples/LICENSE">microstrain_inertial_examples</a></td>
      <td>MIT</td>
    </tr>
  </tbody>
</table>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/microstrain_inertial">microstrain_inertial</a> <small>repository</small></h3>
        <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_description">microstrain_inertial_description</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-LORD-MicroStrain-microstrain_inertial
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-LORD-MicroStrain-microstrain_inertial" role="menuitem" tabindex="-1" href="/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial" data="github-LORD-MicroStrain-microstrain_inertial">
                    <span class="glyphicon glyphicon-star"></span>
                    github-LORD-MicroStrain-microstrain_inertial
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS driver for all of MicroStrain's current G and C series products. To learn more visit</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/LORD-MicroStrain/microstrain_inertial.git">https://github.com/LORD-MicroStrain/microstrain_inertial.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-25
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/microstrain_inertial/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_description">microstrain_inertial_description</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a></td>
                    <td>4.6.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h2 id="description">Description</h2>

<p>Interface (driver) software, including ROS node, for inertial sensors from <a href="https://microstrain.com">MicroStrain by HBK</a>, developed in Williston, VT.</p>

<p>Implemented using the MicroStrain Inertial Protocol SDK (<a href="https://github.com/LORD-MicroStrain/mip_sdk"><code class="language-plaintext highlighter-rouge">mip_sdk</code></a>)</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-wiki">ROS Wiki</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#ros-vs-ros2-versions">ROS vs ROS2 versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#packages">Packages</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#install-instructions">Install Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#buildfarm">Buildfarm</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#source">Source</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#udev-rules">Udev Rules</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#run-instructions">Run Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#launch-the-node-and-publish-data">Single Device</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#publish-data-from-two-devices-simultaneously">Multiple Devices</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#docker-development">Docker Development</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#vscode">VSCode</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#make">Make</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#shared-codebases">Shared Codebases</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#previous-versions">Previous Versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#license">Licenses</a></li>
</ul>

<h2 id="ros-wiki">ROS Wiki</h2>

<p>For more information on the data published and services available see our <a href="https://wiki.ros.org/microstrain_inertial_driver">ROS wiki</a> page</p>

<h2 id="ros-vs-ros2-versions">ROS vs ROS2 Versions</h2>

<p>Note that this branch contains the ROS2 implementation for the packages. If you are looking for the ROS version, you should go to the <a href="https://github.com/LORD-MicroStrain/ROS-MSCL/tree/ros"><code class="language-plaintext highlighter-rouge">ros</code></a> branch</p>

<h2 id="packages">Packages</h2>

<p>This repo contains the following packages:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver"><code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code></a> – ROS node that will communicate with the devices</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs"><code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs</code></a> – Collection of messages produced by the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples"><code class="language-plaintext highlighter-rouge">microstrain_inretial_examples</code></a> – Collection of examples that show how to interact with the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node. Currently contains one simple C++ and python subscriber node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt"><code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt</code></a> – Collection of RQT plugins to view the status of inertial devices when running the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
</ul>

<h2 id="install-instructions">Install Instructions</h2>

<h3 id="buildfarm">Buildfarm</h3>

<p>As of <code class="language-plaintext highlighter-rouge">v2.0.5</code> this package is being built and distributed by the ROS build farm. If you do not need to modify the source, it is recommended to install directly from the buildfarm by running the following commands where <code class="language-plaintext highlighter-rouge">ROS_DISTRO</code> is the version of ROS you are using such as <code class="language-plaintext highlighter-rouge">galactic</code> or <code class="language-plaintext highlighter-rouge">humble</code>:</p>

<p>Driver:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-driver

</code></pre></div></div>

<p>RQT:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-rqt

</code></pre></div></div>

<p>For more information on the ROS distros and platforms we support, please see <a href="https://index.ros.org/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial/#humble">index.ros.org</a></p>

<h3 id="source">Source</h3>

<p>If you need to modify the source of this repository, or are running on a platform that we do not support, you can build from source by following the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building From Source</a> guide below.</p>

<h4 id="important-note-about-cloning"><strong>IMPORTANT NOTE ABOUT CLONING</strong></h4>

<p>This repo takes advantage of git submodules in order to share code between ROS versions. When cloning the repo, you should clone with the <code class="language-plaintext highlighter-rouge">--recursive</code> flag to get all of the submodules.</p>

<p>If you have already cloned the repo, you can checkout the submodules by running <code class="language-plaintext highlighter-rouge">git submodule update --init --recursive</code> from the project directory</p>

<p>The <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/CMakeLists.txt">CMakeLists.txt</a> will automatically checkout the submodule if it does not exist, but it will not keep it up to date. In order to keep up to date, every
time you pull changes you should pull with the <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> flag, or alternatively run <code class="language-plaintext highlighter-rouge">git submodule update --recursive</code> after you have pulled changes</p>

<h2 id="building-from-source">Building from source</h2>

<ol>
  <li>
    <p>Install ROS2 and create a workspace: <a href="https://docs.ros.org/en/foxy/Tutorials/Configuring-ROS2-Environment.html">Configuring Your ROS2 Environment</a></p>
  </li>
  <li>
    <p>Clone the repository into your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    git clone <span class="nt">--recursive</span> <span class="nt">--branch</span> ros2 https://github.com/LORD-MicroStrain/microstrain_inertial.git ~/your_workspace/src/microstrain_inertial
    
</code></pre></div></div>

<ol>
  <li>
    <p>Install rosdeps for this package: <code class="language-plaintext highlighter-rouge">rosdep install --from-paths ~/your_workspace/src -i -r -y</code></p>
  </li>
  <li>
    <p>Build your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">cd</span> ~/your_workspace
    colcon build
    <span class="nb">source</span> ~/your_workspace/install/setup.bash
    
</code></pre></div></div>
<p>The source command will need to be run in each terminal prior to launching a ROS node.</p>

<h2 id="udev-rules">Udev Rules</h2>

<p><strong>NOTE</strong>: If installing from the buildfarm, the udev rules will be installed automatically</p>

<p>This driver comes with <a href="https://wiki.debian.org/udev">udev rules</a> that will create a symlink for all microstrain devices.
To install the rules. Download the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/debian/udev">udev</a> file from this repo and copy it to
<code class="language-plaintext highlighter-rouge">/etc/udev/rules.d/100-microstrain.rules</code></p>

<p>Once the udev rules are installed, the devices will appear as follows in the file system, where {serial} is the serial number of the device:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main</code> - Most recent non-GQ7 device, or the main port of a GQ7 connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux</code> - Most recent GQ7 aux port connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main_{serial}</code> - All non-GQ7 devices, and the main port of GQ7 devices</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux_{serial}</code> - The aux port of GQ7 devices</li>
</ul>

<h2 id="run-instructions">Run Instructions</h2>

<h4 id="launch-the-node-and-publish-data">Launch the node and publish data</h4>
<p>The following command will launch the driver. Keep in mind each instance needs to be run in a separate terminal.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_launch.py

</code></pre></div></div>

<p>The node has some optional launch parameters that can be specified from the command line in the format <code class="language-plaintext highlighter-rouge">param:=value</code></p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">namespace</code> : namespace that the driver will run in. All services and publishers will be prepended with this, default: <code class="language-plaintext highlighter-rouge">/</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">node_name</code> : name of the driver, default: <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">debug</code>     : output debug logs, default: <code class="language-plaintext highlighter-rouge">false</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">params_file</code> : path to a parameter file to override the default parameters stored in <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a>, default: <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>
</li>
</ul>

<blockquote>
  <p>[!NOTE]
The example <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a> file is formatted to work with ROS and will not work if specified as the params_file argument in ROS2.</p>

  <p>If you want to override parameters for ROS2, start with <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/config/empty.yml"><code class="language-plaintext highlighter-rouge">empty.yml</code></a>.</p>
</blockquote>

<h4 id="publish-data-from-two-devices-simultaneously">Publish data from two devices simultaneously</h4>

<ol>
  <li>Create the following files somewhere on your system (we will assume they are stored in your home (<code class="language-plaintext highlighter-rouge">~</code>) directory):
    <ol>
      <li>
<code class="language-plaintext highlighter-rouge">~/sensor_a_params.yml</code> with the contents:</li>
    </ol>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM0</span>
        
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2. `~/sensor_b_params.yml` with the contents:
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">microstrain_inertial_driver</span><span class="pi">:</span>
          <span class="na">ros__parameters</span><span class="pi">:</span>
            <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM1</span>
        
</code></pre></div></div>
<ol>
  <li>In two different terminals:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_a_node namespace:<span class="o">=</span>sensor_a params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_a_params.yml"</span>
    
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 launch microstrain_inertial_driver microstrain_launch.py node_name:<span class="o">=</span>sensor_b_node namespace:<span class="o">=</span>sensor_b params_file:<span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/sensor_b_params.yml"</span>
    
</code></pre></div></div>

<p>This will launch two nodes that publish data to different namespaces:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_a</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM0</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_b</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM1</code>
</li>
</ul>

<p>An example subscriber node can be found in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples">MicroStrain Examples</a> package.</p>

<h4 id="lifecycle-node">Lifecycle Node</h4>

<p>This package also provides a lifecycle node implementation. This version of the driver can be launched by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch microstrain_inertial_driver microstrain_lifecycle_launch.py

</code></pre></div></div>

<p>This launch file accepts all of the same arguments as the above node as well as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">configure</code> : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the configure state.</li>
  <li>
<code class="language-plaintext highlighter-rouge">activate</code>  : If set to the exact string <code class="language-plaintext highlighter-rouge">true</code> the driver will automatically transition into the activate state.</li>
</ul>

<p>Additionally, the node may be transitioned anytime after startup using the following commands (note that the <code class="language-plaintext highlighter-rouge">namespace</code> and <code class="language-plaintext highlighter-rouge">name</code> parameters will affect the node name in the following commands):</p>

<ul>
  <li>Transition to configure state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node configure
    
</code></pre></div></div>

<ul>
  <li>Transition to active state:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ros2 lifecycle <span class="nb">set</span> /microstrain_inertial_driver_node activate
    
</code></pre></div></div>

<p>You can stop data from streaming by putting the device into the “deactivate” state.  Both the “cleanup” and “shutdown” states will disconnect from the device and close the raw data log file (if enabled.)</p>

<h2 id="docker-development">Docker Development</h2>

<h3 id="vscode">VSCode</h3>

<p>The easiest way to develop in docker while still using an IDE is to use VSCode. Follow the steps below to develop on this repo in a docker container.</p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://code.visualstudio.com/">VSCode</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
    </ol>
  </li>
  <li>Open VSCode and install the following <a href="https://code.visualstudio.com/docs/editor/extension-marketplace">plugins</a>:
    <ol>
      <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">VSCode Remote Containers plugin</a></li>
    </ol>
  </li>
  <li>Open this directory in a container:
    <ol>
      <li>Open the <code class="language-plaintext highlighter-rouge">microstrain_inertial</code> directory in VSCode</li>
      <li>Click the green <code class="language-plaintext highlighter-rouge">&gt;&lt;</code> icon in the bottom left corner of the window</li>
      <li>Choose <code class="language-plaintext highlighter-rouge">Reopen In Container</code>
</li>
    </ol>
  </li>
  <li>Once the project is open in the container, it will take some time to automatically install the rosdeps inside the container, you can then build and run the container by following step 4 of <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/#building-from-source">Building from source</a>
</li>
</ol>

<h3 id="make">Make</h3>

<p>If you are comfortable working from the command line, or want to produce your own runtime images, the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer/Makefile">Makefile</a> in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./devcontainer">.devcontainer</a> 
directory can be used to build docker images, run a shell inside the docker images and produce a runtime image. Follow the steps below to setup your environment to use the <code class="language-plaintext highlighter-rouge">Makefile</code></p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://www.gnu.org/software/make/">Make</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
      <li>
<a href="https://packages.ubuntu.com/bionic/qemu-user-static">qemu-user-static</a> (<strong>only for multiarch builds</strong>)
        <ol>
          <li>Run the following command to register the qemu binaries with docker: <code class="language-plaintext highlighter-rouge">docker run --rm --privileged multiarch/qemu-user-static:register</code>
</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The <code class="language-plaintext highlighter-rouge">Makefile</code> exposes the following tasks. They can all be run from the <code class="language-plaintext highlighter-rouge">.devcontainer</code> directory:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">make build-shell</code> - Builds the development docker image and starts a shell session in the image allowing the user to develop and build the ROS project using common commands such as <code class="language-plaintext highlighter-rouge">catkin_make</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">make image</code> - Builds the runtime image that contains only the required dependencies and the ROS node.</li>
  <li>
<code class="language-plaintext highlighter-rouge">make clean</code> - Cleans up after the above two tasks</li>
</ul>

<h2 id="shared-codebases">Shared codebases</h2>

<p>Both the <code class="language-plaintext highlighter-rouge">ros</code> and <code class="language-plaintext highlighter-rouge">ros2</code> branches share most of their code by using git submodules. The following submodules contain most of the actual implementations:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/tree/main">microstrain_inertial_driver_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver/microstrain_inertial_driver_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_msgs_common/tree/main">microstrain_inertial_msgs_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs/microstrain_inertial_msgs_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_rqt_common/tree/main">microstrain_inertial_rqt_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt/microstrain_inertial_rqt_common</code>
</li>
</ul>

<h2 id="previous-versions">Previous Versions</h2>

<p>Previous versions of the driver were released as <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tags">tags</a> on Github. They can also be found in specific branches:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-3.x.x"><code class="language-plaintext highlighter-rouge">ros2-3.x.x</code></a> contains the most recent code before the standardizing refactor</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2-2.x.x"><code class="language-plaintext highlighter-rouge">ros2-2.x.x</code></a> contains the most recent code before the MIP SDK refactor</li>
</ul>

<h2 id="license">License</h2>

<p>Different packages in this repo are released under different licenses. For more information, see the LICENSE files in each of the package directories.</p>

<p>Here is a quick overview of the licenses used in each package:</p>

<table>
  <thead>
    <tr>
      <th>Package</th>
      <th>License</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_driver/LICENSE">microstrain_inertial_driver</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_msgs/LICENSE">microstrain_inertial_msgs</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_rqt/LICENSE">microstrain_inertial_rqt</a></td>
      <td>BSD</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros2/./microstrain_inertial_examples/LICENSE">microstrain_inertial_examples</a></td>
      <td>MIT</td>
    </tr>
  </tbody>
</table>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/microstrain_inertial">microstrain_inertial</a> <small>repository</small></h3>
        <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_description">microstrain_inertial_description</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-LORD-MicroStrain-microstrain_inertial
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-LORD-MicroStrain-microstrain_inertial" role="menuitem" tabindex="-1" href="/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial" data="github-LORD-MicroStrain-microstrain_inertial">
                    <span class="glyphicon glyphicon-star"></span>
                    github-LORD-MicroStrain-microstrain_inertial
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS driver for all of MicroStrain's current G and C series products. To learn more visit</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/LORD-MicroStrain/microstrain_inertial.git">https://github.com/LORD-MicroStrain/microstrain_inertial.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-15
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">robotics</span> <span class="label label-default">ros</span> <span class="label label-default">imu</span> <span class="label label-default">slam</span> <span class="label label-default">inertial-sensors</span> <span class="label label-default">mip</span> <span class="label label-default">inertial-navigation-systems</span> <span class="label label-default">slam-algorithms</span> <span class="label label-default">ins</span> <span class="label label-default">microstrain</span> <span class="label label-default">ros-noetic</span> <span class="label label-default">ros2-foxy</span> <span class="label label-default">ros2-rolling</span> <span class="label label-default">ros2-humble</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/microstrain_inertial/#melodic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#melodic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/microstrain_inertial/#melodic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_description">microstrain_inertial_description</a></td>
                    <td>4.6.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_driver">microstrain_inertial_driver</a></td>
                    <td>4.6.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_examples">microstrain_inertial_examples</a></td>
                    <td>4.6.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_msgs">microstrain_inertial_msgs</a></td>
                    <td>4.6.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/microstrain_inertial_rqt">microstrain_inertial_rqt</a></td>
                    <td>4.6.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h2 id="description">Description</h2>

<p>Interface (driver) software, including ROS node, for inertial sensors from <a href="https://microstrain.com">MicroStrain by HBK</a>, developed in Williston, VT.</p>

<p>Implemented using the MicroStrain Inertial Protocol SDK (<a href="https://github.com/LORD-MicroStrain/mip_sdk"><code class="language-plaintext highlighter-rouge">mip_sdk</code></a>)</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#ros-wiki">ROS Wiki</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#ros-vs-ros2-versions">ROS vs ROS2 versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#packages">Packages</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#install-instructions">Install Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#buildfarm">Buildfarm</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#source">Source</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#udev-rules">Udev Rules</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#building-from-source">Building From Source</a></li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#run-instructions">Run Instructions</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#launch-the-node-and-publish-data">Single Device</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#publish-data-from-two-devices-simultaneously">Multiple Devices</a></li>
    </ul>
  </li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#docker-development">Docker Development</a>
    <ul>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#vscode">VSCode</a></li>
      <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#make">Make</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#shared-codebases">Shared Codebases</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#previous-versions">Previous Versions</a></li>
  <li><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#license">Licenses</a></li>
</ul>

<h2 id="ros-wiki">ROS Wiki</h2>

<p>For more information on the data published and services available see our <a href="https://wiki.ros.org/microstrain_inertial_driver">ROS wiki</a> page</p>

<h2 id="ros-vs-ros2-versions">ROS vs ROS2 Versions</h2>

<p>Note that this branch contains the ROS implementation for the packages. If you are looking for the ROS2 version, you should go to the <a href="https://github.com/LORD-MicroStrain/ROS-MSCL/tree/ros2"><code class="language-plaintext highlighter-rouge">ros2</code></a> branch</p>

<h2 id="packages">Packages</h2>

<p>This repo contains the following packages:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_driver"><code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code></a> – ROS node that will communicate with the devices</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_msgs"><code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs</code></a> – Collection of messages produced by the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_examples"><code class="language-plaintext highlighter-rouge">microstrain_inretial_examples</code></a> – Collection of examples that show how to interact with the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code> node. Currently contains one simple C++ and python subscriber node</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_rqt"><code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt</code></a> – Collection of RQT plugins to view the status of inertial devices when running the <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
</ul>

<h2 id="install-instructions">Install Instructions</h2>

<h3 id="buildfarm">Buildfarm</h3>

<p>As of <code class="language-plaintext highlighter-rouge">v2.0.5</code> this package is being built and distributed by the ROS build farm. If you do not need to modify the source, it is recommended to install directly from the buildfarm by running the following commands where <code class="language-plaintext highlighter-rouge">ROS_DISTRO</code> is the version of ROS you are using such as <code class="language-plaintext highlighter-rouge">noetic</code>:</p>

<p>Driver:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-driver

</code></pre></div></div>

<p>RQT:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-ROS_DISTRO-microstrain-inertial-rqt

</code></pre></div></div>

<p>For more information on the ROS distros and platforms we support, please see <a href="https://index.ros.org/r/microstrain_inertial/github-LORD-MicroStrain-microstrain_inertial/#noetic">index.ros.org</a></p>

<h3 id="source">Source</h3>

<p>If you need to modify the source of this repository, or are running on a platform that we do not support, you can build from source by following the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#building-from-source">Building From Source</a> guide below.</p>

<h4 id="important-note-about-cloning"><strong>IMPORTANT NOTE ABOUT CLONING</strong></h4>

<p>This repo takes advantage of git submodules in order to share code between ROS versions. When cloning the repo, you should clone with the <code class="language-plaintext highlighter-rouge">--recursive</code> flag to get all of the submodules.</p>

<p>If you have already cloned the repo, you can checkout the submodules by running <code class="language-plaintext highlighter-rouge">git submodule update --init --recursive</code> from the project directory</p>

<p>The <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_msgs/CMakeLists.txt">CMakeLists.txt</a> will automatically checkout the submodule if it does not exist, but it will not keep it up to date. In order to keep up to date, every
time you pull changes you should pull with the <code class="language-plaintext highlighter-rouge">--recurse-submodules</code> flag, or alternatively run <code class="language-plaintext highlighter-rouge">git submodule update --recursive</code> after you have pulled changes</p>

<h2 id="building-from-source">Building from source</h2>

<ol>
  <li>
    <p>Install ROS and create a workspace: <a href="http://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment">Installing and Configuring Your ROS Environment</a></p>
  </li>
  <li>
    <p>Clone the repository into your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    git clone <span class="nt">--recursive</span> <span class="nt">--branch</span> ros https://github.com/LORD-MicroStrain/microstrain_inertial.git ~/your_workspace/src/microstrain_inertial
    
</code></pre></div></div>

<ol>
  <li>
    <p>Install rosdeps for this package: <code class="language-plaintext highlighter-rouge">rosdep install --from-paths ~/your_workspace/src -i -r -y</code></p>
  </li>
  <li>
    <p>Build your workspace:</p>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">cd</span> ~/your_workspace
    catkin_make
    <span class="nb">source</span> ~/your_workspace/devel/setup.bash
    
</code></pre></div></div>
<p>The source command will need to be run in each terminal prior to launching a ROS node.</p>

<h2 id="udev-rules">Udev Rules</h2>

<p><strong>NOTE</strong>: If installing from the buildfarm, the udev rules will be installed automatically</p>

<p>This driver comes with <a href="https://wiki.debian.org/udev">udev rules</a> that will create a symlink for all microstrain devices.
To install the rules. Download the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_driver/debian/udev">udev</a> file from this repo and copy it to
<code class="language-plaintext highlighter-rouge">/etc/udev/rules.d/100-microstrain.rules</code></p>

<p>Once the udev rules are installed, the devices will appear as follows in the file system, where {serial} is the serial number of the device:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main</code> - Most recent non-GQ7 device, or the main port of a GQ7 connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux</code> - Most recent GQ7 aux port connected. <strong>NOTE</strong>: Do not use this rule with multiple devices as it gets overridden with multiple devices.</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_main_{serial}</code> - All non-GQ7 devices, and the main port of GQ7 devices</li>
  <li>
<code class="language-plaintext highlighter-rouge">/dev/microstrain_aux_{serial}</code> - The aux port of GQ7 devices</li>
</ul>

<h2 id="run-instructions">Run Instructions</h2>

<h4 id="launch-the-node-and-publish-data">Launch the node and publish data</h4>
<p>The following command will launch the driver. Keep in mind each instance needs to be run in a separate terminal.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>roslaunch microstrain_inertial_driver microstrain.launch

</code></pre></div></div>

<p>The node has some optional launch parameters that can be specified from the command line in the format <code class="language-plaintext highlighter-rouge">param:=value</code></p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">namespace</code> : namespace that the driver will run in. All services and publishers will be prepended with this, default: <code class="language-plaintext highlighter-rouge">/</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">node_name</code> : name of the driver, default: <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">debug</code>     : output debug logs, default: <code class="language-plaintext highlighter-rouge">false</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">params_file</code> : path to a parameter file to override the default parameters stored in <a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/blob/main/config/params.yml"><code class="language-plaintext highlighter-rouge">params.yml</code></a>, default: empty</li>
</ul>

<h4 id="publish-data-from-two-devices-simultaneously">Publish data from two devices simultaneously</h4>

<ol>
  <li>Create the following files somewhere on your system (we will assume they are stored in the <code class="language-plaintext highlighter-rouge">~</code> directory):
    <ol>
      <li>
<code class="language-plaintext highlighter-rouge">~/sensor_a_params.yml</code> with the contents:</li>
    </ol>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM0</span>
        
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2. `~/sensor_b_params.yml` with the contents:
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="na">port</span><span class="pi">:</span> <span class="s">/dev/ttyACM1</span>
        
</code></pre></div></div>
<ol>
  <li>In two different terminals:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    roslaunch microstrain_inertial_driver microstrain.launch node_name:<span class="o">=</span>sensor_a_node namespace:<span class="o">=</span>sensor_a params_file:<span class="o">=</span><span class="s2">"~/sensor_a_params.yml"</span>
    
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    roslaunch microstrain_inertial_driver microstrain.launch node_name:<span class="o">=</span>sensor_b_node namespace:<span class="o">=</span>sensor_b params_file:<span class="o">=</span><span class="s2">"~/sensor_b_params.yml"</span>
    
</code></pre></div></div>

<p>This will launch two nodes that publish data to different namespaces:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_a</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM0</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">/sensor_b</code>, connected over port: <code class="language-plaintext highlighter-rouge">/dev/ttyACM1</code>
</li>
</ul>

<p>An example subscriber node can be found in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_examples">MicroStrain Examples</a> package.</p>

<h2 id="docker-development">Docker Development</h2>

<h3 id="vscode">VSCode</h3>

<p>The easiest way to develop in docker while still using an IDE is to use VSCode. Follow the steps below to develop on this repo in a docker container.</p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://code.visualstudio.com/">VSCode</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
    </ol>
  </li>
  <li>Open VSCode and install the following <a href="https://code.visualstudio.com/docs/editor/extension-marketplace">plugins</a>:
    <ol>
      <li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">VSCode Remote Containers plugin</a></li>
    </ol>
  </li>
  <li>Open this directory in a container:
    <ol>
      <li>Open the <code class="language-plaintext highlighter-rouge">microstrain_inertial</code> directory in VSCode</li>
      <li>Click the green <code class="language-plaintext highlighter-rouge">&gt;&lt;</code> icon in the bottom left corner of the window</li>
      <li>Choose <code class="language-plaintext highlighter-rouge">Reopen In Container</code>
</li>
    </ol>
  </li>
  <li>Once the project is open in the container, it will take some time to automatically install the rosdeps inside the container, you can then build and run the container by following step 4 of <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/#building-from-source">Building from source</a>
</li>
</ol>

<h3 id="make">Make</h3>

<p>If you are comfortable working from the command line, or want to produce your own runtime images, the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./devcontainer/Makefile">Makefile</a> in the <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./devcontainer">.devcontainer</a> 
directory can be used to build docker images, run a shell inside the docker images and produce a runtime image. Follow the steps below to setup your environment to use the <code class="language-plaintext highlighter-rouge">Makefile</code></p>

<ol>
  <li>Install the following dependencies:
    <ol>
      <li><a href="https://www.gnu.org/software/make/">Make</a></li>
      <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
      <li>
<a href="https://packages.ubuntu.com/bionic/qemu-user-static">qemu-user-static</a> (<strong>only for multiarch builds</strong>)
        <ol>
          <li>Run the following command to register the qemu binaries with docker: <code class="language-plaintext highlighter-rouge">docker run --rm --privileged multiarch/qemu-user-static:register</code>
</li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<p>The <code class="language-plaintext highlighter-rouge">Makefile</code> exposes the following tasks. They can all be run from the <code class="language-plaintext highlighter-rouge">.devcontainer</code> directory:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">make build-shell</code> - Builds the development docker image and starts a shell session in the image allowing the user to develop and build the ROS project using common commands such as <code class="language-plaintext highlighter-rouge">catkin_make</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">make image</code> - Builds the runtime image that contains only the required dependencies and the ROS node.</li>
  <li>
<code class="language-plaintext highlighter-rouge">make clean</code> - Cleans up after the above two tasks</li>
</ul>

<h2 id="shared-codebases">Shared codebases</h2>

<p>Both the <code class="language-plaintext highlighter-rouge">ros</code> and <code class="language-plaintext highlighter-rouge">ros2</code> branches share most of their code by using git submodules. The following submodules contain most of the actual implementations:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_driver_common/tree/main">microstrain_inertial_driver_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_driver/microstrain_inertial_driver_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_msgs_common/tree/main">microstrain_inertial_msgs_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_msgs/microstrain_inertial_msgs_common</code>
</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial_rqt_common/tree/main">microstrain_inertial_rqt_common</a> submoduled in this repo at <code class="language-plaintext highlighter-rouge">microstrain_inertial_rqt/microstrain_inertial_rqt_common</code>
</li>
</ul>

<h2 id="previous-versions">Previous Versions</h2>

<p>Previous versions of the driver were released as <a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tags">tags</a> on Github. They can also be found in specific branches:</p>

<ul>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros-3.x.x"><code class="language-plaintext highlighter-rouge">ros-3.x.x</code></a> contains the most recent code before the standardizing refactor</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros-2.x.x"><code class="language-plaintext highlighter-rouge">ros-2.x.x</code></a> contains the most recent code before the MIP SDK refactor</li>
  <li>
<a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/master"><code class="language-plaintext highlighter-rouge">master</code></a> contains the most recent code before the common codebase refactor (prior to <code class="language-plaintext highlighter-rouge">2.0.0</code>)</li>
</ul>

<h2 id="license">License</h2>

<p>Different packages in this repo are released under different licenses. For more information, see the LICENSE files in each of the package directories.</p>

<p>Here is a quick overview of the licenses used in each package:</p>

<table>
  <thead>
    <tr>
      <th>Package</th>
      <th>License</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_driver/LICENSE">microstrain_inertial_driver</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_msgs/LICENSE">microstrain_inertial_msgs</a></td>
      <td>MIT</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_rqt/LICENSE">microstrain_inertial_rqt</a></td>
      <td>BSD</td>
    </tr>
    <tr>
      <td><a href="https://github.com/LORD-MicroStrain/microstrain_inertial/tree/ros/./microstrain_inertial_examples/LICENSE">microstrain_inertial_examples</a></td>
      <td>MIT</td>
    </tr>
  </tbody>
</table>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/LORD-MicroStrain/microstrain_inertial.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
