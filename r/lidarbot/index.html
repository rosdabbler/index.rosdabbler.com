<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/lidarbot/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">lidarbot</li>
        <!--<li class="active">lidarbot</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-primary" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lidarbot">lidarbot</a> <small>repository</small></h3>
        <span class="label label-default">raspberry-pi</span> <span class="label label-default">navigation</span> <span class="label label-default">imu</span> <span class="label label-default">lidar</span> <span class="label label-default">slam</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">pca9685</span> <span class="label label-default">raspberry-pi-camera</span> <span class="label label-default">ros2</span> <span class="label label-default">motor-driver</span> <span class="label label-default">mpu6050</span> <span class="label label-default">rplidar</span> <span class="label label-default">hardware-interface</span> <span class="label label-default">differential-drive-robot</span> <span class="label label-default">diy-robot</span> <span class="label label-default">rviz2</span> <span class="label label-default">gazebosim</span> <span class="label label-default">ros2-control</span> <span class="label label-default">ros2-humble</span> <span class="label label-default">imu-sensor-broadcaster</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-thenoobinventor-lidarbot
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-thenoobinventor-lidarbot" role="menuitem" tabindex="-1" href="/r/lidarbot/github-thenoobinventor-lidarbot" data="github-thenoobinventor-lidarbot">
                    <span class="glyphicon glyphicon-star"></span>
                    github-thenoobinventor-lidarbot
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lidarbot">lidarbot</a> <small>repository</small></h3>
        <span class="label label-default">raspberry-pi</span> <span class="label label-default">navigation</span> <span class="label label-default">imu</span> <span class="label label-default">lidar</span> <span class="label label-default">slam</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">pca9685</span> <span class="label label-default">raspberry-pi-camera</span> <span class="label label-default">ros2</span> <span class="label label-default">motor-driver</span> <span class="label label-default">mpu6050</span> <span class="label label-default">rplidar</span> <span class="label label-default">hardware-interface</span> <span class="label label-default">differential-drive-robot</span> <span class="label label-default">diy-robot</span> <span class="label label-default">rviz2</span> <span class="label label-default">gazebosim</span> <span class="label label-default">ros2-control</span> <span class="label label-default">ros2-humble</span> <span class="label label-default">imu-sensor-broadcaster</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-thenoobinventor-lidarbot
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-thenoobinventor-lidarbot" role="menuitem" tabindex="-1" href="/r/lidarbot/github-thenoobinventor-lidarbot" data="github-thenoobinventor-lidarbot">
                    <span class="glyphicon glyphicon-star"></span>
                    github-thenoobinventor-lidarbot
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lidarbot">lidarbot</a> <small>repository</small></h3>
        <span class="label label-default">raspberry-pi</span> <span class="label label-default">navigation</span> <span class="label label-default">imu</span> <span class="label label-default">lidar</span> <span class="label label-default">slam</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">pca9685</span> <span class="label label-default">raspberry-pi-camera</span> <span class="label label-default">ros2</span> <span class="label label-default">motor-driver</span> <span class="label label-default">mpu6050</span> <span class="label label-default">rplidar</span> <span class="label label-default">hardware-interface</span> <span class="label label-default">differential-drive-robot</span> <span class="label label-default">diy-robot</span> <span class="label label-default">rviz2</span> <span class="label label-default">gazebosim</span> <span class="label label-default">ros2-control</span> <span class="label label-default">ros2-humble</span> <span class="label label-default">imu-sensor-broadcaster</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-thenoobinventor-lidarbot
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-thenoobinventor-lidarbot" role="menuitem" tabindex="-1" href="/r/lidarbot/github-thenoobinventor-lidarbot" data="github-thenoobinventor-lidarbot">
                    <span class="glyphicon glyphicon-star"></span>
                    github-thenoobinventor-lidarbot
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lidarbot">lidarbot</a> <small>repository</small></h3>
        <span class="label label-default">raspberry-pi</span> <span class="label label-default">navigation</span> <span class="label label-default">imu</span> <span class="label label-default">lidar</span> <span class="label label-default">slam</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">pca9685</span> <span class="label label-default">raspberry-pi-camera</span> <span class="label label-default">ros2</span> <span class="label label-default">motor-driver</span> <span class="label label-default">mpu6050</span> <span class="label label-default">rplidar</span> <span class="label label-default">hardware-interface</span> <span class="label label-default">differential-drive-robot</span> <span class="label label-default">diy-robot</span> <span class="label label-default">rviz2</span> <span class="label label-default">gazebosim</span> <span class="label label-default">ros2-control</span> <span class="label label-default">ros2-humble</span> <span class="label label-default">imu-sensor-broadcaster</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-thenoobinventor-lidarbot
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-thenoobinventor-lidarbot" role="menuitem" tabindex="-1" href="/r/lidarbot/github-thenoobinventor-lidarbot" data="github-thenoobinventor-lidarbot">
                    <span class="glyphicon glyphicon-star"></span>
                    github-thenoobinventor-lidarbot
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lidarbot">lidarbot</a> <small>repository</small></h3>
        <span class="label label-default">raspberry-pi</span> <span class="label label-default">navigation</span> <span class="label label-default">imu</span> <span class="label label-default">lidar</span> <span class="label label-default">slam</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">pca9685</span> <span class="label label-default">raspberry-pi-camera</span> <span class="label label-default">ros2</span> <span class="label label-default">motor-driver</span> <span class="label label-default">mpu6050</span> <span class="label label-default">rplidar</span> <span class="label label-default">hardware-interface</span> <span class="label label-default">differential-drive-robot</span> <span class="label label-default">diy-robot</span> <span class="label label-default">rviz2</span> <span class="label label-default">gazebosim</span> <span class="label label-default">ros2-control</span> <span class="label label-default">ros2-humble</span> <span class="label label-default">imu-sensor-broadcaster</span> 
        
        <a class="label label-primary pkg-label" href="/p/lidarbot">lidarbot</a>
        
        <a class="label label-primary pkg-label" href="/p/lidarbot_aruco">lidarbot_aruco</a>
        
        <a class="label label-primary pkg-label" href="/p/lidarbot_base">lidarbot_base</a>
        
        <a class="label label-primary pkg-label" href="/p/lidarbot_bringup">lidarbot_bringup</a>
        
        <a class="label label-primary pkg-label" href="/p/lidarbot_description">lidarbot_description</a>
        
        <a class="label label-primary pkg-label" href="/p/lidarbot_gazebo">lidarbot_gazebo</a>
        
        <a class="label label-primary pkg-label" href="/p/lidarbot_gz">lidarbot_gz</a>
        
        <a class="label label-primary pkg-label" href="/p/lidarbot_navigation">lidarbot_navigation</a>
        
        <a class="label label-primary pkg-label" href="/p/lidarbot_slam">lidarbot_slam</a>
        
        <a class="label label-primary pkg-label" href="/p/lidarbot_teleop">lidarbot_teleop</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-thenoobinventor-lidarbot
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-thenoobinventor-lidarbot" role="menuitem" tabindex="-1" href="/r/lidarbot/github-thenoobinventor-lidarbot" data="github-thenoobinventor-lidarbot">
                    <span class="glyphicon glyphicon-star"></span>
                    github-thenoobinventor-lidarbot
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">A differential drive robot is controlled using ROS2 Humble running on a Raspberry Pi 4 (running Ubuntu server 22.04). The vehicle is equipped with a raspberry pi camera for visual feedback and an RPlidar A1 sensor used for Simultaneous Localization and Mapping (SLAM), autonomous navigation and obstacle avoidance.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/thenoobinventor/lidarbot.git">https://github.com/thenoobinventor/lidarbot.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-01
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNKNOWN
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">raspberry-pi</span> <span class="label label-default">navigation</span> <span class="label label-default">imu</span> <span class="label label-default">lidar</span> <span class="label label-default">slam</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">pca9685</span> <span class="label label-default">raspberry-pi-camera</span> <span class="label label-default">ros2</span> <span class="label label-default">motor-driver</span> <span class="label label-default">mpu6050</span> <span class="label label-default">rplidar</span> <span class="label label-default">hardware-interface</span> <span class="label label-default">differential-drive-robot</span> <span class="label label-default">diy-robot</span> <span class="label label-default">rviz2</span> <span class="label label-default">gazebosim</span> <span class="label label-default">ros2-control</span> <span class="label label-default">ros2-humble</span> <span class="label label-default">imu-sensor-broadcaster</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/lidarbot/#github-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lidarbot/#github-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/lidarbot/#github-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/lidarbot">lidarbot</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lidarbot_aruco">lidarbot_aruco</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lidarbot_base">lidarbot_base</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lidarbot_bringup">lidarbot_bringup</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lidarbot_description">lidarbot_description</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lidarbot_gazebo">lidarbot_gazebo</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lidarbot_gz">lidarbot_gz</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lidarbot_navigation">lidarbot_navigation</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lidarbot_slam">lidarbot_slam</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/lidarbot_teleop">lidarbot_teleop</a></td>
                    <td>0.0.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="lidarbot">Lidarbot</h1>

<p><img src="https://github.com/TheNoobInventor/lidarbot/actions/workflows/.github/workflows/lidarbot_ci_action.yml/badge.svg" alt="ROS2 CI"></p>

<p>A differential drive robot is controlled using ROS2 Humble running on a Raspberry Pi 4 (running Ubuntu server 22.04). The vehicle is equipped with a Raspberry Pi camera for visual feedback and an RPlidar A1 sensor used for Simultaneous Localization and Mapping (SLAM), autonomous navigation and obstacle avoidance. Additionally, an MPU6050 inertial measurement unit (IMU) is employed by the <code class="language-plaintext highlighter-rouge">robot_localization</code> package on the robot, to fuse IMU sensor data and the wheel encoders data, using an Extended Kalman Filter (EKF) node, to provide more accurate robot odometry estimates.</p>

<p>Hardware components are written for the Waveshare Motor Driver HAT and MPU6050 sensor to be accessed by the <code class="language-plaintext highlighter-rouge">ros2_control</code> differential drive controller and IMU sensor broadcaster respectively, via the <code class="language-plaintext highlighter-rouge">ros2_control</code> resource manager.</p>

<p align="center">
    &lt;img src=docs/images/real_mapping.gif width="600"&gt;
</p>

<p>A preprint of this work is available <a href="http://dx.doi.org/10.13140/RG.2.2.15748.54408">here</a>.</p>

<ul>
  <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/#lidarbot">Lidarbot</a>
    <ul>
      <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#%EF%B8%8F-package-overview">🗃️ Package Overview</a></li>
      <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/#hardware">🧰	Hardware</a>
        <ul>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#part-list">Part list</a></li>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#project-wiring-and-assembly">Project Wiring and Assembly</a></li>
        </ul>
      </li>
      <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/#-installation">🔌	 Installation</a>
        <ul>
          <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/#development-machine-setup">Development Machine setup</a>
            <ul>
              <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#wiringpi">WiringPi</a></li>
              <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#mpu6050-library">MPU6050 library</a></li>
              <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#sourcing-ros-installation">Sourcing ROS Installation</a></li>
              <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#gazebo-fortress">Gazebo Fortress</a></li>
              <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#display-lidarbot-model-in-rviz">Display lidarbot model in RViz</a></li>
              <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#teleoperation">Teleoperation</a></li>
              <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#twist-mux">Twist mux</a></li>
            </ul>
          </li>
          <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/#lidarbot-setup">Lidarbot setup</a>
            <ul>
              <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#motor-driver-hat">Motor Driver HAT</a></li>
              <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#raspberry-pi-camera">Raspberry Pi Camera</a></li>
              <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#mpu6050-offsets">MPU6050 offsets</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#network-configuration">Network Configuration</a></li>
      <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/#ros2-control-framework">ros2 control Framework</a>
        <ul>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#differential-drive-controller">Differential Drive Controller</a></li>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#joint-state-broadcaster">Joint State Broadcaster</a></li>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#imu-sensor-broadcaster">IMU Sensor Broadcaster</a></li>
        </ul>
      </li>
      <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/#test-drive">Test Drive</a>
        <ul>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#gazebo">Gazebo</a></li>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#lidarbot-1">Lidarbot</a></li>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#motor-connection-checks">Motor Connection Checks</a></li>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#robot-localization">Robot localization</a></li>
        </ul>
      </li>
      <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/#mapping">Mapping</a>
        <ul>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#gazebo-1">Gazebo</a></li>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#lidarbot-2">Lidarbot</a></li>
        </ul>
      </li>
      <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/#aruco-package">Aruco package</a>
        <ul>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#generate-aruco-marker">Generate ArUco marker</a></li>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#webcam-calibration">Webcam calibration</a></li>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#aruco-trajectory-visualizer-node">Aruco trajectory visualizer node</a></li>
        </ul>
      </li>
      <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/#navigation">Navigation</a>
        <ul>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#gazebo-2">Gazebo</a></li>
          <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#lidarbot-3">Lidarbot</a></li>
        </ul>
      </li>
      <li><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#acknowledgment">Acknowledgment</a></li>
    </ul>
  </li>
</ul>

<h2 id="️-package-overview">🗃️ Package Overview</h2>
<ul>
  <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_aruco/"><code class="language-plaintext highlighter-rouge">lidarbot_aruco</code></a> : Contains configuration, launch and node files to use ArUco markers with lidarbot.</li>
  <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_base/"><code class="language-plaintext highlighter-rouge">lidarbot_base</code></a> : Contains the ROS2 control hardware component for the lidarbot with low-level code for the Waveshare Motor Driver HAT.</li>
  <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_bringup/"><code class="language-plaintext highlighter-rouge">lidarbot_bringup</code></a> : Contains hardware component for the MPU6050 module, launch files to bring up the camera, lidar and the real lidarbot.</li>
  <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_description/"><code class="language-plaintext highlighter-rouge">lidarbot_description</code></a> : Contains the URDF description files for lidarbot, sensors and <code class="language-plaintext highlighter-rouge">ros2 control</code>.</li>
  <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_gazebo/"><code class="language-plaintext highlighter-rouge">lidarbot_gazebo</code></a> : Contains configuration, launch and world files needed to simulate lidarbot in Gazebo Classic.</li>
  <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_gz/"><code class="language-plaintext highlighter-rouge">lidarbot_gz</code></a> : Contains urdf, launch and world files needed to simulate lidarbot in Gazebo Fortress.</li>
  <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_navigation/"><code class="language-plaintext highlighter-rouge">lidarbot_navigation</code></a> : Contains launch, configuration and map files used for lidarbot navigation.</li>
  <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_slam/"><code class="language-plaintext highlighter-rouge">lidarbot_slam</code></a> : Contains configuration files for the slam toolbox and RViz, launch file to generate maps using SLAM.</li>
  <li>
<a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_teleop/"><code class="language-plaintext highlighter-rouge">lidarbot_teleop</code></a> : Contains configuration and launch files used to enable joystick control of the lidarbot in simulation and physically.</li>
</ul>

<h2 id="-hardware">🧰	Hardware</h2>
<h3 id="part-list">Part list</h3>
<p>The following components were used in this project:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Part</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Raspberry Pi 4 (4 GB)</td>
    </tr>
    <tr>
      <td>2</td>
      <td>SanDisk 32 GB SD Card (minimum)</td>
    </tr>
    <tr>
      <td>3</td>
      <td><a href="https://www.amazon.com/perseids-Chassis-Encoder-Wheels-Battery/dp/B07DNYQ3PX/ref=sr_1_9?crid=3T8FVRRMPFCIX&amp;keywords=two+wheeled+drive+robot+chassis&amp;qid=1674141374&amp;sprefix=two+wheeled+drive+robot+chas%2Caps%2C397&amp;sr=8-9">Two wheel drive robot chassis kit</a></td>
    </tr>
    <tr>
      <td>4</td>
      <td><a href="https://www.waveshare.com/wiki/Motor_Driver_HAT">Waveshare Motor Driver HAT</a></td>
    </tr>
    <tr>
      <td>5</td>
      <td>2 x <a href="https://s.click.aliexpress.com/e/_DBL19Mr">Motors with encoders and wire harness</a>
</td>
    </tr>
    <tr>
      <td>6</td>
      <td>MPU6050 board</td>
    </tr>
    <tr>
      <td>7</td>
      <td><a href="https://s.click.aliexpress.com/e/_DdPdRS7">RPlidar A1</a></td>
    </tr>
    <tr>
      <td>8</td>
      <td>Raspberry Pi camera v1.3</td>
    </tr>
    <tr>
      <td>9</td>
      <td><a href="https://www.thingiverse.com/thing:3970110">3D printed stands for RPlidar A1 and RPi 4</a></td>
    </tr>
    <tr>
      <td>10</td>
      <td>Mount for Raspberry Pi camera</td>
    </tr>
    <tr>
      <td>11</td>
      <td>Powerbank for RPi 4 (minimum output: 5V 3A)</td>
    </tr>
    <tr>
      <td>12</td>
      <td>Gamepad</td>
    </tr>
    <tr>
      <td>13</td>
      <td><a href="https://s.click.aliexpress.com/e/_DcgfT61">Mini Travel Router (optional)</a></td>
    </tr>
    <tr>
      <td>14</td>
      <td>3 Slot 18650 battery holder</td>
    </tr>
    <tr>
      <td>15</td>
      <td>3 x 18650 batteries to power Motor Driver HAT</td>
    </tr>
    <tr>
      <td>16</td>
      <td>Female to Female Dupont jumper cables</td>
    </tr>
    <tr>
      <td>17</td>
      <td>Spare wires</td>
    </tr>
    <tr>
      <td>18</td>
      <td>Logitech C270 webcam (optional)</td>
    </tr>
  </tbody>
</table>

<p>Some other tools or parts used in the project are as follows:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Tool/Part</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Soldering iron</td>
    </tr>
    <tr>
      <td>2</td>
      <td>3D printer</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Screwdriver set</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Double-sided tape</td>
    </tr>
  </tbody>
</table>

<p>Additionally, some nylon stand-offs were used in between the Raspberry Pi 4 and its 3D printed stand to make it easier to plug in the USB power cable from the powerbank.</p>

<h3 id="project-wiring-and-assembly">Project Wiring and Assembly</h3>

<p>The electronic components of the lidarbot are connected as shown below.</p>

<p align="center">
  &lt;img title='Wiring diagram' src=docs/images/lidarbot_wiring.png width="800"&gt;
</p>

<p>The MPU6050 board pins were connected to the Raspberry Pi 4 GPIO pins as follows for use with the I2C communication protocol:</p>

<table>
  <thead>
    <tr>
      <th>MPU6050 board</th>
      <th>GPIO.BOARD</th>
      <th>GPIO.BCM</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>VCC</td>
      <td>3.3V</td>
      <td>3.3V</td>
    </tr>
    <tr>
      <td>GND</td>
      <td>GND</td>
      <td>GND</td>
    </tr>
    <tr>
      <td>SCL</td>
      <td>05</td>
      <td>GPIO03</td>
    </tr>
    <tr>
      <td>SDA</td>
      <td>03</td>
      <td>GPIO02</td>
    </tr>
  </tbody>
</table>

<p>In a previous hardware version of lidarbot, photo interrupters were used with encoder disks with 20 slots (included in the robot chassis kit). However, this setup proved restrictive in yielding satisfactory results in navigation due to the low number of encoder ticks, which was only <strong>20</strong> for a <strong>360 degree</strong> turn of the motor. Therefore, the robot chassis kit motors were replaced with the ones below with built-in encoders — which have encoder ticks of approximately <strong>1084</strong>, calculated using this <a href="https://automaticaddison.com/calculate-pulses-per-revolution-for-a-dc-motor-with-encoder/">guide</a> from Automatic Addison.</p>

<p>These are the new motors used for lidarbot:</p>

<p align="center">
  &lt;img title='Motors' src=docs/images/motors.jpg width="400"&gt;
  &lt;img title='Motor pins' src=docs/images/motor_pins.jpg width="400"&gt;
</p>

<p>The pins on right and left motors are connected to the GPIO pins as follows:</p>

<table>
  <thead>
    <tr>
      <th>Right motor pins</th>
      <th>GPIO.BOARD</th>
      <th>GPIO.BCM</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>C1 (or Encoder A)</td>
      <td>22</td>
      <td>GPIO25</td>
    </tr>
    <tr>
      <td>C2 (or Encoder B)</td>
      <td>16</td>
      <td>GPIO23</td>
    </tr>
    <tr>
      <td>VCC</td>
      <td>5V</td>
      <td>5V</td>
    </tr>
    <tr>
      <td>GND</td>
      <td>GND</td>
      <td>GND</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Left motor pins</th>
      <th>GPIO.BOARD</th>
      <th>GPIO.BCM</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>C1 (or Encoder A)</td>
      <td>18</td>
      <td>GPIO24</td>
    </tr>
    <tr>
      <td>C2 (or Encoder B)</td>
      <td>15</td>
      <td>GPIO22</td>
    </tr>
    <tr>
      <td>VCC</td>
      <td>5V</td>
      <td>5V</td>
    </tr>
    <tr>
      <td>GND</td>
      <td>GND</td>
      <td>GND</td>
    </tr>
  </tbody>
</table>

<p>Where,</p>

<p>C1 - counts the respective motor pulses and</p>

<p>C2 - checks the direction of motion of the respective motor, that is, forward or reverse.</p>

<p align="center">
  &lt;img title='MPU6050' src=docs/images/mpu6050.jpg width="400"&gt;
  &lt;img title='Encoders' src=docs/images/encoders.jpg width="400"&gt;
</p>

<p>The screw terminal blocks on the Motor Driver HAT (<a href="https://www.waveshare.com/wiki/Motor_Driver_HAT">shown below</a>) are connected to the motor pins, M+ and M-, and battery holder cables as follows:</p>

<table>
  <thead>
    <tr>
      <th>Motor Driver HAT pin</th>
      <th>Connected to</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>MA1</td>
      <td>Red wire (Left motor)</td>
    </tr>
    <tr>
      <td>MA2</td>
      <td>Black wire (Left motor)</td>
    </tr>
    <tr>
      <td>GND</td>
      <td>Black wire (battery holder)</td>
    </tr>
    <tr>
      <td>VIN</td>
      <td>Red wire (battery holder)</td>
    </tr>
    <tr>
      <td>MB1</td>
      <td>Red wire(Right motor)</td>
    </tr>
    <tr>
      <td>MB2</td>
      <td>Black wire (Right motor)</td>
    </tr>
  </tbody>
</table>

<p align="center">
  &lt;img title='Motor Driver HAT' src=docs/images/Motor_Driver_HAT.png width="400"&gt;
</p>

<p>Solder the cables (provided) to the motors. Spare wires might be needed if the provided ones are too short to reach the Motor Driver Hat. Should the wheel(s) move in the direction opposite of what is expected, exchange the respective motor cables screwed into the terminal blocks.</p>

<p>Finally, the Raspberry Pi camera is connected to the ribbon slot on the Raspberry Pi 4 and the RPlidar A1 sensor is plugged into one of the RPi 4’s USB ports.</p>

<p align="center">
  &lt;img title='Top View' src=docs/images/top_view.jpg width="600"&gt;
</p>

<p align="center">
  &lt;img title='Side View' src=docs/images/side_view.jpg width="600"&gt;
</p>

<h2 id="--installation">🔌	 Installation</h2>

<h3 id="development-machine-setup">Development Machine setup</h3>

<p>A development machine or PC (laptop or desktop) is used to run more computationally intensive applications like Gazebo and Rviz. Additionally, the PC can be used to remotely control lidarbot.</p>

<p>Ubuntu 22.04 LTS is required for this project to work with ROS2 Humble. Ubuntu 22.04 LTS can be installed on a PC by following <a href="https://ubuntu.com/tutorials/install-ubuntu-desktop#1-overview">this guide</a>. The ROS2 Humble installation procedure is available <a href="https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debians.html">here</a>. The Desktop version is installed on the PC (which includes RViz):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-humble-desktop

</code></pre></div></div>

<p>Then install the ROS development tools:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-dev-tools

</code></pre></div></div>

<p>After the ROS2 Humble installation, create a workspace on the PC/development machine and clone this repository:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir -p ~/dev_ws/src
cd ~/dev_ws/src
git clone https://github.com/TheNoobInventor/lidarbot.git .

</code></pre></div></div>

<p>Next install all the <a href="https://docs.ros.org/en/humble/Tutorials/Intermediate/Rosdep.html">ROS dependencies</a> for the lidarbot packages:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/dev_ws
sudo rosdep init
rosdep update
rosdep install --from-paths src --ignore-src --rosdistro humble -r -y

</code></pre></div></div>

<p>Any ROS packages referred to subsequently are assumed to be installed using the <code class="language-plaintext highlighter-rouge">rosdep install</code> command above unless it is explicitly specified.</p>

<p>Two more dependencies need to be met before building the workspace: installing the WiringPi i2c library to use the Raspberry Pi 4 GPIO pins and dependencies for the MPU6050 RPi 4 C++ library.</p>

<h4 id="wiringpi">WiringPi</h4>

<p>To be able to utilize the GPIO pins of the Raspberry Pi 4 and program them using C/C++, an unofficial WiringPi was installed. This is required as hardware interfaces used by <code class="language-plaintext highlighter-rouge">ros2_control</code> are currently written only in C++ and low-level communication between Waveshare’s Motor Driver HAT and <code class="language-plaintext highlighter-rouge">ros2_control</code> is needed.</p>

<p>The library is installed by executing the following commands in a terminal:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/Downloads
git clone https://github.com/wbeebe/WiringPi.git
cd WiringPi/
./build

</code></pre></div></div>
<p>To check the current gpio version run this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gpio -v

</code></pre></div></div>

<p>The reference article for the WiringPi library can be found <a href="https://arcanesciencelab.wordpress.com/2020/10/29/getting-wiringpi-to-work-under-ubuntu-20-10-on-a-raspberry-pi-4b-w-4gb/">here</a>.</p>

<h4 id="mpu6050-library">MPU6050 library</h4>

<p>Alex Mous’ <a href="https://github.com/alex-mous/MPU6050-C-CPP-Library-for-Raspberry-Pi">C/C++ MPU6050 library</a> for Raspberry Pi 4, with modifications to incorporate quaternions, was used to setup the <code class="language-plaintext highlighter-rouge">ros2_control</code> IMU sensor broadcaster in the <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_bringup/"><code class="language-plaintext highlighter-rouge">lidarbot_bringup</code></a> package.</p>

<p>Recall that the MPU6050 module uses the I2C communication protocol, the I2C dependencies for using this library are installed with:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install libi2c-dev i2c-tools libi2c0

</code></pre></div></div>

<h4 id="sourcing-ros-installation">Sourcing ROS Installation</h4>

<p>To avoid manually sourcing the ROS installation (or underlay) in each terminal window opened, and if ROS2 Humble is the only distribution on the PC, the command to source the underlay is added to the respective shell configuration file.</p>

<p>Using bash:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo "source /opt/ros/humble/setup.bash" &gt;&gt; $HOME/.bashrc

</code></pre></div></div>

<p>Using zsh:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo "source /opt/ros/humble/setup.zsh" &gt;&gt; $HOME/.zshrc

</code></pre></div></div>

<p>Additionally, to avoid manually sourcing our workspace (or overlay), add the command to source the workspace to the respective configuration file.</p>

<p>Using bash:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo "source ~/dev_ws/install/setup.bash" &gt;&gt; $HOME/.bashrc
source $HOME/.bashrc

</code></pre></div></div>

<p>Using zsh:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo "source ~/dev_ws/install/setup.zsh" &gt;&gt; $HOME/.zshrc
source $HOME/.zshrc

</code></pre></div></div>

<p>The command: <code class="language-plaintext highlighter-rouge">source $HOME/.zshrc</code> sources the configuration file for use in the current terminal. However, this step is not necessary for terminal windows opened hereafter.</p>

<hr>

<p>Finally, navigate to the workspace directory and run the build command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/dev_ws
colcon build --symlink-install

</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">--symlink-install</code> argument uses symlinks instead of copies which saves you from having to rebuild every time you <a href="https://articulatedrobotics.xyz/ready-for-ros-5-packages/">tweak certain files</a>.</p>

<h4 id="gazebo-fortress">Gazebo Fortress</h4>

<p><em>UPDATE: Previously, <a href="https://classic.gazebosim.org/">Gazebo Classic</a> was used as the simulator for the project but Gazebo Classic has been <a href="https://gazebosim.org/docs/latest/gazebo_classic_migration/">deprecated</a>. The Gazebo Classic lidarbot package is still available here, <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_gazebo/"><code class="language-plaintext highlighter-rouge">lidarbot_gazebo</code></a>, however, you might encounter installation issues with Classic. It is recommended to <a href="https://gazebosim.org/docs/latest/gazebo_classic_migration/">migrate to Gazebo</a>, formerly called “Ignition”, and choosing the Fortress release for use with Ubuntu 22.04.</em></p>

<p>Gazebo Fortress is used as the simulator for lidarbot. It can be installed with ROS following the steps outlined in this <a href="https://gazebosim.org/docs/fortress/ros_installation/">guide</a>.</p>

<h4 id="display-lidarbot-model-in-rviz">Display lidarbot model in RViz</h4>

<p>The installed <a href="https://index.ros.org/p/xacro/github-ros-xacro/#humble">xacro</a> tool dependency is used to process the lidarbot URDF files and combine them into a single complete URDF file.</p>

<p>The <code class="language-plaintext highlighter-rouge">description_launch.py</code> launch file displays the model in RViz:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_description description_launch.py

</code></pre></div></div>

<p align="center">
  &lt;img src=docs/images/lidarbot_rviz.png width="800"&gt;
</p>

<p>The <a href="https://index.ros.org/p/joint_state_publisher_gui/github-ros-joint_state_publisher/#humble">joint_state_publisher_gui</a> package is used to bringup a window with sliders to move non-static links in RViz. Set the <code class="language-plaintext highlighter-rouge">use_gui</code> argument to <code class="language-plaintext highlighter-rouge">true</code> to turn the left and right wheels of lidarbot:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_description description_launch.py use_gui:=true

</code></pre></div></div>

<p align="center">
  &lt;img src=docs/images/joint_state_publisher_gui.gif width="800"&gt;
</p>

<p>The different arguments for the launch file, and their default values, can be viewed by adding <code class="language-plaintext highlighter-rouge">--show-args</code> at the end of launch command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_description description_launch.py --show-args

</code></pre></div></div>

<h4 id="teleoperation">Teleoperation</h4>

<p>A wireless gamepad, like the one shown below, is used to control lidarbot both in simulation and physically.</p>

<p align="center">
  &lt;img src=docs/images/wireless_gamepad.jpg width="600"&gt;
</p>

<p>The <a href="https://index.ros.org/p/joy_tester/#humble">joy_tester</a> package is used to test and map the gamepad (joystick) keys to control lidarbot. To use it, plug in the USB dongle in the PC, then run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run joy joy_node

</code></pre></div></div>

<p>And the following, in a new terminal:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run joy_tester test_joy

</code></pre></div></div>

<p>This opens a GUI window like the one shown below,</p>

<p align="center">
  &lt;img src=docs/images/joy_tester.png width="600"&gt;
</p>

<p>Click each button and move each stick of the gamepad to confirm that the actions are shown in GUI. The numbers correspond to the axis of the buttons and joystics (sticks) that will be used in mapping the movements of lidarbot.</p>

<p>The gamepad configuration for this project is in <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_teleop/config/joystick.yaml"><code class="language-plaintext highlighter-rouge">joystick.yaml</code></a>, where:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Button/stick</th>
      <th style="text-align: center">Button/stick axis</th>
      <th>Function</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">L1 button</td>
      <td style="text-align: center">4</td>
      <td>Hold this enable button to move robot at normal speed</td>
    </tr>
    <tr>
      <td style="text-align: center">Left stick</td>
      <td style="text-align: center">2</td>
      <td>Move stick forward or backward for linear motion of the robot</td>
    </tr>
    <tr>
      <td style="text-align: center">Right stick</td>
      <td style="text-align: center">1</td>
      <td>Move stick left or right for angular motion of the robot</td>
    </tr>
  </tbody>
</table>

<p>Setting <code class="language-plaintext highlighter-rouge">require_enable_button</code> to <code class="language-plaintext highlighter-rouge">true</code> ensures that L1 has to be held before using the sticks to move the robot and stops the robot once L1 is no longer pressed.</p>

<p>To enable turbo mode for faster speed, the <code class="language-plaintext highlighter-rouge">enable_turbo_button</code> option in the config file can be set to an unused button axis.</p>

<p>The <code class="language-plaintext highlighter-rouge">joy_node</code> parameter, <code class="language-plaintext highlighter-rouge">deadzone</code>, specifies the amount a joystick has to be moved for it to be <a href="https://github.com/ros-drivers/joystick_drivers/blob/ros2/joy/README.md">considered to be away from the center</a>. This parameter is normalized between -1 and 1. A value of <code class="language-plaintext highlighter-rouge">0.25</code> indicates that the joytsick has to be moved 25% of the way to the edge of an axis’s range before that axis will output a non-zero value.</p>

<p>The <code class="language-plaintext highlighter-rouge">deadzone</code> parameter should be tuned to suit the performance of user’s game controller.</p>

<h4 id="twist-mux">Twist mux</h4>

<p>The <a href="https://index.ros.org/p/twist_mux/github-ros-teleop-twist_mux/#humble"><code class="language-plaintext highlighter-rouge">twist_mux</code></a> package is used to multiplex several velocity command sources, used to move the robot with an unstamped <a href="http://docs.ros.org/en/api/geometry_msgs/html/msg/Twist.html">geometry_msgs::Twist</a> message, into a single one. These sources are assigned priority values to allow a velocity source to be used or disabled. In this project, the command velocity sources are from the joystick and navigation.</p>

<p>The <code class="language-plaintext highlighter-rouge">twist_mux</code> configuration file is in <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_teleop/config/twist_mux.yaml"><code class="language-plaintext highlighter-rouge">twist_mux.yaml</code></a>, and is used in the Gazebo and lidarbot bringup launch files, <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_gz/launch/gz_launch.py"><code class="language-plaintext highlighter-rouge">gz_launch.py</code></a> and <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_bringup/launch/lidarbot_bringup_launch.py"><code class="language-plaintext highlighter-rouge">lidarbot_bringup_launch.py</code></a> respectively.</p>

<p>It can be observed from the configuration file, that the joystick commmand velocity source has a higher priority, with an assigned value of <code class="language-plaintext highlighter-rouge">100</code>, compared to the navigation velocity source that is assigned a value of <code class="language-plaintext highlighter-rouge">10</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>twist_mux:
  ros__parameters:
    topics:
      navigation:
        topic   : cmd_vel
        timeout : 0.5
        priority: 10
      joystick:
        topic   : cmd_vel_joy
        timeout : 0.5
        priority: 100

</code></pre></div></div>

<h3 id="lidarbot-setup">Lidarbot setup</h3>

<p>To install ROS2 Humble on the Raspberry Pi, Ubuntu Server 22.04 was first flashed on a 32GB micro SD card, this process is detailed in this <a href="https://ubuntu.com/tutorials/how-to-install-ubuntu-on-your-raspberry-pi#1-overview">guide</a>.</p>

<p>After inserting the SD card and booting up the Pi, the environment for ROS2 Humble is setup by following this <a href="https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debians.html">guide</a>. Afterwards, ROS-Base (Bare Bones) and ROS development tools are installed:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install ros-humble-ros-base ros-dev-tools

</code></pre></div></div>

<p>Similarly, after the ROS2 Humble installation, create a workspace on the Raspberry Pi and clone this repository:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir -p ~/robot_ws/src
cd ~/robot_ws/src
git clone https://github.com/TheNoobInventor/lidarbot.git .

</code></pre></div></div>

<p>Install ROS dependencies:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/robot_ws
sudo rosdep init
rosdep update
rosdep install --from-paths src --ignore-src -r -y \ 
--skip-keys "rviz2 gazebo_ros2_control gazebo_ros_pkgs" --rosdistro humble

</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">rviz2</code> and the Gazebo related packages are skipped in the ROS dependency installation process as they are only run on the PC and not on the robot — the rosdep keys for the ROS2 Humble distribution are available <a href="https://github.com/ros/rosdistro/blob/master/humble/distribution.yaml">here</a>.</p>

<p><a href="https://github.com/thenoobinventor/lidarbot/tree/main/#wiringpi">WiringPi i2c library</a> and <a href="https://github.com/thenoobinventor/lidarbot/tree/main/#mpu6050-library">MPU6050 RPi 4 C++ library</a> are also installed before building the workspace — a <code class="language-plaintext highlighter-rouge">Downloads</code> directory will need to be created to clone the WiringPi files.</p>

<p>Likewise to avoid manually sourcing the underlay and overlay, the same steps employed in the <a href="https://github.com/thenoobinventor/lidarbot/tree/main/#sourcing-ros-installation">development machine setup</a> are followed but replacing <code class="language-plaintext highlighter-rouge">dev_ws</code> with <code class="language-plaintext highlighter-rouge">robot_ws</code> where necessary.</p>

<p>Afterwards, navigate to the workspace directory then run the build command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/robot_ws
colcon build --symlink-install

</code></pre></div></div>

<h4 id="motor-driver-hat">Motor Driver HAT</h4>

<p>Waveshare’s Motor Driver HAT was used to control the motors of lidarbot. The relevant files are found in the <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_base/include/lidarbot_base/"><code class="language-plaintext highlighter-rouge">include</code></a> and <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_base/src/"><code class="language-plaintext highlighter-rouge">src</code></a> directories of the <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_base/"><code class="language-plaintext highlighter-rouge">lidarbot_base</code></a> package, the file tree of these directories are as shown,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>├── CMakeLists.txt
├── include
│   └── lidarbot_base
│       ├── Debug.h
│       ├── DEV_Config.h
│       ├── lidarbot_hardware.hpp
│       ├── MotorDriver.h
│       ├── motor_encoder.h
│       ├── PCA9685.h
│       └── wheel.hpp
├── lidarbot_hardware.xml
├── package.xml
└── src
    ├── DEV_Config.c
    ├── lidarbot_hardware.cpp
    ├── motor_checks_client.cpp
    ├── motor_checks_server.cpp
    ├── MotorDriver.c
    ├── motor_encoder.c
    ├── PCA9685.c
    └── wheel.cpp

</code></pre></div></div>

<p>The following table summarizes the package files specifying those that were made <a href="https://www.waveshare.com/wiki/Motor_Driver_HAT">available by Waveshare</a>, the newly added ones and the functions they serve.</p>

<table>
  <thead>
    <tr>
      <th>File(s)</th>
      <th>New</th>
      <th>Modified</th>
      <th>Function</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Debug.h</code></td>
      <td>No</td>
      <td>No</td>
      <td>Output debug information with <code class="language-plaintext highlighter-rouge">printf</code>.</td>
    </tr>
    <tr>
      <td>
<code class="language-plaintext highlighter-rouge">DEV_Config.h</code>, <code class="language-plaintext highlighter-rouge">DEV_Config.c</code>
</td>
      <td>No</td>
      <td>Yes</td>
      <td>Configure underlying device interfaces and protocols.</td>
    </tr>
    <tr>
      <td>
<code class="language-plaintext highlighter-rouge">lidarbot_hardware.hpp</code>, <code class="language-plaintext highlighter-rouge">lidarbot_hardware.cpp</code>
</td>
      <td>Yes</td>
      <td>No</td>
      <td>Configure the WaveShare Motor Driver HAT system hardware component. It reads the motor encoder values to calculate the wheel positions and velocities. It also sends commands to the drive the motors of each wheel proportional to the velocity commands received from the <code class="language-plaintext highlighter-rouge">ros2_control</code> differential driver controller.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">motor_checks_client.cpp</code></td>
      <td>Yes</td>
      <td>No</td>
      <td>Request motor tests to confirm motor connections and the motor operation.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">motor_checks_server.cpp</code></td>
      <td>Yes</td>
      <td>No</td>
      <td>Run requested motor tests.</td>
    </tr>
    <tr>
      <td>
<code class="language-plaintext highlighter-rouge">MotorDriver.h</code>, <code class="language-plaintext highlighter-rouge">MotorDriver.c</code>
</td>
      <td>No</td>
      <td>Yes</td>
      <td>Program the TB6612FNG motor Integrated Circuit (IC) to drive the motors.</td>
    </tr>
    <tr>
      <td>
<code class="language-plaintext highlighter-rouge">motor_encoder.h</code>, <code class="language-plaintext highlighter-rouge">motor_encoder.c</code>
</td>
      <td>Yes</td>
      <td>No</td>
      <td>Calculate encoder ticks and set the speed each motor should run at according to the commands received from the hardware component.</td>
    </tr>
    <tr>
      <td>
<code class="language-plaintext highlighter-rouge">PCA9685.h</code>, <code class="language-plaintext highlighter-rouge">PCA9685.c</code>
</td>
      <td>No</td>
      <td>No</td>
      <td>Program the PCA9685 chip to adjust the motor speed using Pulse Width Modulation (PWM).</td>
    </tr>
    <tr>
      <td>
<code class="language-plaintext highlighter-rouge">wheel.hpp</code>, <code class="language-plaintext highlighter-rouge">wheel.cpp</code>
</td>
      <td>Yes</td>
      <td>No</td>
      <td>Configure motor wheel parameters.</td>
    </tr>
  </tbody>
</table>

<p>The hierarchy of motor control is shown in the image below.</p>

<p align="center">
  &lt;img src=docs/images/motor_control_hierarchy.jpg width="600"&gt;
</p>

<p>The main reasons for modifying the Waveshare files was to enable the use of the WiringPi library and also to find a workaround to determining the motor direction of rotation — this was made relatively easier since the motor encoders used here have hall effect sensors affixed to them as shown below.</p>

<p align="center">
  &lt;img src=docs/images/hall_effect_sensors.png width="800"&gt;
</p>

<p>Hall effect sensors in motor encoders detect changes in the magnetic field associated with the motor’s rotation. These changes can be used by the motor encoder to determine the position of the motor. <a href="https://automaticaddison.com/calculate-pulses-per-revolution-for-a-dc-motor-with-encoder/">As the motor rotates</a>, it generates alternating electrical signals of high and low voltage, and each time the signal goes from from low high (that is, it is rising), that counts as a single <strong><em>pulse</em></strong>. The image below, from this <a href="https://automaticaddison.com/calculate-pulses-per-revolution-for-a-dc-motor-with-encoder/">guide</a> from Automatic Addison, visualizes this.</p>

<p align="center">
  &lt;img src=docs/images/time_interval.jpg width="600"&gt;
</p>

<p>The encoder pulse, sometimes referred to as a <strong><em>tick</em></strong>, for a 360 degree turn of the motor is used as the wheel odometry data of the robot. This data will be used with the MPU6050 IMU sensor data using an Extended Kalman Filter with the <a href="https://github.com/thenoobinventor/lidarbot/tree/main/#robot-localization">robot_localization</a> package to provide more accurate robot odometry estimates. Recall that the encoder ticks for the motors used here is <strong>1084</strong>, for a 360 degree turn of the motor.</p>

<p>The library dependencies for using the Motor Driver HAT were met after installing the MPU6050 library.</p>

<h4 id="raspberry-pi-camera">Raspberry Pi Camera</h4>

<p>The following packages are installed to use the Raspberry Pi Camera v1.3:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install libraspberrypi-bin v4l-utils raspi-config

</code></pre></div></div>

<p>Support for the RPi camera v1.3 will need to be enabled by navigating the menu options after running the following command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo raspi-config

</code></pre></div></div>
<p align="center">
  &lt;img src=docs/images/raspi_config_1.png width="400"&gt;
  &lt;img src=docs/images/raspi_config_2.png width="400"&gt;
</p>

<p align="center">
  &lt;img src=docs/images/raspi_config_3.png width="400"&gt;
  &lt;img src=docs/images/raspi_config_4.png width="400"&gt;
</p>

<p>Confirm the RPi camera is connected by running this command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vcgencmd get_camera

</code></pre></div></div>

<p>This should output the following result:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>supported=1 detected=1, libcamera interfaces=0

</code></pre></div></div>

<h4 id="mpu6050-offsets">MPU6050 offsets</h4>

<p>Prior to using the <a href="https://index.ros.org/p/imu_sensor_broadcaster/github-ros-controls-ros2_controllers/#humble">IMU sensor broadcaster</a>, the MPU6050 module needs to be calibrated to filter out its sensor noise/offsets. This is done in the following steps:</p>

<ul>
  <li>Place lidarbot on a flat and level surface and unplug the RPlidar.</li>
  <li>Generate the MPU6050 offsets. A Cpp executable is created in the CMakeLists.txt file of the <code class="language-plaintext highlighter-rouge">lidarbot_bringup</code> package before generating the MPU6050 offsets. This section of the <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_bringup/CMakeLists.txt">CMakeLists.txt</a> file is shown below:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  # Create Cpp executable
  add_executable(mpu6050_offsets src/mpu6050_lib.cpp src/mpu6050_offsets.cpp)

  # Install Cpp executables
  install(TARGETS
    mpu6050_offsets
    DESTINATION lib/${PROJECT_NAME}
  )
  
</code></pre></div></div>

<p>Build the <code class="language-plaintext highlighter-rouge">lidarbot_bringup</code> package:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  colcon build --symlink-install --packages-select lidarbot_bringup
  
</code></pre></div></div>

<p>Run the executable:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ros2 run lidarbot_bringup mpu6050_offsets
  
</code></pre></div></div>

<p>Which outputs something like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Please keep the MPU6050 module level and still. This could take a few minutes.

  Calculating offsets ...

  Gyroscope offsets:
  ------------------
  X: -104.689
  Y: 651.005
  Z: -158.596

  Accelerometer offsets:
  ----------------------
  X: -13408.8
  Y: 2742.39
  Z: -14648.9

  Include the obtained offsets in the respective macros of the mpu6050_lib.h file.
  
</code></pre></div></div>

<ul>
  <li>Calibrate the MPU6050 module. Substitute the generated offsets into this section of the <a href="https://github.com/thenoobinventor/lidarbot/tree/main/./lidarbot_bringup/include/lidarbot_bringup/mpu6050_lib.h"><code class="language-plaintext highlighter-rouge">mpu6050_lib.h</code></a> file:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  //Offsets - supply your own here (calculate offsets with getOffsets function)
  //    Gyroscope
  #define G_OFF_X -105
  #define G_OFF_Y 651
  #define G_OFF_Z -159
  //     Accelerometer
  #define A_OFF_X -13409 
  #define A_OFF_Y 2742 
  #define A_OFF_Z -14649
  
</code></pre></div></div>
<ul>
  <li>Afterwards, the <code class="language-plaintext highlighter-rouge">lidarbot_bringup</code> package is rebuilt to reflect any changes made to the <code class="language-plaintext highlighter-rouge">mpu6050_lib.h</code> file.</li>
</ul>

<p>The MPU6050 module is set to its most sensitive gyroscope and accelerometer ranges, which can be confirmed (or changed) at the top of the <code class="language-plaintext highlighter-rouge">mpu6050_lib.h</code> file.</p>

<h2 id="network-configuration">Network Configuration</h2>

<p>Both the development machine and lidarbot need to be connected to the same local network as a precursor to bidirectional communication between the two systems. This <a href="https://roboticsbackend.com/ros2-multiple-machines-including-raspberry-pi/">guide</a> by Robotics Backend was used in configuring the network communication.</p>

<p>To ensure communication between the dev machine and lidarbot, firstly, the firewall on the development machine had to be disabled (the firewall on the Ubuntu server was disabled by default):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo ufw disable

</code></pre></div></div>

<p>The next step is to export <code class="language-plaintext highlighter-rouge">ROS_DOMAIN_ID</code> number, a number between 0 (by default) and 101, to the shell configurations of both systems:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo "export ROS_DOMAIN_ID=31" &gt;&gt; ~/.zshrc

</code></pre></div></div>

<p>This step is necessary particularly if there are other robots and development machines on the same local network. This <a href="https://www.youtube.com/watch?v=qSjNQC2AT_4">YouTube video</a> and <a href="https://docs.ros.org/en/humble/Concepts/Intermediate/About-Domain-ID.html">article</a> go into more detail about <code class="language-plaintext highlighter-rouge">ROS_DOMAIN_ID</code>.</p>

<p>Then source the shell configuration file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>source $HOME/.zshrc

</code></pre></div></div>

<p>Both systems might need to be rebooted to effect these changes.</p>

<p>A static IP address was assigned to lidarbot on the router for easy discoverability on the network. Furthermore, it is advisable to use a router that supports at least the WiFi 5 wireless standard to avoid excessive data lag on RViz and terminal crashes when recording a <a href="https://index.ros.org/r/rosbag2/github-ros2-rosbag2/#humble">ros2bag</a> for instance; in relation to ros2bags, changing the default data storage format to <a href="https://foxglove.dev/blog/announcing-the-mcap-storage-plugin-for-ros2">MCAP</a> should <a href="https://adrian-website.mcap.pages.dev/guides/benchmarks/rosbag2-storage-plugins">improve read and write performance</a>.</p>

<p>A dedicated network travel router, following this setup by <a href="https://articulatedrobotics.xyz/tutorials/ready-for-ros/networking#dedicated-network">Articulated Robotics</a> was used in this project to establish a reliable connection between the development machine and lidarbot.</p>

<p>Additional network troubleshooting information can be found <a href="https://docs.ros.org/en/humble/How-To-Guides/Installation-Troubleshooting.html">here</a>.</p>

<h2 id="ros2-control-framework">ros2 control Framework</h2>

<p align="center">
  &lt;img title='ros2 control architecture' src=docs/images/ros2_control_arch.png width="800"&gt;
</p>

<p>Image adapted from <a href="https://vimeo.com/649651707">Denis Štogl</a> (CC-BY)</p>

<h3 id="differential-drive-controller">Differential Drive Controller</h3>

<h3 id="joint-state-broadcaster">Joint State Broadcaster</h3>

<h3 id="imu-sensor-broadcaster">IMU Sensor Broadcaster</h3>

<p>TODO:
Quick difference between variance and covariances</p>

<p>IMU covariances required in <code class="language-plaintext highlighter-rouge">controllers.yaml</code></p>

<p>Generate covariances for MPU6050 module:</p>

<p>```ros2 run lidarbot_bringup mpu6050_covariances</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Executable output:


</code></pre></div></div>
<p>Please keep the MPU6050 module level and still.
Reading and appending 500 sensor data points to respective arrays, it may take a while …</p>

<p>Calculating variances …</p>

<p>static_covariance_orientation: [5.46409e-06, 0.0, 0.0, 5.72254e-06, 0.0, 0.0, 4.22433e-07, 0.0, 0.0]
static_covariance_angular_velocity: [2.01015e-06, 0.0, 0.0, 1.9657e-06, 0.0, 0.0, 8.13776e-07, 0.0, 0.0]
static_covariance_linear_acceleration: [0.000632951, 0.0, 0.0, 0.000801987, 0.0, 0.0, 0.00117363, 0.0, 0.0]</p>

<p>Paste covariance arrays in the imu_broadcaster ros__parameters section in lidarbot_bringup/config/controllers.yaml.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
## Test Drive

### Gazebo

### Lidarbot

### Motor Connection Checks

A [ROS service](https://foxglove.dev/blog/creating-ros2-services) was written to test the connections of the motor(s) and by extension to know if the motor is faulty. Before running the tests, ensure that the 18650 batteries are charged, then prop the robot on a box or similar to prevent it falling off an edge for instance. 

Run the [client node](./lidarbot_base/src/motor_checks_client.cpp) to request the motor checks:


</code></pre></div></div>
<p>ros2 run lidarbot_base motor_checks_client</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Then run the [server node](./lidarbot_base/src/motor_checks_server.cpp) to check the motors:


</code></pre></div></div>
<p>ros2 run lidarbot_base motor_checks_server</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>These are the steps followed by the server node:
- The server initializes the left and right motor pulse counts to 0. 
- It then runs each motor in the forward direction at 50% speed for 2 seconds. The terminal output is shown below:
  
</code></pre></div></div>
<p>[INFO] [1699988646.067449176] [rclcpp]: Ready to check motors
  [INFO] [1699988648.190017279] [rclcpp]: Received request to check motors…
  [INFO] [1699988648.190117076] [rclcpp]: Checking left motor…
  [INFO] [1699988652.196330587] [rclcpp]: Checking right motor…
  [INFO] [1699988656.202619229] [rclcpp]: Sending back response…</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- The current pulse counts for each motor are checked to confirm that the pulse is above 0.
- If both motors have their pulse counts above 0, a success message is sent to the client: 

  
</code></pre></div></div>
<p>[INFO] [1699991078.643028687] [rclcpp]: service not available, waiting again…
  [INFO] [1699991087.233641544] [rclcpp]: The checks were successful!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- If one or both of the motors do not have pulse counts above zero a warning message is sent from the server to the client and identifies the faulty motor(s). At the moment, however, the message sent to the client does not identify the faulty motor but instead outputs this message when there is an error:

  
</code></pre></div></div>
<p>terminate called after throwing an instance of ‘std::future_error’
    what():  std::future_error: No associated state
  [ros2run]: Aborted</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  This section will be updated once the issue has been fixed.

&lt;p align='center'&gt;
    &lt;img src=docs/images/motor_connection_tests.gif width="400"&gt;
&lt;/p&gt;


If a motor moves backward instead of forward, swap the cables for the specific motor to change the direction.

After it is confirmed that both motors moved forward, lidarbot can be driven around with the gamepad (with the joystick and button configuration presented [here](#teleoperation)) by running this command:


</code></pre></div></div>
<p>ros2 launch lidarbot_bringup lidarbot_bringup_launch.py</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
**Note:** There are some warning and error messages outputted to the terminal related to the camera. These are mostly related to calibrating the camera and can be ignored. 


### Robot localization

TODO:

ekf.yaml


</code></pre></div></div>
<p>ros2 launch lidarbot_bringup lidarbot_bringup_launch.py use_robot_localization:=false</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Mapping

TODO: Brief overview of slam_toolbox

### Gazebo

Before starting the mapping operation, ensure that the `mode` key, under `ROS Parameters` in the [`mapper_params_online_async.yaml`](./lidarbot_slam/config/mapper_params_online_async.yaml) file, is set to `mapping` and also that the `map_file_name`, `map_start_pose` and the `map_start_at_dock` keys are commented out:


</code></pre></div></div>
<h1 id="ros-parameters">ROS Parameters</h1>
<p>odom_frame: odom
map_frame: map
base_frame: base_footprint
scan_topic: /scan
use_map_saver: true
mode: mapping #localization</p>

<h1 id="if-youd-like-to-immediately-start-continuing-a-map-at-a-given-pose">if you’d like to immediately start continuing a map at a given pose</h1>
<h1 id="or-at-the-dock-but-they-are-mutually-exclusive-if-pose-is-given">or at the dock, but they are mutually exclusive, if pose is given</h1>
<h1 id="will-use-pose">will use pose</h1>
<p>#map_file_name: /path/to/map_file
#map_start_pose: [0.0, 0.0, 0.0]
#map_start_at_dock: true</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
To start mapping in a simulation environment, launch the Gazebo simulation of lidarbot on the development machine (which includes the joystick node for teleoperation):


</code></pre></div></div>
<p>ros2 launch lidarbot_gazebo gazebo_launch.py</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
In a separate terminal, navigate to the workspace directory, `lidarbot_ws` for example, and launch `slam_toolbox` with the [`online_async_launch.py`](./lidarbot_slam/launch/online_async_launch.py) file:


</code></pre></div></div>
<p>ros2 launch lidarbot_slam online_async_launch.py <br>
slam_params_file:=src/lidarbot_slam/config/mapper_params_online_async.yaml <br>
use_sim_time:=true</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
***Note**: The online asynchronous mode in `slam_toolbox` uses live and the most recent scan data to create a map, to avoid any lags therefore, some scans can be skipped.*

In another terminal, navigate to the workspace directory again and start `rviz2` with the `lidarbot_slam.rviz` config file:


</code></pre></div></div>
<p>rviz2 -d src/lidarbot_slam/rviz/lidarbot_slam.rviz</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Drive around the obstacles to generate a map of the environment:

&lt;p align='center'&gt;
  &lt;img src=docs/images/gazebo_mapping.gif width="800"&gt;
&lt;/p&gt;

After generating the map, in the **SlamToolboxPlugin** in RViz, type in a name for the map in the field beside the **Save Map** button, then click on it. 

&lt;p align='center'&gt;
    &lt;img src=docs/images/save_map.png width="400"&gt;
&lt;/p&gt;

The saved map can be found in the workspace directory and will be used by [Nav2 stack](https://navigation.ros.org/) for navigation. 

### Lidarbot

Run the following command on lidarbot to brings up the camera, lidar and joystick:


</code></pre></div></div>
<p>ros2 launch lidarbot_bringup lidarbot_bringup_launch.py</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
First ensure that the [`mapper_params_online_async.yaml`](./lidarbot_slam/config/mapper_params_online_async.yaml) file is configured for mapping (refer to the previous subsection). Then open a new terminal, on the development machine, navigate to the workspace directory and launch `slam_toolbox` with the `use_sim_time` parameter set to `false`:


</code></pre></div></div>
<p>ros2 launch lidarbot_slam online_async_launch.py <br>
slam_params_file:=src/lidarbot_slam/config/mapper_params_online_async.yaml <br>
use_sim_time:=false</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>In a new terminal, also on the development machine, navigate to the workspace directory again and start `rviz2`:


</code></pre></div></div>
<p>rviz2 -d src/lidarbot_slam/rviz/lidarbot_slam.rviz</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Drive around the environment to generate a map:

&lt;p align='center'&gt;
    &lt;img src=docs/images/real_mapping.gif width="600"&gt;
&lt;/p&gt;

Then save the generated map.

## Aruco package

### Generate ArUco marker

The `opencv-contrib-python` module needs to be installed and not `opencv-python`: 


</code></pre></div></div>
<p>pip uninstall opencv-python
pip install opencv-contrib-python</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The computer might need to be restarted for the install to be effected.

Next navigate to the path in the `lidarbot_aruco` directory:


</code></pre></div></div>
<p>cd ~/dev_ws/lidarbot_aruco/lidarbot_aruco</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Then run the following script:


```python
python generate_aruco_marker.py --id 24 --type DICT_4X4_50 \
	--output ../tags/DICT_4X4_50_id24.png

</code></pre></div></div>

<p>The script arguments:</p>

<p><code class="language-plaintext highlighter-rouge">--id</code> : The unique identifier of the ArUco tag — this is a required argument and ID must be a valid ID in the ArUco dictionary used to generate the tag</p>

<p><code class="language-plaintext highlighter-rouge">--type</code> : The name of the ArUco dictionary used to generate the tag; the default type is <code class="language-plaintext highlighter-rouge">DICT_4X4_50</code></p>

<p><code class="language-plaintext highlighter-rouge">--output</code> : The path to the output image where the generated ArUco tag will be saved; this is a required argument</p>

<p>Running the previous script opens a window with the generated ArUco tag displayed,</p>

<p align="center">
    &lt;img src=docs/images/generated_aruco_marker.png width="400"&gt;
</p>

<p>To close the window, press the <strong>q</strong> key on the keyboard on the opened window.</p>

<h3 id="webcam-calibration">Webcam calibration</h3>

<p>The Logitech webcam C270 HD is used in this project and needs to be calibrated.</p>

<p>First install the <a href="https://index.ros.org/r/usb_cam/#humble">ROS usb camera driver</a> package:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>ros-humble-usb-cam

</code></pre></div></div>

<p>Camera calibration was done following the steps outlined this <a href="https://automaticaddison.com/how-to-perform-pose-estimation-using-an-aruco-marker/">guide</a></p>

<p>Execute the command below to run the usb-cam driver node:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run usb_cam usb_cam_node_exe <span class="nt">--ros-args</span> <span class="nt">--params-file</span> ~/dev_ws/src/lidarbot_aruco/config/params_1.yaml

</code></pre></div></div>

<h3 id="aruco-trajectory-visualizer-node">Aruco trajectory visualizer node</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run lidarbot_aruco aruco_trajectory_visualizer_node

</code></pre></div></div>

<p>Launch file to bringup the usb driver and aruco trajectory visualizer node:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_aruco trajectory_visualizer_launch.py

</code></pre></div></div>
<p align="center">
    &lt;img src=docs/images/lidarbot_aruco_marker.png width="600"&gt;
</p>

<p align="center">
    &lt;img src=docs/images/lidarbot_aruco_test.gif width="800"&gt;
</p>

<h2 id="navigation">Navigation</h2>

<p align="center">
    &lt;img src=docs/images/nav2_topics.png width="800"&gt;
</p>

<p>Image adapted from <a href="https://github.com/linorobot/linorobot2">Linorobot2</a></p>

<p>TODO: Brief overview</p>

<h3 id="gazebo">Gazebo</h3>

<p>Nav2’s <code class="language-plaintext highlighter-rouge">amcl</code> package is used for localization with the map generated from <code class="language-plaintext highlighter-rouge">slam_toolbox</code>.</p>

<p>Bring up lidarbot in Gazebo Fortress:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_gz gz_launch.py

</code></pre></div></div>

<p>Bring up lidarbot in Gazebo classic:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_gazebo gazebo_launch.py

</code></pre></div></div>

<p>Navigate to the development workspace and open the following terminals.</p>

<p>To open <code class="language-plaintext highlighter-rouge">rviz</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rviz2 -d src/lidarbot_navigation/rviz/lidarbot_nav.rviz

</code></pre></div></div>

<p>To localize lidarbot with <code class="language-plaintext highlighter-rouge">amcl</code> in the map generated by <code class="language-plaintext highlighter-rouge">slam_toolbox</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_navigation localization_launch.py \
map:=./src/lidarbot_navigation/maps/sim_map.yaml use_sim_time:=true

</code></pre></div></div>

<p>To launch navigation:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_navigation navigation_launch.py use_sim_time:=true \
map_subscribe_transient_local:=true

</code></pre></div></div>

<p>In <code class="language-plaintext highlighter-rouge">rviz</code>, set the initial pose using the <code class="language-plaintext highlighter-rouge">2D Pose Estimate</code> button in the toolbar so that lidarbot is aligned correctly both in <code class="language-plaintext highlighter-rouge">rviz</code> and Gazebo Classic. Afterwards, click on the <code class="language-plaintext highlighter-rouge">2D Goal Pose</code> and choose a place on the map for lidarbot to navigate to:</p>

<p align="center">
    &lt;img src=docs/images/gazebo_navigation.gif width="800"&gt;
</p>

<p>TODO: add gif of navigation in Gazebo Fortress</p>

<p>Note about the pixels not part of the map</p>

<p>The blue arrow shows unfiltered odometry, while green shows the filtered odometry.</p>

<h3 id="lidarbot-1">Lidarbot</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_bringup lidarbot_bringup_launch.py

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rviz2 -d src/lidarbot_navigation/rviz/lidarbot_nav.rviz

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_navigation localization_launch.py map:=./real_map.yaml use_sim_time:=false

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch lidarbot_navigation navigation_launch.py use_sim_time:=false \
map_subscribe_transient_local:=true

</code></pre></div></div>

<p>Using navigation goal button from nav2 plugin</p>

<h2 id="acknowledgment">Acknowledgment</h2>

<ul>
  <li><a href="https://articulatedrobotics.xyz/">Articulated Robotics</a></li>
  <li><a href="https://automaticaddison.com/">Automatic Addison</a></li>
  <li><a href="https://github.com/ros-mobile-robots/diffbot">Diffbot</a></li>
  <li><a href="https://github.com/linorobot/linorobot2">Linorobot2</a></li>
  <li><a href="https://github.com/mangdangroboticsclub/mini_pupper_ros">Mini pupper</a></li>
  <li><a href="https://pyimagesearch.com/">Pyimagesearch</a></li>
  <li><a href="https://roboticsbackend.com/">Robotics Backend</a></li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lidarbot">lidarbot</a> <small>repository</small></h3>
        <span class="label label-default">raspberry-pi</span> <span class="label label-default">navigation</span> <span class="label label-default">imu</span> <span class="label label-default">lidar</span> <span class="label label-default">slam</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">pca9685</span> <span class="label label-default">raspberry-pi-camera</span> <span class="label label-default">ros2</span> <span class="label label-default">motor-driver</span> <span class="label label-default">mpu6050</span> <span class="label label-default">rplidar</span> <span class="label label-default">hardware-interface</span> <span class="label label-default">differential-drive-robot</span> <span class="label label-default">diy-robot</span> <span class="label label-default">rviz2</span> <span class="label label-default">gazebosim</span> <span class="label label-default">ros2-control</span> <span class="label label-default">ros2-humble</span> <span class="label label-default">imu-sensor-broadcaster</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-thenoobinventor-lidarbot
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-thenoobinventor-lidarbot" role="menuitem" tabindex="-1" href="/r/lidarbot/github-thenoobinventor-lidarbot" data="github-thenoobinventor-lidarbot">
                    <span class="glyphicon glyphicon-star"></span>
                    github-thenoobinventor-lidarbot
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lidarbot">lidarbot</a> <small>repository</small></h3>
        <span class="label label-default">raspberry-pi</span> <span class="label label-default">navigation</span> <span class="label label-default">imu</span> <span class="label label-default">lidar</span> <span class="label label-default">slam</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">pca9685</span> <span class="label label-default">raspberry-pi-camera</span> <span class="label label-default">ros2</span> <span class="label label-default">motor-driver</span> <span class="label label-default">mpu6050</span> <span class="label label-default">rplidar</span> <span class="label label-default">hardware-interface</span> <span class="label label-default">differential-drive-robot</span> <span class="label label-default">diy-robot</span> <span class="label label-default">rviz2</span> <span class="label label-default">gazebosim</span> <span class="label label-default">ros2-control</span> <span class="label label-default">ros2-humble</span> <span class="label label-default">imu-sensor-broadcaster</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-thenoobinventor-lidarbot
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-thenoobinventor-lidarbot" role="menuitem" tabindex="-1" href="/r/lidarbot/github-thenoobinventor-lidarbot" data="github-thenoobinventor-lidarbot">
                    <span class="glyphicon glyphicon-star"></span>
                    github-thenoobinventor-lidarbot
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lidarbot">lidarbot</a> <small>repository</small></h3>
        <span class="label label-default">raspberry-pi</span> <span class="label label-default">navigation</span> <span class="label label-default">imu</span> <span class="label label-default">lidar</span> <span class="label label-default">slam</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">pca9685</span> <span class="label label-default">raspberry-pi-camera</span> <span class="label label-default">ros2</span> <span class="label label-default">motor-driver</span> <span class="label label-default">mpu6050</span> <span class="label label-default">rplidar</span> <span class="label label-default">hardware-interface</span> <span class="label label-default">differential-drive-robot</span> <span class="label label-default">diy-robot</span> <span class="label label-default">rviz2</span> <span class="label label-default">gazebosim</span> <span class="label label-default">ros2-control</span> <span class="label label-default">ros2-humble</span> <span class="label label-default">imu-sensor-broadcaster</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-thenoobinventor-lidarbot
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-thenoobinventor-lidarbot" role="menuitem" tabindex="-1" href="/r/lidarbot/github-thenoobinventor-lidarbot" data="github-thenoobinventor-lidarbot">
                    <span class="glyphicon glyphicon-star"></span>
                    github-thenoobinventor-lidarbot
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/lidarbot">lidarbot</a> <small>repository</small></h3>
        <span class="label label-default">raspberry-pi</span> <span class="label label-default">navigation</span> <span class="label label-default">imu</span> <span class="label label-default">lidar</span> <span class="label label-default">slam</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">pca9685</span> <span class="label label-default">raspberry-pi-camera</span> <span class="label label-default">ros2</span> <span class="label label-default">motor-driver</span> <span class="label label-default">mpu6050</span> <span class="label label-default">rplidar</span> <span class="label label-default">hardware-interface</span> <span class="label label-default">differential-drive-robot</span> <span class="label label-default">diy-robot</span> <span class="label label-default">rviz2</span> <span class="label label-default">gazebosim</span> <span class="label label-default">ros2-control</span> <span class="label label-default">ros2-humble</span> <span class="label label-default">imu-sensor-broadcaster</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-thenoobinventor-lidarbot
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-thenoobinventor-lidarbot" role="menuitem" tabindex="-1" href="/r/lidarbot/github-thenoobinventor-lidarbot" data="github-thenoobinventor-lidarbot">
                    <span class="glyphicon glyphicon-star"></span>
                    github-thenoobinventor-lidarbot
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/thenoobinventor/lidarbot.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
