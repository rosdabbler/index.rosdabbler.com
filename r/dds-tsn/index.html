<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/dds-tsn/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">dds-tsn</li>
        <!--<li class="active">dds-tsn</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-primary" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/dds-tsn">dds-tsn</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nxp-dds-tsn
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nxp-dds-tsn" role="menuitem" tabindex="-1" href="/r/dds-tsn/github-nxp-dds-tsn" data="github-nxp-dds-tsn">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nxp-dds-tsn
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/dds-tsn">dds-tsn</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nxp-dds-tsn
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nxp-dds-tsn" role="menuitem" tabindex="-1" href="/r/dds-tsn/github-nxp-dds-tsn" data="github-nxp-dds-tsn">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nxp-dds-tsn
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/dds-tsn">dds-tsn</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nxp-dds-tsn
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nxp-dds-tsn" role="menuitem" tabindex="-1" href="/r/dds-tsn/github-nxp-dds-tsn" data="github-nxp-dds-tsn">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nxp-dds-tsn
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/dds-tsn">dds-tsn</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nxp-dds-tsn
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nxp-dds-tsn" role="menuitem" tabindex="-1" href="/r/dds-tsn/github-nxp-dds-tsn" data="github-nxp-dds-tsn">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nxp-dds-tsn
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/dds-tsn">dds-tsn</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/dds_tsn_demo">dds_tsn_demo</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nxp-dds-tsn
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nxp-dds-tsn" role="menuitem" tabindex="-1" href="/r/dds-tsn/github-nxp-dds-tsn" data="github-nxp-dds-tsn">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nxp-dds-tsn
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Example project of DDS-TSN integration</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/nxp/dds-tsn.git">https://github.com/nxp/dds-tsn.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2023-05-03
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNKNOWN
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/dds-tsn/#github-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/dds-tsn/#github-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/dds-tsn/#github-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/dds_tsn_demo">dds_tsn_demo</a></td>
                    <td>0.0.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="dds-tsn-integration-demo">DDS-TSN integration demo</h1>
<p>This repository demonstrates basic advantages of integrating the <a href="https://en.wikipedia.org/wiki/Data_Distribution_Service">Data Distribution Service (DDS)</a> and <a href="https://en.wikipedia.org/wiki/Time-Sensitive_Networking">Time-Sensitive Networking (TSN) Ethernet</a>. The demo is based on the <a href="http://gazebosim.org/tutorials?tut=ros2_installing&amp;cat=connect_ros#TestingGazeboandROS2integration">Gazebo plugin <code class="language-plaintext highlighter-rouge">gazebo_ros_diff_drive</code></a>, modeling a differential drive vehicle in the <a href="https://www.ros.org/">Robot Operating System (ROS) 2</a> environment, as well as on the GNU/Linux <a href="https://tsn.readthedocs.io/vlan.html">VLAN</a> and <a href="https://tldp.org/HOWTO/Traffic-Control-HOWTO/intro.html">traffic control</a> framework.</p>

<p>The structure of this repository is as follows:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">dds_tsn_demo</code>: the ROS2 application implementation for the demo;</li>
  <li>
<code class="language-plaintext highlighter-rouge">scripts</code>: script to bring up VLAN interface with QoS configuration on Linux;</li>
  <li>
<code class="language-plaintext highlighter-rouge">tools</code>: a traffic analysis framework and tools to analyze <code class="language-plaintext highlighter-rouge">.pcapng</code> files for a specific protocol;</li>
  <li>
<code class="language-plaintext highlighter-rouge">images</code>: system block diagram of the demo.</li>
  <li>
<code class="language-plaintext highlighter-rouge">licenses</code>: license files</li>
</ul>

<p>The demo video below shows the challenging <a href="https://en.wikipedia.org/wiki/Moose_test">moose test</a> in the Gazebo simulator, where the white ego vehicle performs a time-critical evasive maneuver. Three different scenarios are shown:</p>
<ol>
  <li>successful driving without intereference,</li>
  <li>collisions due to network interference without TSN features,</li>
  <li>TSN features enable a successful drive with network interference.</li>
</ol>

<p>https://user-images.githubusercontent.com/88086083/140656406-81919e7b-8d37-4a7a-a331-be7cd32f6673.mp4</p>

<p>As illustrated below, this demo uses three machines connected to a TSN Ethernet switch, imitating a robot sharing Ethernet links for streams with different criticality levels.
The components in grey are used for performance measurement, which we descrbe in deatail in the measurement section below.
<code class="language-plaintext highlighter-rouge">Machine C</code> runs the Gazebo simulation. The control of the modeled vehicle runs on an embedded controller <code class="language-plaintext highlighter-rouge">machine A</code> and publishes the safety-critical topic <code class="language-plaintext highlighter-rouge">/command</code> based on the data from the <code class="language-plaintext highlighter-rouge">/odometry</code> topic.
An interference <code class="language-plaintext highlighter-rouge">machine B</code> floods the egress of <code class="language-plaintext highlighter-rouge">port 3</code> and interfere with the control traffic in the <code class="language-plaintext highlighter-rouge">/command</code> topic.
This interference is likely to trigger a collision in the simulation.
Interference may originate from a bug in <code class="language-plaintext highlighter-rouge">machine B</code>, see the bug icon, or from a network design sharing an Ethernet link between traffic streams with different criticality levels, see the fire icon.
Fortunately, if we link the safety-critical DDS topic <code class="language-plaintext highlighter-rouge">/command</code> to a TSN stream with a high priority using
<a href="https://en.wikipedia.org/wiki/Time-Sensitive_Networking#Scheduling_and_traffic_shaping">IEEE 802.1Q Priority-Based Scheduling (<code class="language-plaintext highlighter-rouge">PBS</code>)</a>, then the vehicle completes the moose test successfully.
Furthermore, we can de-burst the interference traffic using the TSN’s protocol
<a href="https://en.wikipedia.org/wiki/Time-Sensitive_Networking#AVB_credit-based_scheduler">IEEE 802.1Qav Credit-Based Shaper (<code class="language-plaintext highlighter-rouge">CBS</code>)</a> to ensure its egress bandwidth is limited.</p>

<p align="center"><img src="https://raw.githubusercontent.com/nxp/dds-tsn/main/images/dds_tsn_mini_demo.png" alt="simplified demo architecture" width="700" class="center"></p>

<p>The DDS-TSN mapping demo instructions below leverage the DDS XML profiles for <a href="https://github.com/nxp/dds-tsn/tree/main/dds_tsn_demo/src/dds_tsn_profile_connext.xml">Connext DDS</a> and <a href="https://github.com/nxp/dds-tsn/tree/main/dds_tsn_demo/src/dds_tsn_profile_fastdds.xml">Fast DDS</a>. The XML files bind the DDS communication sockets to the VLAN interface, which has a built-in VLAN tagging rule assigning the outgoing traffic a higher priority, as we describe in configuration <code class="language-plaintext highlighter-rouge">Option A</code>. Another option is to map the DSCP/TOS filed in the IP header to the VLAN PCP value, which we describe in configuration <code class="language-plaintext highlighter-rouge">Option B</code>.</p>

<h2 id="prerequisites">Prerequisites</h2>
<ul>
  <li>Three machines with Ubuntu 20.04, machines A and B can be embedded ARM-based systems, machine C will benefit from a discrete GPU.</li>
  <li>A TSN-capable Ethernet switch with PCP and VLAN support included in IEEE 802.1Q-2014 and onwards. For example, the NXP <a href="https://www.nxp.com/products/interfaces/ethernet-/automotive-ethernet-switches/multi-gig-safe-and-secure-tsn-ethernet-switch-with-integrated-100base-t1-phys:SJA1110">SJA1110</a>. In our experiment, we use the SJA1110 switch on the <a href="https://www.nxp.com/design/designs/s32g-reference-design-for-vehicle-network-processing:S32G-VNP-RDB">S32G-VNP-RDB</a> board, which is the S32G reference design for vehicle network processing.</li>
  <li>ROS2 Foxy base and <code class="language-plaintext highlighter-rouge">iproute2</code> for the <code class="language-plaintext highlighter-rouge">tc</code> command on machine A:
  follow the official <a href="https://docs.ros.org/en/foxy/Installation/Ubuntu-Install-Debians.html#set-locale">ROS2 installation instructions</a> to install ROS2 Foxy <em>base</em>.
  Then install other dependencies:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> python3-colcon-ros iproute2
    
</code></pre></div></div>
<ul>
  <li>To use configuration Option B described in the <em>Configuration</em> section below, build the following kernel modules for machine A to enable Linux Traffic Control (tc) actions, packet classification, and U32 filter for outgoing packets:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    CONFIG_NET_CLS_ACT=y
    CONFIG_NET_CLS_FLOW=y
    CONFIG_NET_CLS_FLOWER=y
    CONFIG_NET_CLS_U32=y
    CONFIG_CLS_U32_MARK=y
    
</code></pre></div></div>
<p>In our experiment, the machine A runs on the i.MX 8M <a href="https://nxp.gitbook.io/8mmnavq/">NavQ</a> Linux companion computer platform. The NavQ kernel can be configured and built following instructions <a href="https://github.com/NXPmicro/meta-nxp-hovergames/tree/demo">here</a>.</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">iperf3</code> on machine B:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> iperf3
    
</code></pre></div></div>
<ul>
  <li>ROS2 Foxy and Gazebo on machine C:
  follow the official <a href="https://docs.ros.org/en/foxy/Installation/Ubuntu-Install-Debians.html#set-locale">ROS2 installation instructions</a> to install ROS2 Foxy <em>desktop</em>.
  Then install Gazebo and other dependencies:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> python3-colcon-ros ros-foxy-gazebo-ros ros-foxy-gazebo-plugins iperf3 iproute2
    
</code></pre></div></div>

<h2 id="installation">Installation</h2>
<ol>
  <li>Our demonstration supports the Fast DDS, which is pre-installed and the default DDS middleware layer in ROS2 Foxy, and the RTI Connext DDS. The RTI Connext DDS can be installed by following the documentation <a href="https://github.com/ros2/rmw_connextdds">here</a> on machines A and C.
    <ul>
      <li>For an Intel machine:</li>
    </ul>
  </li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       <span class="c"># install free debian packages for Connext DDS on Intel machine</span>
       <span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> ros-foxy-rmw-connext-cpp
       <span class="nb">source</span> /opt/ros/foxy/setup.bash
       git clone https://github.com/rticommunity/rmw_connextdds.git ~/rmw_connextdds
       <span class="nb">cd</span> ~/rmw_connextdds
       git checkout foxy
       colcon build
       <span class="c"># run the following commands in each new shell to choose this DDS distribution</span>
       <span class="nb">source</span> ~/rmw_connextdds/install/setup.sh
       <span class="nb">export </span><span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>rmw_connextdds
       
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- For an ARM machine: the free Debian package of Connext DDS is not available for `arm64`, however, you can download Connext DDS Professional from [here](https://www.rti.com/products) and build it on the `arm64` target. 1. Build the code from the repository root directory (with this README) on machines A and C. If you use the Connext DDS, set the environment as described in the previous step.
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    git clone https://github.com/NXP/dds-tsn.git
    <span class="nb">cd </span>dds-tsn
    <span class="nb">source</span> /opt/ros/foxy/setup.bash
    colcon build
    <span class="nb">source install</span>/setup.sh
    
</code></pre></div></div>

<h2 id="configuration">Configuration</h2>

<h3 id="option-a-vlan-to-pcp-mapping-using-egress-qos-map">Option A: VLAN-to-PCP mapping using egress-qos-map</h3>
<p>No specific Linux kernel modules are required for this option.
On machine A, create a VLAN interface with the IP address ending with <code class="language-plaintext highlighter-rouge">.2</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./scripts/make_vlan.bash

</code></pre></div></div>
<p>Most likely you’ll need to override network variables in the script for your system. For example, to use the physical interface <code class="language-plaintext highlighter-rouge">eth0</code>, netmask <code class="language-plaintext highlighter-rouge">10.10.*.*</code>, and a specific egress-qos-map value (other than the default <code class="language-plaintext highlighter-rouge">0:5</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">PIF</span><span class="o">=</span>eth0 <span class="nv">NETMASK</span><span class="o">=</span>10.10 <span class="nv">EGRESS_QOS_MAP</span><span class="o">=</span><span class="s2">"egress-qos-map 0:4"</span>  ./scripts/make_vlan.bash

</code></pre></div></div>

<h3 id="option-b-dscp-to-pcp-mapping-with-traffic-control-filter">Option B: DSCP-to-PCP mapping with traffic control filter</h3>
<p>For this option, machine A needs specific kernel configuration, see details in <em>Prerequisites</em> section above.
The DDS distribution in use should support <em>TransportPriority</em> QoS policy.
At the moment of writing this README, <a href="https://fast-dds.docs.eprosima.com/en/latest/fastdds/api_reference/dds_pim/core/policy/transportpriorityqospolicy.html">Fast DDS did not support this feature</a> and we used RTI’s Connext DDS on <code class="language-plaintext highlighter-rouge">arm64</code> for the experiment.
Alternatively, one can use machine A with an Intel processor and the free Debian package for <a href="https://www.rti.com/products">RTI Connext DDS</a>.</p>

<p>Configure VLAN interfaces with the IP address ending with <code class="language-plaintext highlighter-rouge">.2</code>. Assuming your setup uses the physical interface <code class="language-plaintext highlighter-rouge">eth0</code> and netmask <code class="language-plaintext highlighter-rouge">10.10.*.*</code>, we setup a VLAN interface that filters on a given TOS value of <code class="language-plaintext highlighter-rouge">0x14</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">PIF</span><span class="o">=</span>eth0 <span class="nv">NETMASK</span><span class="o">=</span>10.10 <span class="nv">OPTION_B</span><span class="o">=</span>on ./scripts/make_vlan.bash
<span class="c"># to verify the configuration, send iperf3 streams to machine C and check the packet TOS and PCP value using Wireshark</span>
iperf3 <span class="nt">-c</span> MACHINE_C_VLAN_INTERFACE <span class="nt">-u</span> <span class="nt">-S</span> 0x14 <span class="nt">-t20</span>

</code></pre></div></div>

<h3 id="common-configuration">Common configuration</h3>
<ol>
  <li>On machine C, create a virtual interface with IP addresss ending with <code class="language-plaintext highlighter-rouge">.3</code>, for example:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nv">PIF</span><span class="o">=</span>eth0 <span class="nv">NETMASK</span><span class="o">=</span>10.10 <span class="nv">IP_SUFFIX</span><span class="o">=</span>3 ./scripts/make_vlan.bash
   
</code></pre></div></div>
<ol>
  <li>Make sure you can ping the virtual interfaces on both machine A and C:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   ping <span class="nt">-c</span> 3 10.10.30.2 <span class="c"># ping machine A VLAN interface</span>
   ping <span class="nt">-c</span> 3 10.10.30.3 <span class="c"># ping machine C VLAN interface</span>
   
</code></pre></div></div>
<ol>
  <li>
    <p>TSN switch configuration</p>

    <p>TSN switches need to be configured to allow traffic from a given VLAN on specific switch ports. For the NXP SJA1110 it can be done in the SDK available for download <a href="https://www.nxp.com/products/interfaces/ethernet-/automotive-ethernet-switches/multi-gig-safe-and-secure-tsn-ethernet-switch-with-integrated-100base-t1-phys:SJA1110">here</a>. VLAN ports membership on off-the-shelf managed switches often can be configured using a web interface.</p>

    <p>To configure VLAN on the NXP SJA1110 switch, add VLAN 30 to the membership fields of all the switch ports. In the SJA1110 SDK GUI open the <code class="language-plaintext highlighter-rouge">Peripheral</code> configuration, select the switch fabric, then click on <code class="language-plaintext highlighter-rouge">VLAN Lookup Table</code> dialogue. Then tick all ports in the section <code class="language-plaintext highlighter-rouge">VMEMB_PORT</code>, all ports in the section <code class="language-plaintext highlighter-rouge">BC_DOMAIN</code>, all ports in <code class="language-plaintext highlighter-rouge">TAG_PORT</code> and, finally, set the <code class="language-plaintext highlighter-rouge">VLANID</code> to 30.</p>

    <p>To make the effect of the DDS-TSN integration easily visible in this demo, configure the switch to limit the link speed of the <code class="language-plaintext highlighter-rouge">vehicle_control command</code> to <code class="language-plaintext highlighter-rouge">100 Mbps</code> or lower. Otherwise, the moose test may always succeed even with interference and DDS-TSN integration enabled.</p>
  </li>
</ol>

<h3 id="network-configuration-in-the-dds-xml-profiles">Network configuration in the DDS XML profiles</h3>
<p>In short, you may need to edit the IP address or subnet in the XML <code class="language-plaintext highlighter-rouge">allow_interfaces_list</code> field for Connext DDS and the <code class="language-plaintext highlighter-rouge">interfaceWhiteList</code> field for Fast DDS to match your local VLAN networking interface.</p>

<p>If there are multiple interfaces on a machine, we need a mechanism to steer the DDS traffic to a preferred network interface to ensure the Ethernet packets are tagged with an appropriate VLAN ID and the priority code point (PCP). Then the PCP and VLAN ID will enable TSN features in the networking devices, such as switches, for the packets. The XML profiles can define on which local interface the DDS middleware communicates. To find it out the IP address of the local VLAN interface, you can run <code class="language-plaintext highlighter-rouge">ifconfig</code> and find the IP address of the created VLAN interface on the local machine. For example, in the demo video at 0m:46s you can see how we added a VLAN interface <code class="language-plaintext highlighter-rouge">enp0s31f6.30</code> on machine C, which got <code class="language-plaintext highlighter-rouge">192.168.30.1</code>. On machine A, the VLAN interface is <code class="language-plaintext highlighter-rouge">eth0.30</code> and interface’s IP is <code class="language-plaintext highlighter-rouge">192.168.30.2</code>, as can be seen in the console around 01m:06s. So, on machine C we’ll need to set the <code class="language-plaintext highlighter-rouge">interfaceWhiteList</code> tag to <code class="language-plaintext highlighter-rouge">192.168.30.1</code>, and on machine A to <code class="language-plaintext highlighter-rouge">192.168.30.2</code>. For the Connext DDS we need to use a subnet instead of the IP address of the local interface in the <code class="language-plaintext highlighter-rouge">allow_interfaces_list</code>.</p>

<p>Note that in the demo video the IPs are different than examples of using the <code class="language-plaintext highlighter-rouge">make_vlan.sh</code> script in the README.</p>

<h2 id="execution">Execution</h2>
<ol>
  <li>Start the <code class="language-plaintext highlighter-rouge">iperf3</code> server on machine C:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    iperf3 <span class="nt">-s</span> <span class="o">&gt;</span> /dev/null 2&gt;&amp;1 &amp;
1. Start Gazebo on machine C, the vehicle will remain still:
    
<span class="sb">```</span>bash
    ros2 launch dds_tsn_demo world_launch.py
    
</code></pre></div></div>
<ol>
  <li>Start the controller on machine A to drive the vehicle in the simulator using <em>only the physical interface</em>. Make sure the VLAN interfaces are down or deleted. Access via <code class="language-plaintext highlighter-rouge">ssh</code> can be heavily interfered by the interference stream introduced during the test:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">unset </span>NDDS_QOS_PROFILES <span class="c"># disable XML profile for Connext DDS</span>
    <span class="nb">unset </span>FASTRTPS_DEFAULT_PROFILES_FILE <span class="c"># disable XML profile for FastDDS</span>
    ros2 launch dds_tsn_demo control_launch.py
    
</code></pre></div></div>
<ol>
  <li>When the vehicle starts moving, start interference on machine B towards the physical network interface of machine C:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    iperf3 <span class="nt">-c</span> MACHINE_C_IP <span class="nt">-u</span> <span class="nt">-l53K</span> <span class="nt">-b1G</span> <span class="nt">-t600</span> <span class="c"># adapt here the IP address of the physical interface on machine C</span>
    
</code></pre></div></div>
<ol>
  <li>The vehicle is likely to crash into the obstacles (the pedestrian and the other vehicle) or drive off the road in Gazebo. Close the Gazebo simulator and kill the vehicle control from step 4.</li>
  <li>Let’s leverage the DDS-TSN integration to mitigate interference by coupling DDS traffic to TSN VLAN tags, which will prioritize the data transmission. Restart the Gazebo by following step 2. Then, on machine A, export the DDS profile XML, bring up the virtual network, and run the control node:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">export </span><span class="nv">NDDS_QOS_PROFILES</span><span class="o">=</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>/dds_tsn_demo/src/dds_tsn_profile_connext.xml <span class="c"># use Connext DDS to map a DDS topic to a specific TOS/DSCP</span>
    <span class="nb">export </span><span class="nv">FASTRTPS_DEFAULT_PROFILES_FILE</span><span class="o">=</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>/dds_tsn_demo/src/dds_tsn_profile_fastdds.xml <span class="c"># for Fast DDS</span>
    ros2 launch dds_tsn_demo control_launch.py
    
</code></pre></div></div>
<ol>
  <li>Now start the interference as described in step 4.</li>
  <li>The vehicle should be able to successfully finish the moose test in the Gazebo simulation thanks to prioritized vehicle control traffic.</li>
</ol>

<h3 id="calibration-to-reproduce-the-vehicle-crash-on-various-platforms">Calibration to reproduce the vehicle crash on various platforms</h3>
<p>If the moose test passes with interference and DDS-TSN integration enabled, you may need to tune the demo to your platform. With the help of various users of our repository, we derived the following recommendations to reproduce the crash due to interference:</p>
<ol>
  <li>Double-check you followed the instructions, including the reduction of the Ethernet link speed down to 100Mbps or lower.</li>
  <li>Increase the severity of delaying/dropping a control packet due to interference by increasing the time period between control messages. In <a href="https://github.com/nxp/dds-tsn/tree/main/dds_tsn_demo/src/vehicle_control.cpp#L45">our code</a>, the period is 10ms now. By increasing it gradually on machine A, one can get to the point when the moose test starts to fail. Once this threshold is found, the sensitivity of the interference should become higher.</li>
  <li>Tweak the vehicle steering control in the <a href="https://github.com/nxp/dds-tsn/tree/main/dds_tsn_demo/src/vehicle_control.cpp#L68">steeringCommands</a> table. The table includes a list of ego vehicle’s longitudinal coordinates and associated linear and angular components of the velocity applied at this coordinate to the ego vehicle by the vehicle controller. By varying the coordinates, we can modify where in the trajectory the velocity of the ego vehicle changes. Changing the velocity components themselves adjusts the motion changes at a given location.</li>
  <li>Modify the simulated scene in the <a href="https://github.com/nxp/dds-tsn/tree/main/dds_tsn_demo/world/gazebo_diff_drive_moose_test.world">modeled world</a> in terms of object position, size and mass to make the timing of control packets even more critical. Modification of the world can be easily done in the <a href="https://classic.gazebosim.org/tutorials?tut=build_world&amp;ver=1.9">Gazebo simulator GUI</a>.</li>
  <li>Lower the CPU clock speed, especially, if you use desktop- or server-grade processors instead of embedded SoCs.</li>
</ol>

<h2 id="how-to-measure-tsn-performance">How to measure TSN performance</h2>

<p>To accurately measure the TSN performance of the network, consider <a href="https://tsn.readthedocs.io/timesync.html">installing gPTP time synchronization on machines A and C</a>. Furthermore, check if your network interfaces perform hardware time stamping with <code class="language-plaintext highlighter-rouge">sudo ethtool -T &lt;network_interface&gt;</code>.
The measurement setup is shown in the block diagram above in grey, where <em>HW TS</em> stands for hardware timestamping.</p>

<p>Commands to be run on each machine is introduced below; for more information on <code class="language-plaintext highlighter-rouge">step 1</code> and <code class="language-plaintext highlighter-rouge">step 2</code>, see <a href="https://github.com/nxp/dds-tsn/tree/main/tools/traffic_analysis/README.md">traffic_analysis README</a>:</p>

<ol>
  <li>Run <code class="language-plaintext highlighter-rouge">tshark</code> with timestaping on machine A and C during the dds-tsn demo. After the demo is over move the <code class="language-plaintext highlighter-rouge">machine_a.pcapng</code> file to machine C.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="c"># on machine A</span>
   tshark <span class="nt">-i</span> &lt;interface&gt; <span class="nt">--time-stamp-type</span> adapter_unsynced <span class="nt">-w</span> machine_a.pcapng
   <span class="c"># on machine C</span>
   tshark <span class="nt">-i</span> &lt;interface&gt; <span class="nt">--time-stamp-type</span> adapter_unsynced <span class="nt">-w</span> machine_c.pcapng
   
</code></pre></div></div>
<ol>
  <li>On machine C, run <code class="language-plaintext highlighter-rouge">traffic_analysis.py</code> script on both <code class="language-plaintext highlighter-rouge">.pcapng</code> files, save the results to a <code class="language-plaintext highlighter-rouge">.csv</code> file. Use the UDP source port (here 46278) to filter for UDP datagram only related to the <code class="language-plaintext highlighter-rouge">/cmd_vel</code> topic of Gazebo:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nv">$ </span>python3 tools/traffic_analysis/traffic_analysis.py <span class="nt">-p</span> machine_a.pcapng <span class="nt">-c</span> rtps.data machine_a.csv <span class="nt">-f</span> <span class="s1">'udp.srcport == 46278'</span>
   <span class="nv">$ </span>python3 tools/traffic_analysis/traffic_analysis.py <span class="nt">-p</span> machine_c.pcapng <span class="nt">-c</span> rtps.data machine_c.csv <span class="nt">-f</span> <span class="s1">'udp.srcport == 46278'</span>
   
</code></pre></div></div>
<ol>
  <li>Merge both .csv files with <a href="https://github.com/nxp/dds-tsn/tree/main/tools/rtps_csv_merge/rtps_csv_merge.py">rtps_csv_merge.py</a>:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nv">$ </span>python3 tools/rtps_csv_merge/rtps_csv_merge.py machine_a.csv machine_c.csv merged.csv
   
</code></pre></div></div>
<p>The generated <code class="language-plaintext highlighter-rouge">merged.csv</code> will then contain the HW timestamp from both the sending and the receiving side for a specific RTPS sequence number. This can be used for further processing.</p>

<h2 id="troubleshooting">Troubleshooting</h2>
<ol>
  <li>If you get an error <code class="language-plaintext highlighter-rouge">colcon: command not found</code>, run <code class="language-plaintext highlighter-rouge">sudo apt install python3-colcon-common-extensions</code>.</li>
  <li>If you get an error while starting Gazebo <code class="language-plaintext highlighter-rouge">X Error of failed request: BadValue (integer parameter out of range for operation)</code> try rebooting your machine.</li>
  <li>If you can’t start Gazebo due to an error <code class="language-plaintext highlighter-rouge">[gazebo-1] [Err] [Master.cc:95] EXCEPTION: Unable to start server[bind: Address already in use]. There is probably another Gazebo process running.</code>, run <code class="language-plaintext highlighter-rouge">killall gzserver gzclient</code>.</li>
  <li>During ROS installation, apt update fails due to ROS repository public key issues. To resolve it, run the commands below:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nb">echo</span> <span class="s2">"deb [arch=</span><span class="si">$(</span>dpkg <span class="nt">--print-architecture</span><span class="si">)</span><span class="s2"> signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu </span><span class="si">$(</span>lsb_release <span class="nt">-cs</span><span class="si">)</span><span class="s2"> main"</span> | <span class="nb">sudo tee</span> /etc/apt/sources.list.d/ros2.list <span class="o">&gt;</span> /dev/null
    <span class="nb">sudo </span>apt update
    
</code></pre></div></div>

<h2 id="background-information">Background information</h2>
<ol>
  <li><a href="https://www.nxp.com/design/training/dds-and-tsn-where-software-and-hardware-meet-for-dependable-communication-using-rti-connext-drive-and-nxp-s32g-processor:TIP-DDS-AND-TSN-WHERE-SOFTWARE-AND-HARDWARE-MEET">Free S32G webinar on DDS-TSN integration in the Autoware.auto Autonomous Valet Parking application</a></li>
  <li>
<a href="https://www.nxp.com/webapp/Download?colCode=DDSTSNWP">Driving Interoperability and Performance in Automotive Systems with DDS and TSN</a> - DDS-TSN white paper co-authored by NXP and RTI</li>
  <li>
<a href="https://drive.google.com/file/d/1_PvBvFd4--kLCUn3R037U-31I2E0BujN/view?usp=sharing">ROS2 presentation about DDS and TSN</a>. Here is our <a href="https://drive.google.com/file/d/15jU5VVkBa7ULnnnXSDOvKT6qn516CCAR/view?usp=sharing">presentation recording</a>. More about the topic, please check <a href="https://discourse.ros.org/t/ros2-tsn-talk-during-ros2-real-time-wg-regular-call-on-tue-1st-of-feb-16-00-cet/24099/4">the discussion thread on ROS2 Discourse</a>.</li>
  <li><a href="https://www.sasg.nl/SASG_72_Roly-poly_on_middleware.pdf">System Archiecture Study Group (SASG) presentation on middleware</a></li>
  <li>https://tsn.readthedocs.io/index.html - hands-on tutorial on TSN and VLAN support in GNU/Linux</li>
  <li>https://arxiv.org/pdf/1808.10821.pdf - excellent description of the GNU/Linux traffic control and its application in robotics</li>
  <li>https://wiki.archlinux.org/title/VLAN - VLAN support in GNU/Linux</li>
  <li>https://tldp.org/HOWTO/Adv-Routing-HOWTO/index.html - Linux Advanced Routing &amp; Traffic Control HOWTO</li>
  <li>https://en.wikipedia.org/wiki/Type_of_service - Type of Service field in the IP header</li>
</ol>

<h2 id="todo">TODO:</h2>
<ol>
  <li>Change the name of the topics in the C++ and .world to match the illustration in README</li>
  <li>Describe the CBS configuration of the TSN switch</li>
</ol>

<h2 id="license">License</h2>
<p>This software is distributed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/dds-tsn">dds-tsn</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nxp-dds-tsn
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nxp-dds-tsn" role="menuitem" tabindex="-1" href="/r/dds-tsn/github-nxp-dds-tsn" data="github-nxp-dds-tsn">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nxp-dds-tsn
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/dds-tsn">dds-tsn</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nxp-dds-tsn
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nxp-dds-tsn" role="menuitem" tabindex="-1" href="/r/dds-tsn/github-nxp-dds-tsn" data="github-nxp-dds-tsn">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nxp-dds-tsn
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/dds-tsn">dds-tsn</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nxp-dds-tsn
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nxp-dds-tsn" role="menuitem" tabindex="-1" href="/r/dds-tsn/github-nxp-dds-tsn" data="github-nxp-dds-tsn">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nxp-dds-tsn
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/dds-tsn">dds-tsn</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nxp-dds-tsn
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nxp-dds-tsn" role="menuitem" tabindex="-1" href="/r/dds-tsn/github-nxp-dds-tsn" data="github-nxp-dds-tsn">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nxp-dds-tsn
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/nxp/dds-tsn.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
