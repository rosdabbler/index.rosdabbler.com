<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/rmf_demos/github-open-rmf-rmf_demos/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">rmf_demos</li>
        <!--<li class="active">rmf_demos</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-primary" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-primary" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class=" older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmf_demos">rmf_demos</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos">rmf_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_assets">rmf_demos_assets</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_bridges">rmf_demos_bridges</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_fleet_adapter">rmf_demos_fleet_adapter</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_gz">rmf_demos_gz</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_maps">rmf_demos_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_tasks">rmf_demos_tasks</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-rmf_demos
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-rmf_demos" role="menuitem" tabindex="-1" href="/r/rmf_demos/github-open-rmf-rmf_demos" data="github-open-rmf-rmf_demos">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-rmf_demos
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Demonstrations of the Open-RMF</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/open-rmf/rmf_demos.git">https://github.com/open-rmf/rmf_demos.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmf_demos/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmf_demos">rmf_demos</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_assets">rmf_demos_assets</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_bridges">rmf_demos_bridges</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_fleet_adapter">rmf_demos_fleet_adapter</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_gz">rmf_demos_gz</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_maps">rmf_demos_maps</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_tasks">rmf_demos_tasks</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rmf-demos">RMF Demos</h1>

<p><img src="https://github.com/open-rmf/rmf_demos/workflows/build/badge.svg" alt="">
<img src="https://github.com/open-rmf/rmf_demos/workflows/style/badge.svg" alt=""></p>

<p>The Open Robotics Middleware Framework (Open-RMF) enables interoperability among heterogeneous robot fleets while managing robot traffic that share resources such as space, building infrastructure systems (lifts, doors, etc) and other automation systems within the same facility. Open-RMF also handles task allocation and conflict resolution  among its participants (de-conflicting traffic lanes and other resources). These capabilities are provided by various libraries in <a href="https://github.com/open-rmf/rmf">Open-RMF</a>.
For more details about Open RMF, refer to the comprehensive documentation provided <a href="https://osrf.github.io/ros2multirobotbook/intro.html">here</a>.</p>

<p>This repository contains demonstrations of the above mentioned capabilities of RMF. It serves as a starting point for working and integrating with Open-RMF.</p>

<p>You can also find a nice demonstration of Open-RMF using <code class="language-plaintext highlighter-rouge">Nav2</code> and <code class="language-plaintext highlighter-rouge">MoveIt!</code> built into the <a href="https://github.com/gazebosim/ionic_demo">Ionic Release Demo</a>.</p>

<p><a href="https://vimeo.com/405803151"><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/thumbnail.png?raw=true" alt="Robotics Middleware Framework"></a></p>

<h4 id="click-to-watch-video">(Click to watch video)</h4>

<h2 id="system-requirements">System Requirements</h2>

<p>These demos were built and tested on</p>

<ul>
  <li>
    <p><a href="https://releases.ubuntu.com/24.04/">Ubuntu 24.04 LTS</a></p>
  </li>
  <li>
    <p><a href="https://docs.ros.org/en/jazzy/Releases/Release-Rolling-Ridley.html">ROS 2 - Rolling</a></p>
  </li>
  <li>
    <p><a href="https://gazebosim.org/docs/ionic">Gazebo Ionic</a></p>
    <blockquote>
      <p>Note: The <code class="language-plaintext highlighter-rouge">main</code> branches of the core RMF libraries are fully supported on ROS 2 Humble, Iron, and Jazzy as well, but you will need to use the distro-specific branches for <code class="language-plaintext highlighter-rouge">rmf_traffic_editor</code> and <code class="language-plaintext highlighter-rouge">rmf_simulation</code>.</p>

      <p>You can use <code class="language-plaintext highlighter-rouge">rmf_demos</code> with any ROS distro by explicitly setting the <code class="language-plaintext highlighter-rouge">gazebo_version:=#</code> launch parameter, replacing <code class="language-plaintext highlighter-rouge">#</code> with the appropriate version of Gazebo for that ROS distro, e.g. <code class="language-plaintext highlighter-rouge">8</code> for <code class="language-plaintext highlighter-rouge">Jazzy</code>.</p>
    </blockquote>
  </li>
</ul>

<h2 id="installation">Installation</h2>
<p>Instructions can be found <a href="https://github.com/open-rmf/rmf">here</a>.</p>

<h2 id="faq">FAQ</h2>
<p>Answers to frequently asked questions can be found <a href="https://github.com/open-rmf/rmf_demos/tree/main/docs/faq.md">here</a>.</p>

<h2 id="roadmap">Roadmap</h2>

<p>A near-term roadmap of the Open-RMF project can be found in the user manual <a href="https://osrf.github.io/ros2multirobotbook/roadmap.html">here</a>.</p>

<h2 id="rmf-web-quick-start">RMF-Web quick start</h2>

<p>Full web application of Open-RMF: <a href="https://github.com/open-rmf/rmf-web">rmf-web</a>.</p>

<p>Start the backend API server via <code class="language-plaintext highlighter-rouge">docker</code> with host network access, using the default configuration. The API server will be accessible at <code class="language-plaintext highlighter-rouge">localhost:8000</code> by default.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--network</span> host <span class="se">\</span>
  <span class="nt">-it</span> <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">ROS_DOMAIN_ID</span><span class="o">=</span>&lt;ROS_DOMAIN_ID&gt; <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>&lt;RMW_IMPLEMENTATION&gt; <span class="se">\</span>
  ghcr.io/open-rmf/rmf-web/api-server:latest

</code></pre></div></div>

<blockquote>
  <p>Note: The API server is also configurable by mounting the configuration file and setting the environment variable <code class="language-plaintext highlighter-rouge">RMF_API_SERVER_CONFIG</code>. In the default configuration, the API serer will use an internal non-persistent database.</p>
</blockquote>

<p>Start the frontend dashboard via <code class="language-plaintext highlighter-rouge">docker</code> with host network access, using the default configuration. The dashboard will be accessible at <code class="language-plaintext highlighter-rouge">localhost:3000</code> by default.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--network</span> host <span class="se">\</span>
  <span class="nt">-it</span> <span class="se">\</span>
  ghcr.io/open-rmf/rmf-web/dashboard:latest

</code></pre></div></div>

<blockquote>
  <p>Note: The dashboard via <code class="language-plaintext highlighter-rouge">docker</code> is not runtime-configurable and is best used for quick integrations and testing. To configure the dashboard, check out <a href="https://github.com/open-rmf/rmf_demos/tree/rmf-web-dashboard-resources/rmf_demos_dashboard_resources">rmf-web-dashboard-resources</a> and the <a href="https://github.com/open-rmf/rmf-web/tree/main/packages/dashboard#configuration">dashboard configuration section</a>.</p>
</blockquote>

<p>In order to interact with the default configuration of the web application, the <code class="language-plaintext highlighter-rouge">server_uri</code> launch parameter will need to be changed to <code class="language-plaintext highlighter-rouge">ws://localhost:8000/_internal</code>, for example,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz office.launch.xml server_uri:<span class="o">=</span><span class="s2">"ws://localhost:8000/_internal"</span>

</code></pre></div></div>

<p>By specifying <code class="language-plaintext highlighter-rouge">server_uri</code>, the fleetadapter will update <code class="language-plaintext highlighter-rouge">rmf-web</code> <code class="language-plaintext highlighter-rouge">api-server</code> with the latest task and robot states. User can then monitor on-going states and initiate rmf task with an interactive web dashboard.</p>

<h2 id="demo-worlds">Demo Worlds</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Hotel-World">Hotel World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Office-World">Office World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Airport-Terminal-World">Airport Terminal World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Clinic-World">Clinic World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Campus-World">Campus World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Manufacturing-&amp;-Logistics-World">Manufacturing &amp; Logistics World</a></li>
</ul>

<hr>

<h3 id="hotel-world">Hotel World</h3>

<p>This hotel world consists of a lobby and 2 guest levels. The hotel has two lifts, multiple doors and 3 robot fleets (4 robots).
This demonstrates an integration of multiple fleets of robots with varying capabilities working together in a multi-level building.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/hotel_world.png" alt=""></p>

<h4 id="demo-scenario">Demo Scenario</h4>

<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz hotel.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_gz hotel.launch.xml

</code></pre></div></div>

<p>Here, we will showcase 2 types of Tasks: <strong>Loop</strong> and <strong>Clean</strong>, you can dispatch them via CLI as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> restaurant  L3_master_suite <span class="nt">-n</span> 1 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> clean_lobby <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots running Clean and Loop Task:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/hotel_scenarios.gif" alt=""></p>

<hr>

<h3 id="office-world">Office World</h3>
<p>An indoor office environment for robots to navigate around. It includes a beverage dispensing station, controllable doors and laneways which are integrated into RMF.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_demos_ws/install/setup.bash
ros2 launch rmf_demos_gz office.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_gz office.launch.xml

</code></pre></div></div>

<p>Now we will showcase 2 types of Tasks: <strong>Delivery</strong> and <strong>Loop</strong></p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/delivery_request.gif?raw=true" alt=""></p>

<p>You can request the robot to deliver a can of coke from <code class="language-plaintext highlighter-rouge">pantry</code> to <code class="language-plaintext highlighter-rouge">hardware_2</code> through the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> pantry <span class="nt">-ph</span> coke_dispenser <span class="nt">-d</span> hardware_2 <span class="nt">-dh</span> coke_ingestor <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>You can also request the robot to move back and forth between <code class="language-plaintext highlighter-rouge">coe</code> and <code class="language-plaintext highlighter-rouge">lounge</code> through the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> coe lounge <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/loop_request.gif" alt=""></p>

<p>The office demo can be run in secure mode using ROS 2 DDS-Security integration. Click <a href="https://github.com/open-rmf/rmf_demos/tree/main/docs/secure_office_world.md">here</a> to learn more.</p>

<hr>

<h3 id="airport-terminal-world">Airport Terminal World</h3>

<p>This demo world shows robot interaction on a much larger map, with a lot more lanes, destinations, robots and possible interactions between robots from different fleets, robots and infrastructure, as well as robots and users. In the illustrations below, from top to bottom we have how the world looks like in <code class="language-plaintext highlighter-rouge">traffic_editor</code>, the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code>, and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code>,</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/airport_terminal_traffic_editor_screenshot.png" alt="">
<img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/airport_terminal_demo_screenshot.png" alt=""></p>

<h4 id="demo-scenario-1">Demo Scenario</h4>
<p>In the airport world, we introduce a new task type to rmf: <code class="language-plaintext highlighter-rouge">Clean</code>. To launch the world:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz airport_terminal.launch.xml

</code></pre></div></div>

<p>You can submit <code class="language-plaintext highlighter-rouge">loop</code>, <code class="language-plaintext highlighter-rouge">delivery</code> or <code class="language-plaintext highlighter-rouge">clean</code> task via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> s07 n12 <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> mopcart_pickup <span class="nt">-ph</span> mopcart_dispenser <span class="nt">-d</span> spill <span class="nt">-dh</span> mopcart_collector <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> zone_3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>To see crowd simulation in action, enable crowd sim by:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz airport_terminal.launch.xml use_crowdsim:<span class="o">=</span>1

</code></pre></div></div>

<p>Non-autonomous vehicles can also be integrated with Open-RMF provided their positions can be localized in the world. This may be of value at facilities where space is shared by autonomous robots as well as manually operated vehicles such as forklifts or transporters. In this demo, we can introduce a vehicle (caddy) which can be driven around through keyboard/joystick teleop. In Open-RMF nomenclature, this vehicle is classified as a <code class="language-plaintext highlighter-rouge">read_only</code> type, ie, Open-RMF can only infer its position in the world but does not have control over its motion. Here, the goal is to have other controllable robots avoid this vehicle’s path by replanning their routes if needed. The model is fitted with a plugin which generates a prediction of the vehicle’s path based on its current heading. It is configured to occupy the same lanes as the <code class="language-plaintext highlighter-rouge">tinyRobot</code> robots. Here, a <code class="language-plaintext highlighter-rouge">read_only_fleet_adapter</code> submits the prediction from the plugin to the Open-RMF schedule.</p>

<p>In the airport terminal map, a <code class="language-plaintext highlighter-rouge">Caddy</code> is spawned in the far right corner and can be controlled with <code class="language-plaintext highlighter-rouge">geometry_msgs/Twist</code> messages published over the <code class="language-plaintext highlighter-rouge">cmd_vel</code> topic.</p>

<p>Run <code class="language-plaintext highlighter-rouge">teleop_twist_keyboard</code> to control the <code class="language-plaintext highlighter-rouge">caddy</code> with your keyboard:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Default launch with gazebo</span>
ros2 run teleop_twist_keyboard teleop_twist_keyboard

ros2 launch rmf_demos_gz airport_terminal_caddy.launch.xml

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/caddy.gif" alt=""></p>

<hr>

<h3 id="clinic-world">Clinic World</h3>

<p>This is a clinic world with two levels and two lifts for the robots. Two different robot fleets with different roles navigate across two levels by lifts. In the illustrations below, we have the view of level 1 in <code class="language-plaintext highlighter-rouge">traffic_editor</code> (top left), the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code> (right), and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code> (bottom left).</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/clinic.png" alt=""></p>

<h4 id="demo-scenario-2">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz clinic.launch.xml

</code></pre></div></div>

<p>You can submit tasks via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L1_left_nurse_center L2_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L2_north_counter L1_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots taking lift:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/robot_taking_lift.gif" alt=""></p>

<p>Multi-fleet demo:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/clinic.gif" alt=""></p>

<hr>
<h3 id="campus-world">Campus World</h3>

<p>This is a larger scale “Campus” World. In this world, there are multiple delivery robots that operate. The world is designed and traffic lanes are annotated at the planet scale, using GPS WGS84 coordinates. Each robot is also streaming its location in WGS84 coordinates, which are processed by its fleet adapter. This demo intends to show the potential of Open-RMF on a large scale map.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/campus.gif" alt=""></p>

<h4 id="demo-scenario-3">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz campus.launch.xml

ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> room_5 campus_4 <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> campus_5 room_3 <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> room_2 dead_end <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<h4 id="robotmanager-integration">RobotManager Integration</h4>
<p><code class="language-plaintext highlighter-rouge">fleet_robotmanager_mqtt_bridge</code> (see <a href="https://github.com/open-rmf/rmf_demos/tree/main/rmf_demos_bridges/rmf_demos_bridges">rmf_demos_bridges</a>) can be used to publish robot locations, battery percentage and state to a <code class="language-plaintext highlighter-rouge">/robot/status/ROBOT-ID</code> websocket endpoint. An instance of RobotManager can be configured to subscribe to this server to receive json messages, which will in turn visualize the robots on RobotManager.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install the prerequisites</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>mosquitto mosquitto-clients

<span class="c"># Start the bridge</span>
ros2 run rmf_demos_bridges fleet_robotmanager_mqtt_bridge <span class="nt">-y</span> 31500 <span class="nt">-x</span> 22000

</code></pre></div></div>

<p>The json messages for the first robot can be echoed using the following example command,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mosquitto_sub <span class="nt">-t</span> /robot/status/00000000-0000-0000-0000-000000000001

</code></pre></div></div>

<hr>
<h3 id="manufacturing--logistics-world">Manufacturing &amp; Logistics World</h3>

<p>An Open-RMF simulation demonstration created by ROS-Industrial Asia Pacific showcasing workcell (conveyor and fixed manipulator), multiple AMR fleets and infrastructure interoperability using the Open Robotics Middleeware Framework (Open-RMF).</p>

<p align="center">
[![Alt text](https://img.youtube.com/vi/oSVQrjx_4w4/0.jpg)](https://www.youtube.com/watch?v=oSVQrjx_4w4)
</p>

<h2 id="other-tools-and-features-demos">Other Tools and Features Demos</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Traffic-Light-Robot-Demos">Traffic Light Robot Demos</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Additional-Features">Additional Features</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Task-Dispatching-in-Open-RMF">Task Dispatching in Open-RMF</a></li>
</ul>

<h3 id="traffic-light-robot-demos">Traffic Light Robot Demos</h3>

<p>Open-RMF can also manage fleets whose API or fleet managers only offer pause and resume commands to control their robots. Such fleets are classified as <code class="language-plaintext highlighter-rouge">traffic_light</code>. To integrate a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet, users are expected to implement a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet adapter based on this <a href="https://github.com/open-rmf/rmf_ros2/blob/main/rmf_fleet_adapter/include/rmf_fleet_adapter/agv/EasyTrafficLight.hpp">API</a>. The <code class="language-plaintext highlighter-rouge">rmf_demos</code> repository contains demonstrations of <code class="language-plaintext highlighter-rouge">traffic_light</code> fleets in various scenarios. A simplistic <code class="language-plaintext highlighter-rouge">mock_traffic_light</code> adapter is used in these demonstrations.</p>

<h4 id="triple-h-scenario">Triple-H scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz triple_H.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos the_pedigree.launch.xml

</code></pre></div></div>
<h4 id="battle-royale-scenario">Battle Royale Scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz battle_royale.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos battle_go.launch.xml

</code></pre></div></div>

<h4 id="office-scenario">Office Scenario:</h4>
<p>Note that <code class="language-plaintext highlighter-rouge">tinyRobot1</code> is a standard “full control” robot, while <code class="language-plaintext highlighter-rouge">tinyRobot2</code> “traffic light” robot.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz office_mock_traffic_light.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos office_traffic_light_test.launch.xml

</code></pre></div></div>

<h3 id="additional-features">Additional Features</h3>
<ul>
  <li>
    <p><strong>Flexible Tasks Scripts</strong>
For more <a href="https://github.com/open-rmf/rmf_demos/tree/main/rmf_demos_tasks/README.md">details</a>.</p>
  </li>
  <li>
    <p><strong>lift watchdog</strong></p>
    <ul>
      <li>The robot can query an external <code class="language-plaintext highlighter-rouge">lift_watchdog_server</code> for the permission to enter the lift cabin during the <code class="language-plaintext highlighter-rouge">LiftSession</code> Phase.</li>
      <li>Command lines:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># run hotel world with lift_watch_dog enabled</span>
    ros2 launch rmf_demos_gz hotel.launch.xml enable_experimental_lift_watchdog:<span class="o">=</span>1

    <span class="c">## On a separate terminal, set lift as crowded</span>
    ros2 launch rmf_demos experimental_crowded_lift.launch.xml

    <span class="c"># Dispatch robot from level1 to level3, robot will wait in front of the lift cabin</span>
    ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L3_room1  L3_room1 <span class="nt">-n</span> 1 <span class="nt">--use_sim_time</span>

    <span class="c"># Lift is cleared. Give robot the permission to enter the lift</span>
    ros2 launch rmf_demos experimental_clear_lift.launch.xml
    
</code></pre></div></div>
<ul>
  <li>
<strong>Custom Docking Sequence</strong>
    <ul>
      <li>Fleet adapter will notify the robot (via <code class="language-plaintext highlighter-rouge">dock()</code> api/ModeRequest) to execute its custom dock sequence when the robot reaches a “dock” waypoint.</li>
      <li>Implementation is similar to Clean task, refer to docs <a href="https://osrf.github.io/ros2multirobotbook/task_types.html?highlight=docking#step-1-defining-waypoints-for-cleaning-in-traffic-editor">here</a>
</li>
    </ul>
  </li>
  <li>
<strong>Emergency Alarm</strong>
    <ul>
      <li>All robots will get directed to the nearest parking spot when the emergency alarm is triggered.</li>
      <li>Command lines:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># toggle alarm ON</span>
    ros2 topic pub <span class="nt">-1</span> /fire_alarm_trigger std_msgs/Bool <span class="s1">'{data: true}'</span>

    <span class="c"># toggle alarm OFF</span>
    ros2 topic pub <span class="nt">-1</span> /fire_alarm_trigger std_msgs/Bool <span class="s1">'{data: false}'</span>
    
</code></pre></div></div>

<h2 id="task-dispatching-in-open-rmf">Task Dispatching in Open-RMF</h2>
<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/RMF_Bidding.png" alt=""></p>

<p>In Open-RMF version <code class="language-plaintext highlighter-rouge">21.04</code> and above, tasks are awarded to robot fleets based on the outcome of a bidding process that is orchestrated by a Dispatcher node, <code class="language-plaintext highlighter-rouge">rmf_dispatcher_node</code>. When the Dispatcher receives a new task request from a UI, it sends out a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidNotice</code> message to all the fleet adapters. If a fleet adapter is able to process that request, it submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidProposal</code> message back to the Dispatcher with a cost to accommodate the task. An instance of <code class="language-plaintext highlighter-rouge">rmf_task::agv::TaskPlanner</code> is used by the fleet adapters to determine how best to accommodate the new request. The Dispatcher compares all the <code class="language-plaintext highlighter-rouge">BidProposals</code> received and then submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/DispatchRequest</code> message with the fleet name of the robot that the bid is awarded to. There are a couple different ways the Dispatcher evaluates the proposals such as fastest to finish, lowest cost, etc which can be configured.</p>

<p>Battery recharging is tightly integrated with the new task planner. <code class="language-plaintext highlighter-rouge">ChargeBattery</code> tasks are optimally injected into a robot’s schedule when the robot has insufficient charge to fulfill a series of tasks. Currently we assume each robot in the map has a dedicated charging location as annotated with the <code class="language-plaintext highlighter-rouge">is_charger</code> option in the traffic editor map.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="humble-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="humble-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#humble-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#humble-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#humble-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="humble-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="humble-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="humble-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmf_demos">rmf_demos</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos">rmf_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_assets">rmf_demos_assets</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_bridges">rmf_demos_bridges</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_fleet_adapter">rmf_demos_fleet_adapter</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_gz">rmf_demos_gz</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_maps">rmf_demos_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_tasks">rmf_demos_tasks</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-rmf_demos
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-rmf_demos" role="menuitem" tabindex="-1" href="/r/rmf_demos/github-open-rmf-rmf_demos" data="github-open-rmf-rmf_demos">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-rmf_demos
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Demonstrations of the Open-RMF</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/open-rmf/rmf_demos.git">https://github.com/open-rmf/rmf_demos.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">jazzy</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmf_demos/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmf_demos">rmf_demos</a></td>
                    <td>2.4.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_assets">rmf_demos_assets</a></td>
                    <td>2.4.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_bridges">rmf_demos_bridges</a></td>
                    <td>2.4.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_fleet_adapter">rmf_demos_fleet_adapter</a></td>
                    <td>2.4.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_gz">rmf_demos_gz</a></td>
                    <td>2.4.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_maps">rmf_demos_maps</a></td>
                    <td>2.4.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_tasks">rmf_demos_tasks</a></td>
                    <td>2.4.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rmf-demos">RMF Demos</h1>

<p><img src="https://github.com/open-rmf/rmf_demos/workflows/build/badge.svg" alt="">
<img src="https://github.com/open-rmf/rmf_demos/workflows/style/badge.svg" alt=""></p>

<p>The Open Robotics Middleware Framework (Open-RMF) enables interoperability among heterogeneous robot fleets while managing robot traffic that share resources such as space, building infrastructure systems (lifts, doors, etc) and other automation systems within the same facility. Open-RMF also handles task allocation and conflict resolution  among its participants (de-conflicting traffic lanes and other resources). These capabilities are provided by various libraries in <a href="https://github.com/open-rmf/rmf">Open-RMF</a>.
For more details about Open RMF, refer to the comprehensive documentation provided <a href="https://osrf.github.io/ros2multirobotbook/intro.html">here</a>.</p>

<p>This repository contains demonstrations of the above mentioned capabilities of RMF. It serves as a starting point for working and integrating with Open-RMF.</p>

<p>You can also find a nice demonstration of Open-RMF using <code class="language-plaintext highlighter-rouge">Nav2</code> and <code class="language-plaintext highlighter-rouge">MoveIt!</code> built into the <a href="https://github.com/gazebosim/ionic_demo">Ionic Release Demo</a>.</p>

<p><a href="https://vimeo.com/405803151"><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/thumbnail.png?raw=true" alt="Robotics Middleware Framework"></a></p>

<h4 id="click-to-watch-video">(Click to watch video)</h4>

<h2 id="system-requirements">System Requirements</h2>

<p>These demos were built and tested on</p>

<ul>
  <li>
    <p><a href="https://releases.ubuntu.com/24.04/">Ubuntu 24.04 LTS</a></p>
  </li>
  <li>
    <p><a href="https://docs.ros.org/en/jazzy/Releases/Release-Jazzy-Jalisco.html">ROS 2 - Jazzy</a></p>
  </li>
  <li>
    <p><a href="https://gazebosim.org/docs/harmonic">Gazebo Harmonic</a></p>
    <blockquote>
      <p>Note: RMF is fully supported on ROS 2 Humble and Iron as well, but those will require <a href="https://github.com/gazebosim/ros_gz">ros_gz</a> to be built from source.</p>
    </blockquote>
  </li>
</ul>

<h2 id="installation">Installation</h2>
<p>Instructions can be found <a href="https://github.com/open-rmf/rmf">here</a>.</p>

<h2 id="faq">FAQ</h2>
<p>Answers to frequently asked questions can be found <a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/docs/faq.md">here</a>.</p>

<h2 id="roadmap">Roadmap</h2>

<p>A near-term roadmap of the Open-RMF project can be found in the user manual <a href="https://osrf.github.io/ros2multirobotbook/roadmap.html">here</a>.</p>

<h2 id="rmf-web-quick-start">RMF-Web quick start</h2>

<p>Full web application of Open-RMF: <a href="https://github.com/open-rmf/rmf-web">rmf-web</a>.</p>

<p>Start the backend API server via <code class="language-plaintext highlighter-rouge">docker</code> with host network access, using the default configuration. The API server will be accessible at <code class="language-plaintext highlighter-rouge">localhost:8000</code> by default.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--network</span> host <span class="se">\</span>
  <span class="nt">-it</span> <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">ROS_DOMAIN_ID</span><span class="o">=</span>&lt;ROS_DOMAIN_ID&gt; <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>&lt;RMW_IMPLEMENTATION&gt; <span class="se">\</span>
  ghcr.io/open-rmf/rmf-web/api-server:latest

</code></pre></div></div>

<blockquote>
  <p>Note: The API server is also configurable by mounting the configuration file and setting the environment variable <code class="language-plaintext highlighter-rouge">RMF_API_SERVER_CONFIG</code>. In the default configuration, the API serer will use an internal non-persistent database.</p>
</blockquote>

<p>Start the frontend dashboard via <code class="language-plaintext highlighter-rouge">docker</code> with host network access, using the default configuration. The dashboard will be accessible at <code class="language-plaintext highlighter-rouge">localhost:3000</code> by default.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--network</span> host <span class="se">\</span>
  <span class="nt">-it</span> <span class="se">\</span>
  ghcr.io/open-rmf/rmf-web/dashboard:latest

</code></pre></div></div>

<blockquote>
  <p>Note: The dashboard via <code class="language-plaintext highlighter-rouge">docker</code> is not runtime-configurable and is best used for quick integrations and testing. To configure the dashboard, check out <a href="https://github.com/open-rmf/rmf_demos/tree/rmf-web-dashboard-resources/rmf_demos_dashboard_resources">rmf-web-dashboard-resources</a> and the <a href="https://github.com/open-rmf/rmf-web/tree/main/packages/dashboard#configuration">dashboard configuration section</a>.</p>
</blockquote>

<p>In order to interact with the default configuration of the web application, the <code class="language-plaintext highlighter-rouge">server_uri</code> launch parameter will need to be changed to <code class="language-plaintext highlighter-rouge">ws://localhost:8000/_internal</code>, for example,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz office.launch.xml server_uri:<span class="o">=</span><span class="s2">"ws://localhost:8000/_internal"</span>

</code></pre></div></div>

<p>By specifying <code class="language-plaintext highlighter-rouge">server_uri</code>, the fleetadapter will update <code class="language-plaintext highlighter-rouge">rmf-web</code> <code class="language-plaintext highlighter-rouge">api-server</code> with the latest task and robot states. User can then monitor on-going states and initiate rmf task with an interactive web dashboard.</p>

<h2 id="demo-worlds">Demo Worlds</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/#Hotel-World">Hotel World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/#Office-World">Office World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/#Airport-Terminal-World">Airport Terminal World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/#Clinic-World">Clinic World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/#Campus-World">Campus World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/#Manufacturing-&amp;-Logistics-World">Manufacturing &amp; Logistics World</a></li>
</ul>

<hr>

<h3 id="hotel-world">Hotel World</h3>

<p>This hotel world consists of a lobby and 2 guest levels. The hotel has two lifts, multiple doors and 3 robot fleets (4 robots).
This demonstrates an integration of multiple fleets of robots with varying capabilities working together in a multi-level building.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/hotel_world.png" alt=""></p>

<h4 id="demo-scenario">Demo Scenario</h4>

<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz hotel.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_gz hotel.launch.xml

</code></pre></div></div>

<p>Here, we will showcase 2 types of Tasks: <strong>Loop</strong> and <strong>Clean</strong>, you can dispatch them via CLI as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> restaurant  L3_master_suite <span class="nt">-n</span> 1 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> clean_lobby <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots running Clean and Loop Task:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/hotel_scenarios.gif" alt=""></p>

<hr>

<h3 id="office-world">Office World</h3>
<p>An indoor office environment for robots to navigate around. It includes a beverage dispensing station, controllable doors and laneways which are integrated into RMF.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_demos_ws/install/setup.bash
ros2 launch rmf_demos_gz office.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_gz office.launch.xml

</code></pre></div></div>

<p>Now we will showcase 2 types of Tasks: <strong>Delivery</strong> and <strong>Loop</strong></p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/delivery_request.gif?raw=true" alt=""></p>

<p>You can request the robot to deliver a can of coke from <code class="language-plaintext highlighter-rouge">pantry</code> to <code class="language-plaintext highlighter-rouge">hardware_2</code> through the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> pantry <span class="nt">-ph</span> coke_dispenser <span class="nt">-d</span> hardware_2 <span class="nt">-dh</span> coke_ingestor <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>You can also request the robot to move back and forth between <code class="language-plaintext highlighter-rouge">coe</code> and <code class="language-plaintext highlighter-rouge">lounge</code> through the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> coe lounge <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/loop_request.gif" alt=""></p>

<p>The office demo can be run in secure mode using ROS 2 DDS-Security integration. Click <a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/docs/secure_office_world.md">here</a> to learn more.</p>

<hr>

<h3 id="airport-terminal-world">Airport Terminal World</h3>

<p>This demo world shows robot interaction on a much larger map, with a lot more lanes, destinations, robots and possible interactions between robots from different fleets, robots and infrastructure, as well as robots and users. In the illustrations below, from top to bottom we have how the world looks like in <code class="language-plaintext highlighter-rouge">traffic_editor</code>, the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code>, and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code>,</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/airport_terminal_traffic_editor_screenshot.png" alt="">
<img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/airport_terminal_demo_screenshot.png" alt=""></p>

<h4 id="demo-scenario-1">Demo Scenario</h4>
<p>In the airport world, we introduce a new task type to rmf: <code class="language-plaintext highlighter-rouge">Clean</code>. To launch the world:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz airport_terminal.launch.xml

</code></pre></div></div>

<p>You can submit <code class="language-plaintext highlighter-rouge">loop</code>, <code class="language-plaintext highlighter-rouge">delivery</code> or <code class="language-plaintext highlighter-rouge">clean</code> task via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> s07 n12 <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> mopcart_pickup <span class="nt">-ph</span> mopcart_dispenser <span class="nt">-d</span> spill <span class="nt">-dh</span> mopcart_collector <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> zone_3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>To see crowd simulation in action, enable crowd sim by:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz airport_terminal.launch.xml use_crowdsim:<span class="o">=</span>1

</code></pre></div></div>

<p>Non-autonomous vehicles can also be integrated with Open-RMF provided their positions can be localized in the world. This may be of value at facilities where space is shared by autonomous robots as well as manually operated vehicles such as forklifts or transporters. In this demo, we can introduce a vehicle (caddy) which can be driven around through keyboard/joystick teleop. In Open-RMF nomenclature, this vehicle is classified as a <code class="language-plaintext highlighter-rouge">read_only</code> type, ie, Open-RMF can only infer its position in the world but does not have control over its motion. Here, the goal is to have other controllable robots avoid this vehicle’s path by replanning their routes if needed. The model is fitted with a plugin which generates a prediction of the vehicle’s path based on its current heading. It is configured to occupy the same lanes as the <code class="language-plaintext highlighter-rouge">tinyRobot</code> robots. Here, a <code class="language-plaintext highlighter-rouge">read_only_fleet_adapter</code> submits the prediction from the plugin to the Open-RMF schedule.</p>

<p>In the airport terminal map, a <code class="language-plaintext highlighter-rouge">Caddy</code> is spawned in the far right corner and can be controlled with <code class="language-plaintext highlighter-rouge">geometry_msgs/Twist</code> messages published over the <code class="language-plaintext highlighter-rouge">cmd_vel</code> topic.</p>

<p>Run <code class="language-plaintext highlighter-rouge">teleop_twist_keyboard</code> to control the <code class="language-plaintext highlighter-rouge">caddy</code> with your keyboard:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Default launch with gazebo</span>
ros2 run teleop_twist_keyboard teleop_twist_keyboard

ros2 launch rmf_demos_gz airport_terminal_caddy.launch.xml

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/caddy.gif" alt=""></p>

<hr>

<h3 id="clinic-world">Clinic World</h3>

<p>This is a clinic world with two levels and two lifts for the robots. Two different robot fleets with different roles navigate across two levels by lifts. In the illustrations below, we have the view of level 1 in <code class="language-plaintext highlighter-rouge">traffic_editor</code> (top left), the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code> (right), and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code> (bottom left).</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/clinic.png" alt=""></p>

<h4 id="demo-scenario-2">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz clinic.launch.xml

</code></pre></div></div>

<p>You can submit tasks via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L1_left_nurse_center L2_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L2_north_counter L1_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots taking lift:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/robot_taking_lift.gif" alt=""></p>

<p>Multi-fleet demo:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/clinic.gif" alt=""></p>

<hr>
<h3 id="campus-world">Campus World</h3>

<p>This is a larger scale “Campus” World. In this world, there are multiple delivery robots that operate. The world is designed and traffic lanes are annotated at the planet scale, using GPS WGS84 coordinates. Each robot is also streaming its location in WGS84 coordinates, which are processed by its fleet adapter. This demo intends to show the potential of Open-RMF on a large scale map.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/campus.gif" alt=""></p>

<h4 id="demo-scenario-3">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz campus.launch.xml

ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> room_5 campus_4 <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> campus_5 room_3 <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> room_2 dead_end <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<h4 id="robotmanager-integration">RobotManager Integration</h4>
<p><code class="language-plaintext highlighter-rouge">fleet_robotmanager_mqtt_bridge</code> (see <a href="https://github.com/open-rmf/rmf_demos/tree/main/rmf_demos_bridges/rmf_demos_bridges">rmf_demos_bridges</a>) can be used to publish robot locations, battery percentage and state to a <code class="language-plaintext highlighter-rouge">/robot/status/ROBOT-ID</code> websocket endpoint. An instance of RobotManager can be configured to subscribe to this server to receive json messages, which will in turn visualize the robots on RobotManager.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install the prerequisites</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>mosquitto mosquitto-clients

<span class="c"># Start the bridge</span>
ros2 run rmf_demos_bridges fleet_robotmanager_mqtt_bridge <span class="nt">-y</span> 31500 <span class="nt">-x</span> 22000

</code></pre></div></div>

<p>The json messages for the first robot can be echoed using the following example command,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mosquitto_sub <span class="nt">-t</span> /robot/status/00000000-0000-0000-0000-000000000001

</code></pre></div></div>

<hr>
<h3 id="manufacturing--logistics-world">Manufacturing &amp; Logistics World</h3>

<p>An Open-RMF simulation demonstration created by ROS-Industrial Asia Pacific showcasing workcell (conveyor and fixed manipulator), multiple AMR fleets and infrastructure interoperability using the Open Robotics Middleeware Framework (Open-RMF).</p>

<p align="center">
[![Alt text](https://img.youtube.com/vi/oSVQrjx_4w4/0.jpg)](https://www.youtube.com/watch?v=oSVQrjx_4w4)
</p>

<h2 id="other-tools-and-features-demos">Other Tools and Features Demos</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/#Traffic-Light-Robot-Demos">Traffic Light Robot Demos</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/#Additional-Features">Additional Features</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/#Task-Dispatching-in-Open-RMF">Task Dispatching in Open-RMF</a></li>
</ul>

<h3 id="traffic-light-robot-demos">Traffic Light Robot Demos</h3>

<p>Open-RMF can also manage fleets whose API or fleet managers only offer pause and resume commands to control their robots. Such fleets are classified as <code class="language-plaintext highlighter-rouge">traffic_light</code>. To integrate a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet, users are expected to implement a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet adapter based on this <a href="https://github.com/open-rmf/rmf_ros2/blob/main/rmf_fleet_adapter/include/rmf_fleet_adapter/agv/EasyTrafficLight.hpp">API</a>. The <code class="language-plaintext highlighter-rouge">rmf_demos</code> repository contains demonstrations of <code class="language-plaintext highlighter-rouge">traffic_light</code> fleets in various scenarios. A simplistic <code class="language-plaintext highlighter-rouge">mock_traffic_light</code> adapter is used in these demonstrations.</p>

<h4 id="triple-h-scenario">Triple-H scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz triple_H.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos the_pedigree.launch.xml

</code></pre></div></div>
<h4 id="battle-royale-scenario">Battle Royale Scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz battle_royale.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos battle_go.launch.xml

</code></pre></div></div>

<h4 id="office-scenario">Office Scenario:</h4>
<p>Note that <code class="language-plaintext highlighter-rouge">tinyRobot1</code> is a standard “full control” robot, while <code class="language-plaintext highlighter-rouge">tinyRobot2</code> “traffic light” robot.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz office_mock_traffic_light.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos office_traffic_light_test.launch.xml

</code></pre></div></div>

<h3 id="additional-features">Additional Features</h3>
<ul>
  <li>
    <p><strong>Flexible Tasks Scripts</strong>
For more <a href="https://github.com/open-rmf/rmf_demos/tree/jazzy/rmf_demos_tasks/README.md">details</a>.</p>
  </li>
  <li>
    <p><strong>lift watchdog</strong></p>
    <ul>
      <li>The robot can query an external <code class="language-plaintext highlighter-rouge">lift_watchdog_server</code> for the permission to enter the lift cabin during the <code class="language-plaintext highlighter-rouge">LiftSession</code> Phase.</li>
      <li>Command lines:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># run hotel world with lift_watch_dog enabled</span>
    ros2 launch rmf_demos_gz hotel.launch.xml enable_experimental_lift_watchdog:<span class="o">=</span>1

    <span class="c">## On a separate terminal, set lift as crowded</span>
    ros2 launch rmf_demos experimental_crowded_lift.launch.xml

    <span class="c"># Dispatch robot from level1 to level3, robot will wait in front of the lift cabin</span>
    ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L3_room1  L3_room1 <span class="nt">-n</span> 1 <span class="nt">--use_sim_time</span>

    <span class="c"># Lift is cleared. Give robot the permission to enter the lift</span>
    ros2 launch rmf_demos experimental_clear_lift.launch.xml
    
</code></pre></div></div>
<ul>
  <li>
<strong>Custom Docking Sequence</strong>
    <ul>
      <li>Fleet adapter will notify the robot (via <code class="language-plaintext highlighter-rouge">dock()</code> api/ModeRequest) to execute its custom dock sequence when the robot reaches a “dock” waypoint.</li>
      <li>Implementation is similar to Clean task, refer to docs <a href="https://osrf.github.io/ros2multirobotbook/task_types.html?highlight=docking#step-1-defining-waypoints-for-cleaning-in-traffic-editor">here</a>
</li>
    </ul>
  </li>
  <li>
<strong>Emergency Alarm</strong>
    <ul>
      <li>All robots will get directed to the nearest parking spot when the emergency alarm is triggered.</li>
      <li>Command lines:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># toggle alarm ON</span>
    ros2 topic pub <span class="nt">-1</span> /fire_alarm_trigger std_msgs/Bool <span class="s1">'{data: true}'</span>

    <span class="c"># toggle alarm OFF</span>
    ros2 topic pub <span class="nt">-1</span> /fire_alarm_trigger std_msgs/Bool <span class="s1">'{data: false}'</span>
    
</code></pre></div></div>

<h2 id="task-dispatching-in-open-rmf">Task Dispatching in Open-RMF</h2>
<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/jazzy/../media/RMF_Bidding.png" alt=""></p>

<p>In Open-RMF version <code class="language-plaintext highlighter-rouge">21.04</code> and above, tasks are awarded to robot fleets based on the outcome of a bidding process that is orchestrated by a Dispatcher node, <code class="language-plaintext highlighter-rouge">rmf_dispatcher_node</code>. When the Dispatcher receives a new task request from a UI, it sends out a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidNotice</code> message to all the fleet adapters. If a fleet adapter is able to process that request, it submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidProposal</code> message back to the Dispatcher with a cost to accommodate the task. An instance of <code class="language-plaintext highlighter-rouge">rmf_task::agv::TaskPlanner</code> is used by the fleet adapters to determine how best to accommodate the new request. The Dispatcher compares all the <code class="language-plaintext highlighter-rouge">BidProposals</code> received and then submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/DispatchRequest</code> message with the fleet name of the robot that the bid is awarded to. There are a couple different ways the Dispatcher evaluates the proposals such as fastest to finish, lowest cost, etc which can be configured.</p>

<p>Battery recharging is tightly integrated with the new task planner. <code class="language-plaintext highlighter-rouge">ChargeBattery</code> tasks are optimally injected into a robot’s schedule when the robot has insufficient charge to fulfill a series of tasks. Currently we assume each robot in the map has a dedicated charging location as annotated with the <code class="language-plaintext highlighter-rouge">is_charger</code> option in the traffic editor map.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="jazzy-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="jazzy-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#jazzy-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#jazzy-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#jazzy-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="jazzy-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="jazzy-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="jazzy-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmf_demos">rmf_demos</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos">rmf_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_assets">rmf_demos_assets</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_bridges">rmf_demos_bridges</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_fleet_adapter">rmf_demos_fleet_adapter</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_gz">rmf_demos_gz</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_maps">rmf_demos_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_tasks">rmf_demos_tasks</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-rmf_demos
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-rmf_demos" role="menuitem" tabindex="-1" href="/r/rmf_demos/github-open-rmf-rmf_demos" data="github-open-rmf-rmf_demos">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-rmf_demos
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Demonstrations of the Open-RMF</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/open-rmf/rmf_demos.git">https://github.com/open-rmf/rmf_demos.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmf_demos/#kilted-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#kilted-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#kilted-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmf_demos">rmf_demos</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_assets">rmf_demos_assets</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_bridges">rmf_demos_bridges</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_fleet_adapter">rmf_demos_fleet_adapter</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_gz">rmf_demos_gz</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_maps">rmf_demos_maps</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_tasks">rmf_demos_tasks</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rmf-demos">RMF Demos</h1>

<p><img src="https://github.com/open-rmf/rmf_demos/workflows/build/badge.svg" alt="">
<img src="https://github.com/open-rmf/rmf_demos/workflows/style/badge.svg" alt=""></p>

<p>The Open Robotics Middleware Framework (Open-RMF) enables interoperability among heterogeneous robot fleets while managing robot traffic that share resources such as space, building infrastructure systems (lifts, doors, etc) and other automation systems within the same facility. Open-RMF also handles task allocation and conflict resolution  among its participants (de-conflicting traffic lanes and other resources). These capabilities are provided by various libraries in <a href="https://github.com/open-rmf/rmf">Open-RMF</a>.
For more details about Open RMF, refer to the comprehensive documentation provided <a href="https://osrf.github.io/ros2multirobotbook/intro.html">here</a>.</p>

<p>This repository contains demonstrations of the above mentioned capabilities of RMF. It serves as a starting point for working and integrating with Open-RMF.</p>

<p>You can also find a nice demonstration of Open-RMF using <code class="language-plaintext highlighter-rouge">Nav2</code> and <code class="language-plaintext highlighter-rouge">MoveIt!</code> built into the <a href="https://github.com/gazebosim/ionic_demo">Ionic Release Demo</a>.</p>

<p><a href="https://vimeo.com/405803151"><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/thumbnail.png?raw=true" alt="Robotics Middleware Framework"></a></p>

<h4 id="click-to-watch-video">(Click to watch video)</h4>

<h2 id="system-requirements">System Requirements</h2>

<p>These demos were built and tested on</p>

<ul>
  <li>
    <p><a href="https://releases.ubuntu.com/24.04/">Ubuntu 24.04 LTS</a></p>
  </li>
  <li>
    <p><a href="https://docs.ros.org/en/jazzy/Releases/Release-Rolling-Ridley.html">ROS 2 - Rolling</a></p>
  </li>
  <li>
    <p><a href="https://gazebosim.org/docs/ionic">Gazebo Ionic</a></p>
    <blockquote>
      <p>Note: The <code class="language-plaintext highlighter-rouge">main</code> branches of the core RMF libraries are fully supported on ROS 2 Humble, Iron, and Jazzy as well, but you will need to use the distro-specific branches for <code class="language-plaintext highlighter-rouge">rmf_traffic_editor</code> and <code class="language-plaintext highlighter-rouge">rmf_simulation</code>.</p>

      <p>You can use <code class="language-plaintext highlighter-rouge">rmf_demos</code> with any ROS distro by explicitly setting the <code class="language-plaintext highlighter-rouge">gazebo_version:=#</code> launch parameter, replacing <code class="language-plaintext highlighter-rouge">#</code> with the appropriate version of Gazebo for that ROS distro, e.g. <code class="language-plaintext highlighter-rouge">8</code> for <code class="language-plaintext highlighter-rouge">Jazzy</code>.</p>
    </blockquote>
  </li>
</ul>

<h2 id="installation">Installation</h2>
<p>Instructions can be found <a href="https://github.com/open-rmf/rmf">here</a>.</p>

<h2 id="faq">FAQ</h2>
<p>Answers to frequently asked questions can be found <a href="https://github.com/open-rmf/rmf_demos/tree/main/docs/faq.md">here</a>.</p>

<h2 id="roadmap">Roadmap</h2>

<p>A near-term roadmap of the Open-RMF project can be found in the user manual <a href="https://osrf.github.io/ros2multirobotbook/roadmap.html">here</a>.</p>

<h2 id="rmf-web-quick-start">RMF-Web quick start</h2>

<p>Full web application of Open-RMF: <a href="https://github.com/open-rmf/rmf-web">rmf-web</a>.</p>

<p>Start the backend API server via <code class="language-plaintext highlighter-rouge">docker</code> with host network access, using the default configuration. The API server will be accessible at <code class="language-plaintext highlighter-rouge">localhost:8000</code> by default.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--network</span> host <span class="se">\</span>
  <span class="nt">-it</span> <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">ROS_DOMAIN_ID</span><span class="o">=</span>&lt;ROS_DOMAIN_ID&gt; <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>&lt;RMW_IMPLEMENTATION&gt; <span class="se">\</span>
  ghcr.io/open-rmf/rmf-web/api-server:latest

</code></pre></div></div>

<blockquote>
  <p>Note: The API server is also configurable by mounting the configuration file and setting the environment variable <code class="language-plaintext highlighter-rouge">RMF_API_SERVER_CONFIG</code>. In the default configuration, the API serer will use an internal non-persistent database.</p>
</blockquote>

<p>Start the frontend dashboard via <code class="language-plaintext highlighter-rouge">docker</code> with host network access, using the default configuration. The dashboard will be accessible at <code class="language-plaintext highlighter-rouge">localhost:3000</code> by default.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--network</span> host <span class="se">\</span>
  <span class="nt">-it</span> <span class="se">\</span>
  ghcr.io/open-rmf/rmf-web/dashboard:latest

</code></pre></div></div>

<blockquote>
  <p>Note: The dashboard via <code class="language-plaintext highlighter-rouge">docker</code> is not runtime-configurable and is best used for quick integrations and testing. To configure the dashboard, check out <a href="https://github.com/open-rmf/rmf_demos/tree/rmf-web-dashboard-resources/rmf_demos_dashboard_resources">rmf-web-dashboard-resources</a> and the <a href="https://github.com/open-rmf/rmf-web/tree/main/packages/dashboard#configuration">dashboard configuration section</a>.</p>
</blockquote>

<p>In order to interact with the default configuration of the web application, the <code class="language-plaintext highlighter-rouge">server_uri</code> launch parameter will need to be changed to <code class="language-plaintext highlighter-rouge">ws://localhost:8000/_internal</code>, for example,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz office.launch.xml server_uri:<span class="o">=</span><span class="s2">"ws://localhost:8000/_internal"</span>

</code></pre></div></div>

<p>By specifying <code class="language-plaintext highlighter-rouge">server_uri</code>, the fleetadapter will update <code class="language-plaintext highlighter-rouge">rmf-web</code> <code class="language-plaintext highlighter-rouge">api-server</code> with the latest task and robot states. User can then monitor on-going states and initiate rmf task with an interactive web dashboard.</p>

<h2 id="demo-worlds">Demo Worlds</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Hotel-World">Hotel World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Office-World">Office World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Airport-Terminal-World">Airport Terminal World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Clinic-World">Clinic World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Campus-World">Campus World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Manufacturing-&amp;-Logistics-World">Manufacturing &amp; Logistics World</a></li>
</ul>

<hr>

<h3 id="hotel-world">Hotel World</h3>

<p>This hotel world consists of a lobby and 2 guest levels. The hotel has two lifts, multiple doors and 3 robot fleets (4 robots).
This demonstrates an integration of multiple fleets of robots with varying capabilities working together in a multi-level building.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/hotel_world.png" alt=""></p>

<h4 id="demo-scenario">Demo Scenario</h4>

<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz hotel.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_gz hotel.launch.xml

</code></pre></div></div>

<p>Here, we will showcase 2 types of Tasks: <strong>Loop</strong> and <strong>Clean</strong>, you can dispatch them via CLI as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> restaurant  L3_master_suite <span class="nt">-n</span> 1 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> clean_lobby <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots running Clean and Loop Task:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/hotel_scenarios.gif" alt=""></p>

<hr>

<h3 id="office-world">Office World</h3>
<p>An indoor office environment for robots to navigate around. It includes a beverage dispensing station, controllable doors and laneways which are integrated into RMF.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_demos_ws/install/setup.bash
ros2 launch rmf_demos_gz office.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_gz office.launch.xml

</code></pre></div></div>

<p>Now we will showcase 2 types of Tasks: <strong>Delivery</strong> and <strong>Loop</strong></p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/delivery_request.gif?raw=true" alt=""></p>

<p>You can request the robot to deliver a can of coke from <code class="language-plaintext highlighter-rouge">pantry</code> to <code class="language-plaintext highlighter-rouge">hardware_2</code> through the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> pantry <span class="nt">-ph</span> coke_dispenser <span class="nt">-d</span> hardware_2 <span class="nt">-dh</span> coke_ingestor <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>You can also request the robot to move back and forth between <code class="language-plaintext highlighter-rouge">coe</code> and <code class="language-plaintext highlighter-rouge">lounge</code> through the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> coe lounge <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/loop_request.gif" alt=""></p>

<p>The office demo can be run in secure mode using ROS 2 DDS-Security integration. Click <a href="https://github.com/open-rmf/rmf_demos/tree/main/docs/secure_office_world.md">here</a> to learn more.</p>

<hr>

<h3 id="airport-terminal-world">Airport Terminal World</h3>

<p>This demo world shows robot interaction on a much larger map, with a lot more lanes, destinations, robots and possible interactions between robots from different fleets, robots and infrastructure, as well as robots and users. In the illustrations below, from top to bottom we have how the world looks like in <code class="language-plaintext highlighter-rouge">traffic_editor</code>, the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code>, and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code>,</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/airport_terminal_traffic_editor_screenshot.png" alt="">
<img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/airport_terminal_demo_screenshot.png" alt=""></p>

<h4 id="demo-scenario-1">Demo Scenario</h4>
<p>In the airport world, we introduce a new task type to rmf: <code class="language-plaintext highlighter-rouge">Clean</code>. To launch the world:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz airport_terminal.launch.xml

</code></pre></div></div>

<p>You can submit <code class="language-plaintext highlighter-rouge">loop</code>, <code class="language-plaintext highlighter-rouge">delivery</code> or <code class="language-plaintext highlighter-rouge">clean</code> task via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> s07 n12 <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> mopcart_pickup <span class="nt">-ph</span> mopcart_dispenser <span class="nt">-d</span> spill <span class="nt">-dh</span> mopcart_collector <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> zone_3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>To see crowd simulation in action, enable crowd sim by:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz airport_terminal.launch.xml use_crowdsim:<span class="o">=</span>1

</code></pre></div></div>

<p>Non-autonomous vehicles can also be integrated with Open-RMF provided their positions can be localized in the world. This may be of value at facilities where space is shared by autonomous robots as well as manually operated vehicles such as forklifts or transporters. In this demo, we can introduce a vehicle (caddy) which can be driven around through keyboard/joystick teleop. In Open-RMF nomenclature, this vehicle is classified as a <code class="language-plaintext highlighter-rouge">read_only</code> type, ie, Open-RMF can only infer its position in the world but does not have control over its motion. Here, the goal is to have other controllable robots avoid this vehicle’s path by replanning their routes if needed. The model is fitted with a plugin which generates a prediction of the vehicle’s path based on its current heading. It is configured to occupy the same lanes as the <code class="language-plaintext highlighter-rouge">tinyRobot</code> robots. Here, a <code class="language-plaintext highlighter-rouge">read_only_fleet_adapter</code> submits the prediction from the plugin to the Open-RMF schedule.</p>

<p>In the airport terminal map, a <code class="language-plaintext highlighter-rouge">Caddy</code> is spawned in the far right corner and can be controlled with <code class="language-plaintext highlighter-rouge">geometry_msgs/Twist</code> messages published over the <code class="language-plaintext highlighter-rouge">cmd_vel</code> topic.</p>

<p>Run <code class="language-plaintext highlighter-rouge">teleop_twist_keyboard</code> to control the <code class="language-plaintext highlighter-rouge">caddy</code> with your keyboard:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Default launch with gazebo</span>
ros2 run teleop_twist_keyboard teleop_twist_keyboard

ros2 launch rmf_demos_gz airport_terminal_caddy.launch.xml

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/caddy.gif" alt=""></p>

<hr>

<h3 id="clinic-world">Clinic World</h3>

<p>This is a clinic world with two levels and two lifts for the robots. Two different robot fleets with different roles navigate across two levels by lifts. In the illustrations below, we have the view of level 1 in <code class="language-plaintext highlighter-rouge">traffic_editor</code> (top left), the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code> (right), and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code> (bottom left).</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/clinic.png" alt=""></p>

<h4 id="demo-scenario-2">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz clinic.launch.xml

</code></pre></div></div>

<p>You can submit tasks via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L1_left_nurse_center L2_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L2_north_counter L1_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots taking lift:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/robot_taking_lift.gif" alt=""></p>

<p>Multi-fleet demo:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/clinic.gif" alt=""></p>

<hr>
<h3 id="campus-world">Campus World</h3>

<p>This is a larger scale “Campus” World. In this world, there are multiple delivery robots that operate. The world is designed and traffic lanes are annotated at the planet scale, using GPS WGS84 coordinates. Each robot is also streaming its location in WGS84 coordinates, which are processed by its fleet adapter. This demo intends to show the potential of Open-RMF on a large scale map.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/campus.gif" alt=""></p>

<h4 id="demo-scenario-3">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz campus.launch.xml

ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> room_5 campus_4 <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> campus_5 room_3 <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> room_2 dead_end <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<h4 id="robotmanager-integration">RobotManager Integration</h4>
<p><code class="language-plaintext highlighter-rouge">fleet_robotmanager_mqtt_bridge</code> (see <a href="https://github.com/open-rmf/rmf_demos/tree/main/rmf_demos_bridges/rmf_demos_bridges">rmf_demos_bridges</a>) can be used to publish robot locations, battery percentage and state to a <code class="language-plaintext highlighter-rouge">/robot/status/ROBOT-ID</code> websocket endpoint. An instance of RobotManager can be configured to subscribe to this server to receive json messages, which will in turn visualize the robots on RobotManager.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install the prerequisites</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>mosquitto mosquitto-clients

<span class="c"># Start the bridge</span>
ros2 run rmf_demos_bridges fleet_robotmanager_mqtt_bridge <span class="nt">-y</span> 31500 <span class="nt">-x</span> 22000

</code></pre></div></div>

<p>The json messages for the first robot can be echoed using the following example command,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mosquitto_sub <span class="nt">-t</span> /robot/status/00000000-0000-0000-0000-000000000001

</code></pre></div></div>

<hr>
<h3 id="manufacturing--logistics-world">Manufacturing &amp; Logistics World</h3>

<p>An Open-RMF simulation demonstration created by ROS-Industrial Asia Pacific showcasing workcell (conveyor and fixed manipulator), multiple AMR fleets and infrastructure interoperability using the Open Robotics Middleeware Framework (Open-RMF).</p>

<p align="center">
[![Alt text](https://img.youtube.com/vi/oSVQrjx_4w4/0.jpg)](https://www.youtube.com/watch?v=oSVQrjx_4w4)
</p>

<h2 id="other-tools-and-features-demos">Other Tools and Features Demos</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Traffic-Light-Robot-Demos">Traffic Light Robot Demos</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Additional-Features">Additional Features</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Task-Dispatching-in-Open-RMF">Task Dispatching in Open-RMF</a></li>
</ul>

<h3 id="traffic-light-robot-demos">Traffic Light Robot Demos</h3>

<p>Open-RMF can also manage fleets whose API or fleet managers only offer pause and resume commands to control their robots. Such fleets are classified as <code class="language-plaintext highlighter-rouge">traffic_light</code>. To integrate a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet, users are expected to implement a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet adapter based on this <a href="https://github.com/open-rmf/rmf_ros2/blob/main/rmf_fleet_adapter/include/rmf_fleet_adapter/agv/EasyTrafficLight.hpp">API</a>. The <code class="language-plaintext highlighter-rouge">rmf_demos</code> repository contains demonstrations of <code class="language-plaintext highlighter-rouge">traffic_light</code> fleets in various scenarios. A simplistic <code class="language-plaintext highlighter-rouge">mock_traffic_light</code> adapter is used in these demonstrations.</p>

<h4 id="triple-h-scenario">Triple-H scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz triple_H.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos the_pedigree.launch.xml

</code></pre></div></div>
<h4 id="battle-royale-scenario">Battle Royale Scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz battle_royale.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos battle_go.launch.xml

</code></pre></div></div>

<h4 id="office-scenario">Office Scenario:</h4>
<p>Note that <code class="language-plaintext highlighter-rouge">tinyRobot1</code> is a standard “full control” robot, while <code class="language-plaintext highlighter-rouge">tinyRobot2</code> “traffic light” robot.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz office_mock_traffic_light.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos office_traffic_light_test.launch.xml

</code></pre></div></div>

<h3 id="additional-features">Additional Features</h3>
<ul>
  <li>
    <p><strong>Flexible Tasks Scripts</strong>
For more <a href="https://github.com/open-rmf/rmf_demos/tree/main/rmf_demos_tasks/README.md">details</a>.</p>
  </li>
  <li>
    <p><strong>lift watchdog</strong></p>
    <ul>
      <li>The robot can query an external <code class="language-plaintext highlighter-rouge">lift_watchdog_server</code> for the permission to enter the lift cabin during the <code class="language-plaintext highlighter-rouge">LiftSession</code> Phase.</li>
      <li>Command lines:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># run hotel world with lift_watch_dog enabled</span>
    ros2 launch rmf_demos_gz hotel.launch.xml enable_experimental_lift_watchdog:<span class="o">=</span>1

    <span class="c">## On a separate terminal, set lift as crowded</span>
    ros2 launch rmf_demos experimental_crowded_lift.launch.xml

    <span class="c"># Dispatch robot from level1 to level3, robot will wait in front of the lift cabin</span>
    ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L3_room1  L3_room1 <span class="nt">-n</span> 1 <span class="nt">--use_sim_time</span>

    <span class="c"># Lift is cleared. Give robot the permission to enter the lift</span>
    ros2 launch rmf_demos experimental_clear_lift.launch.xml
    
</code></pre></div></div>
<ul>
  <li>
<strong>Custom Docking Sequence</strong>
    <ul>
      <li>Fleet adapter will notify the robot (via <code class="language-plaintext highlighter-rouge">dock()</code> api/ModeRequest) to execute its custom dock sequence when the robot reaches a “dock” waypoint.</li>
      <li>Implementation is similar to Clean task, refer to docs <a href="https://osrf.github.io/ros2multirobotbook/task_types.html?highlight=docking#step-1-defining-waypoints-for-cleaning-in-traffic-editor">here</a>
</li>
    </ul>
  </li>
  <li>
<strong>Emergency Alarm</strong>
    <ul>
      <li>All robots will get directed to the nearest parking spot when the emergency alarm is triggered.</li>
      <li>Command lines:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># toggle alarm ON</span>
    ros2 topic pub <span class="nt">-1</span> /fire_alarm_trigger std_msgs/Bool <span class="s1">'{data: true}'</span>

    <span class="c"># toggle alarm OFF</span>
    ros2 topic pub <span class="nt">-1</span> /fire_alarm_trigger std_msgs/Bool <span class="s1">'{data: false}'</span>
    
</code></pre></div></div>

<h2 id="task-dispatching-in-open-rmf">Task Dispatching in Open-RMF</h2>
<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/RMF_Bidding.png" alt=""></p>

<p>In Open-RMF version <code class="language-plaintext highlighter-rouge">21.04</code> and above, tasks are awarded to robot fleets based on the outcome of a bidding process that is orchestrated by a Dispatcher node, <code class="language-plaintext highlighter-rouge">rmf_dispatcher_node</code>. When the Dispatcher receives a new task request from a UI, it sends out a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidNotice</code> message to all the fleet adapters. If a fleet adapter is able to process that request, it submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidProposal</code> message back to the Dispatcher with a cost to accommodate the task. An instance of <code class="language-plaintext highlighter-rouge">rmf_task::agv::TaskPlanner</code> is used by the fleet adapters to determine how best to accommodate the new request. The Dispatcher compares all the <code class="language-plaintext highlighter-rouge">BidProposals</code> received and then submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/DispatchRequest</code> message with the fleet name of the robot that the bid is awarded to. There are a couple different ways the Dispatcher evaluates the proposals such as fastest to finish, lowest cost, etc which can be configured.</p>

<p>Battery recharging is tightly integrated with the new task planner. <code class="language-plaintext highlighter-rouge">ChargeBattery</code> tasks are optimally injected into a robot’s schedule when the robot has insufficient charge to fulfill a series of tasks. Currently we assume each robot in the map has a dedicated charging location as annotated with the <code class="language-plaintext highlighter-rouge">is_charger</code> option in the traffic editor map.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="kilted-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="kilted-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#kilted-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#kilted-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#kilted-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="kilted-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="kilted-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="kilted-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmf_demos">rmf_demos</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos">rmf_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_assets">rmf_demos_assets</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_bridges">rmf_demos_bridges</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_fleet_adapter">rmf_demos_fleet_adapter</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_gz">rmf_demos_gz</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_maps">rmf_demos_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_tasks">rmf_demos_tasks</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-rmf_demos
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-rmf_demos" role="menuitem" tabindex="-1" href="/r/rmf_demos/github-open-rmf-rmf_demos" data="github-open-rmf-rmf_demos">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-rmf_demos
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Demonstrations of the Open-RMF</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/open-rmf/rmf_demos.git">https://github.com/open-rmf/rmf_demos.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmf_demos/#rolling-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#rolling-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#rolling-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmf_demos">rmf_demos</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_assets">rmf_demos_assets</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_bridges">rmf_demos_bridges</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_fleet_adapter">rmf_demos_fleet_adapter</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_gz">rmf_demos_gz</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_maps">rmf_demos_maps</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_tasks">rmf_demos_tasks</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rmf-demos">RMF Demos</h1>

<p><img src="https://github.com/open-rmf/rmf_demos/workflows/build/badge.svg" alt="">
<img src="https://github.com/open-rmf/rmf_demos/workflows/style/badge.svg" alt=""></p>

<p>The Open Robotics Middleware Framework (Open-RMF) enables interoperability among heterogeneous robot fleets while managing robot traffic that share resources such as space, building infrastructure systems (lifts, doors, etc) and other automation systems within the same facility. Open-RMF also handles task allocation and conflict resolution  among its participants (de-conflicting traffic lanes and other resources). These capabilities are provided by various libraries in <a href="https://github.com/open-rmf/rmf">Open-RMF</a>.
For more details about Open RMF, refer to the comprehensive documentation provided <a href="https://osrf.github.io/ros2multirobotbook/intro.html">here</a>.</p>

<p>This repository contains demonstrations of the above mentioned capabilities of RMF. It serves as a starting point for working and integrating with Open-RMF.</p>

<p>You can also find a nice demonstration of Open-RMF using <code class="language-plaintext highlighter-rouge">Nav2</code> and <code class="language-plaintext highlighter-rouge">MoveIt!</code> built into the <a href="https://github.com/gazebosim/ionic_demo">Ionic Release Demo</a>.</p>

<p><a href="https://vimeo.com/405803151"><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/thumbnail.png?raw=true" alt="Robotics Middleware Framework"></a></p>

<h4 id="click-to-watch-video">(Click to watch video)</h4>

<h2 id="system-requirements">System Requirements</h2>

<p>These demos were built and tested on</p>

<ul>
  <li>
    <p><a href="https://releases.ubuntu.com/24.04/">Ubuntu 24.04 LTS</a></p>
  </li>
  <li>
    <p><a href="https://docs.ros.org/en/jazzy/Releases/Release-Rolling-Ridley.html">ROS 2 - Rolling</a></p>
  </li>
  <li>
    <p><a href="https://gazebosim.org/docs/ionic">Gazebo Ionic</a></p>
    <blockquote>
      <p>Note: The <code class="language-plaintext highlighter-rouge">main</code> branches of the core RMF libraries are fully supported on ROS 2 Humble, Iron, and Jazzy as well, but you will need to use the distro-specific branches for <code class="language-plaintext highlighter-rouge">rmf_traffic_editor</code> and <code class="language-plaintext highlighter-rouge">rmf_simulation</code>.</p>

      <p>You can use <code class="language-plaintext highlighter-rouge">rmf_demos</code> with any ROS distro by explicitly setting the <code class="language-plaintext highlighter-rouge">gazebo_version:=#</code> launch parameter, replacing <code class="language-plaintext highlighter-rouge">#</code> with the appropriate version of Gazebo for that ROS distro, e.g. <code class="language-plaintext highlighter-rouge">8</code> for <code class="language-plaintext highlighter-rouge">Jazzy</code>.</p>
    </blockquote>
  </li>
</ul>

<h2 id="installation">Installation</h2>
<p>Instructions can be found <a href="https://github.com/open-rmf/rmf">here</a>.</p>

<h2 id="faq">FAQ</h2>
<p>Answers to frequently asked questions can be found <a href="https://github.com/open-rmf/rmf_demos/tree/main/docs/faq.md">here</a>.</p>

<h2 id="roadmap">Roadmap</h2>

<p>A near-term roadmap of the Open-RMF project can be found in the user manual <a href="https://osrf.github.io/ros2multirobotbook/roadmap.html">here</a>.</p>

<h2 id="rmf-web-quick-start">RMF-Web quick start</h2>

<p>Full web application of Open-RMF: <a href="https://github.com/open-rmf/rmf-web">rmf-web</a>.</p>

<p>Start the backend API server via <code class="language-plaintext highlighter-rouge">docker</code> with host network access, using the default configuration. The API server will be accessible at <code class="language-plaintext highlighter-rouge">localhost:8000</code> by default.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--network</span> host <span class="se">\</span>
  <span class="nt">-it</span> <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">ROS_DOMAIN_ID</span><span class="o">=</span>&lt;ROS_DOMAIN_ID&gt; <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>&lt;RMW_IMPLEMENTATION&gt; <span class="se">\</span>
  ghcr.io/open-rmf/rmf-web/api-server:latest

</code></pre></div></div>

<blockquote>
  <p>Note: The API server is also configurable by mounting the configuration file and setting the environment variable <code class="language-plaintext highlighter-rouge">RMF_API_SERVER_CONFIG</code>. In the default configuration, the API serer will use an internal non-persistent database.</p>
</blockquote>

<p>Start the frontend dashboard via <code class="language-plaintext highlighter-rouge">docker</code> with host network access, using the default configuration. The dashboard will be accessible at <code class="language-plaintext highlighter-rouge">localhost:3000</code> by default.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--network</span> host <span class="se">\</span>
  <span class="nt">-it</span> <span class="se">\</span>
  ghcr.io/open-rmf/rmf-web/dashboard:latest

</code></pre></div></div>

<blockquote>
  <p>Note: The dashboard via <code class="language-plaintext highlighter-rouge">docker</code> is not runtime-configurable and is best used for quick integrations and testing. To configure the dashboard, check out <a href="https://github.com/open-rmf/rmf_demos/tree/rmf-web-dashboard-resources/rmf_demos_dashboard_resources">rmf-web-dashboard-resources</a> and the <a href="https://github.com/open-rmf/rmf-web/tree/main/packages/dashboard#configuration">dashboard configuration section</a>.</p>
</blockquote>

<p>In order to interact with the default configuration of the web application, the <code class="language-plaintext highlighter-rouge">server_uri</code> launch parameter will need to be changed to <code class="language-plaintext highlighter-rouge">ws://localhost:8000/_internal</code>, for example,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz office.launch.xml server_uri:<span class="o">=</span><span class="s2">"ws://localhost:8000/_internal"</span>

</code></pre></div></div>

<p>By specifying <code class="language-plaintext highlighter-rouge">server_uri</code>, the fleetadapter will update <code class="language-plaintext highlighter-rouge">rmf-web</code> <code class="language-plaintext highlighter-rouge">api-server</code> with the latest task and robot states. User can then monitor on-going states and initiate rmf task with an interactive web dashboard.</p>

<h2 id="demo-worlds">Demo Worlds</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Hotel-World">Hotel World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Office-World">Office World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Airport-Terminal-World">Airport Terminal World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Clinic-World">Clinic World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Campus-World">Campus World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Manufacturing-&amp;-Logistics-World">Manufacturing &amp; Logistics World</a></li>
</ul>

<hr>

<h3 id="hotel-world">Hotel World</h3>

<p>This hotel world consists of a lobby and 2 guest levels. The hotel has two lifts, multiple doors and 3 robot fleets (4 robots).
This demonstrates an integration of multiple fleets of robots with varying capabilities working together in a multi-level building.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/hotel_world.png" alt=""></p>

<h4 id="demo-scenario">Demo Scenario</h4>

<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz hotel.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_gz hotel.launch.xml

</code></pre></div></div>

<p>Here, we will showcase 2 types of Tasks: <strong>Loop</strong> and <strong>Clean</strong>, you can dispatch them via CLI as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> restaurant  L3_master_suite <span class="nt">-n</span> 1 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> clean_lobby <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots running Clean and Loop Task:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/hotel_scenarios.gif" alt=""></p>

<hr>

<h3 id="office-world">Office World</h3>
<p>An indoor office environment for robots to navigate around. It includes a beverage dispensing station, controllable doors and laneways which are integrated into RMF.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_demos_ws/install/setup.bash
ros2 launch rmf_demos_gz office.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_gz office.launch.xml

</code></pre></div></div>

<p>Now we will showcase 2 types of Tasks: <strong>Delivery</strong> and <strong>Loop</strong></p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/delivery_request.gif?raw=true" alt=""></p>

<p>You can request the robot to deliver a can of coke from <code class="language-plaintext highlighter-rouge">pantry</code> to <code class="language-plaintext highlighter-rouge">hardware_2</code> through the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> pantry <span class="nt">-ph</span> coke_dispenser <span class="nt">-d</span> hardware_2 <span class="nt">-dh</span> coke_ingestor <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>You can also request the robot to move back and forth between <code class="language-plaintext highlighter-rouge">coe</code> and <code class="language-plaintext highlighter-rouge">lounge</code> through the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> coe lounge <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/loop_request.gif" alt=""></p>

<p>The office demo can be run in secure mode using ROS 2 DDS-Security integration. Click <a href="https://github.com/open-rmf/rmf_demos/tree/main/docs/secure_office_world.md">here</a> to learn more.</p>

<hr>

<h3 id="airport-terminal-world">Airport Terminal World</h3>

<p>This demo world shows robot interaction on a much larger map, with a lot more lanes, destinations, robots and possible interactions between robots from different fleets, robots and infrastructure, as well as robots and users. In the illustrations below, from top to bottom we have how the world looks like in <code class="language-plaintext highlighter-rouge">traffic_editor</code>, the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code>, and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code>,</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/airport_terminal_traffic_editor_screenshot.png" alt="">
<img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/airport_terminal_demo_screenshot.png" alt=""></p>

<h4 id="demo-scenario-1">Demo Scenario</h4>
<p>In the airport world, we introduce a new task type to rmf: <code class="language-plaintext highlighter-rouge">Clean</code>. To launch the world:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz airport_terminal.launch.xml

</code></pre></div></div>

<p>You can submit <code class="language-plaintext highlighter-rouge">loop</code>, <code class="language-plaintext highlighter-rouge">delivery</code> or <code class="language-plaintext highlighter-rouge">clean</code> task via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> s07 n12 <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> mopcart_pickup <span class="nt">-ph</span> mopcart_dispenser <span class="nt">-d</span> spill <span class="nt">-dh</span> mopcart_collector <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> zone_3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>To see crowd simulation in action, enable crowd sim by:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz airport_terminal.launch.xml use_crowdsim:<span class="o">=</span>1

</code></pre></div></div>

<p>Non-autonomous vehicles can also be integrated with Open-RMF provided their positions can be localized in the world. This may be of value at facilities where space is shared by autonomous robots as well as manually operated vehicles such as forklifts or transporters. In this demo, we can introduce a vehicle (caddy) which can be driven around through keyboard/joystick teleop. In Open-RMF nomenclature, this vehicle is classified as a <code class="language-plaintext highlighter-rouge">read_only</code> type, ie, Open-RMF can only infer its position in the world but does not have control over its motion. Here, the goal is to have other controllable robots avoid this vehicle’s path by replanning their routes if needed. The model is fitted with a plugin which generates a prediction of the vehicle’s path based on its current heading. It is configured to occupy the same lanes as the <code class="language-plaintext highlighter-rouge">tinyRobot</code> robots. Here, a <code class="language-plaintext highlighter-rouge">read_only_fleet_adapter</code> submits the prediction from the plugin to the Open-RMF schedule.</p>

<p>In the airport terminal map, a <code class="language-plaintext highlighter-rouge">Caddy</code> is spawned in the far right corner and can be controlled with <code class="language-plaintext highlighter-rouge">geometry_msgs/Twist</code> messages published over the <code class="language-plaintext highlighter-rouge">cmd_vel</code> topic.</p>

<p>Run <code class="language-plaintext highlighter-rouge">teleop_twist_keyboard</code> to control the <code class="language-plaintext highlighter-rouge">caddy</code> with your keyboard:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Default launch with gazebo</span>
ros2 run teleop_twist_keyboard teleop_twist_keyboard

ros2 launch rmf_demos_gz airport_terminal_caddy.launch.xml

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/caddy.gif" alt=""></p>

<hr>

<h3 id="clinic-world">Clinic World</h3>

<p>This is a clinic world with two levels and two lifts for the robots. Two different robot fleets with different roles navigate across two levels by lifts. In the illustrations below, we have the view of level 1 in <code class="language-plaintext highlighter-rouge">traffic_editor</code> (top left), the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code> (right), and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code> (bottom left).</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/clinic.png" alt=""></p>

<h4 id="demo-scenario-2">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz clinic.launch.xml

</code></pre></div></div>

<p>You can submit tasks via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L1_left_nurse_center L2_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L2_north_counter L1_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots taking lift:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/robot_taking_lift.gif" alt=""></p>

<p>Multi-fleet demo:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/clinic.gif" alt=""></p>

<hr>
<h3 id="campus-world">Campus World</h3>

<p>This is a larger scale “Campus” World. In this world, there are multiple delivery robots that operate. The world is designed and traffic lanes are annotated at the planet scale, using GPS WGS84 coordinates. Each robot is also streaming its location in WGS84 coordinates, which are processed by its fleet adapter. This demo intends to show the potential of Open-RMF on a large scale map.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/campus.gif" alt=""></p>

<h4 id="demo-scenario-3">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz campus.launch.xml

ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> room_5 campus_4 <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> campus_5 room_3 <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> room_2 dead_end <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<h4 id="robotmanager-integration">RobotManager Integration</h4>
<p><code class="language-plaintext highlighter-rouge">fleet_robotmanager_mqtt_bridge</code> (see <a href="https://github.com/open-rmf/rmf_demos/tree/main/rmf_demos_bridges/rmf_demos_bridges">rmf_demos_bridges</a>) can be used to publish robot locations, battery percentage and state to a <code class="language-plaintext highlighter-rouge">/robot/status/ROBOT-ID</code> websocket endpoint. An instance of RobotManager can be configured to subscribe to this server to receive json messages, which will in turn visualize the robots on RobotManager.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install the prerequisites</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>mosquitto mosquitto-clients

<span class="c"># Start the bridge</span>
ros2 run rmf_demos_bridges fleet_robotmanager_mqtt_bridge <span class="nt">-y</span> 31500 <span class="nt">-x</span> 22000

</code></pre></div></div>

<p>The json messages for the first robot can be echoed using the following example command,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mosquitto_sub <span class="nt">-t</span> /robot/status/00000000-0000-0000-0000-000000000001

</code></pre></div></div>

<hr>
<h3 id="manufacturing--logistics-world">Manufacturing &amp; Logistics World</h3>

<p>An Open-RMF simulation demonstration created by ROS-Industrial Asia Pacific showcasing workcell (conveyor and fixed manipulator), multiple AMR fleets and infrastructure interoperability using the Open Robotics Middleeware Framework (Open-RMF).</p>

<p align="center">
[![Alt text](https://img.youtube.com/vi/oSVQrjx_4w4/0.jpg)](https://www.youtube.com/watch?v=oSVQrjx_4w4)
</p>

<h2 id="other-tools-and-features-demos">Other Tools and Features Demos</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Traffic-Light-Robot-Demos">Traffic Light Robot Demos</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Additional-Features">Additional Features</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Task-Dispatching-in-Open-RMF">Task Dispatching in Open-RMF</a></li>
</ul>

<h3 id="traffic-light-robot-demos">Traffic Light Robot Demos</h3>

<p>Open-RMF can also manage fleets whose API or fleet managers only offer pause and resume commands to control their robots. Such fleets are classified as <code class="language-plaintext highlighter-rouge">traffic_light</code>. To integrate a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet, users are expected to implement a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet adapter based on this <a href="https://github.com/open-rmf/rmf_ros2/blob/main/rmf_fleet_adapter/include/rmf_fleet_adapter/agv/EasyTrafficLight.hpp">API</a>. The <code class="language-plaintext highlighter-rouge">rmf_demos</code> repository contains demonstrations of <code class="language-plaintext highlighter-rouge">traffic_light</code> fleets in various scenarios. A simplistic <code class="language-plaintext highlighter-rouge">mock_traffic_light</code> adapter is used in these demonstrations.</p>

<h4 id="triple-h-scenario">Triple-H scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz triple_H.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos the_pedigree.launch.xml

</code></pre></div></div>
<h4 id="battle-royale-scenario">Battle Royale Scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz battle_royale.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos battle_go.launch.xml

</code></pre></div></div>

<h4 id="office-scenario">Office Scenario:</h4>
<p>Note that <code class="language-plaintext highlighter-rouge">tinyRobot1</code> is a standard “full control” robot, while <code class="language-plaintext highlighter-rouge">tinyRobot2</code> “traffic light” robot.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz office_mock_traffic_light.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos office_traffic_light_test.launch.xml

</code></pre></div></div>

<h3 id="additional-features">Additional Features</h3>
<ul>
  <li>
    <p><strong>Flexible Tasks Scripts</strong>
For more <a href="https://github.com/open-rmf/rmf_demos/tree/main/rmf_demos_tasks/README.md">details</a>.</p>
  </li>
  <li>
    <p><strong>lift watchdog</strong></p>
    <ul>
      <li>The robot can query an external <code class="language-plaintext highlighter-rouge">lift_watchdog_server</code> for the permission to enter the lift cabin during the <code class="language-plaintext highlighter-rouge">LiftSession</code> Phase.</li>
      <li>Command lines:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># run hotel world with lift_watch_dog enabled</span>
    ros2 launch rmf_demos_gz hotel.launch.xml enable_experimental_lift_watchdog:<span class="o">=</span>1

    <span class="c">## On a separate terminal, set lift as crowded</span>
    ros2 launch rmf_demos experimental_crowded_lift.launch.xml

    <span class="c"># Dispatch robot from level1 to level3, robot will wait in front of the lift cabin</span>
    ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L3_room1  L3_room1 <span class="nt">-n</span> 1 <span class="nt">--use_sim_time</span>

    <span class="c"># Lift is cleared. Give robot the permission to enter the lift</span>
    ros2 launch rmf_demos experimental_clear_lift.launch.xml
    
</code></pre></div></div>
<ul>
  <li>
<strong>Custom Docking Sequence</strong>
    <ul>
      <li>Fleet adapter will notify the robot (via <code class="language-plaintext highlighter-rouge">dock()</code> api/ModeRequest) to execute its custom dock sequence when the robot reaches a “dock” waypoint.</li>
      <li>Implementation is similar to Clean task, refer to docs <a href="https://osrf.github.io/ros2multirobotbook/task_types.html?highlight=docking#step-1-defining-waypoints-for-cleaning-in-traffic-editor">here</a>
</li>
    </ul>
  </li>
  <li>
<strong>Emergency Alarm</strong>
    <ul>
      <li>All robots will get directed to the nearest parking spot when the emergency alarm is triggered.</li>
      <li>Command lines:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># toggle alarm ON</span>
    ros2 topic pub <span class="nt">-1</span> /fire_alarm_trigger std_msgs/Bool <span class="s1">'{data: true}'</span>

    <span class="c"># toggle alarm OFF</span>
    ros2 topic pub <span class="nt">-1</span> /fire_alarm_trigger std_msgs/Bool <span class="s1">'{data: false}'</span>
    
</code></pre></div></div>

<h2 id="task-dispatching-in-open-rmf">Task Dispatching in Open-RMF</h2>
<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/RMF_Bidding.png" alt=""></p>

<p>In Open-RMF version <code class="language-plaintext highlighter-rouge">21.04</code> and above, tasks are awarded to robot fleets based on the outcome of a bidding process that is orchestrated by a Dispatcher node, <code class="language-plaintext highlighter-rouge">rmf_dispatcher_node</code>. When the Dispatcher receives a new task request from a UI, it sends out a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidNotice</code> message to all the fleet adapters. If a fleet adapter is able to process that request, it submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidProposal</code> message back to the Dispatcher with a cost to accommodate the task. An instance of <code class="language-plaintext highlighter-rouge">rmf_task::agv::TaskPlanner</code> is used by the fleet adapters to determine how best to accommodate the new request. The Dispatcher compares all the <code class="language-plaintext highlighter-rouge">BidProposals</code> received and then submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/DispatchRequest</code> message with the fleet name of the robot that the bid is awarded to. There are a couple different ways the Dispatcher evaluates the proposals such as fastest to finish, lowest cost, etc which can be configured.</p>

<p>Battery recharging is tightly integrated with the new task planner. <code class="language-plaintext highlighter-rouge">ChargeBattery</code> tasks are optimally injected into a robot’s schedule when the robot has insufficient charge to fulfill a series of tasks. Currently we assume each robot in the map has a dedicated charging location as annotated with the <code class="language-plaintext highlighter-rouge">is_charger</code> option in the traffic editor map.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="rolling-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="rolling-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#rolling-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#rolling-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#rolling-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="rolling-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="rolling-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="rolling-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmf_demos">rmf_demos</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-rmf_demos
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-rmf_demos" role="menuitem" tabindex="-1" href="/r/rmf_demos/github-open-rmf-rmf_demos" data="github-open-rmf-rmf_demos">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-rmf_demos
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmf_demos">rmf_demos</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-rmf_demos
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-rmf_demos" role="menuitem" tabindex="-1" href="/r/rmf_demos/github-open-rmf-rmf_demos" data="github-open-rmf-rmf_demos">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-rmf_demos
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmf_demos">rmf_demos</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos">rmf_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_assets">rmf_demos_assets</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_dashboard_resources">rmf_demos_dashboard_resources</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_gz">rmf_demos_gz</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_ign">rmf_demos_ign</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_maps">rmf_demos_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_panel">rmf_demos_panel</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_tasks">rmf_demos_tasks</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-rmf_demos
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-rmf_demos" role="menuitem" tabindex="-1" href="/r/rmf_demos/github-open-rmf-rmf_demos" data="github-open-rmf-rmf_demos">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-rmf_demos
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Demonstrations of the Open-RMF</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/open-rmf/rmf_demos.git">https://github.com/open-rmf/rmf_demos.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">galactic</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2021-12-01
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmf_demos/#galactic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#galactic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#galactic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmf_demos">rmf_demos</a></td>
                    <td>1.3.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_assets">rmf_demos_assets</a></td>
                    <td>1.3.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_dashboard_resources">rmf_demos_dashboard_resources</a></td>
                    <td>1.3.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_gz">rmf_demos_gz</a></td>
                    <td>1.3.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_ign">rmf_demos_ign</a></td>
                    <td>1.3.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_maps">rmf_demos_maps</a></td>
                    <td>1.3.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_panel">rmf_demos_panel</a></td>
                    <td>1.3.2</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_tasks">rmf_demos_tasks</a></td>
                    <td>1.3.2</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rmf-demos">RMF Demos</h1>

<p><img src="https://github.com/open-rmf/rmf_demos/workflows/build/badge.svg" alt="">
<img src="https://github.com/open-rmf/rmf_demos/workflows/style/badge.svg" alt=""></p>

<p>The Robotics Middleware Framework (RMF) enables interoperability among heterogeneous robot fleets while managing robot traffic that share resources such as space, building infrastructure systems (lifts, doors, etc) and other automation systems within the same facility. RMF also handles task allocation and conflict resolution  among its participants (de-conflicting traffic lanes and other resources). These capabilities are provided by various libraries in <a href="https://github.com/open-rmf/rmf">RMF</a>.
More details about RMF, refer to the comprehensive documentation provided <a href="https://osrf.github.io/ros2multirobotbook/intro.html">here</a>.</p>

<p>This repository contains demonstrations of the above mentioned capabilities of RMF. It serves as a starting point for working and integrating with RMF.</p>

<p><a href="https://vimeo.com/405803151"><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/thumbnail.png?raw=true" alt="Robotics Middleware Framework"></a></p>

<h4 id="click-to-watch-video">(Click to watch video)</h4>

<h2 id="system-requirements">System Requirements</h2>

<p>These demos were developed and tested on</p>

<ul>
  <li>
    <p><a href="https://releases.ubuntu.com/20.04/">Ubuntu 20.04 LTS</a></p>
  </li>
  <li>
    <p><a href="https://index.ros.org/doc/ros2/Releases/Release-Foxy-Fitzroy/">ROS 2 - Foxy</a></p>
  </li>
  <li>
    <p><a href="http://gazebosim.org/">Gazebo 11.1.0</a></p>
  </li>
</ul>

<h2 id="installation">Installation</h2>
<p>Instructions can be found <a href="https://github.com/open-rmf/rmf">here</a>.</p>

<h2 id="faq">FAQ</h2>
<p>Answers to frequently asked questions can be found <a href="https://github.com/open-rmf/rmf_demos/tree/galactic/docs/faq.md">here</a>.</p>

<h2 id="roadmap">Roadmap</h2>

<p>A near-term roadmap of the RMF project can be found in the user manual <a href="https://osrf.github.io/ros2multirobotbook/roadmap.html">here</a>.</p>

<h2 id="rmf-web">RMF-Web</h2>

<p>Full web application of RMF: <a href="https://github.com/open-rmf/rmf-web">rmf-web</a>.</p>

<h2 id="demo-worlds">Demo Worlds</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/galactic/#Office-World">Office World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/galactic/#Airport-Terminal-World">Airport Terminal World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/galactic/#Clinic-World">Clinic World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/galactic/#Hotel-World">Hotel World</a></li>
</ul>

<blockquote>
  <p>Note: When running the demos on Ubuntu 18.04 (not officially supported), you are required to explicitly supply gazebo_version launch argument. Eg:
ros2 launch rmf_demos_gz office.launch.xml gazebo_version:=9</p>
</blockquote>

<blockquote>
  <p>To run the demos using Ignition instead of Gazebo, change the commands from <code class="language-plaintext highlighter-rouge">ros2 launch rmf_demos_gz [...]</code> to <code class="language-plaintext highlighter-rouge">ros2 launch rmf_demos_ign [...]</code></p>
</blockquote>

<p><strong>RMF Panel</strong>
<img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/RMF_Panel.png?raw=true" alt=""></p>

<p>Click this link: https://open-rmf.github.io/rmf-panel-js/</p>

<blockquote>
  <p>For a full-proof web application of RMF, please refer to <a href="https://github.com/open-rmf/rmf-web">rmf-web</a>.</p>
</blockquote>

<p>The <a href="https://github.com/open-rmf/rmf-panel-js">RMF panel</a> is a web based dashboard for interacting with rmf_demos. It allows users to send task requests to RMF and monitor the status of robots and submitted tasks. For more <a href="https://github.com/open-rmf/rmf_demos/tree/galactic/rmf_demos_panel/README.md">details</a>.</p>

<p>There are two main modes of submitting tasks to RMF via the Panel:</p>

<ol>
  <li>Submit a Task: Used to submit a single task.</li>
  <li>Submit a List of Tasks: Used to submit a batch of tasks. A <code class="language-plaintext highlighter-rouge">.json</code> file containing a list of tasks may be loaded via the <code class="language-plaintext highlighter-rouge">Choose file</code> button. Some example files are found in <code class="language-plaintext highlighter-rouge">rmf_demos_panel/task_lists</code>.</li>
</ol>

<hr>

<h3 id="office-world">Office World</h3>
<p>An indoor office environment for robots to navigate around. It includes a beverage dispensing station, controllable doors and laneways which are integrated into RMF.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_demos_ws/install/setup.bash
ros2 launch rmf_demos_gz office.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_ign office.launch.xml

</code></pre></div></div>

<p>Now we will showcase 2 types of Tasks: <strong>Delivery</strong> and <strong>Loop</strong></p>

<p>To send task requests, open rmf_demos web panel: https://open-rmf.github.io/rmf-panel-js/</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/delivery_request.gif?raw=true" alt=""></p>

<p>To submit a <strong>delivery task</strong>, select <code class="language-plaintext highlighter-rouge">Delivery</code> from the <code class="language-plaintext highlighter-rouge">Select a request type</code> dropdown list. Next, select <code class="language-plaintext highlighter-rouge">coke</code> from the <code class="language-plaintext highlighter-rouge">Select delivery task</code> list. Choose an desired start time for task and click submit.</p>

<p>Or, submit a task via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_loop <span class="nt">-s</span> coe <span class="nt">-f</span> lounge <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> pantry <span class="nt">-pd</span> coke_dispenser <span class="nt">-d</span> hardware_2 <span class="nt">-di</span> coke_ingestor <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>To submit a <strong>loop task</strong>, select <code class="language-plaintext highlighter-rouge">Loop</code> from the <code class="language-plaintext highlighter-rouge">Select a request type</code> dropdown list. Choose desired start and end locations and click submit.
To run a scenario with multiple task requests, load <code class="language-plaintext highlighter-rouge">office_tasks.json</code> from <code class="language-plaintext highlighter-rouge">rmf_demos_panel/task_lists</code> in the <code class="language-plaintext highlighter-rouge">Submit a list of tasks</code> section. This should populate the preview window with a list of tasks. Click submit and watch the demonstration unfold.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/loop_request.gif" alt=""></p>

<p>The office demo can be run in secure mode using ROS 2 DDS-Security integration. Click <a href="https://github.com/open-rmf/rmf_demos/tree/galactic/docs/secure_office_world.md">here</a> to learn more.</p>

<hr>

<h3 id="airport-terminal-world">Airport Terminal World</h3>

<p>This demo world shows robot interaction on a much larger map, with a lot more lanes, destinations, robots and possible interactions between robots from different fleets, robots and infrastructure, as well as robots and users. In the illustrations below, from top to bottom we have how the world looks like in <code class="language-plaintext highlighter-rouge">traffic_editor</code>, the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code>, and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code>,</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/airport_terminal_traffic_editor_screenshot.png" alt="">
<img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/airport_terminal_demo_screenshot.png" alt=""></p>

<h4 id="demo-scenario">Demo Scenario</h4>
<p>In the airport world, we introduce a new task type to rmf: <code class="language-plaintext highlighter-rouge">Clean</code>. To launch the world:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz airport_terminal.launch.xml

</code></pre></div></div>

<p>Open <a href="https://open-rmf.github.io/rmf-panel-js/">RMF Panel</a>. Load the <code class="language-plaintext highlighter-rouge">airport_terminal_tasks.json</code> list and click submit to begin a collection of loop, delivery and cleaning tasks.</p>

<p>Or, submit <code class="language-plaintext highlighter-rouge">loop</code>, <code class="language-plaintext highlighter-rouge">delivery</code> or <code class="language-plaintext highlighter-rouge">clean</code> task via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_loop <span class="nt">-s</span> s07 <span class="nt">-f</span> n12 <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> mopcart_pickup <span class="nt">-pd</span> mopcart_dispenser <span class="nt">-d</span> spill <span class="nt">-di</span> mopcart_collector <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> zone_3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>To see crowd simulation in action, enable crowd sim by:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz airport_terminal.launch.xml use_crowdsim:<span class="o">=</span>1

</code></pre></div></div>

<p>Non-autonomous vehicles can also be integrated with RMF provided their positions can be localized in the world. This may be of value at facilities where space is shared by autonomous robots as well as manually operated vehicles such as forklifts or transporters. In this demo, we can introduce a vehicle (caddy) which can be driven around through keyboard/joystick teleop. In RMF nomenclature, this vehicle is classified as a <code class="language-plaintext highlighter-rouge">read_only</code> type, ie, RMF can only infer its position in the world but does not have control over its motion. Here, the goal is to have other controllable robots avoid this vehicle’s path by replanning their routes if needed. The model is fitted with a plugin which generates a prediction of the vehicle’s path based on its current heading. It is configured to occupy the same lanes as the <code class="language-plaintext highlighter-rouge">tinyRobot</code> robots. Here, a <code class="language-plaintext highlighter-rouge">read_only_fleet_adapter</code> submits the prediction from the plugin to the RMF schedule.</p>

<p>In the airport terminal map, a <code class="language-plaintext highlighter-rouge">Caddy</code> is spawned in the far right corner and can be controlled with <code class="language-plaintext highlighter-rouge">geometry_msgs/Twist</code> messages published over the <code class="language-plaintext highlighter-rouge">cmd_vel</code> topic.</p>

<p>Run <code class="language-plaintext highlighter-rouge">teleop_twist_keyboard</code> to control the <code class="language-plaintext highlighter-rouge">caddy</code> with your keyboard:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Default launch with gazebo</span>
ros2 run teleop_twist_keyboard teleop_twist_keyboard

<span class="c"># if launched with the Ignition simulator</span>
ros2 launch rmf_demos_ign airport_terminal_caddy.launch.xml

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/caddy.gif" alt=""></p>

<hr>

<h3 id="clinic-world">Clinic World</h3>

<p>This is a clinic world with two levels and two lifts for the robots. Two different robot fleets with different roles navigate across two levels by lifts. In the illustrations below, we have the view of level 1 in <code class="language-plaintext highlighter-rouge">traffic_editor</code> (top left), the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code> (right), and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code> (bottom left).</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/clinic.png" alt=""></p>

<h4 id="demo-scenario-1">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz clinic.launch.xml

</code></pre></div></div>

<p>Select the <code class="language-plaintext highlighter-rouge">clinic</code> tab on RMF Panel. Load the <code class="language-plaintext highlighter-rouge">clinic_tasks.json</code> list and click submit to begin a collection of loop and delivery tasks.</p>

<p>Or, submit a task via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_loop <span class="nt">-s</span> L1_left_nurse_center <span class="nt">-f</span> L2_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_loop <span class="nt">-s</span> L2_north_counter <span class="nt">-f</span> L1_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots taking lift:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/robot_taking_lift.gif" alt=""></p>

<p>Multi-fleet demo:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/clinic.gif" alt=""></p>

<hr>

<h3 id="hotel-world">Hotel World</h3>

<p>This is a hotel with a lobby and a guest level. The hotel has two lifts and two robot fleets. The tiny robots are supposed to guide the guests and the delivery robots are used to load and deliver cargo.</p>

<p>The hotel map is truncated due to the high memory usage. The full map can be accessed <a href="https://github.com/MakinoharaShouko/hotel">here</a>.</p>

<p>Hotel floor plan in <code class="language-plaintext highlighter-rouge">traffic_editor</code>:
<img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/hotel.png" alt=""></p>

<p>Full hotel floor plan in <code class="language-plaintext highlighter-rouge">traffic_editor</code>:
<img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/hotel_full.png" alt=""></p>

<h4 id="demo-scenario-2">Demo Scenario</h4>

<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz hotel.launch.xml

</code></pre></div></div>

<p>Select the <code class="language-plaintext highlighter-rouge">hotel</code> tab on RMF Panel. Loop requests can be submitted via “Submit a Task” form.</p>

<p>Robot taking lift:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/robot_taking_lift_hotel.gif" alt=""></p>

<hr>

<h3 id="traffic-light-robot-demos">Traffic Light Robot Demos</h3>

<p>RMF can also manage fleets whose API or fleet managers only offer pause and resume commands to control their robots. Such fleets are classified as <code class="language-plaintext highlighter-rouge">traffic_light</code>. To integrate a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet, users are expected to implement a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet adapter based on this <a href="https://github.com/open-rmf/rmf_ros2/blob/main/rmf_fleet_adapter/include/rmf_fleet_adapter/agv/EasyTrafficLight.hpp">API</a>. The <code class="language-plaintext highlighter-rouge">rmf_demos</code> repository contains demonstrations of <code class="language-plaintext highlighter-rouge">traffic_light</code> fleets in various scenarios. A simplistic <code class="language-plaintext highlighter-rouge">mock_traffic_light</code> adapter is used in these demonstrations.</p>

<h4 id="triple-h-scenario">Triple-H scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz triple_H.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos the_pedigree.launch.xml

</code></pre></div></div>
<h4 id="battle-royale-scenario">Battle Royale Scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz battle_royale.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos battle_go.launch.xml

</code></pre></div></div>

<h4 id="office-scenario">Office Scenario:</h4>
<p>Note that <code class="language-plaintext highlighter-rouge">tinyRobot1</code> is a standard “full control” robot, while <code class="language-plaintext highlighter-rouge">tinyRobot2</code> “traffic light” robot.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz office_mock_traffic_light.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos office_traffic_light_test.launch.xml

</code></pre></div></div>

<h2 id="task-dispatching-in-rmf">Task Dispatching in RMF</h2>
<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/galactic/../media/RMF_Bidding.png" alt=""></p>

<p>In RMF version <code class="language-plaintext highlighter-rouge">21.04</code> and above, tasks are awarded to robot fleets based on the outcome of a bidding process that is orchestrated by a Dispatcher node, <code class="language-plaintext highlighter-rouge">rmf_dispatcher_node</code>. When the Dispatcher receives a new task request from a UI, it sends out a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidNotice</code> message to all the fleet adapters. If a fleet adapter is able to process that request, it submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidProposal</code> message back to the Dispatcher with a cost to accommodate the task. An instance of <code class="language-plaintext highlighter-rouge">rmf_task::agv::TaskPlanner</code> is used by the fleet adapters to determine how best to accommodate the new request. The Dispatcher compares all the <code class="language-plaintext highlighter-rouge">BidProposals</code> received and then submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/DispatchRequest</code> message with the fleet name of the robot that the bid is awarded to. There are a couple different ways the Dispatcher evaluates the proposals such as fastest to finish, lowest cost, etc which can be configured.</p>

<p>Battery recharging is tightly integrated with the new task planner. <code class="language-plaintext highlighter-rouge">ChargeBattery</code> tasks are optimally injected into a robot’s schedule when the robot has insufficient charge to fulfill a series of tasks. Currently we assume each robot in the map has a dedicated charging location as annotated with the <code class="language-plaintext highlighter-rouge">is_charger</code> option in the traffic editor map.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="galactic-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="galactic-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#galactic-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#galactic-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#galactic-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="galactic-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="galactic-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="galactic-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmf_demos">rmf_demos</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos">rmf_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_assets">rmf_demos_assets</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_bridges">rmf_demos_bridges</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_fleet_adapter">rmf_demos_fleet_adapter</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_gz">rmf_demos_gz</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_maps">rmf_demos_maps</a>
        
        <a class="label label-primary pkg-label" href="/p/rmf_demos_tasks">rmf_demos_tasks</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-rmf_demos
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-rmf_demos" role="menuitem" tabindex="-1" href="/r/rmf_demos/github-open-rmf-rmf_demos" data="github-open-rmf-rmf_demos">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-rmf_demos
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Demonstrations of the Open-RMF</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/open-rmf/rmf_demos.git">https://github.com/open-rmf/rmf_demos.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/rmf_demos/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/rmf_demos/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rmf_demos">rmf_demos</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_assets">rmf_demos_assets</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_bridges">rmf_demos_bridges</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_fleet_adapter">rmf_demos_fleet_adapter</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_gz">rmf_demos_gz</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_maps">rmf_demos_maps</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/rmf_demos_tasks">rmf_demos_tasks</a></td>
                    <td>2.5.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rmf-demos">RMF Demos</h1>

<p><img src="https://github.com/open-rmf/rmf_demos/workflows/build/badge.svg" alt="">
<img src="https://github.com/open-rmf/rmf_demos/workflows/style/badge.svg" alt=""></p>

<p>The Open Robotics Middleware Framework (Open-RMF) enables interoperability among heterogeneous robot fleets while managing robot traffic that share resources such as space, building infrastructure systems (lifts, doors, etc) and other automation systems within the same facility. Open-RMF also handles task allocation and conflict resolution  among its participants (de-conflicting traffic lanes and other resources). These capabilities are provided by various libraries in <a href="https://github.com/open-rmf/rmf">Open-RMF</a>.
For more details about Open RMF, refer to the comprehensive documentation provided <a href="https://osrf.github.io/ros2multirobotbook/intro.html">here</a>.</p>

<p>This repository contains demonstrations of the above mentioned capabilities of RMF. It serves as a starting point for working and integrating with Open-RMF.</p>

<p>You can also find a nice demonstration of Open-RMF using <code class="language-plaintext highlighter-rouge">Nav2</code> and <code class="language-plaintext highlighter-rouge">MoveIt!</code> built into the <a href="https://github.com/gazebosim/ionic_demo">Ionic Release Demo</a>.</p>

<p><a href="https://vimeo.com/405803151"><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/thumbnail.png?raw=true" alt="Robotics Middleware Framework"></a></p>

<h4 id="click-to-watch-video">(Click to watch video)</h4>

<h2 id="system-requirements">System Requirements</h2>

<p>These demos were built and tested on</p>

<ul>
  <li>
    <p><a href="https://releases.ubuntu.com/24.04/">Ubuntu 24.04 LTS</a></p>
  </li>
  <li>
    <p><a href="https://docs.ros.org/en/jazzy/Releases/Release-Rolling-Ridley.html">ROS 2 - Rolling</a></p>
  </li>
  <li>
    <p><a href="https://gazebosim.org/docs/ionic">Gazebo Ionic</a></p>
    <blockquote>
      <p>Note: The <code class="language-plaintext highlighter-rouge">main</code> branches of the core RMF libraries are fully supported on ROS 2 Humble, Iron, and Jazzy as well, but you will need to use the distro-specific branches for <code class="language-plaintext highlighter-rouge">rmf_traffic_editor</code> and <code class="language-plaintext highlighter-rouge">rmf_simulation</code>.</p>

      <p>You can use <code class="language-plaintext highlighter-rouge">rmf_demos</code> with any ROS distro by explicitly setting the <code class="language-plaintext highlighter-rouge">gazebo_version:=#</code> launch parameter, replacing <code class="language-plaintext highlighter-rouge">#</code> with the appropriate version of Gazebo for that ROS distro, e.g. <code class="language-plaintext highlighter-rouge">8</code> for <code class="language-plaintext highlighter-rouge">Jazzy</code>.</p>
    </blockquote>
  </li>
</ul>

<h2 id="installation">Installation</h2>
<p>Instructions can be found <a href="https://github.com/open-rmf/rmf">here</a>.</p>

<h2 id="faq">FAQ</h2>
<p>Answers to frequently asked questions can be found <a href="https://github.com/open-rmf/rmf_demos/tree/main/docs/faq.md">here</a>.</p>

<h2 id="roadmap">Roadmap</h2>

<p>A near-term roadmap of the Open-RMF project can be found in the user manual <a href="https://osrf.github.io/ros2multirobotbook/roadmap.html">here</a>.</p>

<h2 id="rmf-web-quick-start">RMF-Web quick start</h2>

<p>Full web application of Open-RMF: <a href="https://github.com/open-rmf/rmf-web">rmf-web</a>.</p>

<p>Start the backend API server via <code class="language-plaintext highlighter-rouge">docker</code> with host network access, using the default configuration. The API server will be accessible at <code class="language-plaintext highlighter-rouge">localhost:8000</code> by default.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--network</span> host <span class="se">\</span>
  <span class="nt">-it</span> <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">ROS_DOMAIN_ID</span><span class="o">=</span>&lt;ROS_DOMAIN_ID&gt; <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">RMW_IMPLEMENTATION</span><span class="o">=</span>&lt;RMW_IMPLEMENTATION&gt; <span class="se">\</span>
  ghcr.io/open-rmf/rmf-web/api-server:latest

</code></pre></div></div>

<blockquote>
  <p>Note: The API server is also configurable by mounting the configuration file and setting the environment variable <code class="language-plaintext highlighter-rouge">RMF_API_SERVER_CONFIG</code>. In the default configuration, the API serer will use an internal non-persistent database.</p>
</blockquote>

<p>Start the frontend dashboard via <code class="language-plaintext highlighter-rouge">docker</code> with host network access, using the default configuration. The dashboard will be accessible at <code class="language-plaintext highlighter-rouge">localhost:3000</code> by default.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--network</span> host <span class="se">\</span>
  <span class="nt">-it</span> <span class="se">\</span>
  ghcr.io/open-rmf/rmf-web/dashboard:latest

</code></pre></div></div>

<blockquote>
  <p>Note: The dashboard via <code class="language-plaintext highlighter-rouge">docker</code> is not runtime-configurable and is best used for quick integrations and testing. To configure the dashboard, check out <a href="https://github.com/open-rmf/rmf_demos/tree/rmf-web-dashboard-resources/rmf_demos_dashboard_resources">rmf-web-dashboard-resources</a> and the <a href="https://github.com/open-rmf/rmf-web/tree/main/packages/dashboard#configuration">dashboard configuration section</a>.</p>
</blockquote>

<p>In order to interact with the default configuration of the web application, the <code class="language-plaintext highlighter-rouge">server_uri</code> launch parameter will need to be changed to <code class="language-plaintext highlighter-rouge">ws://localhost:8000/_internal</code>, for example,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz office.launch.xml server_uri:<span class="o">=</span><span class="s2">"ws://localhost:8000/_internal"</span>

</code></pre></div></div>

<p>By specifying <code class="language-plaintext highlighter-rouge">server_uri</code>, the fleetadapter will update <code class="language-plaintext highlighter-rouge">rmf-web</code> <code class="language-plaintext highlighter-rouge">api-server</code> with the latest task and robot states. User can then monitor on-going states and initiate rmf task with an interactive web dashboard.</p>

<h2 id="demo-worlds">Demo Worlds</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Hotel-World">Hotel World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Office-World">Office World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Airport-Terminal-World">Airport Terminal World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Clinic-World">Clinic World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Campus-World">Campus World</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Manufacturing-&amp;-Logistics-World">Manufacturing &amp; Logistics World</a></li>
</ul>

<hr>

<h3 id="hotel-world">Hotel World</h3>

<p>This hotel world consists of a lobby and 2 guest levels. The hotel has two lifts, multiple doors and 3 robot fleets (4 robots).
This demonstrates an integration of multiple fleets of robots with varying capabilities working together in a multi-level building.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/hotel_world.png" alt=""></p>

<h4 id="demo-scenario">Demo Scenario</h4>

<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz hotel.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_gz hotel.launch.xml

</code></pre></div></div>

<p>Here, we will showcase 2 types of Tasks: <strong>Loop</strong> and <strong>Clean</strong>, you can dispatch them via CLI as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> restaurant  L3_master_suite <span class="nt">-n</span> 1 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> clean_lobby <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots running Clean and Loop Task:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/hotel_scenarios.gif" alt=""></p>

<hr>

<h3 id="office-world">Office World</h3>
<p>An indoor office environment for robots to navigate around. It includes a beverage dispensing station, controllable doors and laneways which are integrated into RMF.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_demos_ws/install/setup.bash
ros2 launch rmf_demos_gz office.launch.xml

<span class="c"># Or, run with ignition simulator</span>
ros2 launch rmf_demos_gz office.launch.xml

</code></pre></div></div>

<p>Now we will showcase 2 types of Tasks: <strong>Delivery</strong> and <strong>Loop</strong></p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/delivery_request.gif?raw=true" alt=""></p>

<p>You can request the robot to deliver a can of coke from <code class="language-plaintext highlighter-rouge">pantry</code> to <code class="language-plaintext highlighter-rouge">hardware_2</code> through the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> pantry <span class="nt">-ph</span> coke_dispenser <span class="nt">-d</span> hardware_2 <span class="nt">-dh</span> coke_ingestor <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>You can also request the robot to move back and forth between <code class="language-plaintext highlighter-rouge">coe</code> and <code class="language-plaintext highlighter-rouge">lounge</code> through the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> coe lounge <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/loop_request.gif" alt=""></p>

<p>The office demo can be run in secure mode using ROS 2 DDS-Security integration. Click <a href="https://github.com/open-rmf/rmf_demos/tree/main/docs/secure_office_world.md">here</a> to learn more.</p>

<hr>

<h3 id="airport-terminal-world">Airport Terminal World</h3>

<p>This demo world shows robot interaction on a much larger map, with a lot more lanes, destinations, robots and possible interactions between robots from different fleets, robots and infrastructure, as well as robots and users. In the illustrations below, from top to bottom we have how the world looks like in <code class="language-plaintext highlighter-rouge">traffic_editor</code>, the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code>, and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code>,</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/airport_terminal_traffic_editor_screenshot.png" alt="">
<img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/airport_terminal_demo_screenshot.png" alt=""></p>

<h4 id="demo-scenario-1">Demo Scenario</h4>
<p>In the airport world, we introduce a new task type to rmf: <code class="language-plaintext highlighter-rouge">Clean</code>. To launch the world:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz airport_terminal.launch.xml

</code></pre></div></div>

<p>You can submit <code class="language-plaintext highlighter-rouge">loop</code>, <code class="language-plaintext highlighter-rouge">delivery</code> or <code class="language-plaintext highlighter-rouge">clean</code> task via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> s07 n12 <span class="nt">-n</span> 3 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_delivery <span class="nt">-p</span> mopcart_pickup <span class="nt">-ph</span> mopcart_dispenser <span class="nt">-d</span> spill <span class="nt">-dh</span> mopcart_collector <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_clean <span class="nt">-cs</span> zone_3 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>To see crowd simulation in action, enable crowd sim by:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch rmf_demos_gz airport_terminal.launch.xml use_crowdsim:<span class="o">=</span>1

</code></pre></div></div>

<p>Non-autonomous vehicles can also be integrated with Open-RMF provided their positions can be localized in the world. This may be of value at facilities where space is shared by autonomous robots as well as manually operated vehicles such as forklifts or transporters. In this demo, we can introduce a vehicle (caddy) which can be driven around through keyboard/joystick teleop. In Open-RMF nomenclature, this vehicle is classified as a <code class="language-plaintext highlighter-rouge">read_only</code> type, ie, Open-RMF can only infer its position in the world but does not have control over its motion. Here, the goal is to have other controllable robots avoid this vehicle’s path by replanning their routes if needed. The model is fitted with a plugin which generates a prediction of the vehicle’s path based on its current heading. It is configured to occupy the same lanes as the <code class="language-plaintext highlighter-rouge">tinyRobot</code> robots. Here, a <code class="language-plaintext highlighter-rouge">read_only_fleet_adapter</code> submits the prediction from the plugin to the Open-RMF schedule.</p>

<p>In the airport terminal map, a <code class="language-plaintext highlighter-rouge">Caddy</code> is spawned in the far right corner and can be controlled with <code class="language-plaintext highlighter-rouge">geometry_msgs/Twist</code> messages published over the <code class="language-plaintext highlighter-rouge">cmd_vel</code> topic.</p>

<p>Run <code class="language-plaintext highlighter-rouge">teleop_twist_keyboard</code> to control the <code class="language-plaintext highlighter-rouge">caddy</code> with your keyboard:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Default launch with gazebo</span>
ros2 run teleop_twist_keyboard teleop_twist_keyboard

ros2 launch rmf_demos_gz airport_terminal_caddy.launch.xml

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/caddy.gif" alt=""></p>

<hr>

<h3 id="clinic-world">Clinic World</h3>

<p>This is a clinic world with two levels and two lifts for the robots. Two different robot fleets with different roles navigate across two levels by lifts. In the illustrations below, we have the view of level 1 in <code class="language-plaintext highlighter-rouge">traffic_editor</code> (top left), the schedule visualizer in <code class="language-plaintext highlighter-rouge">rviz</code> (right), and the full simulation in <code class="language-plaintext highlighter-rouge">gazebo</code> (bottom left).</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/clinic.png" alt=""></p>

<h4 id="demo-scenario-2">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz clinic.launch.xml

</code></pre></div></div>

<p>You can submit tasks via CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L1_left_nurse_center L2_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L2_north_counter L1_right_nurse_center <span class="nt">-n</span> 5 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<p>Robots taking lift:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/robot_taking_lift.gif" alt=""></p>

<p>Multi-fleet demo:</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/clinic.gif" alt=""></p>

<hr>
<h3 id="campus-world">Campus World</h3>

<p>This is a larger scale “Campus” World. In this world, there are multiple delivery robots that operate. The world is designed and traffic lanes are annotated at the planet scale, using GPS WGS84 coordinates. Each robot is also streaming its location in WGS84 coordinates, which are processed by its fleet adapter. This demo intends to show the potential of Open-RMF on a large scale map.</p>

<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/campus.gif" alt=""></p>

<h4 id="demo-scenario-3">Demo Scenario</h4>
<p>To launch the world and the schedule visualizer,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/rmf_ws/install/setup.bash
ros2 launch rmf_demos_gz campus.launch.xml

ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> room_5 campus_4 <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> campus_5 room_3 <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>
ros2 run rmf_demos_tasks  dispatch_patrol <span class="nt">-p</span> room_2 dead_end <span class="nt">-n</span> 10 <span class="nt">--use_sim_time</span>

</code></pre></div></div>

<h4 id="robotmanager-integration">RobotManager Integration</h4>
<p><code class="language-plaintext highlighter-rouge">fleet_robotmanager_mqtt_bridge</code> (see <a href="https://github.com/open-rmf/rmf_demos/tree/main/rmf_demos_bridges/rmf_demos_bridges">rmf_demos_bridges</a>) can be used to publish robot locations, battery percentage and state to a <code class="language-plaintext highlighter-rouge">/robot/status/ROBOT-ID</code> websocket endpoint. An instance of RobotManager can be configured to subscribe to this server to receive json messages, which will in turn visualize the robots on RobotManager.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install the prerequisites</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>mosquitto mosquitto-clients

<span class="c"># Start the bridge</span>
ros2 run rmf_demos_bridges fleet_robotmanager_mqtt_bridge <span class="nt">-y</span> 31500 <span class="nt">-x</span> 22000

</code></pre></div></div>

<p>The json messages for the first robot can be echoed using the following example command,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mosquitto_sub <span class="nt">-t</span> /robot/status/00000000-0000-0000-0000-000000000001

</code></pre></div></div>

<hr>
<h3 id="manufacturing--logistics-world">Manufacturing &amp; Logistics World</h3>

<p>An Open-RMF simulation demonstration created by ROS-Industrial Asia Pacific showcasing workcell (conveyor and fixed manipulator), multiple AMR fleets and infrastructure interoperability using the Open Robotics Middleeware Framework (Open-RMF).</p>

<p align="center">
[![Alt text](https://img.youtube.com/vi/oSVQrjx_4w4/0.jpg)](https://www.youtube.com/watch?v=oSVQrjx_4w4)
</p>

<h2 id="other-tools-and-features-demos">Other Tools and Features Demos</h2>

<ul>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Traffic-Light-Robot-Demos">Traffic Light Robot Demos</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Additional-Features">Additional Features</a></li>
  <li><a href="https://github.com/open-rmf/rmf_demos/tree/main/#Task-Dispatching-in-Open-RMF">Task Dispatching in Open-RMF</a></li>
</ul>

<h3 id="traffic-light-robot-demos">Traffic Light Robot Demos</h3>

<p>Open-RMF can also manage fleets whose API or fleet managers only offer pause and resume commands to control their robots. Such fleets are classified as <code class="language-plaintext highlighter-rouge">traffic_light</code>. To integrate a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet, users are expected to implement a <code class="language-plaintext highlighter-rouge">traffic_light</code> fleet adapter based on this <a href="https://github.com/open-rmf/rmf_ros2/blob/main/rmf_fleet_adapter/include/rmf_fleet_adapter/agv/EasyTrafficLight.hpp">API</a>. The <code class="language-plaintext highlighter-rouge">rmf_demos</code> repository contains demonstrations of <code class="language-plaintext highlighter-rouge">traffic_light</code> fleets in various scenarios. A simplistic <code class="language-plaintext highlighter-rouge">mock_traffic_light</code> adapter is used in these demonstrations.</p>

<h4 id="triple-h-scenario">Triple-H scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz triple_H.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos the_pedigree.launch.xml

</code></pre></div></div>
<h4 id="battle-royale-scenario">Battle Royale Scenario:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz battle_royale.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos battle_go.launch.xml

</code></pre></div></div>

<h4 id="office-scenario">Office Scenario:</h4>
<p>Note that <code class="language-plaintext highlighter-rouge">tinyRobot1</code> is a standard “full control” robot, while <code class="language-plaintext highlighter-rouge">tinyRobot2</code> “traffic light” robot.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch rmf_demos_gz office_mock_traffic_light.launch.xml
<span class="o">(</span>new terminal<span class="o">)</span> <span class="nv">$ </span>ros2 launch rmf_demos office_traffic_light_test.launch.xml

</code></pre></div></div>

<h3 id="additional-features">Additional Features</h3>
<ul>
  <li>
    <p><strong>Flexible Tasks Scripts</strong>
For more <a href="https://github.com/open-rmf/rmf_demos/tree/main/rmf_demos_tasks/README.md">details</a>.</p>
  </li>
  <li>
    <p><strong>lift watchdog</strong></p>
    <ul>
      <li>The robot can query an external <code class="language-plaintext highlighter-rouge">lift_watchdog_server</code> for the permission to enter the lift cabin during the <code class="language-plaintext highlighter-rouge">LiftSession</code> Phase.</li>
      <li>Command lines:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># run hotel world with lift_watch_dog enabled</span>
    ros2 launch rmf_demos_gz hotel.launch.xml enable_experimental_lift_watchdog:<span class="o">=</span>1

    <span class="c">## On a separate terminal, set lift as crowded</span>
    ros2 launch rmf_demos experimental_crowded_lift.launch.xml

    <span class="c"># Dispatch robot from level1 to level3, robot will wait in front of the lift cabin</span>
    ros2 run rmf_demos_tasks dispatch_patrol <span class="nt">-p</span> L3_room1  L3_room1 <span class="nt">-n</span> 1 <span class="nt">--use_sim_time</span>

    <span class="c"># Lift is cleared. Give robot the permission to enter the lift</span>
    ros2 launch rmf_demos experimental_clear_lift.launch.xml
    
</code></pre></div></div>
<ul>
  <li>
<strong>Custom Docking Sequence</strong>
    <ul>
      <li>Fleet adapter will notify the robot (via <code class="language-plaintext highlighter-rouge">dock()</code> api/ModeRequest) to execute its custom dock sequence when the robot reaches a “dock” waypoint.</li>
      <li>Implementation is similar to Clean task, refer to docs <a href="https://osrf.github.io/ros2multirobotbook/task_types.html?highlight=docking#step-1-defining-waypoints-for-cleaning-in-traffic-editor">here</a>
</li>
    </ul>
  </li>
  <li>
<strong>Emergency Alarm</strong>
    <ul>
      <li>All robots will get directed to the nearest parking spot when the emergency alarm is triggered.</li>
      <li>Command lines:</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># toggle alarm ON</span>
    ros2 topic pub <span class="nt">-1</span> /fire_alarm_trigger std_msgs/Bool <span class="s1">'{data: true}'</span>

    <span class="c"># toggle alarm OFF</span>
    ros2 topic pub <span class="nt">-1</span> /fire_alarm_trigger std_msgs/Bool <span class="s1">'{data: false}'</span>
    
</code></pre></div></div>

<h2 id="task-dispatching-in-open-rmf">Task Dispatching in Open-RMF</h2>
<p><img src="https://raw.githubusercontent.com/open-rmf/rmf_demos/main/../media/RMF_Bidding.png" alt=""></p>

<p>In Open-RMF version <code class="language-plaintext highlighter-rouge">21.04</code> and above, tasks are awarded to robot fleets based on the outcome of a bidding process that is orchestrated by a Dispatcher node, <code class="language-plaintext highlighter-rouge">rmf_dispatcher_node</code>. When the Dispatcher receives a new task request from a UI, it sends out a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidNotice</code> message to all the fleet adapters. If a fleet adapter is able to process that request, it submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/BidProposal</code> message back to the Dispatcher with a cost to accommodate the task. An instance of <code class="language-plaintext highlighter-rouge">rmf_task::agv::TaskPlanner</code> is used by the fleet adapters to determine how best to accommodate the new request. The Dispatcher compares all the <code class="language-plaintext highlighter-rouge">BidProposals</code> received and then submits a <code class="language-plaintext highlighter-rouge">rmf_task_msgs/DispatchRequest</code> message with the fleet name of the robot that the bid is awarded to. There are a couple different ways the Dispatcher evaluates the proposals such as fastest to finish, lowest cost, etc which can be configured.</p>

<p>Battery recharging is tightly integrated with the new task planner. <code class="language-plaintext highlighter-rouge">ChargeBattery</code> tasks are optimally injected into a robot’s schedule when the robot has insufficient charge to fulfill a series of tasks. Currently we assume each robot in the map has a dedicated charging location as annotated with the <code class="language-plaintext highlighter-rouge">is_charger</code> option in the traffic editor map.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>Any contribution that you make to this repository will
be under the Apache 2 License, as dictated by that
<a href="http://www.apache.org/licenses/LICENSE-2.0.html">license</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.
</code></pre></div></div>

<p>Contributors must sign-off each commit by adding a <code class="language-plaintext highlighter-rouge">Signed-off-by: ...</code>
line to commit messages to certify that they have the right to submit
the code they are contributing to the project according to the
<a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a>.</p>
</div>
              <hr id="iron-contribute-lists">
              <ul class="nav nav-tabs nav-justified" id="iron-contribute-lists-tabs">
                <li class="better-tabs active">
                  <a href="#iron-contribute-lists-help-wanted" data-toggle="tab"><span class="contribute-lists-help-wanted-count label label-primary">0</span> Help Wanted</a>
                </li>
                <li class="better-tabs">
                  <a href="#iron-contribute-lists-good-first-issue" data-toggle="tab"><span class="contribute-lists-good-first-issue-count label label-primary">0</span> Good First Issue</a>
                </li>
                <li class="better-tabs">
                  <a href="#iron-contribute-lists-pull-requests" data-toggle="tab"><span class="contribute-lists-pull-requests-count label label-primary">0</span> Pull Requests to Review</a>
                </li>
              </ul>
              <div class="tab-content contribute-lists">
                <div class="tab-pane active" id="iron-contribute-lists-help-wanted">
                  <div class="contribute-lists-help-wanted"></div>
                </div>
                <div class="tab-pane" id="iron-contribute-lists-good-first-issue">
                  <div class="contribute-lists-good-first-issue"></div>
                </div>
                <div class="tab-pane" id="iron-contribute-lists-pull-requests">
                  <div class="contribute-lists-pull-requests"></div>
                </div>
              </div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rmf_demos">rmf_demos</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-open-rmf-rmf_demos
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-open-rmf-rmf_demos" role="menuitem" tabindex="-1" href="/r/rmf_demos/github-open-rmf-rmf_demos" data="github-open-rmf-rmf_demos">
                    <span class="glyphicon glyphicon-star"></span>
                    github-open-rmf-rmf_demos
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/open-rmf/rmf_demos.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
