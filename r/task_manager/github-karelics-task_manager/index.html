<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/task_manager/github-karelics-task_manager/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">task_manager</li>
        <!--<li class="active">task_manager</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-primary" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/task_manager">task_manager</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-karelics-task_manager
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-karelics-task_manager" role="menuitem" tabindex="-1" href="/r/task_manager/github-karelics-task_manager" data="github-karelics-task_manager">
                    <span class="glyphicon glyphicon-star"></span>
                    github-karelics-task_manager
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/task_manager">task_manager</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-karelics-task_manager
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-karelics-task_manager" role="menuitem" tabindex="-1" href="/r/task_manager/github-karelics-task_manager" data="github-karelics-task_manager">
                    <span class="glyphicon glyphicon-star"></span>
                    github-karelics-task_manager
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/task_manager">task_manager</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-karelics-task_manager
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-karelics-task_manager" role="menuitem" tabindex="-1" href="/r/task_manager/github-karelics-task_manager" data="github-karelics-task_manager">
                    <span class="glyphicon glyphicon-star"></span>
                    github-karelics-task_manager
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/task_manager">task_manager</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-karelics-task_manager
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-karelics-task_manager" role="menuitem" tabindex="-1" href="/r/task_manager/github-karelics-task_manager" data="github-karelics-task_manager">
                    <span class="glyphicon glyphicon-star"></span>
                    github-karelics-task_manager
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/task_manager">task_manager</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/task_manager">task_manager</a>
        
        <a class="label label-primary pkg-label" href="/p/task_manager_msgs">task_manager_msgs</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-karelics-task_manager
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-karelics-task_manager" role="menuitem" tabindex="-1" href="/r/task_manager/github-karelics-task_manager" data="github-karelics-task_manager">
                    <span class="glyphicon glyphicon-star"></span>
                    github-karelics-task_manager
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Task Manager ROS 2 package is a solution to start, handle and track tasks from different sources in a centralized way on a single robot</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/karelics/task_manager.git">https://github.com/karelics/task_manager.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-01-29
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNKNOWN
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/task_manager/#github-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/task_manager/#github-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/task_manager/#github-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/task_manager">task_manager</a></td>
                    <td>2.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/task_manager_msgs">task_manager_msgs</a></td>
                    <td>2.0.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-task-manager">ROS 2 Task Manager</h1>

<p>Task Manager ROS 2 package is a solution to start, handle and track tasks from multiple different sources in a centralized way on a single robot. If you want to:</p>
<ul>
  <li>have an easy way to start new tasks from any local or web source: UI, voice control, command line, etc.</li>
  <li>track all the currently active tasks and their end results on your robot,</li>
  <li>automatically cancel the previous task if a new conflicting one is given,</li>
  <li>combine multiple smaller tasks into a Mission,</li>
  <li>implement custom behavior for example on task start and end,</li>
</ul>

<p>Task Manager is your solution!</p>

<p align="center">
<img src="https://raw.githubusercontent.com/karelics/task_manager/main/images/task_manager_overview.png" alt="drawing" width="600">
</p>

<h2 id="features">Features</h2>
<ol>
  <li><a href="https://github.com/karelics/task_manager/tree/main/#tasks">Tasks</a></li>
  <li><a href="https://github.com/karelics/task_manager/tree/main/#active-tasks">Active tasks</a></li>
  <li><a href="https://github.com/karelics/task_manager/tree/main/#result-tracking">Result tracking</a></li>
  <li><a href="https://github.com/karelics/task_manager/tree/main/#missions">Missions</a></li>
  <li><a href="https://github.com/karelics/task_manager/tree/main/#task-cancelling">Task Cancelling</a></li>
  <li><a href="https://github.com/karelics/task_manager/tree/main/#stop">Global STOP-task</a></li>
  <li><a href="https://github.com/karelics/task_manager/tree/main/#wait">Wait task</a></li>
</ol>

<h3 id="tasks-">Tasks <a name="tasks"></a>
</h3>
<p>Any existing ROS 2 service or action can be declared as a “Task” in a parameter file. In addition to default service and action features, tasks have the following properties:</p>
<ul>
  <li>
<strong>Blocking tasks</strong>: Any task can be marked as a blocking task. Only a single blocking task can be active at a time in the whole system, and if another blocking task request is received, Task Manager will cancel the previous blocking task automatically. For example, tasks <code class="language-plaintext highlighter-rouge">navigate_to_pose</code> and <code class="language-plaintext highlighter-rouge">change_map</code> should never be active at the same time.</li>
  <li>
<strong>Cancel-on-stop</strong>: Tasks can be cancelled automatically when the global “STOP” task is called.</li>
  <li>
<strong>Single-goal or reentrant execution</strong>: Task can be executed in two different modes:
    <ul>
      <li>Single-goal behavior (default): Only one task of the same type can be active at once, and a new task request of same type will cancel the previous one.</li>
      <li>Reentrant: Task runs in parallel with any new coming requests for the same task.</li>
    </ul>
  </li>
  <li>
<strong>Cancel reported as success</strong>: For some continuous tasks, such as <code class="language-plaintext highlighter-rouge">record_video</code>, user might want to stop the task execution by cancelling it but still report the end status as <code class="language-plaintext highlighter-rouge">DONE</code>.</li>
</ul>

<p>For each task request, there are two useful fields:</p>
<ul>
  <li>
<strong>Task ID</strong>: Unique identifier for the task. Auto-generated if left empty.</li>
  <li>
<strong>Task Source</strong>: The source of the task. For example “CLOUD”, “Voice control”, “CLI”.</li>
</ul>

<p>To start a task, send a goal to the action server <code class="language-plaintext highlighter-rouge">/task_manager/execute_task</code>. For example</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 action send_goal /task_manager/execute_task task_manager_msgs/action/ExecuteTask '{task_name: system/cancel_task, source: CLI, task_data: "{\"cancelled_tasks\": [\"example_task_id\"]}"}'

</code></pre></div></div>
<p>Note that the <code class="language-plaintext highlighter-rouge">task_data</code> is the json-formatted version of the action or service message interface.</p>

<p>Tasks provide their end status with the <code class="language-plaintext highlighter-rouge">task_status</code> field in the result using <a href="https://github.com/Karelics/task_manager/blob/main/task_manager_msgs/msg/TaskStatus.msg">TaskStatus</a> enumeration.</p>

<h3 id="active-tasks-list-">Active tasks list <a name="active-tasks"></a>
</h3>
<p>It is possible to track all the currently active tasks that have their status as <code class="language-plaintext highlighter-rouge">IN_PROGRESS</code> by subscribing to <code class="language-plaintext highlighter-rouge">/task_manager/active_tasks</code> topic. The task’s end status is also published to this topic just before the task is removed from the list.</p>

<p>Active tasks list can be useful for example to:</p>
<ul>
  <li>display all the currently active tasks on the robot in the UI,</li>
  <li>track task starts and ends to execute some custom logic, for example to record rosbags automatically during tasks or to display visual and sound effects on the robot.</li>
</ul>

<p align="center">
<img src="https://raw.githubusercontent.com/karelics/task_manager/main/images/active_tasks.png" alt="drawing" width="500"> <br>
<em>An example of published active tasks</em>
</p>

<h3 id="result-tracking-">Result tracking <a name="result-tracking"></a>
</h3>
<p>Results for all the tasks are published to <code class="language-plaintext highlighter-rouge">/task_manager/results</code> topic. This makes it very easy to send the results forward for example to the Cloud or UI, no matter where the task was started from. Task results are always json-formatted.</p>

<p>Note that the task’s result can be an empty json <code class="language-plaintext highlighter-rouge">"{}"</code> if there was an error during task parsing.</p>

<p align="center">
<img src="https://raw.githubusercontent.com/karelics/task_manager/main/images/task_result.png" alt="drawing" width="500"> <br>
<em>An example of published task result</em>
</p>

<h3 id="missions-">Missions <a name="missions"></a>
</h3>

<p>Task Manager provides a way to combine multiple tasks into a larger Mission. This can be useful when implementing features such as Photo Documentation, which combines multiple smaller <code class="language-plaintext highlighter-rouge">navigation</code> and <code class="language-plaintext highlighter-rouge">take_photo</code> tasks.</p>

<ul>
  <li>Mission is just another task that will be active in addition to its subtasks.</li>
  <li>All the subtasks will execute as independent tasks: Their results are published in the same way to <code class="language-plaintext highlighter-rouge">/task_manager/results</code> as for normal tasks.</li>
  <li>Mission reports all the subtask statuses in the mission result. Subtask results are not published here.</li>
  <li>If any of these subtasks encounter a failure, the entire mission is deemed unsuccessful. Furthermore, a subtask can be designated as skippable by setting the <code class="language-plaintext highlighter-rouge">allow_skipping</code> field, enabling it to be bypassed in case of execution failure.</li>
</ul>

<p>Mission can be started by calling <code class="language-plaintext highlighter-rouge">system/mission</code> task.</p>

<p align="center">
<img src="https://raw.githubusercontent.com/karelics/task_manager/main/images/mission.jpg" alt="drawing" width="800"> <br>
<em>Example UI implementation for displaying a Mission that consists of "Navigation" and "Take Photo" tasks.</em>
</p>

<h3 id="task-cancelling-">Task Cancelling <a name="task-cancelling"></a>
</h3>
<p>Tasks can be cancelled by calling a <code class="language-plaintext highlighter-rouge">system/cancel_tasks</code> task with the Task IDs that should be cancelled. This provides an easy way to cancel any executing task, no matter which ROS Node started it.</p>

<p>Tasks that are implemented using ROS Services cannot be cancelled due to their nature. Trying to cancel such a task will make Task Manager wait for a predefined time for the task to finish and return an <code class="language-plaintext highlighter-rouge">ERROR</code> status if it doesn’t.</p>

<h3 id="global-stop-task-">Global STOP-task <a name="stop"></a>
</h3>
<p>Task manager provides a <code class="language-plaintext highlighter-rouge">system/stop</code> task, which can be called to stop all the active tasks that have their parameter <code class="language-plaintext highlighter-rouge">cancel_on_stop</code> set to <code class="language-plaintext highlighter-rouge">True</code>.</p>

<h3 id="wait-task-">Wait task <a name="wait"></a>
</h3>
<p>The <code class="language-plaintext highlighter-rouge">system/wait</code> task is a blocking task which waits for a given time (<code class="language-plaintext highlighter-rouge">duration &gt; 0.0</code>) or until it is cancelled (<code class="language-plaintext highlighter-rouge">duration &lt;= 0.0</code>).</p>

<h2 id="examples">Examples</h2>
<p>Examples and their run instructions can be found in <a href="https://github.com/karelics/task_manager/tree/main/examples">examples</a> folder for:</p>
<ul>
  <li>Task execution, tracking and Missions</li>
  <li>Nav2 example configuration</li>
</ul>

<p align="center">
<img src="https://raw.githubusercontent.com/karelics/task_manager/main/images/nav2_example_mission.drawio.png" alt="drawing" width="600"> <br>
<em>Task and Mission setup used in Nav2 examples </em>
</p>

<p align="center">
<img src="https://raw.githubusercontent.com/karelics/task_manager/main/images/nav2_task_manager_example.gif" alt="drawing" width="1200"> <br>
<em>Turtlebot 3 executing a navigation task, a spin task and a Mission that combines many of these tasks.</em>
</p>

<h2 id="public-api">Public API</h2>

<h3 id="published-topics">Published topics</h3>
<p>| Topic                      | Description                                                                                                                                       | Message interface                                                                                               |
|—————————-|—————————————————————————————————————————————————|—————————————————————————————————————–|
| /task_manager/active_tasks | Publishes all the tasks that are currently in progress. Reports also the task’s final completion status before the task is removed from the list. | <a href="https://github.com/Karelics/task_manager/blob/main/task_manager_msgs/msg/ActiveTaskArray.msg">ActiveTaskArray</a> |
| /task_manager/results      | Publishes the end results of all the tasks.                                                                                                       | <a href="https://github.com/Karelics/task_manager/blob/main/task_manager_msgs/msg/TaskDoneResult.msg">TaskDoneResult</a>   |</p>

<h3 id="actions">Actions</h3>
<p>| Action topic               | Description                      | Message interface |
|—————————-|———————————-|——————-|
| /task_manager/execute_task | Starts any task with given data. | <a href="https://github.com/Karelics/task_manager/blob/main/task_manager_msgs/action/ExecuteTask.action">ExecuteTask</a>       |</p>

<h2 id="available-tasks">Available tasks</h2>

<p>The following tasks are available by default from the Task Manager</p>

<table>
  <thead>
    <tr>
      <th>Task name</th>
      <th>Description</th>
      <th>Message interface</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>system/mission</td>
      <td>Starts a mission.</td>
      <td><a href="https://github.com/Karelics/task_manager/blob/main/task_manager_msgs/action/Mission.action">Mission</a></td>
    </tr>
    <tr>
      <td>system/cancel_task</td>
      <td>Cancels the given tasks by Task ID.</td>
      <td><a href="https://github.com/Karelics/task_manager/blob/main/task_manager_msgs/srv/CancelTasks.srv">CancelTasks</a></td>
    </tr>
    <tr>
      <td>system/stop</td>
      <td>Cancels all the active tasks that have <code class="language-plaintext highlighter-rouge">cancel_on_stop</code> parameter set to <code class="language-plaintext highlighter-rouge">True</code>.</td>
      <td><a href="https://github.com/Karelics/task_manager/blob/main/task_manager_msgs/srv/StopTasks.srv">StopTasks</a></td>
    </tr>
    <tr>
      <td>system/wait</td>
      <td>A blocking task which waits for a given time (<code class="language-plaintext highlighter-rouge">duration &gt; 0.0</code>) or until it is cancelled (<code class="language-plaintext highlighter-rouge">duration &lt;= 0.0</code>).</td>
      <td><a href="https://github.com/Karelics/task_manager/blob/main/task_manager_msgs/action/Wait.action">Wait</a></td>
    </tr>
  </tbody>
</table>

<h2 id="parameters">Parameters</h2>

<p>| Parameter                     | Type     | Default | Description                                                                                                                                                                                                                                                                                                                                                                                                                       |
|——————————-|———-|———|———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————–|
| tasks                         | string[] | -       | List of tasks.                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &lt;task&gt;.task_name             | string   | -       | Name of the task. Defines the task type identifier to use when starting tasks via ExecuteTask action, i.e. the value of task field in the goal needs to match this task name.                                                                                                                                                                                                                                                     |
| &lt;task&gt;.topic                 | string   | -       | Topic of the already existing service or action that implements the task logic.                                                                                                                                                                                                                                                                                                                                                   |
| &lt;task&gt;.msg_interface         | string   | -       | The message interface of the existing service or action, for example <code class="language-plaintext highlighter-rouge">"example_interfaces.action.Fibonacci"</code>.                                                                                                                                                                                                                                                                                                                     |
| &lt;task&gt;.blocking              | bool     | False   | Whether the task is blocking or not. Only one blocking task can be active at once, and any newly given blocking tasks will cancel the previous one.                                                                                                                                                                                                                                                                               |
| &lt;task&gt;.cancel_on_stop        | bool     | False   | Whether the task should be cancelled when “STOP” task is executed.                                                                                                                                                                                                                                                                                                                                                                |
| &lt;task&gt;.reentrant             | bool     | False   | Allows executing multiple goals for the same task in parallel. Note that the service or action implementing the task logic should also use a reentrant callback group for enabling of this option to make sense.                                                                                                                                                                                                                  |
| &lt;task&gt;.service_success_field | string   | “”      | A usual way for ROS services is to provide their successful execution status for example with the “success” field in the response message. Specify here the name of this field if you wish your task to automatically set its status to ERROR when this field value is <code class="language-plaintext highlighter-rouge">False</code>. If left empty, the task will always finish with DONE status. <br><br> Note: Works only for the tasks that implement their logic with a service. |
| &lt;task&gt;.cancel_timeout        | float    | 5.0     | Time, in seconds, to wait when cancelling an ongoing task. If the time is exceeded before the cancelling is done, the task will fail.                                                                                                                                                                                                                                                                                             |
| enable_task_servers           | bool     | False   | Creates new service and action topics for all the declared tasks under <code class="language-plaintext highlighter-rouge">/task_manager/task/&lt;task_name&gt;</code> topic, to allow easy task calling from the CLI using the ROS message interfaces instead of JSON format. Should be used for debugging and development purposes only, since the preferred task starting method through <code class="language-plaintext highlighter-rouge">/task_manager/execute_task</code> action topic allows user to also set Task ID and source.                |
The parameters that have their default as “-“ are mandatory.</p>

<h2 id="getting-started">Getting started</h2>
<h3 id="docker-container">Docker container</h3>
<p>We recommend using Docker for Task Manager deployment, to run it in an isolated container that has all the required dependencies.</p>

<p>Prerequisites:</p>
<ul>
  <li><a href="https://docs.docker.com/get-docker/">Docker</a></li>
  <li><a href="https://docs.docker.com/compose/install/">Docker Compose</a></li>
</ul>

<ol>
  <li>Run in the repository root:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker compose -f docker/task_manager/docker-compose.yaml run --build task_manager

</code></pre></div></div>

<p>(Optional) Verify the functionality by running the tests:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 -m pytest /ros2_ws/src/task_manager/test/

</code></pre></div></div>

<ol>
  <li>Create a new parameter file declaring your tasks and launch the Task Manager. Replace the <code class="language-plaintext highlighter-rouge">params_file</code> path with your newly created parameters file path.</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch task_manager task_manager.launch.py params_file:=/ros2_ws/src/task_manager/params/task_manager_defaults.yaml

</code></pre></div></div>

<h2 id="roadmap">Roadmap</h2>

<p>The following features are planned as future enhancements for Task Manager:</p>
<ul>
  <li>Task scheduling</li>
  <li>Task pausing and resuming</li>
  <li>Feedback topic for tasks</li>
  <li>Timestamps, for tracking task start and end times</li>
</ul>

<h2 id="maintainers">Maintainers</h2>

<ul>
  <li><a href="https://www.linkedin.com/in/janne-karttunen-a22375209/">Janne Karttunen</a></li>
  <li><a href="https://karelics.fi/">Karelics Oy</a></li>
</ul>

<h2 id="acknowledgements">Acknowledgements</h2>

<p>The initial version of the Task Manager was developed at <a href="https://karelics.fi/">Karelics Oy</a>. This project came to life through the efforts of the following individuals, who contributed to its design, implementation, testing, and maintenance: <a href="https://www.linkedin.com/in/janne-karttunen-a22375209/">Janne Karttunen</a>, <a href="https://www.linkedin.com/in/george-cosmin-porusniuc-89019a168/">George-Cosmin Porusniuc</a>, <a href="https://www.linkedin.com/in/joni-p%C3%B6ll%C3%A4nen-a05378139/">Joni Pöllänen</a>, <a href="https://www.linkedin.com/in/taneli-korhonen-669100177/">Taneli Korhonen</a>, <a href="https://www.linkedin.com/in/lowellausen/">Leonardo Wellausen</a>, <a href="https://www.linkedin.com/in/martmoerdijk/">Mart Moerdijk</a> and <a href="https://www.linkedin.com/in/pekka-myller-68a7301b9/">Pekka Myller</a>.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/task_manager">task_manager</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-karelics-task_manager
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-karelics-task_manager" role="menuitem" tabindex="-1" href="/r/task_manager/github-karelics-task_manager" data="github-karelics-task_manager">
                    <span class="glyphicon glyphicon-star"></span>
                    github-karelics-task_manager
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/task_manager">task_manager</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-karelics-task_manager
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-karelics-task_manager" role="menuitem" tabindex="-1" href="/r/task_manager/github-karelics-task_manager" data="github-karelics-task_manager">
                    <span class="glyphicon glyphicon-star"></span>
                    github-karelics-task_manager
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/task_manager">task_manager</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-karelics-task_manager
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-karelics-task_manager" role="menuitem" tabindex="-1" href="/r/task_manager/github-karelics-task_manager" data="github-karelics-task_manager">
                    <span class="glyphicon glyphicon-star"></span>
                    github-karelics-task_manager
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/task_manager">task_manager</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-karelics-task_manager
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-karelics-task_manager" role="menuitem" tabindex="-1" href="/r/task_manager/github-karelics-task_manager" data="github-karelics-task_manager">
                    <span class="glyphicon glyphicon-star"></span>
                    github-karelics-task_manager
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/karelics/task_manager.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
