<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/ros2_kortex/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">ros2_kortex</li>
        <!--<li class="active">ros2_kortex</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-primary" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-primary" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/ros2_kortex">ros2_kortex</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/kortex_api">kortex_api</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_bringup">kortex_bringup</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_description">kortex_description</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_driver">kortex_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_6dof_robotiq_2f_85_moveit_config">kinova_gen3_6dof_robotiq_2f_85_moveit_config</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_7dof_robotiq_2f_85_moveit_config">kinova_gen3_7dof_robotiq_2f_85_moveit_config</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_lite_moveit_config">kinova_gen3_lite_moveit_config</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-Kinovarobotics-ros2_kortex
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-Kinovarobotics-ros2_kortex" role="menuitem" tabindex="-1" href="/r/ros2_kortex/github-Kinovarobotics-ros2_kortex" data="github-Kinovarobotics-ros2_kortex">
                    <span class="glyphicon glyphicon-star"></span>
                    github-Kinovarobotics-ros2_kortex
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS2 driver for the Gen3 Kinova robot arm</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/Kinovarobotics/ros2_kortex.git">https://github.com/Kinovarobotics/ros2_kortex.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-17
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/ros2_kortex/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/ros2_kortex/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/ros2_kortex/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/kortex_api">kortex_api</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_bringup">kortex_bringup</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_description">kortex_description</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_driver">kortex_driver</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_6dof_robotiq_2f_85_moveit_config">kinova_gen3_6dof_robotiq_2f_85_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_7dof_robotiq_2f_85_moveit_config">kinova_gen3_7dof_robotiq_2f_85_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_lite_moveit_config">kinova_gen3_lite_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-kortex">ROS 2 Kortex</h1>
<blockquote>
  <p>Kinova® Kortex™ is the common software platform behind all of the products in the Gen3 family (Gen3 and Gen3 lite). It unifies the inner workings of the various robots and their related external tools, like the API. <br>
https://www.kinovarobotics.com/product/gen3-robots</p>
</blockquote>

<center><img src="https://raw.githubusercontent.com/Kinovarobotics/ros2_kortex/main/doc/resources/kinova-gen3-7dof-robotiq-2f-85.jpg" alt="Kinova Gen3 7DoF manipulator with Intel RealSense 3D Vision Module and Robotiq 2F-85 2 Finger 85mm Adaptive Gripper" style="width: 50%"></center>

<p>ROS2 Kortex is the official ROS2 package to interact with Kortex and its related products. It is built upon the Kortex API, documentation for which can be found in the <a href="https://github.com/Kinovarobotics/kortex">GitHub Kortex repository</a>.</p>

<h2 id="build-status">Build status</h2>

<table width="100%">
  <tr>
    <th>ROS 2 Distro</th>
    <th>Humble</th>
    <th>Iron</th>
    <th>Rolling</th>
  </tr>
  <tr>
    <th>Branch</th>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
  </tr>
  <tr>
    <th>Build Status</th>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/humble-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/humble-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Humble Binary Build">
      </a>
    </td>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/iron-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/iron-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Iron Binary Build">
      </a>
    </td>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/rolling-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/rolling-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Rolling Binary Build">
      </a>
    </td>
  </tr>
  <tr>
    <th>Release Status</th>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
  </tr>
</table>

<p><strong>Note:</strong> There are several CI jobs checking against future upstream changes see <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/.github/workflows/README.md">detailed build status</a> for a full list of CI jobs and for more information.</p>

<h2 id="getting-started">Getting started</h2>

<ol>
  <li>
    <p>Install ROS 2.</p>

    <p>If you’re a developer, we recommend using Rolling to get the latest features and fixes.</p>

    <p>Rolling Release: <a href="https://docs.ros.org/en/rolling/Installation/Ubuntu-Install-Debians.html">Install ROS2 Rolling</a><br>
Latest LTS Release: <a href="https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debs.html">Install ROS2 Jazzy</a>&lt;/br&gt;
Previous Stable LTS Release: <a href="https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debians.html">Install ROS2 Humble</a></p>

    <p>After installing a version of ROS, source the setup.bash, which will set the <code class="language-plaintext highlighter-rouge">$ROS_DISTRO</code> environment variable.</p>
  </li>
</ol>

<p><strong>NOTE</strong> Please use the <code class="language-plaintext highlighter-rouge">Humble_Gazebo_Classic_Support</code> branch for ROS2 Humble and the <code class="language-plaintext highlighter-rouge">main</code> branch for ROS2 Jazzy</p>

<ol>
  <li>If you plan to use MoveIt, it is recommended to install and use Cyclone DDS.</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   sudo apt install ros-$ROS_DISTRO-rmw-cyclonedds-cpp
   export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp
   
</code></pre></div></div>
<h2 id="contributing-to-this-repository-or-building-from-source">Contributing to this repository or building from source</h2>

<p>Note: It is recommended to use a released binary version of this package and apt install it.
If you want the latest version of this repository for testing latest fixes
check out testing with pre-released binaries: https://docs.ros.org/en/rolling/Installation/Testing.html</p>

<p>If the bug fix you need isn’t in a released version or If you want to build this repository from source or contribute back to the repository read on.</p>

<ol>
  <li>Make sure that <code class="language-plaintext highlighter-rouge">colcon</code>, its extensions, and <code class="language-plaintext highlighter-rouge">vcs</code> are installed:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   sudo apt install python3-colcon-common-extensions python3-vcstool
   
</code></pre></div></div>

<ol>
  <li>Create a new ROS2 workspace:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   export COLCON_WS=~/workspace/ros2_kortex_ws
   mkdir -p $COLCON_WS/src
   
</code></pre></div></div>

<ol>
  <li>Pull relevant packages:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   cd $COLCON_WS
   git clone https://github.com/Kinovarobotics/ros2_kortex.git src/ros2_kortex
   vcs import src --skip-existing --input src/ros2_kortex/ros2_kortex.$ROS_DISTRO.repos
   vcs import src --skip-existing --input src/ros2_kortex/ros2_kortex-not-released.$ROS_DISTRO.repos
   
</code></pre></div></div>

<p>If you plan on simulating the robot with Gazebo, make sure to pull the additional simulation packages.
   If you’re on ROS 2 Humble, run</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   vcs import src --skip-existing --input src/ros2_kortex/simulation.jazzy.repos
   
</code></pre></div></div>

<p>otherwise</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   vcs import --skip-existing --input src/ros2_kortex/simulation.repos
   
</code></pre></div></div>

<p>If you plan on using MoveIt, you must make sure that you have it already <a href="https://moveit.ros.org/install-moveit2/binary/">installed</a> either from binaries or by building it from source.</p>

<ol>
  <li>
    <p>Follow the instructions to install <a href="https://gazebosim.org/docs/harmonic/getstarted/">Gazebo Harmonic</a></p>
  </li>
  <li>
    <p>Install dependencies, compile, and source the workspace:</p>
  </li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   rosdep install --ignore-src --from-paths src -y -r
   colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release
   
</code></pre></div></div>

<p>By default, colcon will use as much resources as possible to build the ROS2 workspace. This can temporarily freeze or even crash your machine. You can limit the number of threads used to avoid this issue, we found a good tradeoff between build time and resource utilisation by setting it to 3 :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release --parallel-workers 3
   
</code></pre></div></div>
<ol>
  <li>Source the previously built workspace using the following command:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   echo 'source ~/workspace/ros2_kortex_ws/install/setup.bash' &gt;&gt; ~/.bashrc
   
</code></pre></div></div>

<h2 id="simulation-issues">Simulation Issues</h2>

<p>Please note, at this time there are two known issues you with simulation</p>

<ol>
  <li>Gazebo + Mimic Joints for the Robotiq Gripper</li>
  <li>Protobuf version mismatch</li>
</ol>

<h1 id="gazebo-and-mimic-joints">Gazebo and Mimic Joints</h1>

<p>A pull request has been made to gz_ros2_control which is how this repository was tested in simulation.
The pull request won’t be merged as the fix should be done upstream in gz-sim.
Once a fix is available ros2_robotiq_gripper will be re-released and an update should fix any workarounds.</p>

<p>In the meantime if you need simulation checkout the upstream pull request link:</p>

<ul>
  <li>Upstream Issue: https://github.com/gazebosim/gz-sim/issues/1684</li>
  <li>Upstream Pull Request: https://github.com/ros-controls/gz_ros2_control/pull/86</li>
  <li>Tracking Issue: https://github.com/PickNikRobotics/ros2_robotiq_gripper/issues/7</li>
</ul>

<h1 id="protobuf">Protobuf</h1>

<p>Due to mismatched protobuf version that ships system and used by Gazebo simulator compiling twice may be required.
You will only run into this if you have certain other gazebo related code in your workspace while compiling this repository.
If errors are encounter you must clean your workspace and run colcon build in two steps:</p>

<ol>
  <li>build everything except kortex related packages</li>
  <li>build the packages that where skipped</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install python3-colcon-clean # if you don't have colcon-clean installed already
colcon clean workspace -y
colcon build --packages-skip-regex '.*kortex.*' '.*gen3.*'
colcon build --packages-select-regex '.*kortex.*' '.*gen3.*'

</code></pre></div></div>

<h2 id="usage">Usage</h2>
<p>To launch and view any of the robot’s URDF run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_description view_robot.launch.py

</code></pre></div></div>

<p>The accepted arguments are:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code> : Your robot model. Possible values are either <code class="language-plaintext highlighter-rouge">gen3</code> or <code class="language-plaintext highlighter-rouge">gen3_lite</code>, the default is <code class="language-plaintext highlighter-rouge">gen3</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code> or <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code>. For the Gen3 Lite, the only option is <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>. Default value is an empty string, which will display the arm without a gripper.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>. For the Gen3 Lite, the only option is <code class="language-plaintext highlighter-rouge">6</code>. Default value is <code class="language-plaintext highlighter-rouge">7</code>.</p>
  </li>
</ul>

<h3 id="gen-3-robots">Gen 3 Robots</h3>

<p>The <code class="language-plaintext highlighter-rouge">gen3.launch.py</code> launch file is designed to be used for Gen3 arms. The typical use case to bringup and visualize the 7 DoF Kinova Gen3 robot arm (default) with mock hardware on Rviz:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>Alternatively, for a physical robot:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10 <span class="se">\</span>

</code></pre></div></div>
<p>You can specify the following arguments if you wish to change your arm configuration:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code>: Your robot model. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>, <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code> or <code class="language-plaintext highlighter-rouge">""</code>. Default is <code class="language-plaintext highlighter-rouge">""</code>. An empty string will not initialise any gripper.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_joint_name</code> : Name of the controlled joint of the gripper attached to the arm. Default value is <code class="language-plaintext highlighter-rouge">robotiq_85_left_knuckle_joint</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_internal_bus_gripper_comm</code> : Use internal bus for gripper communication. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_velocity</code> : Max velocity for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_force</code> : Max force for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>.Default value is <code class="language-plaintext highlighter-rouge">7</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_ip</code> : IP address by which the robot can be reached. No default is specified, this is a required argument. All arms are shipped with address <code class="language-plaintext highlighter-rouge">192.168.1.10</code>, but if you have reassigned your physical arm’s robot IP address, then you will need to assign that ip address.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_fake_hardware</code> : Start robot with fake hardware mirroring command to its states. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fake_sensor_commands</code> : Enable fake command interfaces for sensors used for simple simulations. Used only if ‘use_fake_hardware’ parameter is true. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot controller to start. Possible values are <code class="language-plaintext highlighter-rouge">twist_controller</code> and <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">controllers_file</code> : Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">launch_rviz</code> : Start an Rviz window to visualize the robot. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h4 id="robotiq-gripper">Robotiq gripper</h4>

<p>The Robotiq 2f 85 (or 2f 140) Gripper will be available on the Action topic:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/robotiq_gripper_controller/gripper_cmd

</code></pre></div></div>

<p>You can test the gripper by calling the Action server with the following command and setting the desired <code class="language-plaintext highlighter-rouge">position</code> of the gripper (<code class="language-plaintext highlighter-rouge">0.0=open</code>, <code class="language-plaintext highlighter-rouge">0.8=close</code>)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 action send_goal /robotiq_gripper_controller/gripper_cmd control_msgs/action/GripperCommand <span class="s2">"{command:{position: 0.0, max_effort: 100.0}}"</span>

</code></pre></div></div>

<h4 id="vision-module">Vision Module</h4>

<p>In order to access the Kinova Vision module’s depth and color streams for the camera-equipped Gen3 arm models, please refer to the following github repository for detailed instructions: <a href="https://github.com/Kinovarobotics/ros2_kortex_vision">ros2_kortex_vision</a></p>

<h3 id="gen-3-lite-robot">Gen 3 Lite Robot</h3>

<p>The <code class="language-plaintext highlighter-rouge">gen3_lite.launch.py</code> launch file is designed to be used for Gen3 Lite arms. The typical use case to bringup the robot arm with mock hardware:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3_lite.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>
<p>Alternatively, if you wish to use the physical robot:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3_lite.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10 <span class="se">\</span>

</code></pre></div></div>

<p>You can specify the following arguments if you wish to change your arm configuration:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code>: Your robot model. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3_lite</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_joint_name</code> : Name of the controlled joint of the gripper attached to the arm. Default value (and only one) is <code class="language-plaintext highlighter-rouge">right_finger_bottom_joint</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_internal_bus_gripper_comm</code> : Use internal bus for gripper communication. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_velocity</code> : Max velocity for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_force</code> : Max force for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_ip</code> : IP address by which the robot can be reached. No default is specified, this is a required argument. All arms are shipped with address <code class="language-plaintext highlighter-rouge">192.168.1.10</code>, but if you have reassigned your physical arm’s robot IP address, then you will need to assign that ip address. If you’re using an USB to Ethernet interface to connect your robot to your machine instead of USB via RNDIS, the ip address will be <code class="language-plaintext highlighter-rouge">192.168.2.10</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_fake_hardware</code> : Start robot with fake hardware mirroring command to its states. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fake_sensor_commands</code> : Enable fake command interfaces for sensors used for simple simulations. Used only if ‘use_fake_hardware’ parameter is true. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot controller to start. Possible values are <code class="language-plaintext highlighter-rouge">twist_controller</code> and <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">controllers_file</code> : Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">description_file</code> : URDF/XACRO description file with the robot. Default value is <code class="language-plaintext highlighter-rouge">gen3_lite_gen3_lite_2f.xacro</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">launch_rviz</code> : Start an Rviz window to visualize the robot. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h2 id="simulation">Simulation</h2>
<p>The <code class="language-plaintext highlighter-rouge">kortex_sim_control.launch.py</code> launch file is designed to simulate all of our arm models, you just need to specify your configuration through the arguments. By default, the Gen3 7 dof configuration is used :</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup kortex_sim_control.launch.py <span class="se">\</span>
  use_sim_time:<span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  launch_rviz:<span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  robot_controller:<span class="o">=</span>joint_trajectory_controller

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">sim_gazebo</code> : Use Gazebo for simulation. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_type</code> : Your robot model. Possible values are either <code class="language-plaintext highlighter-rouge">gen3</code> or <code class="language-plaintext highlighter-rouge">gen3_lite</code>.Default is <code class="language-plaintext highlighter-rouge">gen3</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_name</code> : Name you would like your robot to have. Default value is <code class="language-plaintext highlighter-rouge">gen3</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>.Default value is <code class="language-plaintext highlighter-rouge">7</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">vision</code> : Use arm mounted realsens. Possible values are either <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code>. Default value is <code class="language-plaintext highlighter-rouge">false</code>. This option does not generate simulated images, it only loads up the robot’s URDF that includes the vision link.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot joint controller to start. Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_pos_controller</code> : Robot position controller to start. Default value is <code class="language-plaintext highlighter-rouge">twist_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_hand_controller</code> : Robot gripper controller to start. Default value is <code class="language-plaintext highlighter-rouge">robotiq_gripper_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">controllers_file</code> :  Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">description_package</code> : Description package with robot URDF/XACRO files. Default value is <code class="language-plaintext highlighter-rouge">kortex_description</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">description_file</code> : URDF/XACRO description file with the robot. Default value is <code class="language-plaintext highlighter-rouge">kinova.urdf.xacro</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">prefix</code> : Prefix of the joint names, useful for multi-robot setup. If changed, then also joint names in the controllers’ configuration have to be updated. Default value is <code class="language-plaintext highlighter-rouge">""</code> (none).</li>
  <li>
<code class="language-plaintext highlighter-rouge">use_sim_time</code> : Use simulated clock. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are: <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>, <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code>, <code class="language-plaintext highlighter-rouge">""</code> and <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>. Default is <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>. An empty string will not initialise any gripper.</li>
</ul>

<h4 id="moveit-2">MoveIt 2</h4>

<p>To generate motion plans and execute them with a simulated 7 DoF Kinova Gen3 arm with mock hardware:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>and to bring up the Kinova Gen3 6 DoF with MoveIt:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_6dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>To generate motion plans and execute them with a Gazebo simulated 7 DoF Kinova Gen3 arm (previously launched with the command at the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/#simulation">simulation</a> section):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config sim.launch.py <span class="se">\</span>
  use_sim_time:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>To work with a physical robot and generate/execute paths with MoveIt run the following:</p>

<p>For Gen3:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10

</code></pre></div></div>

<p>For Gen3-Lite:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_lite_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10

</code></pre></div></div>

<h2 id="commanding-the-arm-physically-and-in-simulation">Commanding the arm (physically and in simulation)</h2>
<p>You can command the arm by publishing Joint Trajectory messages directly to the joint trajectory controller:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub /joint_trajectory_controller/joint_trajectory trajectory_msgs/JointTrajectory <span class="s2">"{
  joint_names: [joint_1, joint_2, joint_3, joint_4, joint_5, joint_6, joint_7],
  points: [
    { positions: [0, 0, 0, 0, 0, 0, 0], time_from_start: { sec: 10 } },
  ]
}"</span> <span class="nt">-1</span>

</code></pre></div></div>

<p>Depending on your robot type and its DoF, you will need to adapt the <code class="language-plaintext highlighter-rouge">joint_names</code> and <code class="language-plaintext highlighter-rouge">positions</code> properties accordingly. For the Gen3 Lite arm, the integrated gripper is considered as a joint, so to command it, it must be included in the <code class="language-plaintext highlighter-rouge">joint_names</code> array. (<code class="language-plaintext highlighter-rouge">0.0=open</code>, <code class="language-plaintext highlighter-rouge">1.0=close</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub /joint_trajectory_controller/joint_trajectory trajectory_msgs/JointTrajectory <span class="s2">"{
  joint_names: [joint_1, joint_2, joint_3, joint_4, joint_5, joint_6, right_finger_bottom_joint],
  points: [
    { positions: [0, 0, 0, 0, 0, 0, 1], time_from_start: { sec: 10 } },
  ]
}"</span> <span class="nt">-1</span>

</code></pre></div></div>

<p>You can also command the arm using Twist messages. Before doing so, you must active the <code class="language-plaintext highlighter-rouge">twist_controller</code> and deactivate the <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /controller_manager/switch_controller controller_manager_msgs/srv/SwitchController <span class="s2">"{
  activate_controllers: [twist_controller],
  deactivate_controllers: [joint_trajectory_controller],
  strictness: 1,
  activate_asap: true,
}"</span>

</code></pre></div></div>

<p><strong>Note: the required interface for the <code class="language-plaintext highlighter-rouge">twist_controller</code> does not currently exist in the gazebo or mock hardware simulation setups. So the <code class="language-plaintext highlighter-rouge">twist_controller</code> is currently only functional on Kinova hardware.</strong></p>

<p>Once the <code class="language-plaintext highlighter-rouge">twist_controller</code> is activated, You can publish Twist messages on the <code class="language-plaintext highlighter-rouge">/twist_controller/commands</code> topic to command the arm.</p>

<p>For example, you can jog the arm using <a href="https://index.ros.org/p/teleop_twist_keyboard/github-ros2-teleop_twist_keyboard/">Teleop Twist Keyboard</a> with the following command:</p>

<p><strong>WARNING: you are responsible for collision checking, including self collisions when in this mode.</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run teleop_twist_keyboard teleop_twist_keyboard <span class="nt">--ros-args</span> <span class="nt">--remap</span> /cmd_vel:<span class="o">=</span>/twist_controller/commands

</code></pre></div></div>

<p>If you wish to use the <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code> again to command the arm using JointTrajectory messages, run the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /controller_manager/switch_controller controller_manager_msgs/srv/SwitchController <span class="s2">"{
  activate_controllers: [joint_trajectory_controller],
  deactivate_controllers: [twist_controller],
  strictness: 1,
  activate_asap: true,
}"</span>

</code></pre></div></div>

<h2 id="contents">Contents</h2>

<p>The following is a description of the packages included in this repository.</p>

<h3 id="kortex_description">kortex_description</h3>
<p>This package contains the URDF (Unified Robot Description Format), STL and configuration files for the Kortex-compatible robots. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_description/readme.md">README</a> from the package subdirectory.</p>

<h3 id="kortex_driver">kortex_driver</h3>
<p>This package implements a ROS node that allows communication between a node and a Kinova Gen3 or Gen3 lite robot. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_driver/readme.md">README</a> from the package subdirectory.</p>

<h3 id="kortex_moveit_config">kortex_moveit_config</h3>
<p>This metapackage contains the auto-generated MoveIt! files to use the Kinova Gen3 and Gen3 lite arms with the MoveIt! motion planning framework. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_moveit_config/readme.md">README</a> from the package subdirectory.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/ros2_kortex">ros2_kortex</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/kortex_api">kortex_api</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_bringup">kortex_bringup</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_description">kortex_description</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_driver">kortex_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_6dof_robotiq_2f_85_moveit_config">kinova_gen3_6dof_robotiq_2f_85_moveit_config</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_7dof_robotiq_2f_85_moveit_config">kinova_gen3_7dof_robotiq_2f_85_moveit_config</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_lite_moveit_config">kinova_gen3_lite_moveit_config</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-Kinovarobotics-ros2_kortex
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-Kinovarobotics-ros2_kortex" role="menuitem" tabindex="-1" href="/r/ros2_kortex/github-Kinovarobotics-ros2_kortex" data="github-Kinovarobotics-ros2_kortex">
                    <span class="glyphicon glyphicon-star"></span>
                    github-Kinovarobotics-ros2_kortex
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS2 driver for the Gen3 Kinova robot arm</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/Kinovarobotics/ros2_kortex.git">https://github.com/Kinovarobotics/ros2_kortex.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-17
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/ros2_kortex/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/ros2_kortex/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/ros2_kortex/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/kortex_api">kortex_api</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_bringup">kortex_bringup</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_description">kortex_description</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_driver">kortex_driver</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_6dof_robotiq_2f_85_moveit_config">kinova_gen3_6dof_robotiq_2f_85_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_7dof_robotiq_2f_85_moveit_config">kinova_gen3_7dof_robotiq_2f_85_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_lite_moveit_config">kinova_gen3_lite_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-kortex">ROS 2 Kortex</h1>
<blockquote>
  <p>Kinova® Kortex™ is the common software platform behind all of the products in the Gen3 family (Gen3 and Gen3 lite). It unifies the inner workings of the various robots and their related external tools, like the API. <br>
https://www.kinovarobotics.com/product/gen3-robots</p>
</blockquote>

<center><img src="https://raw.githubusercontent.com/Kinovarobotics/ros2_kortex/main/doc/resources/kinova-gen3-7dof-robotiq-2f-85.jpg" alt="Kinova Gen3 7DoF manipulator with Intel RealSense 3D Vision Module and Robotiq 2F-85 2 Finger 85mm Adaptive Gripper" style="width: 50%"></center>

<p>ROS2 Kortex is the official ROS2 package to interact with Kortex and its related products. It is built upon the Kortex API, documentation for which can be found in the <a href="https://github.com/Kinovarobotics/kortex">GitHub Kortex repository</a>.</p>

<h2 id="build-status">Build status</h2>

<table width="100%">
  <tr>
    <th>ROS 2 Distro</th>
    <th>Humble</th>
    <th>Iron</th>
    <th>Rolling</th>
  </tr>
  <tr>
    <th>Branch</th>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
  </tr>
  <tr>
    <th>Build Status</th>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/humble-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/humble-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Humble Binary Build">
      </a>
    </td>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/iron-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/iron-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Iron Binary Build">
      </a>
    </td>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/rolling-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/rolling-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Rolling Binary Build">
      </a>
    </td>
  </tr>
  <tr>
    <th>Release Status</th>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
  </tr>
</table>

<p><strong>Note:</strong> There are several CI jobs checking against future upstream changes see <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/.github/workflows/README.md">detailed build status</a> for a full list of CI jobs and for more information.</p>

<h2 id="getting-started">Getting started</h2>

<ol>
  <li>
    <p>Install ROS 2.</p>

    <p>If you’re a developer, we recommend using Rolling to get the latest features and fixes.</p>

    <p>Rolling Release: <a href="https://docs.ros.org/en/rolling/Installation/Ubuntu-Install-Debians.html">Install ROS2 Rolling</a><br>
Latest LTS Release: <a href="https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debs.html">Install ROS2 Jazzy</a>&lt;/br&gt;
Previous Stable LTS Release: <a href="https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debians.html">Install ROS2 Humble</a></p>

    <p>After installing a version of ROS, source the setup.bash, which will set the <code class="language-plaintext highlighter-rouge">$ROS_DISTRO</code> environment variable.</p>
  </li>
</ol>

<p><strong>NOTE</strong> Please use the <code class="language-plaintext highlighter-rouge">Humble_Gazebo_Classic_Support</code> branch for ROS2 Humble and the <code class="language-plaintext highlighter-rouge">main</code> branch for ROS2 Jazzy</p>

<ol>
  <li>If you plan to use MoveIt, it is recommended to install and use Cyclone DDS.</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   sudo apt install ros-$ROS_DISTRO-rmw-cyclonedds-cpp
   export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp
   
</code></pre></div></div>
<h2 id="contributing-to-this-repository-or-building-from-source">Contributing to this repository or building from source</h2>

<p>Note: It is recommended to use a released binary version of this package and apt install it.
If you want the latest version of this repository for testing latest fixes
check out testing with pre-released binaries: https://docs.ros.org/en/rolling/Installation/Testing.html</p>

<p>If the bug fix you need isn’t in a released version or If you want to build this repository from source or contribute back to the repository read on.</p>

<ol>
  <li>Make sure that <code class="language-plaintext highlighter-rouge">colcon</code>, its extensions, and <code class="language-plaintext highlighter-rouge">vcs</code> are installed:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   sudo apt install python3-colcon-common-extensions python3-vcstool
   
</code></pre></div></div>

<ol>
  <li>Create a new ROS2 workspace:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   export COLCON_WS=~/workspace/ros2_kortex_ws
   mkdir -p $COLCON_WS/src
   
</code></pre></div></div>

<ol>
  <li>Pull relevant packages:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   cd $COLCON_WS
   git clone https://github.com/Kinovarobotics/ros2_kortex.git src/ros2_kortex
   vcs import src --skip-existing --input src/ros2_kortex/ros2_kortex.$ROS_DISTRO.repos
   vcs import src --skip-existing --input src/ros2_kortex/ros2_kortex-not-released.$ROS_DISTRO.repos
   
</code></pre></div></div>

<p>If you plan on simulating the robot with Gazebo, make sure to pull the additional simulation packages.
   If you’re on ROS 2 Humble, run</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   vcs import src --skip-existing --input src/ros2_kortex/simulation.jazzy.repos
   
</code></pre></div></div>

<p>otherwise</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   vcs import --skip-existing --input src/ros2_kortex/simulation.repos
   
</code></pre></div></div>

<p>If you plan on using MoveIt, you must make sure that you have it already <a href="https://moveit.ros.org/install-moveit2/binary/">installed</a> either from binaries or by building it from source.</p>

<ol>
  <li>
    <p>Follow the instructions to install <a href="https://gazebosim.org/docs/harmonic/getstarted/">Gazebo Harmonic</a></p>
  </li>
  <li>
    <p>Install dependencies, compile, and source the workspace:</p>
  </li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   rosdep install --ignore-src --from-paths src -y -r
   colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release
   
</code></pre></div></div>

<p>By default, colcon will use as much resources as possible to build the ROS2 workspace. This can temporarily freeze or even crash your machine. You can limit the number of threads used to avoid this issue, we found a good tradeoff between build time and resource utilisation by setting it to 3 :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release --parallel-workers 3
   
</code></pre></div></div>
<ol>
  <li>Source the previously built workspace using the following command:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   echo 'source ~/workspace/ros2_kortex_ws/install/setup.bash' &gt;&gt; ~/.bashrc
   
</code></pre></div></div>

<h2 id="simulation-issues">Simulation Issues</h2>

<p>Please note, at this time there are two known issues you with simulation</p>

<ol>
  <li>Gazebo + Mimic Joints for the Robotiq Gripper</li>
  <li>Protobuf version mismatch</li>
</ol>

<h1 id="gazebo-and-mimic-joints">Gazebo and Mimic Joints</h1>

<p>A pull request has been made to gz_ros2_control which is how this repository was tested in simulation.
The pull request won’t be merged as the fix should be done upstream in gz-sim.
Once a fix is available ros2_robotiq_gripper will be re-released and an update should fix any workarounds.</p>

<p>In the meantime if you need simulation checkout the upstream pull request link:</p>

<ul>
  <li>Upstream Issue: https://github.com/gazebosim/gz-sim/issues/1684</li>
  <li>Upstream Pull Request: https://github.com/ros-controls/gz_ros2_control/pull/86</li>
  <li>Tracking Issue: https://github.com/PickNikRobotics/ros2_robotiq_gripper/issues/7</li>
</ul>

<h1 id="protobuf">Protobuf</h1>

<p>Due to mismatched protobuf version that ships system and used by Gazebo simulator compiling twice may be required.
You will only run into this if you have certain other gazebo related code in your workspace while compiling this repository.
If errors are encounter you must clean your workspace and run colcon build in two steps:</p>

<ol>
  <li>build everything except kortex related packages</li>
  <li>build the packages that where skipped</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install python3-colcon-clean # if you don't have colcon-clean installed already
colcon clean workspace -y
colcon build --packages-skip-regex '.*kortex.*' '.*gen3.*'
colcon build --packages-select-regex '.*kortex.*' '.*gen3.*'

</code></pre></div></div>

<h2 id="usage">Usage</h2>
<p>To launch and view any of the robot’s URDF run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_description view_robot.launch.py

</code></pre></div></div>

<p>The accepted arguments are:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code> : Your robot model. Possible values are either <code class="language-plaintext highlighter-rouge">gen3</code> or <code class="language-plaintext highlighter-rouge">gen3_lite</code>, the default is <code class="language-plaintext highlighter-rouge">gen3</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code> or <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code>. For the Gen3 Lite, the only option is <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>. Default value is an empty string, which will display the arm without a gripper.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>. For the Gen3 Lite, the only option is <code class="language-plaintext highlighter-rouge">6</code>. Default value is <code class="language-plaintext highlighter-rouge">7</code>.</p>
  </li>
</ul>

<h3 id="gen-3-robots">Gen 3 Robots</h3>

<p>The <code class="language-plaintext highlighter-rouge">gen3.launch.py</code> launch file is designed to be used for Gen3 arms. The typical use case to bringup and visualize the 7 DoF Kinova Gen3 robot arm (default) with mock hardware on Rviz:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>Alternatively, for a physical robot:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10 <span class="se">\</span>

</code></pre></div></div>
<p>You can specify the following arguments if you wish to change your arm configuration:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code>: Your robot model. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>, <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code> or <code class="language-plaintext highlighter-rouge">""</code>. Default is <code class="language-plaintext highlighter-rouge">""</code>. An empty string will not initialise any gripper.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_joint_name</code> : Name of the controlled joint of the gripper attached to the arm. Default value is <code class="language-plaintext highlighter-rouge">robotiq_85_left_knuckle_joint</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_internal_bus_gripper_comm</code> : Use internal bus for gripper communication. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_velocity</code> : Max velocity for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_force</code> : Max force for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>.Default value is <code class="language-plaintext highlighter-rouge">7</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_ip</code> : IP address by which the robot can be reached. No default is specified, this is a required argument. All arms are shipped with address <code class="language-plaintext highlighter-rouge">192.168.1.10</code>, but if you have reassigned your physical arm’s robot IP address, then you will need to assign that ip address.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_fake_hardware</code> : Start robot with fake hardware mirroring command to its states. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fake_sensor_commands</code> : Enable fake command interfaces for sensors used for simple simulations. Used only if ‘use_fake_hardware’ parameter is true. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot controller to start. Possible values are <code class="language-plaintext highlighter-rouge">twist_controller</code> and <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">controllers_file</code> : Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">launch_rviz</code> : Start an Rviz window to visualize the robot. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h4 id="robotiq-gripper">Robotiq gripper</h4>

<p>The Robotiq 2f 85 (or 2f 140) Gripper will be available on the Action topic:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/robotiq_gripper_controller/gripper_cmd

</code></pre></div></div>

<p>You can test the gripper by calling the Action server with the following command and setting the desired <code class="language-plaintext highlighter-rouge">position</code> of the gripper (<code class="language-plaintext highlighter-rouge">0.0=open</code>, <code class="language-plaintext highlighter-rouge">0.8=close</code>)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 action send_goal /robotiq_gripper_controller/gripper_cmd control_msgs/action/GripperCommand <span class="s2">"{command:{position: 0.0, max_effort: 100.0}}"</span>

</code></pre></div></div>

<h4 id="vision-module">Vision Module</h4>

<p>In order to access the Kinova Vision module’s depth and color streams for the camera-equipped Gen3 arm models, please refer to the following github repository for detailed instructions: <a href="https://github.com/Kinovarobotics/ros2_kortex_vision">ros2_kortex_vision</a></p>

<h3 id="gen-3-lite-robot">Gen 3 Lite Robot</h3>

<p>The <code class="language-plaintext highlighter-rouge">gen3_lite.launch.py</code> launch file is designed to be used for Gen3 Lite arms. The typical use case to bringup the robot arm with mock hardware:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3_lite.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>
<p>Alternatively, if you wish to use the physical robot:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3_lite.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10 <span class="se">\</span>

</code></pre></div></div>

<p>You can specify the following arguments if you wish to change your arm configuration:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code>: Your robot model. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3_lite</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_joint_name</code> : Name of the controlled joint of the gripper attached to the arm. Default value (and only one) is <code class="language-plaintext highlighter-rouge">right_finger_bottom_joint</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_internal_bus_gripper_comm</code> : Use internal bus for gripper communication. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_velocity</code> : Max velocity for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_force</code> : Max force for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_ip</code> : IP address by which the robot can be reached. No default is specified, this is a required argument. All arms are shipped with address <code class="language-plaintext highlighter-rouge">192.168.1.10</code>, but if you have reassigned your physical arm’s robot IP address, then you will need to assign that ip address. If you’re using an USB to Ethernet interface to connect your robot to your machine instead of USB via RNDIS, the ip address will be <code class="language-plaintext highlighter-rouge">192.168.2.10</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_fake_hardware</code> : Start robot with fake hardware mirroring command to its states. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fake_sensor_commands</code> : Enable fake command interfaces for sensors used for simple simulations. Used only if ‘use_fake_hardware’ parameter is true. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot controller to start. Possible values are <code class="language-plaintext highlighter-rouge">twist_controller</code> and <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">controllers_file</code> : Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">description_file</code> : URDF/XACRO description file with the robot. Default value is <code class="language-plaintext highlighter-rouge">gen3_lite_gen3_lite_2f.xacro</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">launch_rviz</code> : Start an Rviz window to visualize the robot. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h2 id="simulation">Simulation</h2>
<p>The <code class="language-plaintext highlighter-rouge">kortex_sim_control.launch.py</code> launch file is designed to simulate all of our arm models, you just need to specify your configuration through the arguments. By default, the Gen3 7 dof configuration is used :</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup kortex_sim_control.launch.py <span class="se">\</span>
  use_sim_time:<span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  launch_rviz:<span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  robot_controller:<span class="o">=</span>joint_trajectory_controller

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">sim_gazebo</code> : Use Gazebo for simulation. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_type</code> : Your robot model. Possible values are either <code class="language-plaintext highlighter-rouge">gen3</code> or <code class="language-plaintext highlighter-rouge">gen3_lite</code>.Default is <code class="language-plaintext highlighter-rouge">gen3</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_name</code> : Name you would like your robot to have. Default value is <code class="language-plaintext highlighter-rouge">gen3</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>.Default value is <code class="language-plaintext highlighter-rouge">7</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">vision</code> : Use arm mounted realsens. Possible values are either <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code>. Default value is <code class="language-plaintext highlighter-rouge">false</code>. This option does not generate simulated images, it only loads up the robot’s URDF that includes the vision link.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot joint controller to start. Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_pos_controller</code> : Robot position controller to start. Default value is <code class="language-plaintext highlighter-rouge">twist_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_hand_controller</code> : Robot gripper controller to start. Default value is <code class="language-plaintext highlighter-rouge">robotiq_gripper_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">controllers_file</code> :  Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">description_package</code> : Description package with robot URDF/XACRO files. Default value is <code class="language-plaintext highlighter-rouge">kortex_description</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">description_file</code> : URDF/XACRO description file with the robot. Default value is <code class="language-plaintext highlighter-rouge">kinova.urdf.xacro</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">prefix</code> : Prefix of the joint names, useful for multi-robot setup. If changed, then also joint names in the controllers’ configuration have to be updated. Default value is <code class="language-plaintext highlighter-rouge">""</code> (none).</li>
  <li>
<code class="language-plaintext highlighter-rouge">use_sim_time</code> : Use simulated clock. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are: <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>, <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code>, <code class="language-plaintext highlighter-rouge">""</code> and <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>. Default is <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>. An empty string will not initialise any gripper.</li>
</ul>

<h4 id="moveit-2">MoveIt 2</h4>

<p>To generate motion plans and execute them with a simulated 7 DoF Kinova Gen3 arm with mock hardware:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>and to bring up the Kinova Gen3 6 DoF with MoveIt:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_6dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>To generate motion plans and execute them with a Gazebo simulated 7 DoF Kinova Gen3 arm (previously launched with the command at the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/#simulation">simulation</a> section):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config sim.launch.py <span class="se">\</span>
  use_sim_time:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>To work with a physical robot and generate/execute paths with MoveIt run the following:</p>

<p>For Gen3:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10

</code></pre></div></div>

<p>For Gen3-Lite:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_lite_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10

</code></pre></div></div>

<h2 id="commanding-the-arm-physically-and-in-simulation">Commanding the arm (physically and in simulation)</h2>
<p>You can command the arm by publishing Joint Trajectory messages directly to the joint trajectory controller:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub /joint_trajectory_controller/joint_trajectory trajectory_msgs/JointTrajectory <span class="s2">"{
  joint_names: [joint_1, joint_2, joint_3, joint_4, joint_5, joint_6, joint_7],
  points: [
    { positions: [0, 0, 0, 0, 0, 0, 0], time_from_start: { sec: 10 } },
  ]
}"</span> <span class="nt">-1</span>

</code></pre></div></div>

<p>Depending on your robot type and its DoF, you will need to adapt the <code class="language-plaintext highlighter-rouge">joint_names</code> and <code class="language-plaintext highlighter-rouge">positions</code> properties accordingly. For the Gen3 Lite arm, the integrated gripper is considered as a joint, so to command it, it must be included in the <code class="language-plaintext highlighter-rouge">joint_names</code> array. (<code class="language-plaintext highlighter-rouge">0.0=open</code>, <code class="language-plaintext highlighter-rouge">1.0=close</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub /joint_trajectory_controller/joint_trajectory trajectory_msgs/JointTrajectory <span class="s2">"{
  joint_names: [joint_1, joint_2, joint_3, joint_4, joint_5, joint_6, right_finger_bottom_joint],
  points: [
    { positions: [0, 0, 0, 0, 0, 0, 1], time_from_start: { sec: 10 } },
  ]
}"</span> <span class="nt">-1</span>

</code></pre></div></div>

<p>You can also command the arm using Twist messages. Before doing so, you must active the <code class="language-plaintext highlighter-rouge">twist_controller</code> and deactivate the <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /controller_manager/switch_controller controller_manager_msgs/srv/SwitchController <span class="s2">"{
  activate_controllers: [twist_controller],
  deactivate_controllers: [joint_trajectory_controller],
  strictness: 1,
  activate_asap: true,
}"</span>

</code></pre></div></div>

<p><strong>Note: the required interface for the <code class="language-plaintext highlighter-rouge">twist_controller</code> does not currently exist in the gazebo or mock hardware simulation setups. So the <code class="language-plaintext highlighter-rouge">twist_controller</code> is currently only functional on Kinova hardware.</strong></p>

<p>Once the <code class="language-plaintext highlighter-rouge">twist_controller</code> is activated, You can publish Twist messages on the <code class="language-plaintext highlighter-rouge">/twist_controller/commands</code> topic to command the arm.</p>

<p>For example, you can jog the arm using <a href="https://index.ros.org/p/teleop_twist_keyboard/github-ros2-teleop_twist_keyboard/">Teleop Twist Keyboard</a> with the following command:</p>

<p><strong>WARNING: you are responsible for collision checking, including self collisions when in this mode.</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run teleop_twist_keyboard teleop_twist_keyboard <span class="nt">--ros-args</span> <span class="nt">--remap</span> /cmd_vel:<span class="o">=</span>/twist_controller/commands

</code></pre></div></div>

<p>If you wish to use the <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code> again to command the arm using JointTrajectory messages, run the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /controller_manager/switch_controller controller_manager_msgs/srv/SwitchController <span class="s2">"{
  activate_controllers: [joint_trajectory_controller],
  deactivate_controllers: [twist_controller],
  strictness: 1,
  activate_asap: true,
}"</span>

</code></pre></div></div>

<h2 id="contents">Contents</h2>

<p>The following is a description of the packages included in this repository.</p>

<h3 id="kortex_description">kortex_description</h3>
<p>This package contains the URDF (Unified Robot Description Format), STL and configuration files for the Kortex-compatible robots. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_description/readme.md">README</a> from the package subdirectory.</p>

<h3 id="kortex_driver">kortex_driver</h3>
<p>This package implements a ROS node that allows communication between a node and a Kinova Gen3 or Gen3 lite robot. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_driver/readme.md">README</a> from the package subdirectory.</p>

<h3 id="kortex_moveit_config">kortex_moveit_config</h3>
<p>This metapackage contains the auto-generated MoveIt! files to use the Kinova Gen3 and Gen3 lite arms with the MoveIt! motion planning framework. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_moveit_config/readme.md">README</a> from the package subdirectory.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/ros2_kortex">ros2_kortex</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/kortex_api">kortex_api</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_bringup">kortex_bringup</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_description">kortex_description</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_driver">kortex_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_6dof_robotiq_2f_85_moveit_config">kinova_gen3_6dof_robotiq_2f_85_moveit_config</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_7dof_robotiq_2f_85_moveit_config">kinova_gen3_7dof_robotiq_2f_85_moveit_config</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_lite_moveit_config">kinova_gen3_lite_moveit_config</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-Kinovarobotics-ros2_kortex
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-Kinovarobotics-ros2_kortex" role="menuitem" tabindex="-1" href="/r/ros2_kortex/github-Kinovarobotics-ros2_kortex" data="github-Kinovarobotics-ros2_kortex">
                    <span class="glyphicon glyphicon-star"></span>
                    github-Kinovarobotics-ros2_kortex
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS2 driver for the Gen3 Kinova robot arm</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/Kinovarobotics/ros2_kortex.git">https://github.com/Kinovarobotics/ros2_kortex.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-17
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/ros2_kortex/#kilted-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/ros2_kortex/#kilted-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/ros2_kortex/#kilted-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/kortex_api">kortex_api</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_bringup">kortex_bringup</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_description">kortex_description</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_driver">kortex_driver</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_6dof_robotiq_2f_85_moveit_config">kinova_gen3_6dof_robotiq_2f_85_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_7dof_robotiq_2f_85_moveit_config">kinova_gen3_7dof_robotiq_2f_85_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_lite_moveit_config">kinova_gen3_lite_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-kortex">ROS 2 Kortex</h1>
<blockquote>
  <p>Kinova® Kortex™ is the common software platform behind all of the products in the Gen3 family (Gen3 and Gen3 lite). It unifies the inner workings of the various robots and their related external tools, like the API. <br>
https://www.kinovarobotics.com/product/gen3-robots</p>
</blockquote>

<center><img src="https://raw.githubusercontent.com/Kinovarobotics/ros2_kortex/main/doc/resources/kinova-gen3-7dof-robotiq-2f-85.jpg" alt="Kinova Gen3 7DoF manipulator with Intel RealSense 3D Vision Module and Robotiq 2F-85 2 Finger 85mm Adaptive Gripper" style="width: 50%"></center>

<p>ROS2 Kortex is the official ROS2 package to interact with Kortex and its related products. It is built upon the Kortex API, documentation for which can be found in the <a href="https://github.com/Kinovarobotics/kortex">GitHub Kortex repository</a>.</p>

<h2 id="build-status">Build status</h2>

<table width="100%">
  <tr>
    <th>ROS 2 Distro</th>
    <th>Humble</th>
    <th>Iron</th>
    <th>Rolling</th>
  </tr>
  <tr>
    <th>Branch</th>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
  </tr>
  <tr>
    <th>Build Status</th>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/humble-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/humble-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Humble Binary Build">
      </a>
    </td>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/iron-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/iron-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Iron Binary Build">
      </a>
    </td>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/rolling-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/rolling-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Rolling Binary Build">
      </a>
    </td>
  </tr>
  <tr>
    <th>Release Status</th>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
  </tr>
</table>

<p><strong>Note:</strong> There are several CI jobs checking against future upstream changes see <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/.github/workflows/README.md">detailed build status</a> for a full list of CI jobs and for more information.</p>

<h2 id="getting-started">Getting started</h2>

<ol>
  <li>
    <p>Install ROS 2.</p>

    <p>If you’re a developer, we recommend using Rolling to get the latest features and fixes.</p>

    <p>Rolling Release: <a href="https://docs.ros.org/en/rolling/Installation/Ubuntu-Install-Debians.html">Install ROS2 Rolling</a><br>
Latest LTS Release: <a href="https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debs.html">Install ROS2 Jazzy</a>&lt;/br&gt;
Previous Stable LTS Release: <a href="https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debians.html">Install ROS2 Humble</a></p>

    <p>After installing a version of ROS, source the setup.bash, which will set the <code class="language-plaintext highlighter-rouge">$ROS_DISTRO</code> environment variable.</p>
  </li>
</ol>

<p><strong>NOTE</strong> Please use the <code class="language-plaintext highlighter-rouge">Humble_Gazebo_Classic_Support</code> branch for ROS2 Humble and the <code class="language-plaintext highlighter-rouge">main</code> branch for ROS2 Jazzy</p>

<ol>
  <li>If you plan to use MoveIt, it is recommended to install and use Cyclone DDS.</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   sudo apt install ros-$ROS_DISTRO-rmw-cyclonedds-cpp
   export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp
   
</code></pre></div></div>
<h2 id="contributing-to-this-repository-or-building-from-source">Contributing to this repository or building from source</h2>

<p>Note: It is recommended to use a released binary version of this package and apt install it.
If you want the latest version of this repository for testing latest fixes
check out testing with pre-released binaries: https://docs.ros.org/en/rolling/Installation/Testing.html</p>

<p>If the bug fix you need isn’t in a released version or If you want to build this repository from source or contribute back to the repository read on.</p>

<ol>
  <li>Make sure that <code class="language-plaintext highlighter-rouge">colcon</code>, its extensions, and <code class="language-plaintext highlighter-rouge">vcs</code> are installed:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   sudo apt install python3-colcon-common-extensions python3-vcstool
   
</code></pre></div></div>

<ol>
  <li>Create a new ROS2 workspace:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   export COLCON_WS=~/workspace/ros2_kortex_ws
   mkdir -p $COLCON_WS/src
   
</code></pre></div></div>

<ol>
  <li>Pull relevant packages:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   cd $COLCON_WS
   git clone https://github.com/Kinovarobotics/ros2_kortex.git src/ros2_kortex
   vcs import src --skip-existing --input src/ros2_kortex/ros2_kortex.$ROS_DISTRO.repos
   vcs import src --skip-existing --input src/ros2_kortex/ros2_kortex-not-released.$ROS_DISTRO.repos
   
</code></pre></div></div>

<p>If you plan on simulating the robot with Gazebo, make sure to pull the additional simulation packages.
   If you’re on ROS 2 Humble, run</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   vcs import src --skip-existing --input src/ros2_kortex/simulation.jazzy.repos
   
</code></pre></div></div>

<p>otherwise</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   vcs import --skip-existing --input src/ros2_kortex/simulation.repos
   
</code></pre></div></div>

<p>If you plan on using MoveIt, you must make sure that you have it already <a href="https://moveit.ros.org/install-moveit2/binary/">installed</a> either from binaries or by building it from source.</p>

<ol>
  <li>
    <p>Follow the instructions to install <a href="https://gazebosim.org/docs/harmonic/getstarted/">Gazebo Harmonic</a></p>
  </li>
  <li>
    <p>Install dependencies, compile, and source the workspace:</p>
  </li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   rosdep install --ignore-src --from-paths src -y -r
   colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release
   
</code></pre></div></div>

<p>By default, colcon will use as much resources as possible to build the ROS2 workspace. This can temporarily freeze or even crash your machine. You can limit the number of threads used to avoid this issue, we found a good tradeoff between build time and resource utilisation by setting it to 3 :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release --parallel-workers 3
   
</code></pre></div></div>
<ol>
  <li>Source the previously built workspace using the following command:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   echo 'source ~/workspace/ros2_kortex_ws/install/setup.bash' &gt;&gt; ~/.bashrc
   
</code></pre></div></div>

<h2 id="simulation-issues">Simulation Issues</h2>

<p>Please note, at this time there are two known issues you with simulation</p>

<ol>
  <li>Gazebo + Mimic Joints for the Robotiq Gripper</li>
  <li>Protobuf version mismatch</li>
</ol>

<h1 id="gazebo-and-mimic-joints">Gazebo and Mimic Joints</h1>

<p>A pull request has been made to gz_ros2_control which is how this repository was tested in simulation.
The pull request won’t be merged as the fix should be done upstream in gz-sim.
Once a fix is available ros2_robotiq_gripper will be re-released and an update should fix any workarounds.</p>

<p>In the meantime if you need simulation checkout the upstream pull request link:</p>

<ul>
  <li>Upstream Issue: https://github.com/gazebosim/gz-sim/issues/1684</li>
  <li>Upstream Pull Request: https://github.com/ros-controls/gz_ros2_control/pull/86</li>
  <li>Tracking Issue: https://github.com/PickNikRobotics/ros2_robotiq_gripper/issues/7</li>
</ul>

<h1 id="protobuf">Protobuf</h1>

<p>Due to mismatched protobuf version that ships system and used by Gazebo simulator compiling twice may be required.
You will only run into this if you have certain other gazebo related code in your workspace while compiling this repository.
If errors are encounter you must clean your workspace and run colcon build in two steps:</p>

<ol>
  <li>build everything except kortex related packages</li>
  <li>build the packages that where skipped</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install python3-colcon-clean # if you don't have colcon-clean installed already
colcon clean workspace -y
colcon build --packages-skip-regex '.*kortex.*' '.*gen3.*'
colcon build --packages-select-regex '.*kortex.*' '.*gen3.*'

</code></pre></div></div>

<h2 id="usage">Usage</h2>
<p>To launch and view any of the robot’s URDF run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_description view_robot.launch.py

</code></pre></div></div>

<p>The accepted arguments are:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code> : Your robot model. Possible values are either <code class="language-plaintext highlighter-rouge">gen3</code> or <code class="language-plaintext highlighter-rouge">gen3_lite</code>, the default is <code class="language-plaintext highlighter-rouge">gen3</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code> or <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code>. For the Gen3 Lite, the only option is <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>. Default value is an empty string, which will display the arm without a gripper.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>. For the Gen3 Lite, the only option is <code class="language-plaintext highlighter-rouge">6</code>. Default value is <code class="language-plaintext highlighter-rouge">7</code>.</p>
  </li>
</ul>

<h3 id="gen-3-robots">Gen 3 Robots</h3>

<p>The <code class="language-plaintext highlighter-rouge">gen3.launch.py</code> launch file is designed to be used for Gen3 arms. The typical use case to bringup and visualize the 7 DoF Kinova Gen3 robot arm (default) with mock hardware on Rviz:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>Alternatively, for a physical robot:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10 <span class="se">\</span>

</code></pre></div></div>
<p>You can specify the following arguments if you wish to change your arm configuration:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code>: Your robot model. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>, <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code> or <code class="language-plaintext highlighter-rouge">""</code>. Default is <code class="language-plaintext highlighter-rouge">""</code>. An empty string will not initialise any gripper.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_joint_name</code> : Name of the controlled joint of the gripper attached to the arm. Default value is <code class="language-plaintext highlighter-rouge">robotiq_85_left_knuckle_joint</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_internal_bus_gripper_comm</code> : Use internal bus for gripper communication. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_velocity</code> : Max velocity for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_force</code> : Max force for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>.Default value is <code class="language-plaintext highlighter-rouge">7</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_ip</code> : IP address by which the robot can be reached. No default is specified, this is a required argument. All arms are shipped with address <code class="language-plaintext highlighter-rouge">192.168.1.10</code>, but if you have reassigned your physical arm’s robot IP address, then you will need to assign that ip address.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_fake_hardware</code> : Start robot with fake hardware mirroring command to its states. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fake_sensor_commands</code> : Enable fake command interfaces for sensors used for simple simulations. Used only if ‘use_fake_hardware’ parameter is true. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot controller to start. Possible values are <code class="language-plaintext highlighter-rouge">twist_controller</code> and <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">controllers_file</code> : Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">launch_rviz</code> : Start an Rviz window to visualize the robot. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h4 id="robotiq-gripper">Robotiq gripper</h4>

<p>The Robotiq 2f 85 (or 2f 140) Gripper will be available on the Action topic:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/robotiq_gripper_controller/gripper_cmd

</code></pre></div></div>

<p>You can test the gripper by calling the Action server with the following command and setting the desired <code class="language-plaintext highlighter-rouge">position</code> of the gripper (<code class="language-plaintext highlighter-rouge">0.0=open</code>, <code class="language-plaintext highlighter-rouge">0.8=close</code>)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 action send_goal /robotiq_gripper_controller/gripper_cmd control_msgs/action/GripperCommand <span class="s2">"{command:{position: 0.0, max_effort: 100.0}}"</span>

</code></pre></div></div>

<h4 id="vision-module">Vision Module</h4>

<p>In order to access the Kinova Vision module’s depth and color streams for the camera-equipped Gen3 arm models, please refer to the following github repository for detailed instructions: <a href="https://github.com/Kinovarobotics/ros2_kortex_vision">ros2_kortex_vision</a></p>

<h3 id="gen-3-lite-robot">Gen 3 Lite Robot</h3>

<p>The <code class="language-plaintext highlighter-rouge">gen3_lite.launch.py</code> launch file is designed to be used for Gen3 Lite arms. The typical use case to bringup the robot arm with mock hardware:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3_lite.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>
<p>Alternatively, if you wish to use the physical robot:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3_lite.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10 <span class="se">\</span>

</code></pre></div></div>

<p>You can specify the following arguments if you wish to change your arm configuration:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code>: Your robot model. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3_lite</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_joint_name</code> : Name of the controlled joint of the gripper attached to the arm. Default value (and only one) is <code class="language-plaintext highlighter-rouge">right_finger_bottom_joint</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_internal_bus_gripper_comm</code> : Use internal bus for gripper communication. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_velocity</code> : Max velocity for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_force</code> : Max force for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_ip</code> : IP address by which the robot can be reached. No default is specified, this is a required argument. All arms are shipped with address <code class="language-plaintext highlighter-rouge">192.168.1.10</code>, but if you have reassigned your physical arm’s robot IP address, then you will need to assign that ip address. If you’re using an USB to Ethernet interface to connect your robot to your machine instead of USB via RNDIS, the ip address will be <code class="language-plaintext highlighter-rouge">192.168.2.10</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_fake_hardware</code> : Start robot with fake hardware mirroring command to its states. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fake_sensor_commands</code> : Enable fake command interfaces for sensors used for simple simulations. Used only if ‘use_fake_hardware’ parameter is true. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot controller to start. Possible values are <code class="language-plaintext highlighter-rouge">twist_controller</code> and <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">controllers_file</code> : Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">description_file</code> : URDF/XACRO description file with the robot. Default value is <code class="language-plaintext highlighter-rouge">gen3_lite_gen3_lite_2f.xacro</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">launch_rviz</code> : Start an Rviz window to visualize the robot. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h2 id="simulation">Simulation</h2>
<p>The <code class="language-plaintext highlighter-rouge">kortex_sim_control.launch.py</code> launch file is designed to simulate all of our arm models, you just need to specify your configuration through the arguments. By default, the Gen3 7 dof configuration is used :</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup kortex_sim_control.launch.py <span class="se">\</span>
  use_sim_time:<span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  launch_rviz:<span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  robot_controller:<span class="o">=</span>joint_trajectory_controller

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">sim_gazebo</code> : Use Gazebo for simulation. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_type</code> : Your robot model. Possible values are either <code class="language-plaintext highlighter-rouge">gen3</code> or <code class="language-plaintext highlighter-rouge">gen3_lite</code>.Default is <code class="language-plaintext highlighter-rouge">gen3</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_name</code> : Name you would like your robot to have. Default value is <code class="language-plaintext highlighter-rouge">gen3</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>.Default value is <code class="language-plaintext highlighter-rouge">7</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">vision</code> : Use arm mounted realsens. Possible values are either <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code>. Default value is <code class="language-plaintext highlighter-rouge">false</code>. This option does not generate simulated images, it only loads up the robot’s URDF that includes the vision link.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot joint controller to start. Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_pos_controller</code> : Robot position controller to start. Default value is <code class="language-plaintext highlighter-rouge">twist_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_hand_controller</code> : Robot gripper controller to start. Default value is <code class="language-plaintext highlighter-rouge">robotiq_gripper_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">controllers_file</code> :  Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">description_package</code> : Description package with robot URDF/XACRO files. Default value is <code class="language-plaintext highlighter-rouge">kortex_description</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">description_file</code> : URDF/XACRO description file with the robot. Default value is <code class="language-plaintext highlighter-rouge">kinova.urdf.xacro</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">prefix</code> : Prefix of the joint names, useful for multi-robot setup. If changed, then also joint names in the controllers’ configuration have to be updated. Default value is <code class="language-plaintext highlighter-rouge">""</code> (none).</li>
  <li>
<code class="language-plaintext highlighter-rouge">use_sim_time</code> : Use simulated clock. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are: <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>, <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code>, <code class="language-plaintext highlighter-rouge">""</code> and <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>. Default is <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>. An empty string will not initialise any gripper.</li>
</ul>

<h4 id="moveit-2">MoveIt 2</h4>

<p>To generate motion plans and execute them with a simulated 7 DoF Kinova Gen3 arm with mock hardware:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>and to bring up the Kinova Gen3 6 DoF with MoveIt:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_6dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>To generate motion plans and execute them with a Gazebo simulated 7 DoF Kinova Gen3 arm (previously launched with the command at the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/#simulation">simulation</a> section):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config sim.launch.py <span class="se">\</span>
  use_sim_time:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>To work with a physical robot and generate/execute paths with MoveIt run the following:</p>

<p>For Gen3:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10

</code></pre></div></div>

<p>For Gen3-Lite:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_lite_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10

</code></pre></div></div>

<h2 id="commanding-the-arm-physically-and-in-simulation">Commanding the arm (physically and in simulation)</h2>
<p>You can command the arm by publishing Joint Trajectory messages directly to the joint trajectory controller:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub /joint_trajectory_controller/joint_trajectory trajectory_msgs/JointTrajectory <span class="s2">"{
  joint_names: [joint_1, joint_2, joint_3, joint_4, joint_5, joint_6, joint_7],
  points: [
    { positions: [0, 0, 0, 0, 0, 0, 0], time_from_start: { sec: 10 } },
  ]
}"</span> <span class="nt">-1</span>

</code></pre></div></div>

<p>Depending on your robot type and its DoF, you will need to adapt the <code class="language-plaintext highlighter-rouge">joint_names</code> and <code class="language-plaintext highlighter-rouge">positions</code> properties accordingly. For the Gen3 Lite arm, the integrated gripper is considered as a joint, so to command it, it must be included in the <code class="language-plaintext highlighter-rouge">joint_names</code> array. (<code class="language-plaintext highlighter-rouge">0.0=open</code>, <code class="language-plaintext highlighter-rouge">1.0=close</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub /joint_trajectory_controller/joint_trajectory trajectory_msgs/JointTrajectory <span class="s2">"{
  joint_names: [joint_1, joint_2, joint_3, joint_4, joint_5, joint_6, right_finger_bottom_joint],
  points: [
    { positions: [0, 0, 0, 0, 0, 0, 1], time_from_start: { sec: 10 } },
  ]
}"</span> <span class="nt">-1</span>

</code></pre></div></div>

<p>You can also command the arm using Twist messages. Before doing so, you must active the <code class="language-plaintext highlighter-rouge">twist_controller</code> and deactivate the <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /controller_manager/switch_controller controller_manager_msgs/srv/SwitchController <span class="s2">"{
  activate_controllers: [twist_controller],
  deactivate_controllers: [joint_trajectory_controller],
  strictness: 1,
  activate_asap: true,
}"</span>

</code></pre></div></div>

<p><strong>Note: the required interface for the <code class="language-plaintext highlighter-rouge">twist_controller</code> does not currently exist in the gazebo or mock hardware simulation setups. So the <code class="language-plaintext highlighter-rouge">twist_controller</code> is currently only functional on Kinova hardware.</strong></p>

<p>Once the <code class="language-plaintext highlighter-rouge">twist_controller</code> is activated, You can publish Twist messages on the <code class="language-plaintext highlighter-rouge">/twist_controller/commands</code> topic to command the arm.</p>

<p>For example, you can jog the arm using <a href="https://index.ros.org/p/teleop_twist_keyboard/github-ros2-teleop_twist_keyboard/">Teleop Twist Keyboard</a> with the following command:</p>

<p><strong>WARNING: you are responsible for collision checking, including self collisions when in this mode.</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run teleop_twist_keyboard teleop_twist_keyboard <span class="nt">--ros-args</span> <span class="nt">--remap</span> /cmd_vel:<span class="o">=</span>/twist_controller/commands

</code></pre></div></div>

<p>If you wish to use the <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code> again to command the arm using JointTrajectory messages, run the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /controller_manager/switch_controller controller_manager_msgs/srv/SwitchController <span class="s2">"{
  activate_controllers: [joint_trajectory_controller],
  deactivate_controllers: [twist_controller],
  strictness: 1,
  activate_asap: true,
}"</span>

</code></pre></div></div>

<h2 id="contents">Contents</h2>

<p>The following is a description of the packages included in this repository.</p>

<h3 id="kortex_description">kortex_description</h3>
<p>This package contains the URDF (Unified Robot Description Format), STL and configuration files for the Kortex-compatible robots. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_description/readme.md">README</a> from the package subdirectory.</p>

<h3 id="kortex_driver">kortex_driver</h3>
<p>This package implements a ROS node that allows communication between a node and a Kinova Gen3 or Gen3 lite robot. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_driver/readme.md">README</a> from the package subdirectory.</p>

<h3 id="kortex_moveit_config">kortex_moveit_config</h3>
<p>This metapackage contains the auto-generated MoveIt! files to use the Kinova Gen3 and Gen3 lite arms with the MoveIt! motion planning framework. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_moveit_config/readme.md">README</a> from the package subdirectory.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/ros2_kortex">ros2_kortex</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/kortex_api">kortex_api</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_bringup">kortex_bringup</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_description">kortex_description</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_driver">kortex_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_6dof_robotiq_2f_85_moveit_config">kinova_gen3_6dof_robotiq_2f_85_moveit_config</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_7dof_robotiq_2f_85_moveit_config">kinova_gen3_7dof_robotiq_2f_85_moveit_config</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_lite_moveit_config">kinova_gen3_lite_moveit_config</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-Kinovarobotics-ros2_kortex
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-Kinovarobotics-ros2_kortex" role="menuitem" tabindex="-1" href="/r/ros2_kortex/github-Kinovarobotics-ros2_kortex" data="github-Kinovarobotics-ros2_kortex">
                    <span class="glyphicon glyphicon-star"></span>
                    github-Kinovarobotics-ros2_kortex
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS2 driver for the Gen3 Kinova robot arm</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/Kinovarobotics/ros2_kortex.git">https://github.com/Kinovarobotics/ros2_kortex.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-17
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/ros2_kortex/#rolling-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/ros2_kortex/#rolling-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/ros2_kortex/#rolling-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/kortex_api">kortex_api</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_bringup">kortex_bringup</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_description">kortex_description</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_driver">kortex_driver</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_6dof_robotiq_2f_85_moveit_config">kinova_gen3_6dof_robotiq_2f_85_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_7dof_robotiq_2f_85_moveit_config">kinova_gen3_7dof_robotiq_2f_85_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_lite_moveit_config">kinova_gen3_lite_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-kortex">ROS 2 Kortex</h1>
<blockquote>
  <p>Kinova® Kortex™ is the common software platform behind all of the products in the Gen3 family (Gen3 and Gen3 lite). It unifies the inner workings of the various robots and their related external tools, like the API. <br>
https://www.kinovarobotics.com/product/gen3-robots</p>
</blockquote>

<center><img src="https://raw.githubusercontent.com/Kinovarobotics/ros2_kortex/main/doc/resources/kinova-gen3-7dof-robotiq-2f-85.jpg" alt="Kinova Gen3 7DoF manipulator with Intel RealSense 3D Vision Module and Robotiq 2F-85 2 Finger 85mm Adaptive Gripper" style="width: 50%"></center>

<p>ROS2 Kortex is the official ROS2 package to interact with Kortex and its related products. It is built upon the Kortex API, documentation for which can be found in the <a href="https://github.com/Kinovarobotics/kortex">GitHub Kortex repository</a>.</p>

<h2 id="build-status">Build status</h2>

<table width="100%">
  <tr>
    <th>ROS 2 Distro</th>
    <th>Humble</th>
    <th>Iron</th>
    <th>Rolling</th>
  </tr>
  <tr>
    <th>Branch</th>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
  </tr>
  <tr>
    <th>Build Status</th>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/humble-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/humble-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Humble Binary Build">
      </a>
    </td>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/iron-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/iron-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Iron Binary Build">
      </a>
    </td>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/rolling-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/rolling-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Rolling Binary Build">
      </a>
    </td>
  </tr>
  <tr>
    <th>Release Status</th>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
  </tr>
</table>

<p><strong>Note:</strong> There are several CI jobs checking against future upstream changes see <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/.github/workflows/README.md">detailed build status</a> for a full list of CI jobs and for more information.</p>

<h2 id="getting-started">Getting started</h2>

<ol>
  <li>
    <p>Install ROS 2.</p>

    <p>If you’re a developer, we recommend using Rolling to get the latest features and fixes.</p>

    <p>Rolling Release: <a href="https://docs.ros.org/en/rolling/Installation/Ubuntu-Install-Debians.html">Install ROS2 Rolling</a><br>
Latest LTS Release: <a href="https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debs.html">Install ROS2 Jazzy</a>&lt;/br&gt;
Previous Stable LTS Release: <a href="https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debians.html">Install ROS2 Humble</a></p>

    <p>After installing a version of ROS, source the setup.bash, which will set the <code class="language-plaintext highlighter-rouge">$ROS_DISTRO</code> environment variable.</p>
  </li>
</ol>

<p><strong>NOTE</strong> Please use the <code class="language-plaintext highlighter-rouge">Humble_Gazebo_Classic_Support</code> branch for ROS2 Humble and the <code class="language-plaintext highlighter-rouge">main</code> branch for ROS2 Jazzy</p>

<ol>
  <li>If you plan to use MoveIt, it is recommended to install and use Cyclone DDS.</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   sudo apt install ros-$ROS_DISTRO-rmw-cyclonedds-cpp
   export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp
   
</code></pre></div></div>
<h2 id="contributing-to-this-repository-or-building-from-source">Contributing to this repository or building from source</h2>

<p>Note: It is recommended to use a released binary version of this package and apt install it.
If you want the latest version of this repository for testing latest fixes
check out testing with pre-released binaries: https://docs.ros.org/en/rolling/Installation/Testing.html</p>

<p>If the bug fix you need isn’t in a released version or If you want to build this repository from source or contribute back to the repository read on.</p>

<ol>
  <li>Make sure that <code class="language-plaintext highlighter-rouge">colcon</code>, its extensions, and <code class="language-plaintext highlighter-rouge">vcs</code> are installed:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   sudo apt install python3-colcon-common-extensions python3-vcstool
   
</code></pre></div></div>

<ol>
  <li>Create a new ROS2 workspace:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   export COLCON_WS=~/workspace/ros2_kortex_ws
   mkdir -p $COLCON_WS/src
   
</code></pre></div></div>

<ol>
  <li>Pull relevant packages:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   cd $COLCON_WS
   git clone https://github.com/Kinovarobotics/ros2_kortex.git src/ros2_kortex
   vcs import src --skip-existing --input src/ros2_kortex/ros2_kortex.$ROS_DISTRO.repos
   vcs import src --skip-existing --input src/ros2_kortex/ros2_kortex-not-released.$ROS_DISTRO.repos
   
</code></pre></div></div>

<p>If you plan on simulating the robot with Gazebo, make sure to pull the additional simulation packages.
   If you’re on ROS 2 Humble, run</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   vcs import src --skip-existing --input src/ros2_kortex/simulation.jazzy.repos
   
</code></pre></div></div>

<p>otherwise</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   vcs import --skip-existing --input src/ros2_kortex/simulation.repos
   
</code></pre></div></div>

<p>If you plan on using MoveIt, you must make sure that you have it already <a href="https://moveit.ros.org/install-moveit2/binary/">installed</a> either from binaries or by building it from source.</p>

<ol>
  <li>
    <p>Follow the instructions to install <a href="https://gazebosim.org/docs/harmonic/getstarted/">Gazebo Harmonic</a></p>
  </li>
  <li>
    <p>Install dependencies, compile, and source the workspace:</p>
  </li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   rosdep install --ignore-src --from-paths src -y -r
   colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release
   
</code></pre></div></div>

<p>By default, colcon will use as much resources as possible to build the ROS2 workspace. This can temporarily freeze or even crash your machine. You can limit the number of threads used to avoid this issue, we found a good tradeoff between build time and resource utilisation by setting it to 3 :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release --parallel-workers 3
   
</code></pre></div></div>
<ol>
  <li>Source the previously built workspace using the following command:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   echo 'source ~/workspace/ros2_kortex_ws/install/setup.bash' &gt;&gt; ~/.bashrc
   
</code></pre></div></div>

<h2 id="simulation-issues">Simulation Issues</h2>

<p>Please note, at this time there are two known issues you with simulation</p>

<ol>
  <li>Gazebo + Mimic Joints for the Robotiq Gripper</li>
  <li>Protobuf version mismatch</li>
</ol>

<h1 id="gazebo-and-mimic-joints">Gazebo and Mimic Joints</h1>

<p>A pull request has been made to gz_ros2_control which is how this repository was tested in simulation.
The pull request won’t be merged as the fix should be done upstream in gz-sim.
Once a fix is available ros2_robotiq_gripper will be re-released and an update should fix any workarounds.</p>

<p>In the meantime if you need simulation checkout the upstream pull request link:</p>

<ul>
  <li>Upstream Issue: https://github.com/gazebosim/gz-sim/issues/1684</li>
  <li>Upstream Pull Request: https://github.com/ros-controls/gz_ros2_control/pull/86</li>
  <li>Tracking Issue: https://github.com/PickNikRobotics/ros2_robotiq_gripper/issues/7</li>
</ul>

<h1 id="protobuf">Protobuf</h1>

<p>Due to mismatched protobuf version that ships system and used by Gazebo simulator compiling twice may be required.
You will only run into this if you have certain other gazebo related code in your workspace while compiling this repository.
If errors are encounter you must clean your workspace and run colcon build in two steps:</p>

<ol>
  <li>build everything except kortex related packages</li>
  <li>build the packages that where skipped</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install python3-colcon-clean # if you don't have colcon-clean installed already
colcon clean workspace -y
colcon build --packages-skip-regex '.*kortex.*' '.*gen3.*'
colcon build --packages-select-regex '.*kortex.*' '.*gen3.*'

</code></pre></div></div>

<h2 id="usage">Usage</h2>
<p>To launch and view any of the robot’s URDF run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_description view_robot.launch.py

</code></pre></div></div>

<p>The accepted arguments are:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code> : Your robot model. Possible values are either <code class="language-plaintext highlighter-rouge">gen3</code> or <code class="language-plaintext highlighter-rouge">gen3_lite</code>, the default is <code class="language-plaintext highlighter-rouge">gen3</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code> or <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code>. For the Gen3 Lite, the only option is <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>. Default value is an empty string, which will display the arm without a gripper.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>. For the Gen3 Lite, the only option is <code class="language-plaintext highlighter-rouge">6</code>. Default value is <code class="language-plaintext highlighter-rouge">7</code>.</p>
  </li>
</ul>

<h3 id="gen-3-robots">Gen 3 Robots</h3>

<p>The <code class="language-plaintext highlighter-rouge">gen3.launch.py</code> launch file is designed to be used for Gen3 arms. The typical use case to bringup and visualize the 7 DoF Kinova Gen3 robot arm (default) with mock hardware on Rviz:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>Alternatively, for a physical robot:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10 <span class="se">\</span>

</code></pre></div></div>
<p>You can specify the following arguments if you wish to change your arm configuration:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code>: Your robot model. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>, <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code> or <code class="language-plaintext highlighter-rouge">""</code>. Default is <code class="language-plaintext highlighter-rouge">""</code>. An empty string will not initialise any gripper.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_joint_name</code> : Name of the controlled joint of the gripper attached to the arm. Default value is <code class="language-plaintext highlighter-rouge">robotiq_85_left_knuckle_joint</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_internal_bus_gripper_comm</code> : Use internal bus for gripper communication. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_velocity</code> : Max velocity for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_force</code> : Max force for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>.Default value is <code class="language-plaintext highlighter-rouge">7</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_ip</code> : IP address by which the robot can be reached. No default is specified, this is a required argument. All arms are shipped with address <code class="language-plaintext highlighter-rouge">192.168.1.10</code>, but if you have reassigned your physical arm’s robot IP address, then you will need to assign that ip address.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_fake_hardware</code> : Start robot with fake hardware mirroring command to its states. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fake_sensor_commands</code> : Enable fake command interfaces for sensors used for simple simulations. Used only if ‘use_fake_hardware’ parameter is true. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot controller to start. Possible values are <code class="language-plaintext highlighter-rouge">twist_controller</code> and <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">controllers_file</code> : Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">launch_rviz</code> : Start an Rviz window to visualize the robot. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h4 id="robotiq-gripper">Robotiq gripper</h4>

<p>The Robotiq 2f 85 (or 2f 140) Gripper will be available on the Action topic:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/robotiq_gripper_controller/gripper_cmd

</code></pre></div></div>

<p>You can test the gripper by calling the Action server with the following command and setting the desired <code class="language-plaintext highlighter-rouge">position</code> of the gripper (<code class="language-plaintext highlighter-rouge">0.0=open</code>, <code class="language-plaintext highlighter-rouge">0.8=close</code>)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 action send_goal /robotiq_gripper_controller/gripper_cmd control_msgs/action/GripperCommand <span class="s2">"{command:{position: 0.0, max_effort: 100.0}}"</span>

</code></pre></div></div>

<h4 id="vision-module">Vision Module</h4>

<p>In order to access the Kinova Vision module’s depth and color streams for the camera-equipped Gen3 arm models, please refer to the following github repository for detailed instructions: <a href="https://github.com/Kinovarobotics/ros2_kortex_vision">ros2_kortex_vision</a></p>

<h3 id="gen-3-lite-robot">Gen 3 Lite Robot</h3>

<p>The <code class="language-plaintext highlighter-rouge">gen3_lite.launch.py</code> launch file is designed to be used for Gen3 Lite arms. The typical use case to bringup the robot arm with mock hardware:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3_lite.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>
<p>Alternatively, if you wish to use the physical robot:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3_lite.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10 <span class="se">\</span>

</code></pre></div></div>

<p>You can specify the following arguments if you wish to change your arm configuration:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code>: Your robot model. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3_lite</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_joint_name</code> : Name of the controlled joint of the gripper attached to the arm. Default value (and only one) is <code class="language-plaintext highlighter-rouge">right_finger_bottom_joint</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_internal_bus_gripper_comm</code> : Use internal bus for gripper communication. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_velocity</code> : Max velocity for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_force</code> : Max force for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_ip</code> : IP address by which the robot can be reached. No default is specified, this is a required argument. All arms are shipped with address <code class="language-plaintext highlighter-rouge">192.168.1.10</code>, but if you have reassigned your physical arm’s robot IP address, then you will need to assign that ip address. If you’re using an USB to Ethernet interface to connect your robot to your machine instead of USB via RNDIS, the ip address will be <code class="language-plaintext highlighter-rouge">192.168.2.10</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_fake_hardware</code> : Start robot with fake hardware mirroring command to its states. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fake_sensor_commands</code> : Enable fake command interfaces for sensors used for simple simulations. Used only if ‘use_fake_hardware’ parameter is true. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot controller to start. Possible values are <code class="language-plaintext highlighter-rouge">twist_controller</code> and <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">controllers_file</code> : Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">description_file</code> : URDF/XACRO description file with the robot. Default value is <code class="language-plaintext highlighter-rouge">gen3_lite_gen3_lite_2f.xacro</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">launch_rviz</code> : Start an Rviz window to visualize the robot. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h2 id="simulation">Simulation</h2>
<p>The <code class="language-plaintext highlighter-rouge">kortex_sim_control.launch.py</code> launch file is designed to simulate all of our arm models, you just need to specify your configuration through the arguments. By default, the Gen3 7 dof configuration is used :</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup kortex_sim_control.launch.py <span class="se">\</span>
  use_sim_time:<span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  launch_rviz:<span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  robot_controller:<span class="o">=</span>joint_trajectory_controller

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">sim_gazebo</code> : Use Gazebo for simulation. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_type</code> : Your robot model. Possible values are either <code class="language-plaintext highlighter-rouge">gen3</code> or <code class="language-plaintext highlighter-rouge">gen3_lite</code>.Default is <code class="language-plaintext highlighter-rouge">gen3</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_name</code> : Name you would like your robot to have. Default value is <code class="language-plaintext highlighter-rouge">gen3</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>.Default value is <code class="language-plaintext highlighter-rouge">7</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">vision</code> : Use arm mounted realsens. Possible values are either <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code>. Default value is <code class="language-plaintext highlighter-rouge">false</code>. This option does not generate simulated images, it only loads up the robot’s URDF that includes the vision link.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot joint controller to start. Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_pos_controller</code> : Robot position controller to start. Default value is <code class="language-plaintext highlighter-rouge">twist_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_hand_controller</code> : Robot gripper controller to start. Default value is <code class="language-plaintext highlighter-rouge">robotiq_gripper_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">controllers_file</code> :  Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">description_package</code> : Description package with robot URDF/XACRO files. Default value is <code class="language-plaintext highlighter-rouge">kortex_description</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">description_file</code> : URDF/XACRO description file with the robot. Default value is <code class="language-plaintext highlighter-rouge">kinova.urdf.xacro</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">prefix</code> : Prefix of the joint names, useful for multi-robot setup. If changed, then also joint names in the controllers’ configuration have to be updated. Default value is <code class="language-plaintext highlighter-rouge">""</code> (none).</li>
  <li>
<code class="language-plaintext highlighter-rouge">use_sim_time</code> : Use simulated clock. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are: <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>, <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code>, <code class="language-plaintext highlighter-rouge">""</code> and <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>. Default is <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>. An empty string will not initialise any gripper.</li>
</ul>

<h4 id="moveit-2">MoveIt 2</h4>

<p>To generate motion plans and execute them with a simulated 7 DoF Kinova Gen3 arm with mock hardware:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>and to bring up the Kinova Gen3 6 DoF with MoveIt:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_6dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>To generate motion plans and execute them with a Gazebo simulated 7 DoF Kinova Gen3 arm (previously launched with the command at the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/#simulation">simulation</a> section):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config sim.launch.py <span class="se">\</span>
  use_sim_time:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>To work with a physical robot and generate/execute paths with MoveIt run the following:</p>

<p>For Gen3:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10

</code></pre></div></div>

<p>For Gen3-Lite:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_lite_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10

</code></pre></div></div>

<h2 id="commanding-the-arm-physically-and-in-simulation">Commanding the arm (physically and in simulation)</h2>
<p>You can command the arm by publishing Joint Trajectory messages directly to the joint trajectory controller:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub /joint_trajectory_controller/joint_trajectory trajectory_msgs/JointTrajectory <span class="s2">"{
  joint_names: [joint_1, joint_2, joint_3, joint_4, joint_5, joint_6, joint_7],
  points: [
    { positions: [0, 0, 0, 0, 0, 0, 0], time_from_start: { sec: 10 } },
  ]
}"</span> <span class="nt">-1</span>

</code></pre></div></div>

<p>Depending on your robot type and its DoF, you will need to adapt the <code class="language-plaintext highlighter-rouge">joint_names</code> and <code class="language-plaintext highlighter-rouge">positions</code> properties accordingly. For the Gen3 Lite arm, the integrated gripper is considered as a joint, so to command it, it must be included in the <code class="language-plaintext highlighter-rouge">joint_names</code> array. (<code class="language-plaintext highlighter-rouge">0.0=open</code>, <code class="language-plaintext highlighter-rouge">1.0=close</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub /joint_trajectory_controller/joint_trajectory trajectory_msgs/JointTrajectory <span class="s2">"{
  joint_names: [joint_1, joint_2, joint_3, joint_4, joint_5, joint_6, right_finger_bottom_joint],
  points: [
    { positions: [0, 0, 0, 0, 0, 0, 1], time_from_start: { sec: 10 } },
  ]
}"</span> <span class="nt">-1</span>

</code></pre></div></div>

<p>You can also command the arm using Twist messages. Before doing so, you must active the <code class="language-plaintext highlighter-rouge">twist_controller</code> and deactivate the <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /controller_manager/switch_controller controller_manager_msgs/srv/SwitchController <span class="s2">"{
  activate_controllers: [twist_controller],
  deactivate_controllers: [joint_trajectory_controller],
  strictness: 1,
  activate_asap: true,
}"</span>

</code></pre></div></div>

<p><strong>Note: the required interface for the <code class="language-plaintext highlighter-rouge">twist_controller</code> does not currently exist in the gazebo or mock hardware simulation setups. So the <code class="language-plaintext highlighter-rouge">twist_controller</code> is currently only functional on Kinova hardware.</strong></p>

<p>Once the <code class="language-plaintext highlighter-rouge">twist_controller</code> is activated, You can publish Twist messages on the <code class="language-plaintext highlighter-rouge">/twist_controller/commands</code> topic to command the arm.</p>

<p>For example, you can jog the arm using <a href="https://index.ros.org/p/teleop_twist_keyboard/github-ros2-teleop_twist_keyboard/">Teleop Twist Keyboard</a> with the following command:</p>

<p><strong>WARNING: you are responsible for collision checking, including self collisions when in this mode.</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run teleop_twist_keyboard teleop_twist_keyboard <span class="nt">--ros-args</span> <span class="nt">--remap</span> /cmd_vel:<span class="o">=</span>/twist_controller/commands

</code></pre></div></div>

<p>If you wish to use the <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code> again to command the arm using JointTrajectory messages, run the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /controller_manager/switch_controller controller_manager_msgs/srv/SwitchController <span class="s2">"{
  activate_controllers: [joint_trajectory_controller],
  deactivate_controllers: [twist_controller],
  strictness: 1,
  activate_asap: true,
}"</span>

</code></pre></div></div>

<h2 id="contents">Contents</h2>

<p>The following is a description of the packages included in this repository.</p>

<h3 id="kortex_description">kortex_description</h3>
<p>This package contains the URDF (Unified Robot Description Format), STL and configuration files for the Kortex-compatible robots. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_description/readme.md">README</a> from the package subdirectory.</p>

<h3 id="kortex_driver">kortex_driver</h3>
<p>This package implements a ROS node that allows communication between a node and a Kinova Gen3 or Gen3 lite robot. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_driver/readme.md">README</a> from the package subdirectory.</p>

<h3 id="kortex_moveit_config">kortex_moveit_config</h3>
<p>This metapackage contains the auto-generated MoveIt! files to use the Kinova Gen3 and Gen3 lite arms with the MoveIt! motion planning framework. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_moveit_config/readme.md">README</a> from the package subdirectory.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/ros2_kortex">ros2_kortex</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-Kinovarobotics-ros2_kortex
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-Kinovarobotics-ros2_kortex" role="menuitem" tabindex="-1" href="/r/ros2_kortex/github-Kinovarobotics-ros2_kortex" data="github-Kinovarobotics-ros2_kortex">
                    <span class="glyphicon glyphicon-star"></span>
                    github-Kinovarobotics-ros2_kortex
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/ros2_kortex">ros2_kortex</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-Kinovarobotics-ros2_kortex
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-Kinovarobotics-ros2_kortex" role="menuitem" tabindex="-1" href="/r/ros2_kortex/github-Kinovarobotics-ros2_kortex" data="github-Kinovarobotics-ros2_kortex">
                    <span class="glyphicon glyphicon-star"></span>
                    github-Kinovarobotics-ros2_kortex
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/ros2_kortex">ros2_kortex</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-Kinovarobotics-ros2_kortex
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-Kinovarobotics-ros2_kortex" role="menuitem" tabindex="-1" href="/r/ros2_kortex/github-Kinovarobotics-ros2_kortex" data="github-Kinovarobotics-ros2_kortex">
                    <span class="glyphicon glyphicon-star"></span>
                    github-Kinovarobotics-ros2_kortex
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/ros2_kortex">ros2_kortex</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/kortex_api">kortex_api</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_bringup">kortex_bringup</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_description">kortex_description</a>
        
        <a class="label label-primary pkg-label" href="/p/kortex_driver">kortex_driver</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_6dof_robotiq_2f_85_moveit_config">kinova_gen3_6dof_robotiq_2f_85_moveit_config</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_7dof_robotiq_2f_85_moveit_config">kinova_gen3_7dof_robotiq_2f_85_moveit_config</a>
        
        <a class="label label-primary pkg-label" href="/p/kinova_gen3_lite_moveit_config">kinova_gen3_lite_moveit_config</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-Kinovarobotics-ros2_kortex
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-Kinovarobotics-ros2_kortex" role="menuitem" tabindex="-1" href="/r/ros2_kortex/github-Kinovarobotics-ros2_kortex" data="github-Kinovarobotics-ros2_kortex">
                    <span class="glyphicon glyphicon-star"></span>
                    github-Kinovarobotics-ros2_kortex
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS2 driver for the Gen3 Kinova robot arm</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/Kinovarobotics/ros2_kortex.git">https://github.com/Kinovarobotics/ros2_kortex.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-17
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/ros2_kortex/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/ros2_kortex/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/ros2_kortex/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/kortex_api">kortex_api</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_bringup">kortex_bringup</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_description">kortex_description</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kortex_driver">kortex_driver</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_6dof_robotiq_2f_85_moveit_config">kinova_gen3_6dof_robotiq_2f_85_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_7dof_robotiq_2f_85_moveit_config">kinova_gen3_7dof_robotiq_2f_85_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/kinova_gen3_lite_moveit_config">kinova_gen3_lite_moveit_config</a></td>
                    <td>0.2.3</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="ros-2-kortex">ROS 2 Kortex</h1>
<blockquote>
  <p>Kinova® Kortex™ is the common software platform behind all of the products in the Gen3 family (Gen3 and Gen3 lite). It unifies the inner workings of the various robots and their related external tools, like the API. <br>
https://www.kinovarobotics.com/product/gen3-robots</p>
</blockquote>

<center><img src="https://raw.githubusercontent.com/Kinovarobotics/ros2_kortex/main/doc/resources/kinova-gen3-7dof-robotiq-2f-85.jpg" alt="Kinova Gen3 7DoF manipulator with Intel RealSense 3D Vision Module and Robotiq 2F-85 2 Finger 85mm Adaptive Gripper" style="width: 50%"></center>

<p>ROS2 Kortex is the official ROS2 package to interact with Kortex and its related products. It is built upon the Kortex API, documentation for which can be found in the <a href="https://github.com/Kinovarobotics/kortex">GitHub Kortex repository</a>.</p>

<h2 id="build-status">Build status</h2>

<table width="100%">
  <tr>
    <th>ROS 2 Distro</th>
    <th>Humble</th>
    <th>Iron</th>
    <th>Rolling</th>
  </tr>
  <tr>
    <th>Branch</th>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
    <td><a href="https://github.com/PickNikRobotics/ros2_kortex/tree/main">main</a></td>
  </tr>
  <tr>
    <th>Build Status</th>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/humble-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/humble-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Humble Binary Build">
      </a>
    </td>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/iron-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/iron-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Iron Binary Build">
      </a>
    </td>
    <td>
      <a href="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/rolling-binary-build.yml">
        <img src="https://github.com/PickNikRobotics/ros2_kortex/actions/workflows/rolling-binary-build.yml/badge.svg?event=push&amp;branch=main" alt="Rolling Binary Build">
      </a>
    </td>
  </tr>
  <tr>
    <th>Release Status</th>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
    <td>coming soon<!-- TODO(moriarty) add build.ros2.org status badge once released -->
</td>
  </tr>
</table>

<p><strong>Note:</strong> There are several CI jobs checking against future upstream changes see <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/.github/workflows/README.md">detailed build status</a> for a full list of CI jobs and for more information.</p>

<h2 id="getting-started">Getting started</h2>

<ol>
  <li>
    <p>Install ROS 2.</p>

    <p>If you’re a developer, we recommend using Rolling to get the latest features and fixes.</p>

    <p>Rolling Release: <a href="https://docs.ros.org/en/rolling/Installation/Ubuntu-Install-Debians.html">Install ROS2 Rolling</a><br>
Latest LTS Release: <a href="https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debs.html">Install ROS2 Jazzy</a>&lt;/br&gt;
Previous Stable LTS Release: <a href="https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debians.html">Install ROS2 Humble</a></p>

    <p>After installing a version of ROS, source the setup.bash, which will set the <code class="language-plaintext highlighter-rouge">$ROS_DISTRO</code> environment variable.</p>
  </li>
</ol>

<p><strong>NOTE</strong> Please use the <code class="language-plaintext highlighter-rouge">Humble_Gazebo_Classic_Support</code> branch for ROS2 Humble and the <code class="language-plaintext highlighter-rouge">main</code> branch for ROS2 Jazzy</p>

<ol>
  <li>If you plan to use MoveIt, it is recommended to install and use Cyclone DDS.</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   sudo apt install ros-$ROS_DISTRO-rmw-cyclonedds-cpp
   export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp
   
</code></pre></div></div>
<h2 id="contributing-to-this-repository-or-building-from-source">Contributing to this repository or building from source</h2>

<p>Note: It is recommended to use a released binary version of this package and apt install it.
If you want the latest version of this repository for testing latest fixes
check out testing with pre-released binaries: https://docs.ros.org/en/rolling/Installation/Testing.html</p>

<p>If the bug fix you need isn’t in a released version or If you want to build this repository from source or contribute back to the repository read on.</p>

<ol>
  <li>Make sure that <code class="language-plaintext highlighter-rouge">colcon</code>, its extensions, and <code class="language-plaintext highlighter-rouge">vcs</code> are installed:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   sudo apt install python3-colcon-common-extensions python3-vcstool
   
</code></pre></div></div>

<ol>
  <li>Create a new ROS2 workspace:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   export COLCON_WS=~/workspace/ros2_kortex_ws
   mkdir -p $COLCON_WS/src
   
</code></pre></div></div>

<ol>
  <li>Pull relevant packages:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   cd $COLCON_WS
   git clone https://github.com/Kinovarobotics/ros2_kortex.git src/ros2_kortex
   vcs import src --skip-existing --input src/ros2_kortex/ros2_kortex.$ROS_DISTRO.repos
   vcs import src --skip-existing --input src/ros2_kortex/ros2_kortex-not-released.$ROS_DISTRO.repos
   
</code></pre></div></div>

<p>If you plan on simulating the robot with Gazebo, make sure to pull the additional simulation packages.
   If you’re on ROS 2 Humble, run</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   vcs import src --skip-existing --input src/ros2_kortex/simulation.jazzy.repos
   
</code></pre></div></div>

<p>otherwise</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   vcs import --skip-existing --input src/ros2_kortex/simulation.repos
   
</code></pre></div></div>

<p>If you plan on using MoveIt, you must make sure that you have it already <a href="https://moveit.ros.org/install-moveit2/binary/">installed</a> either from binaries or by building it from source.</p>

<ol>
  <li>
    <p>Follow the instructions to install <a href="https://gazebosim.org/docs/harmonic/getstarted/">Gazebo Harmonic</a></p>
  </li>
  <li>
    <p>Install dependencies, compile, and source the workspace:</p>
  </li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   rosdep install --ignore-src --from-paths src -y -r
   colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release
   
</code></pre></div></div>

<p>By default, colcon will use as much resources as possible to build the ROS2 workspace. This can temporarily freeze or even crash your machine. You can limit the number of threads used to avoid this issue, we found a good tradeoff between build time and resource utilisation by setting it to 3 :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release --parallel-workers 3
   
</code></pre></div></div>
<ol>
  <li>Source the previously built workspace using the following command:</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   echo 'source ~/workspace/ros2_kortex_ws/install/setup.bash' &gt;&gt; ~/.bashrc
   
</code></pre></div></div>

<h2 id="simulation-issues">Simulation Issues</h2>

<p>Please note, at this time there are two known issues you with simulation</p>

<ol>
  <li>Gazebo + Mimic Joints for the Robotiq Gripper</li>
  <li>Protobuf version mismatch</li>
</ol>

<h1 id="gazebo-and-mimic-joints">Gazebo and Mimic Joints</h1>

<p>A pull request has been made to gz_ros2_control which is how this repository was tested in simulation.
The pull request won’t be merged as the fix should be done upstream in gz-sim.
Once a fix is available ros2_robotiq_gripper will be re-released and an update should fix any workarounds.</p>

<p>In the meantime if you need simulation checkout the upstream pull request link:</p>

<ul>
  <li>Upstream Issue: https://github.com/gazebosim/gz-sim/issues/1684</li>
  <li>Upstream Pull Request: https://github.com/ros-controls/gz_ros2_control/pull/86</li>
  <li>Tracking Issue: https://github.com/PickNikRobotics/ros2_robotiq_gripper/issues/7</li>
</ul>

<h1 id="protobuf">Protobuf</h1>

<p>Due to mismatched protobuf version that ships system and used by Gazebo simulator compiling twice may be required.
You will only run into this if you have certain other gazebo related code in your workspace while compiling this repository.
If errors are encounter you must clean your workspace and run colcon build in two steps:</p>

<ol>
  <li>build everything except kortex related packages</li>
  <li>build the packages that where skipped</li>
</ol>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install python3-colcon-clean # if you don't have colcon-clean installed already
colcon clean workspace -y
colcon build --packages-skip-regex '.*kortex.*' '.*gen3.*'
colcon build --packages-select-regex '.*kortex.*' '.*gen3.*'

</code></pre></div></div>

<h2 id="usage">Usage</h2>
<p>To launch and view any of the robot’s URDF run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_description view_robot.launch.py

</code></pre></div></div>

<p>The accepted arguments are:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code> : Your robot model. Possible values are either <code class="language-plaintext highlighter-rouge">gen3</code> or <code class="language-plaintext highlighter-rouge">gen3_lite</code>, the default is <code class="language-plaintext highlighter-rouge">gen3</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code> or <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code>. For the Gen3 Lite, the only option is <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>. Default value is an empty string, which will display the arm without a gripper.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>. For the Gen3 Lite, the only option is <code class="language-plaintext highlighter-rouge">6</code>. Default value is <code class="language-plaintext highlighter-rouge">7</code>.</p>
  </li>
</ul>

<h3 id="gen-3-robots">Gen 3 Robots</h3>

<p>The <code class="language-plaintext highlighter-rouge">gen3.launch.py</code> launch file is designed to be used for Gen3 arms. The typical use case to bringup and visualize the 7 DoF Kinova Gen3 robot arm (default) with mock hardware on Rviz:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>Alternatively, for a physical robot:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10 <span class="se">\</span>

</code></pre></div></div>
<p>You can specify the following arguments if you wish to change your arm configuration:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code>: Your robot model. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are either <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>, <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code> or <code class="language-plaintext highlighter-rouge">""</code>. Default is <code class="language-plaintext highlighter-rouge">""</code>. An empty string will not initialise any gripper.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_joint_name</code> : Name of the controlled joint of the gripper attached to the arm. Default value is <code class="language-plaintext highlighter-rouge">robotiq_85_left_knuckle_joint</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_internal_bus_gripper_comm</code> : Use internal bus for gripper communication. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_velocity</code> : Max velocity for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_force</code> : Max force for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>.Default value is <code class="language-plaintext highlighter-rouge">7</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_ip</code> : IP address by which the robot can be reached. No default is specified, this is a required argument. All arms are shipped with address <code class="language-plaintext highlighter-rouge">192.168.1.10</code>, but if you have reassigned your physical arm’s robot IP address, then you will need to assign that ip address.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_fake_hardware</code> : Start robot with fake hardware mirroring command to its states. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fake_sensor_commands</code> : Enable fake command interfaces for sensors used for simple simulations. Used only if ‘use_fake_hardware’ parameter is true. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot controller to start. Possible values are <code class="language-plaintext highlighter-rouge">twist_controller</code> and <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">controllers_file</code> : Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">launch_rviz</code> : Start an Rviz window to visualize the robot. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h4 id="robotiq-gripper">Robotiq gripper</h4>

<p>The Robotiq 2f 85 (or 2f 140) Gripper will be available on the Action topic:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/robotiq_gripper_controller/gripper_cmd

</code></pre></div></div>

<p>You can test the gripper by calling the Action server with the following command and setting the desired <code class="language-plaintext highlighter-rouge">position</code> of the gripper (<code class="language-plaintext highlighter-rouge">0.0=open</code>, <code class="language-plaintext highlighter-rouge">0.8=close</code>)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 action send_goal /robotiq_gripper_controller/gripper_cmd control_msgs/action/GripperCommand <span class="s2">"{command:{position: 0.0, max_effort: 100.0}}"</span>

</code></pre></div></div>

<h4 id="vision-module">Vision Module</h4>

<p>In order to access the Kinova Vision module’s depth and color streams for the camera-equipped Gen3 arm models, please refer to the following github repository for detailed instructions: <a href="https://github.com/Kinovarobotics/ros2_kortex_vision">ros2_kortex_vision</a></p>

<h3 id="gen-3-lite-robot">Gen 3 Lite Robot</h3>

<p>The <code class="language-plaintext highlighter-rouge">gen3_lite.launch.py</code> launch file is designed to be used for Gen3 Lite arms. The typical use case to bringup the robot arm with mock hardware:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3_lite.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>
<p>Alternatively, if you wish to use the physical robot:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup gen3_lite.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10 <span class="se">\</span>

</code></pre></div></div>

<p>You can specify the following arguments if you wish to change your arm configuration:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_type</code>: Your robot model. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3_lite</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Default value (and only one) is <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_joint_name</code> : Name of the controlled joint of the gripper attached to the arm. Default value (and only one) is <code class="language-plaintext highlighter-rouge">right_finger_bottom_joint</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_internal_bus_gripper_comm</code> : Use internal bus for gripper communication. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_velocity</code> : Max velocity for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gripper_max_force</code> : Max force for gripper commands. Default value is <code class="language-plaintext highlighter-rouge">100.0</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_ip</code> : IP address by which the robot can be reached. No default is specified, this is a required argument. All arms are shipped with address <code class="language-plaintext highlighter-rouge">192.168.1.10</code>, but if you have reassigned your physical arm’s robot IP address, then you will need to assign that ip address. If you’re using an USB to Ethernet interface to connect your robot to your machine instead of USB via RNDIS, the ip address will be <code class="language-plaintext highlighter-rouge">192.168.2.10</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">use_fake_hardware</code> : Start robot with fake hardware mirroring command to its states. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fake_sensor_commands</code> : Enable fake command interfaces for sensors used for simple simulations. Used only if ‘use_fake_hardware’ parameter is true. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot controller to start. Possible values are <code class="language-plaintext highlighter-rouge">twist_controller</code> and <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">controllers_file</code> : Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">description_file</code> : URDF/XACRO description file with the robot. Default value is <code class="language-plaintext highlighter-rouge">gen3_lite_gen3_lite_2f.xacro</code>.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">launch_rviz</code> : Start an Rviz window to visualize the robot. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h2 id="simulation">Simulation</h2>
<p>The <code class="language-plaintext highlighter-rouge">kortex_sim_control.launch.py</code> launch file is designed to simulate all of our arm models, you just need to specify your configuration through the arguments. By default, the Gen3 7 dof configuration is used :</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kortex_bringup kortex_sim_control.launch.py <span class="se">\</span>
  use_sim_time:<span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  launch_rviz:<span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  robot_controller:<span class="o">=</span>joint_trajectory_controller

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">sim_gazebo</code> : Use Gazebo for simulation. Default value is <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_type</code> : Your robot model. Possible values are either <code class="language-plaintext highlighter-rouge">gen3</code> or <code class="language-plaintext highlighter-rouge">gen3_lite</code>.Default is <code class="language-plaintext highlighter-rouge">gen3</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_name</code> : Name you would like your robot to have. Default value is <code class="language-plaintext highlighter-rouge">gen3</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">dof</code> : Degrees of freedom of the arm. Possible values are either <code class="language-plaintext highlighter-rouge">6</code> or <code class="language-plaintext highlighter-rouge">7</code>.Default value is <code class="language-plaintext highlighter-rouge">7</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">vision</code> : Use arm mounted realsens. Possible values are either <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code>. Default value is <code class="language-plaintext highlighter-rouge">false</code>. This option does not generate simulated images, it only loads up the robot’s URDF that includes the vision link.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_controller</code> : Robot joint controller to start. Default value is <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_pos_controller</code> : Robot position controller to start. Default value is <code class="language-plaintext highlighter-rouge">twist_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">robot_hand_controller</code> : Robot gripper controller to start. Default value is <code class="language-plaintext highlighter-rouge">robotiq_gripper_controller</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">controllers_file</code> :  Ros 2 control configuration file to use. Default value is <code class="language-plaintext highlighter-rouge">ros2_controllers.yaml</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">description_package</code> : Description package with robot URDF/XACRO files. Default value is <code class="language-plaintext highlighter-rouge">kortex_description</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">description_file</code> : URDF/XACRO description file with the robot. Default value is <code class="language-plaintext highlighter-rouge">kinova.urdf.xacro</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">prefix</code> : Prefix of the joint names, useful for multi-robot setup. If changed, then also joint names in the controllers’ configuration have to be updated. Default value is <code class="language-plaintext highlighter-rouge">""</code> (none).</li>
  <li>
<code class="language-plaintext highlighter-rouge">use_sim_time</code> : Use simulated clock. Default value is <code class="language-plaintext highlighter-rouge">true</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">gripper</code> : Gripper to use. Possible values for the Gen3 are: <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>, <code class="language-plaintext highlighter-rouge">robotiq_2f_140</code>, <code class="language-plaintext highlighter-rouge">""</code> and <code class="language-plaintext highlighter-rouge">gen3_lite_2f</code>. Default is <code class="language-plaintext highlighter-rouge">robotiq_2f_85</code>. An empty string will not initialise any gripper.</li>
</ul>

<h4 id="moveit-2">MoveIt 2</h4>

<p>To generate motion plans and execute them with a simulated 7 DoF Kinova Gen3 arm with mock hardware:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>and to bring up the Kinova Gen3 6 DoF with MoveIt:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_6dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>yyy.yyy.yyy.yyy <span class="se">\</span>
  use_fake_hardware:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>To generate motion plans and execute them with a Gazebo simulated 7 DoF Kinova Gen3 arm (previously launched with the command at the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/#simulation">simulation</a> section):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config sim.launch.py <span class="se">\</span>
  use_sim_time:<span class="o">=</span><span class="nb">true</span>

</code></pre></div></div>

<p>To work with a physical robot and generate/execute paths with MoveIt run the following:</p>

<p>For Gen3:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_7dof_robotiq_2f_85_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10

</code></pre></div></div>

<p>For Gen3-Lite:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch kinova_gen3_lite_moveit_config robot.launch.py <span class="se">\</span>
  robot_ip:<span class="o">=</span>192.168.1.10

</code></pre></div></div>

<h2 id="commanding-the-arm-physically-and-in-simulation">Commanding the arm (physically and in simulation)</h2>
<p>You can command the arm by publishing Joint Trajectory messages directly to the joint trajectory controller:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub /joint_trajectory_controller/joint_trajectory trajectory_msgs/JointTrajectory <span class="s2">"{
  joint_names: [joint_1, joint_2, joint_3, joint_4, joint_5, joint_6, joint_7],
  points: [
    { positions: [0, 0, 0, 0, 0, 0, 0], time_from_start: { sec: 10 } },
  ]
}"</span> <span class="nt">-1</span>

</code></pre></div></div>

<p>Depending on your robot type and its DoF, you will need to adapt the <code class="language-plaintext highlighter-rouge">joint_names</code> and <code class="language-plaintext highlighter-rouge">positions</code> properties accordingly. For the Gen3 Lite arm, the integrated gripper is considered as a joint, so to command it, it must be included in the <code class="language-plaintext highlighter-rouge">joint_names</code> array. (<code class="language-plaintext highlighter-rouge">0.0=open</code>, <code class="language-plaintext highlighter-rouge">1.0=close</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub /joint_trajectory_controller/joint_trajectory trajectory_msgs/JointTrajectory <span class="s2">"{
  joint_names: [joint_1, joint_2, joint_3, joint_4, joint_5, joint_6, right_finger_bottom_joint],
  points: [
    { positions: [0, 0, 0, 0, 0, 0, 1], time_from_start: { sec: 10 } },
  ]
}"</span> <span class="nt">-1</span>

</code></pre></div></div>

<p>You can also command the arm using Twist messages. Before doing so, you must active the <code class="language-plaintext highlighter-rouge">twist_controller</code> and deactivate the <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /controller_manager/switch_controller controller_manager_msgs/srv/SwitchController <span class="s2">"{
  activate_controllers: [twist_controller],
  deactivate_controllers: [joint_trajectory_controller],
  strictness: 1,
  activate_asap: true,
}"</span>

</code></pre></div></div>

<p><strong>Note: the required interface for the <code class="language-plaintext highlighter-rouge">twist_controller</code> does not currently exist in the gazebo or mock hardware simulation setups. So the <code class="language-plaintext highlighter-rouge">twist_controller</code> is currently only functional on Kinova hardware.</strong></p>

<p>Once the <code class="language-plaintext highlighter-rouge">twist_controller</code> is activated, You can publish Twist messages on the <code class="language-plaintext highlighter-rouge">/twist_controller/commands</code> topic to command the arm.</p>

<p>For example, you can jog the arm using <a href="https://index.ros.org/p/teleop_twist_keyboard/github-ros2-teleop_twist_keyboard/">Teleop Twist Keyboard</a> with the following command:</p>

<p><strong>WARNING: you are responsible for collision checking, including self collisions when in this mode.</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run teleop_twist_keyboard teleop_twist_keyboard <span class="nt">--ros-args</span> <span class="nt">--remap</span> /cmd_vel:<span class="o">=</span>/twist_controller/commands

</code></pre></div></div>

<p>If you wish to use the <code class="language-plaintext highlighter-rouge">joint_trajectory_controller</code> again to command the arm using JointTrajectory messages, run the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /controller_manager/switch_controller controller_manager_msgs/srv/SwitchController <span class="s2">"{
  activate_controllers: [joint_trajectory_controller],
  deactivate_controllers: [twist_controller],
  strictness: 1,
  activate_asap: true,
}"</span>

</code></pre></div></div>

<h2 id="contents">Contents</h2>

<p>The following is a description of the packages included in this repository.</p>

<h3 id="kortex_description">kortex_description</h3>
<p>This package contains the URDF (Unified Robot Description Format), STL and configuration files for the Kortex-compatible robots. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_description/readme.md">README</a> from the package subdirectory.</p>

<h3 id="kortex_driver">kortex_driver</h3>
<p>This package implements a ROS node that allows communication between a node and a Kinova Gen3 or Gen3 lite robot. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_driver/readme.md">README</a> from the package subdirectory.</p>

<h3 id="kortex_moveit_config">kortex_moveit_config</h3>
<p>This metapackage contains the auto-generated MoveIt! files to use the Kinova Gen3 and Gen3 lite arms with the MoveIt! motion planning framework. For more details, please consult the <a href="https://github.com/Kinovarobotics/ros2_kortex/tree/main/kortex_moveit_config/readme.md">README</a> from the package subdirectory.</p>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/ros2_kortex">ros2_kortex</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-Kinovarobotics-ros2_kortex
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-Kinovarobotics-ros2_kortex" role="menuitem" tabindex="-1" href="/r/ros2_kortex/github-Kinovarobotics-ros2_kortex" data="github-Kinovarobotics-ros2_kortex">
                    <span class="glyphicon glyphicon-star"></span>
                    github-Kinovarobotics-ros2_kortex
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/Kinovarobotics/ros2_kortex.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
