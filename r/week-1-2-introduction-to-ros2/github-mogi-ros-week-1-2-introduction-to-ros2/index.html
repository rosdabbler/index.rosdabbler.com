<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/week-1-2-introduction-to-ros2/github-mogi-ros-week-1-2-introduction-to-ros2/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">week-1-2-introduction-to-ros2</li>
        <!--<li class="active">week-1-2-introduction-to-ros2</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-primary" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/week-1-2-introduction-to-ros2">week-1-2-introduction-to-ros2</a> <small>repository</small></h3>
        <span class="label label-default">python</span> <span class="label label-default">bash</span> <span class="label label-default">services</span> <span class="label label-default">cpp</span> <span class="label label-default">publisher</span> <span class="label label-default">subscriber</span> <span class="label label-default">rqt</span> <span class="label label-default">ros2</span> <span class="label label-default">remote-procedure-calls</span> <span class="label label-default">turtlesim</span> <span class="label label-default">rqt-graph</span> <span class="label label-default">ros2-jazzy</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mogi-ros-week-1-2-introduction-to-ros2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mogi-ros-week-1-2-introduction-to-ros2" role="menuitem" tabindex="-1" href="/r/week-1-2-introduction-to-ros2/github-mogi-ros-week-1-2-introduction-to-ros2" data="github-mogi-ros-week-1-2-introduction-to-ros2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mogi-ros-week-1-2-introduction-to-ros2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/week-1-2-introduction-to-ros2">week-1-2-introduction-to-ros2</a> <small>repository</small></h3>
        <span class="label label-default">python</span> <span class="label label-default">bash</span> <span class="label label-default">services</span> <span class="label label-default">cpp</span> <span class="label label-default">publisher</span> <span class="label label-default">subscriber</span> <span class="label label-default">rqt</span> <span class="label label-default">ros2</span> <span class="label label-default">remote-procedure-calls</span> <span class="label label-default">turtlesim</span> <span class="label label-default">rqt-graph</span> <span class="label label-default">ros2-jazzy</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mogi-ros-week-1-2-introduction-to-ros2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mogi-ros-week-1-2-introduction-to-ros2" role="menuitem" tabindex="-1" href="/r/week-1-2-introduction-to-ros2/github-mogi-ros-week-1-2-introduction-to-ros2" data="github-mogi-ros-week-1-2-introduction-to-ros2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mogi-ros-week-1-2-introduction-to-ros2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/week-1-2-introduction-to-ros2">week-1-2-introduction-to-ros2</a> <small>repository</small></h3>
        <span class="label label-default">python</span> <span class="label label-default">bash</span> <span class="label label-default">services</span> <span class="label label-default">cpp</span> <span class="label label-default">publisher</span> <span class="label label-default">subscriber</span> <span class="label label-default">rqt</span> <span class="label label-default">ros2</span> <span class="label label-default">remote-procedure-calls</span> <span class="label label-default">turtlesim</span> <span class="label label-default">rqt-graph</span> <span class="label label-default">ros2-jazzy</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mogi-ros-week-1-2-introduction-to-ros2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mogi-ros-week-1-2-introduction-to-ros2" role="menuitem" tabindex="-1" href="/r/week-1-2-introduction-to-ros2/github-mogi-ros-week-1-2-introduction-to-ros2" data="github-mogi-ros-week-1-2-introduction-to-ros2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mogi-ros-week-1-2-introduction-to-ros2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/week-1-2-introduction-to-ros2">week-1-2-introduction-to-ros2</a> <small>repository</small></h3>
        <span class="label label-default">python</span> <span class="label label-default">bash</span> <span class="label label-default">services</span> <span class="label label-default">cpp</span> <span class="label label-default">publisher</span> <span class="label label-default">subscriber</span> <span class="label label-default">rqt</span> <span class="label label-default">ros2</span> <span class="label label-default">remote-procedure-calls</span> <span class="label label-default">turtlesim</span> <span class="label label-default">rqt-graph</span> <span class="label label-default">ros2-jazzy</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mogi-ros-week-1-2-introduction-to-ros2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mogi-ros-week-1-2-introduction-to-ros2" role="menuitem" tabindex="-1" href="/r/week-1-2-introduction-to-ros2/github-mogi-ros-week-1-2-introduction-to-ros2" data="github-mogi-ros-week-1-2-introduction-to-ros2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mogi-ros-week-1-2-introduction-to-ros2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/week-1-2-introduction-to-ros2">week-1-2-introduction-to-ros2</a> <small>repository</small></h3>
        <span class="label label-default">python</span> <span class="label label-default">bash</span> <span class="label label-default">services</span> <span class="label label-default">cpp</span> <span class="label label-default">publisher</span> <span class="label label-default">subscriber</span> <span class="label label-default">rqt</span> <span class="label label-default">ros2</span> <span class="label label-default">remote-procedure-calls</span> <span class="label label-default">turtlesim</span> <span class="label label-default">rqt-graph</span> <span class="label label-default">ros2-jazzy</span> 
        
        <a class="label label-primary pkg-label" href="/p/bme_ros2_tutorials_bringup">bme_ros2_tutorials_bringup</a>
        
        <a class="label label-primary pkg-label" href="/p/bme_ros2_tutorials_cpp">bme_ros2_tutorials_cpp</a>
        
        <a class="label label-primary pkg-label" href="/p/bme_ros2_tutorials_interfaces">bme_ros2_tutorials_interfaces</a>
        
        <a class="label label-primary pkg-label" href="/p/bme_ros2_tutorials_py">bme_ros2_tutorials_py</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mogi-ros-week-1-2-introduction-to-ros2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mogi-ros-week-1-2-introduction-to-ros2" role="menuitem" tabindex="-1" href="/r/week-1-2-introduction-to-ros2/github-mogi-ros-week-1-2-introduction-to-ros2" data="github-mogi-ros-week-1-2-introduction-to-ros2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mogi-ros-week-1-2-introduction-to-ros2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Introduction to ROS2 Jazzy basics</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2.git">https://github.com/mogi-ros/week-1-2-introduction-to-ros2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-02-11
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNKNOWN
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">python</span> <span class="label label-default">bash</span> <span class="label label-default">services</span> <span class="label label-default">cpp</span> <span class="label label-default">publisher</span> <span class="label label-default">subscriber</span> <span class="label label-default">rqt</span> <span class="label label-default">ros2</span> <span class="label label-default">remote-procedure-calls</span> <span class="label label-default">turtlesim</span> <span class="label label-default">rqt-graph</span> <span class="label label-default">ros2-jazzy</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/week-1-2-introduction-to-ros2/#github-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/week-1-2-introduction-to-ros2/#github-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/week-1-2-introduction-to-ros2/#github-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/bme_ros2_tutorials_bringup">bme_ros2_tutorials_bringup</a></td>
                    <td>1.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/bme_ros2_tutorials_cpp">bme_ros2_tutorials_cpp</a></td>
                    <td>1.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/bme_ros2_tutorials_interfaces">bme_ros2_tutorials_interfaces</a></td>
                    <td>1.0.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/bme_ros2_tutorials_py">bme_ros2_tutorials_py</a></td>
                    <td>1.0.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="week-1-2-introduction-to-ros2">Week 1-2: Introduction to ROS2</h1>

<h2 id="this-is-how-far-we-will-get-by-the-end-of-this-course">This is how far we will get by the end of this course:</h2>

<h3 id="in-the-first-half-of-the-course-well-learn-how-to-simulate-mobile-robots-sensors-actuators-how-to-do-mapping-localization-and-navigation">In the first half of the course we’ll learn how to simulate mobile robots, sensors, actuators. How to do mapping localization and navigation.</h3>

<p><a href="https://youtu.be/NkOX4zX9XbQ"><img width="400" src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/youtube-navigation.png"></a></p>

<h3 id="in-the-second-half-of-the-course-well-learn-about-the-simulation-of-robotic-arms-with-direct-and-inverse-kinematics">In the second half of the course we’ll learn about the simulation of robotic arms with direct and inverse kinematics.</h3>

<p><a href="https://www.youtube.com/watch?v=AK4aVfQVkVA"><img width="400" src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/youtube-6-DoF.png"></a><br>
  <a href="https://www.youtube.com/watch?v=mm2vKYH-Jy8"><img width="400" src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/youtube-openmanipulator.png"></a></p>

<h3 id="here-you-can-see-a-short-video-about-the-final-projects-from-the-previous-years">Here you can see a short video about the final projects from the previous years:</h3>

<p><a href="https://youtu.be/opmUsI7y6Y8"><img width="400" src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/projects.png"></a></p>

<h2 id="requirements-for-completing-the-course">Requirements for completing the course:</h2>

<p>Detailed description and requirements of the final project can be found on this <a href="https://docs.google.com/spreadsheets/d/1gMaBODfGlU8p0b80DhkFaF4C9gJfaIIUKGdBXtmJcQI/edit?usp=sharing">link</a>.</p>

<h3 id="short-summary">Short summary:</h3>
<p>Registration deadline for projects: <strong>week 4</strong><br>
Submission deadline: <strong>week 14</strong></p>
<ul>
  <li>Project teams should consist of 3, maximum 4 members.</li>
  <li>The project submission will take place live (on Teams) in 15+5 minutes</li>
  <li>The project documentation should be in Markdown format on GitHub (no PPT required!)</li>
</ul>

<h3 id="available-real-robots-at-the-department">Available real robots at the department:</h3>

<p><img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/robots.png" alt="alt text" title="robots"></p>

<h1 id="table-of-contents">Table of Contents</h1>
<ol>
  <li><a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#what-is-ros2">What is ROS(2)?</a></li>
  <li><a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#required-softwares">Required softwares</a></li>
  <li>
<a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#basics-of-ros2">Basics of ROS2</a><br>
3.1. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#running-some-examples">Running some examples</a><br>
3.2. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#create-a-colcon-workspace">Create a colcon workspace</a><br>
3.3. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#lets-write-the-simplest-possible-hello_world-in-python">Let’s write the simplest possible <code class="language-plaintext highlighter-rouge">hello_world</code> in python</a><br>
3.4. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#create-a-python-publisher">Create a python publisher</a><br>
3.5. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#create-a-c-publisher">Create a C++ publisher</a><br>
3.6. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#create-a-python-subscriber">Create a python subscriber</a><br>
3.7. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#create-a-c-subscriber">Create a C++ subscriber</a><br>
3.8. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#launchfiles">Launchfiles</a><br>
3.9. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#remap">Remap</a>
</li>
  <li>
<a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#parameters">Parameters</a><br>
4.1. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#set-the-parameter-from-a-launchfile">Set the parameter from a launchfile</a><br>
4.2. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#a-more-advanced-example-for-setting-parameters">A more advanced example for setting parameters</a>
</li>
  <li>
<a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#services">Services</a><br>
5.1. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#service-server">Service server</a><br>
5.2. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#service-client">Service client</a><br>
5.3. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#use-services-and-parameters-with-turtlesim">Use services and parameters with turtlesim</a>
</li>
  <li>
<a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#recap">Recap</a><br>
6.1. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#useful-linux-commands">Useful Linux commands</a><br>
6.2. <a href="https://github.com/mogi-ros/week-1-2-introduction-to-ros2/tree/main/#useful-ros2-commands">Useful ROS2 commands</a>
</li>
</ol>

<h1 id="what-is-ros2">What is ROS(2)?</h1>
<p>ROS, or Robot Operating System, is an open-source framework designed to facilitate the development of robotic applications. It provides a collection of tools, libraries, and conventions that simplify the process of designing complex robot behaviors across a wide variety of robotic platforms.</p>

<p>ROS was initially developed in 2007 by the Stanford Artificial Intelligence Laboratory and continued by Willow Garage, with the goal of providing a common platform for research and development in robotics. The primary motivation was to create a standard framework that could support a broad range of robotic applications, promote code reuse, and foster collaboration within the robotics community.</p>

<p>Key reasons for ROS development include:</p>

<ul>
  <li>
<strong>Standardization</strong>: Creating a common platform that simplifies the integration of different hardware and software components.</li>
  <li>
<strong>Modularity</strong>: Enabling the development of modular and reusable software components (nodes) that can be easily shared and adapted for various robotic systems.</li>
  <li>
<strong>Community Collaboration</strong>: Encouraging collaboration among researchers and developers, resulting in a vast collection of tools and libraries.</li>
</ul>

<h3 id="transition-to-ros-2">Transition to ROS 2</h3>

<p>ROS 2 was developed to address the limitations of ROS 1 and meet the growing demands for industrial and commercial robotics applications. The development began around 2014 and aimed to enhance the capabilities of ROS, particularly in areas such as security, real-time performance, and support for multi-robot systems. In practice, the biggest difference is in the underlying middleware, ROS1 uses a custom transport layer and message-passing system that was not designed for real-time or distributed applications (see ROS1’s <a href="http://wiki.ros.org/roscore"><code class="language-plaintext highlighter-rouge">roscore</code></a>).</p>

<p>The latest ROS1 release is ROS Noetic which was intended to be used on Ubuntu 20.04. It goes to <a href="http://wiki.ros.org/Distributions">EOL in May, 2025</a> together with Ubuntu 20.04.</p>

<h1 id="required-softwares">Required softwares</h1>

<details>
<summary>Ubuntu 24.04 LTS</summary>

<br>In the course we'll use ROS2 [Jazzy Jalisco](https://docs.ros.org/en/jazzy/index.html), which requires Ubuntu 24.04 for the smoothest operation.

You have a couple of options, but the most recommended is the native installation of the operating system - external SSD, dual boot, etc.

1) Native install, the most recommended way. You will learn how to set up the environment, there won't be difficulties with GPU acceleration and many more advantages.
2) Windows 11 WSL2 (Windows Subsystem Linux), see [instructions](https://documentation.ubuntu.com/wsl/en/latest/guides/install-ubuntu-wsl2/). It's a straightforward way if you want to use within Windows environment. You can still learn how to set up the environment but can be more challenging with GUI applications and 3D acceleration.
3) Virtual machine, VMware fusion is [now free for personal use](https://blogs.vmware.com/teamfusion/2024/05/fusion-pro-now-available-free-for-personal-use.html). Less flexible than WSL2 on Windows 11 but works well on macOS. 3D acceleration can be challenging.
4) Docker container. First it might look an easy way to use any ROS distribution on any host operating system, but it's getting more and more challenging if we need GUI applications, 3D acceleration and can be confusing for beginners how to work within the container. You might miss some important experience with setting up the environment if using a pre-configured container image. I only recommend this way for experienced Docker users.
5) Using an online environment e.g. [The Construct](https://www.theconstruct.ai). It looks promising that you don't have to install any special software, but you won't gain experience with setting up the environment. It can be difficult to cherry pick the software versions you need and accessing GUI applications through the web interface is a poor experience.

The options 1 and 2 are the most practical and preferred ways to use ROS. In an exotic case, if you want to run Ubuntu 24.04 and ROS2 Jazzy on macOS and Apple silicon [this](https://www.youtube.com/watch?v=kDosGTdwqO0) is a very good tutorial.

&gt;Pro tip if you want to mount directories from your host system into your guest Ubuntu 24.04 running in VMware fusion, more details [on this link](https://www.liquidweb.com/blog/create-vmware-shared-folder/):
&gt;
```bash
&gt;/usr/bin/vmhgfs-fuse .host:/BME/ROS2-lessons /home/david/ros2_ws/src/ROS2-lessons -o subtype=vmhgfs-fuse,allow_other
&gt;
```
</details>

<details>
<summary>Visual Studio Code</summary>

<br>The recommended code editor during the course is [Visual Studio Code](https://code.visualstudio.com/docs/setup/setup-overview), but it's up to your choice if you want to go with your different editor. Depending on your Ubuntu install method you might install it natively on Ubuntu, in your virtual environment or on your host operating system.

Recommended extensions to install:
- Markdown All in One
- C/C++
- Python
- CMake Tools
- Remote - SSH - if you work on physical robots, too
- Remote - WSL - if you do the course using WSL2
</details>

<details>
<summary>GitHub and a git client</summary>

<br>The course materials are available on GitHub, and the submissions of your final projects shall also use GitHub. *You'll need a very good excuse why to use alternative git solutions like GitLab.*

So I encourage everyone to [register your GitHub accounts](https://github.com/home), and if you are there don't forget to [sign up for the GitHub Student Developer Pack](https://education.github.com/pack) which gives you a bunch of powerful developer tools for free.

I recommend to use a graphical git client that can boost your experience with git, in my optinion the best one is [GitKraken](https://www.gitkraken.com), which is not a free software, but you get the pro version as part of the GitHub Student Developr Pack! If you prefer using git as a *cli* tool then no worries, it's absoluetely all right.

</details>

<details>
<summary>Markdown</summary>

<br>Markdown is not a standalone software but rather a lightweight, plain-text formatting language used to create formatted documents. It was created by John Gruber in 2004 with the goal of being easy to read and write, using simple syntax to style text, create lists, links, images, and more. It is widely used for writing documentation, readme files, and content for static websites.

Basic Markdown Syntax

- Headings: `#` Heading 1, `##` Heading 2, etc.
- Bold: `**bold text**` or `__bold text__`
- Italic: `*italic text*` or `_italic text_`
- Lists:
    - Unordered: `- Item` or `* Item`
	- Ordered: `1. Item`
	- Links: `[Link text](URL)`
	- Images: `![Alt text](Image URL)`
	- Code: Inline code or code blocks using triple backticks (
```)

GitHub Flavored Markdown (GFM)

GitHub Flavored Markdown (GFM) is a variant of Markdown used by GitHub to provide additional features and syntax that are not available in standard Markdown. It includes:

- Tables:
    
```
    | Column 1 | Column 2 |
    |----------|----------|
    | Row 1    | Data     |
    | Row 2    | Data     |
    
```
- Task lists:
    
```
    - [x] Task 1
    - [ ] Task 2
    
```
- Strikethrough: `~~strikethrough text~~`
- Syntax highlighting in a specific language:
    
```
    
```python
    def hello_world():
    print("Hello, world!")
    
```
- Tables of Contents
- @mentions for users, references to issues, and pull requests using #number

Most of the tips and tricks that you might need for your own project documentation can be found [in the source of this readme](https://github.com/MOGI-ROS/Week-1-2-Introduction-to-ROS2/blob/main/README.md?plain=1) that you read right now, feel free to use any snippets from it!

</details>

<details>
<summary>A good terminal</summary>

<br>It's up to your choice which terminal tool would you like to use, but I strongly recommend one that support multiple split windows in a single unified window, because we will use a **lot of** terminals! On Linux, I can recommend  `terminator`:
![alt text][image2]

In case you use WSL2, the built-in Windows terminal also support multiple panes and works really well!
![alt text][image3]

</details>

<details>
<summary>And finally, install ROS2 Jazzy</summary>

<br>ROS always had very good and detailed installed guides, it's not anything different for ROS2's Jazzy release.
The installation steps can be found [here](https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debs.html), with Ubuntu 24.04 it can be installed simply through pre-built, binary `deb` packages.

After installing it we have to set up our ROS2 environment with the following command:

```bash
source /opt/ros/jazzy/setup.bash

```

By default, we have to run this command in every new shell session we start, but there is a powerful tool in Linux for such use cases. `.bashrc` file is always in the user's home directory and it is used for user-specific settings for our shell sessions. You can edit `.bashrc` directly in a terminal window with a basic text editor, like `nano`:


```bash
david@david-ubuntu24:~$ nano .bashrc

```

Here, you can add your custom user-specific settings in the end of the file, that will be executed every time you initiate a new shell session.
I created an [example gist](https://gist.github.com/dudasdavid/bb2366e2a68bf1401ed692e41fed04d8) that you can add to the end of your file and use it during the course.

ROS2 Jazzy has [an even more detailed tutorial](https://docs.ros.org/en/jazzy/Tutorials/Beginner-CLI-Tools/Configuring-ROS2-Environment.html) about setting up your environment, you can check it out, too!

</details>

<h1 id="basics-of-ros2">Basics of ROS2</h1>

<h2 id="running-some-examples">Running some examples</h2>

<p>Your ROS2 install comes with a couple of good examples as you can also find it <a href="https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debs.html#try-some-examples">on the install page</a>.</p>

<p>Let’s try them!</p>

<p>The following command starts a simple <code class="language-plaintext highlighter-rouge">publisher</code> written in C++. A <code class="language-plaintext highlighter-rouge">publisher</code> is a node that is responsible for sending messages with a certain type over a specific <code class="language-plaintext highlighter-rouge">topic</code> (in this example the topic’s name is <code class="language-plaintext highlighter-rouge">chatter</code> and the type is a string). A <code class="language-plaintext highlighter-rouge">topic</code> is a communication pipeline in the publish-subscribe communication model where a single message is sent to multiple subscribers, unlike message-queues that are point-to-point models, where a single message is sent to a single consumer. Publishers broadcast messages to topics, and subscribers listen to those topics to receive a copy of the message.</p>

<blockquote>
  <p>Publish-subscribe models are asynchronous, one-to-many or many-to-many interactions where the publishers don’t know how many subscribers there are (if any). Therefore publisher never expects any response or confirmation from the subscribers.</p>
</blockquote>

<p>Now, let’s run the demo publisher written in C++:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run demo_nodes_cpp talker

</code></pre></div></div>

<p>Your output should look like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run demo_nodes_cpp talker
<span class="o">[</span>INFO] <span class="o">[</span>1727116062.558281395] <span class="o">[</span>talker]: Publishing: <span class="s1">'Hello World: 1'</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727116063.558177802] <span class="o">[</span>talker]: Publishing: <span class="s1">'Hello World: 2'</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727116064.558010534] <span class="o">[</span>talker]: Publishing: <span class="s1">'Hello World: 3'</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727116065.557939861] <span class="o">[</span>talker]: Publishing: <span class="s1">'Hello World: 4'</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727116066.557849645] <span class="o">[</span>talker]: Publishing: <span class="s1">'Hello World: 5'</span>

</code></pre></div></div>

<p>Let’s start a subscriber - written in Python - in another terminal window, which subscribes to the <code class="language-plaintext highlighter-rouge">chatter</code> topic and listens to the publisher node’s messages:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run demo_nodes_py listener
<span class="o">[</span>INFO] <span class="o">[</span>1727116231.574662048] <span class="o">[</span>listener]: I heard: <span class="o">[</span>Hello World: 170]
<span class="o">[</span>INFO] <span class="o">[</span>1727116232.560517676] <span class="o">[</span>listener]: I heard: <span class="o">[</span>Hello World: 171]
<span class="o">[</span>INFO] <span class="o">[</span>1727116233.558907367] <span class="o">[</span>listener]: I heard: <span class="o">[</span>Hello World: 172]
<span class="o">[</span>INFO] <span class="o">[</span>1727116234.560768278] <span class="o">[</span>listener]: I heard: <span class="o">[</span>Hello World: 173]
<span class="o">[</span>INFO] <span class="o">[</span>1727116235.559821377] <span class="o">[</span>listener]: I heard: <span class="o">[</span>Hello World: 174]
<span class="o">[</span>INFO] <span class="o">[</span>1727116236.559993767] <span class="o">[</span>listener]: I heard: <span class="o">[</span>Hello World: 175]

</code></pre></div></div>

<h3 id="useful-cli-and-graphical-tools">Useful cli and graphical tools</h3>
<p>Now both nodes are running we can try a few useful tools. The first on let us know what kind of nodes are running in your ROS2 system:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 node list

</code></pre></div></div>

<p>Which gives us the following output:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~/ros2_ws<span class="nv">$ </span>ros2 node list
/listener
/talker

</code></pre></div></div>

<p>If we want to know more about one of our nodes, we can use the <code class="language-plaintext highlighter-rouge">ros2 node info /node</code> command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~/ros2_ws<span class="nv">$ </span>ros2 node info /listener 
/listener
  Subscribers:
    /chatter: std_msgs/msg/String
  Publishers:
    /parameter_events: rcl_interfaces/msg/ParameterEvent
    /rosout: rcl_interfaces/msg/Log
  Service Servers:
    /listener/describe_parameters: rcl_interfaces/srv/DescribeParameters
    /listener/get_parameter_types: rcl_interfaces/srv/GetParameterTypes
    /listener/get_parameters: rcl_interfaces/srv/GetParameters
    /listener/get_type_description: type_description_interfaces/srv/GetTypeDescription
    /listener/list_parameters: rcl_interfaces/srv/ListParameters
    /listener/set_parameters: rcl_interfaces/srv/SetParameters
    /listener/set_parameters_atomically: rcl_interfaces/srv/SetParametersAtomically
  Service Clients:

  Action Servers:

  Action Clients:

</code></pre></div></div>

<p>At the moment, the most interesting detail we can gather about a node is if it’s subscribing or publishing to any topic. In later lessons we’ll learn more about parameters and services.</p>

<hr>

<p>In a very similar way, we can also list all of our topics with <code class="language-plaintext highlighter-rouge">ros2 topic list</code> command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~/ros2_ws<span class="nv">$ </span>ros2 topic list 
/chatter
/parameter_events
/rosout

</code></pre></div></div>

<p>And we can get more details about a certain topic with the <code class="language-plaintext highlighter-rouge">ros2 topic info /topic</code> command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~/ros2_ws<span class="nv">$ </span>ros2 topic info /chatter 
Type: std_msgs/msg/String
Publisher count: 1
Subscription count: 1

</code></pre></div></div>

<p>Another powerful tool is <code class="language-plaintext highlighter-rouge">rqt_graph</code> that helps us visualizing the nodes and topics in a graph.
<img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/rqt_graph_1.png" alt="alt text" title="rqt_graph"></p>

<p><code class="language-plaintext highlighter-rouge">rqt_graph</code> can be used as a standalone tool, or part of <code class="language-plaintext highlighter-rouge">rqt</code> which can be used to build a complete dashboard to mintor and control your nodes. We’ll spend a lot of time with it, at the moment let’s just see the message monitoring function:
<img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/rqt_1.png" alt="alt text" title="rqt"></p>

<hr>

<h3 id="lets-run-more-examples-turtlesim">Let’s run more examples: turtlesim</h3>
<p>Let’s see another built in example which is a simple 2D plotter game.</p>
<blockquote>
  <p>In a case it’s not automatically installed, you can install it with the following command:</p>

  <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>ros-jazzy-turtlesim

</code></pre></div>  </div>
</blockquote>

<p>To run the main node just execute the follwoing command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run turtlesim turtlesim_node

</code></pre></div></div>

<p>And in another terminal start its remote controller, you can simply drive the turtle with the arrows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run turtlesim turtle_teleop_key

</code></pre></div></div>
<p><img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/turtlesim_1.png" alt="alt text" title="turtlesim"></p>

<p>We can use the same tools as before to see the running nodes and topics, here is how does it look like in <code class="language-plaintext highlighter-rouge">rqt_graph</code>.
<img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/rqt_graph_2.png" alt="alt text" title="rqt_graph"></p>

<blockquote>
  <p>We should notice two important things:</p>

  <ol>
    <li>turtlesim is more complex than the previous example with multiple services and parameters that we’ll check in the end of this lesson.</li>
    <li>the turtle is controlled with a <code class="language-plaintext highlighter-rouge">cmd_vel</code> message which is a 6D vector in space. We’ll use this exact same message type in the future to drive our simulated robots.</li>
  </ol>
</blockquote>

<p>Now let’s move on to create our own nodes!</p>

<h2 id="create-a-colcon-workspace">Create a colcon workspace</h2>

<p>To create, build and run custom nodes we need packages, but first we need a workspace where we’ll maintain our future packages.
There are 2 new terms we must learn about ROS2 workspaces:</p>

<ol>
  <li>
<code class="language-plaintext highlighter-rouge">ament</code> provides the underlying build system and tools specifically for ROS2 packages. <code class="language-plaintext highlighter-rouge">ament_cmake</code> is a CMake-based build system for C/C++ nodes and <code class="language-plaintext highlighter-rouge">ament_python</code> provides the tools for packing and installing python nodes and libraries.</li>
  <li>
<code class="language-plaintext highlighter-rouge">colcon</code> (COmmand Line COLlectioN) is a general-purpose tool to build and manage entire workspaces with various build systems, including ament, cmake, make, and more.</li>
</ol>

<p>It means that our ROS2 workspace will be a <code class="language-plaintext highlighter-rouge">colcon workspace</code> which - in the backround - will use <code class="language-plaintext highlighter-rouge">ament</code> for building the individual packages.</p>

<blockquote>
  <p>If you have experience with ROS1, <code class="language-plaintext highlighter-rouge">colcon</code> and <code class="language-plaintext highlighter-rouge">ament</code> replaces the old <code class="language-plaintext highlighter-rouge">catkin</code> tools.</p>
</blockquote>

<p>Let’s create our workspace inside our user’s home directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> ~/ros2_ws/src
<span class="nb">cd</span> ~/ros2_ws

</code></pre></div></div>

<blockquote>
  <p>A workspace must have a <code class="language-plaintext highlighter-rouge">src</code> folder where we maintain the source files of our packages, during building of the workspace colcon will create folders for the deployment of binaries and other output files.</p>
</blockquote>

<p>Let’s go into the <code class="language-plaintext highlighter-rouge">src</code> folder and create our first python package:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 pkg create <span class="nt">--build-type</span> ament_python bme_ros2_tutorials_py

</code></pre></div></div>
<blockquote>
  <p>During package creation we should define if it’s a C/C++ (<code class="language-plaintext highlighter-rouge">ament_cmake</code>) or a python (<code class="language-plaintext highlighter-rouge">ament_python</code>) package. If we don’t do it, the default is always <code class="language-plaintext highlighter-rouge">ament_cmake</code>!</p>
</blockquote>

<p>We’ll put our python scripts under <code class="language-plaintext highlighter-rouge">bme_ros2_tutorials_py</code> which is an automatically created folder with the same name as our package, it already has an empty file <code class="language-plaintext highlighter-rouge">__init__.py</code>, let’s add our first node here: <code class="language-plaintext highlighter-rouge">hello_world.py</code>.</p>

<blockquote>
  <p>We can create files in Linux in several different ways, just a few examples:</p>
  <ul>
    <li>Right click in the folder using the desktop environment</li>
    <li>Through the development environment, in our case Visual Studio Code</li>
    <li>From command line in the current folder using the <code class="language-plaintext highlighter-rouge">touch</code> command: <code class="language-plaintext highlighter-rouge">touch hello_world.py</code>
</li>
  </ul>
</blockquote>

<p>At this point our workspace should look like this (other files and folders are not important at this point):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~/ros2_ws<span class="nv">$ </span>tree <span class="nt">-L</span> 4
<span class="nb">.</span>
└── src
    └── bme_ros2_tutorials_py
        ├── bme_ros2_tutorials_py
        │   ├── __init__.py
        │   └── hello_world.py
        ├── package.xml
        └── setup.py

</code></pre></div></div>

<blockquote>
  <p>It’s always recommended to fill the <code class="language-plaintext highlighter-rouge">description</code>, <code class="language-plaintext highlighter-rouge">maintainer</code> with your name and email address and <code class="language-plaintext highlighter-rouge">license</code> fields in your <code class="language-plaintext highlighter-rouge">package.xml</code> and <code class="language-plaintext highlighter-rouge">setup.py</code> files. I personally prefer a highly permissive license in non-commercial packages of mine, like <code class="language-plaintext highlighter-rouge">BSD</code> or <code class="language-plaintext highlighter-rouge">Apache License 2.0</code>.</p>
</blockquote>

<h2 id="lets-write-the-simplest-possible-hello_world-in-python">Let’s write the simplest possible <code class="language-plaintext highlighter-rouge">hello_world</code> in python:</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span>
<span class="c1"># Main entry point, args is a parameter that is used to pass arguments to the main function
</span><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Hello, world!</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Check if the script is being run directly
</span><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>

<p>Although this is a python script that doesn’t require any compilation, we have to make sure that <code class="language-plaintext highlighter-rouge">ament</code> will pack, copy and install our node. It’s important to understand that we are not running python scripts directly from the source folder!</p>

<p>Let’s edit <code class="language-plaintext highlighter-rouge">setup.py</code> that was automatically generated when we defined that our package will use <code class="language-plaintext highlighter-rouge">ament_python</code>.</p>

<p>Add an entry point for our python node. An entry point describes the folder, the filename (without <code class="language-plaintext highlighter-rouge">.py</code>) and the main entry point within the script:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">...</span>
        <span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
            <span class="sh">'</span><span class="s">console_scripts</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span>
                <span class="sh">'</span><span class="s">py_hello_world = bme_ros2_tutorials_py.hello_world:main</span><span class="sh">'</span>
            <span class="p">],</span>
        <span class="p">},</span>
<span class="bp">...</span>

</code></pre></div></div>

<p>Our first node within our first package is ready for building it! Build must be initiated always in the root of our workspace!</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/ros2_ws

</code></pre></div></div>

<p>And here we execute the <code class="language-plaintext highlighter-rouge">colcon build</code> command.</p>

<p>After a successful build we have to update our environnment to make sure ROS2 cli tools are aware about of any new packages. To do this we have to run the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source install</span>/setup.bash

</code></pre></div></div>

<p>As we did with the base ROS2 environment, we can add this to the <code class="language-plaintext highlighter-rouge">.bashrc</code> so it’ll be automatically sourced every time when we open a terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/ros2_ws/install/setup.bash

</code></pre></div></div>

<p>And now we are ready to run our first node:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run bme_ros2_tutorials_py py_hello_world

</code></pre></div></div>

<p>Athough we could run our first node, it was just a plain python script, not using any ROS API. Let’s upgrade hello world to a more <em>ROS-like</em> hello world. We import the <code class="language-plaintext highlighter-rouge">rclpy</code> which is the ROS2 python API and we start using the most basic functions of <code class="language-plaintext highlighter-rouge">rclpy</code> like <code class="language-plaintext highlighter-rouge">init()</code>, <code class="language-plaintext highlighter-rouge">create_node()</code> and <code class="language-plaintext highlighter-rouge">shutdown()</code>. If you already want to do a deep-dive in the API functions you can find everything <a href="https://docs.ros.org/en/jazzy/Concepts/Basic/About-Client-Libraries.html#the-rclpy-package">here</a>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">rclpy</span> <span class="c1"># Import ROS2 python interface
</span>
<span class="c1"># Main entry point, args is a parameter that is used to pass arguments to the main function
</span><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">)</span>                          <span class="c1"># Initialize the ROS2 python interface
</span>    <span class="n">node</span> <span class="o">=</span> <span class="n">rclpy</span><span class="p">.</span><span class="nf">create_node</span><span class="p">(</span><span class="sh">'</span><span class="s">python_hello_world</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># Node constructor, give it a name
</span>    <span class="n">node</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">Hello, ROS2!</span><span class="sh">"</span><span class="p">)</span>         <span class="c1"># Use the ROS2 node's built in logger
</span>    <span class="n">node</span><span class="p">.</span><span class="nf">destroy_node</span><span class="p">()</span>                            <span class="c1"># Node destructor
</span>    <span class="n">rclpy</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>                               <span class="c1"># Shut the ROS2 python interface down
</span>
<span class="c1"># Check if the script is being run directly
</span><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>

<p>We don’t have to do anything with <code class="language-plaintext highlighter-rouge">setup.py</code>, the entrypoint is already there, but we have to re-build the colcon workspace!</p>

<p>After the build we can run our node:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run bme_ros2_tutorials_py py_hello_world

</code></pre></div></div>

<h2 id="create-a-python-publisher">Create a python publisher</h2>

<p>Let’s make our first publisher in python, we create a new file in the <code class="language-plaintext highlighter-rouge">bme_ros2_tutorials_py</code> folder: <code class="language-plaintext highlighter-rouge">publisher.py</code>.</p>

<p>We start expanding step-by-step our knowledge about the ROS2 API with publishing related functions (<code class="language-plaintext highlighter-rouge">create_publisher()</code> and <code class="language-plaintext highlighter-rouge">publish()</code>).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">rclpy</span>
<span class="kn">from</span> <span class="n">std_msgs.msg</span> <span class="kn">import</span> <span class="n">String</span> <span class="c1"># Import 'String' from ROS2 standard messages
</span><span class="kn">import</span> <span class="n">time</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">rclpy</span><span class="p">.</span><span class="nf">create_node</span><span class="p">(</span><span class="sh">'</span><span class="s">python_publisher</span><span class="sh">'</span><span class="p">)</span>
    <span class="c1"># Register the node as publisher
</span>    <span class="c1"># It will publish 'String' type to the topic named 'topic' (with a queue size of 10)
</span>    <span class="n">publisher</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="nf">create_publisher</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="sh">'</span><span class="s">topic</span><span class="sh">'</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="nc">String</span><span class="p">()</span>                     <span class="c1"># Initialize msg as a 'String' instance
</span>    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">rclpy</span><span class="p">.</span><span class="nf">ok</span><span class="p">():</span>                  <span class="c1"># Breaks the loop on ctrl+c
</span>        <span class="n">msg</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">'</span><span class="s">Hello, world: </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="sh">'</span> <span class="c1"># Write the actual string into msg's data field
</span>        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">node</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">Publishing: </span><span class="sh">"</span><span class="si">{</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="si">}</span><span class="sh">"'</span><span class="p">)</span>
        <span class="n">publisher</span><span class="p">.</span><span class="nf">publish</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>         <span class="c1"># Let the node publish the msg according to the publisher setup
</span>        <span class="n">time</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>                <span class="c1"># Python wait function in seconds
</span>
    <span class="n">node</span><span class="p">.</span><span class="nf">destroy_node</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>

<p>We have to edit <code class="language-plaintext highlighter-rouge">setup.py</code>, registering our new node as entry point:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">...</span>
    <span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
        <span class="sh">'</span><span class="s">console_scripts</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span>
            <span class="sh">'</span><span class="s">py_hello_world = bme_ros2_tutorials_py.hello_world:main</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">py_publisher = bme_ros2_tutorials_py.publisher:main</span><span class="sh">'</span>
        <span class="p">],</span>
    <span class="p">},</span>
<span class="bp">...</span>

</code></pre></div></div>

<p>Don’t forget to rebuild the workspace and we can run our new node:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run bme_ros2_tutorials_py py_publisher
<span class="o">[</span>INFO] <span class="o">[</span>1727526317.470055907] <span class="o">[</span>python_publisher]: Publishing: <span class="s2">"Hello, world: 0"</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727526317.971461827] <span class="o">[</span>python_publisher]: Publishing: <span class="s2">"Hello, world: 1"</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727526318.473896872] <span class="o">[</span>python_publisher]: Publishing: <span class="s2">"Hello, world: 2"</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727526318.977439178] <span class="o">[</span>python_publisher]: Publishing: <span class="s2">"Hello, world: 3"</span>

</code></pre></div></div>

<p>We can observe the published topic through <code class="language-plaintext highlighter-rouge">rqt</code>’s topic monitor:
<img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/rqt_2.png" alt="alt text" title="rqt"></p>

<p>Or we can use a simple but powerful tool, the <code class="language-plaintext highlighter-rouge">topic echo</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 topic <span class="nb">echo</span> /topic 
data: <span class="s1">'Hello, world: 23'</span>
<span class="nt">---</span>
data: <span class="s1">'Hello, world: 24'</span>
<span class="nt">---</span>
data: <span class="s1">'Hello, world: 25'</span>

</code></pre></div></div>

<p>The publisher node above is very simple and looks exactly how we historically impelented nodes in ROS1. But ROS2 provides more powerful API functions and also places a greater emphasis on object-oriented programming. So let’s create another publisher in a more OOP way and using the timer functions (<code class="language-plaintext highlighter-rouge">create_timer()</code>) of the ROS2 API. The other important API function is <code class="language-plaintext highlighter-rouge">rclpy.spin(node)</code> which keeps the node running until we don’t quit it with <code class="language-plaintext highlighter-rouge">ctrl+c</code> in the terminal.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">rclpy</span>
<span class="kn">from</span> <span class="n">rclpy.node</span> <span class="kn">import</span> <span class="n">Node</span>     <span class="c1"># Import ROS2 Node as parent for our own node class
</span><span class="kn">from</span> <span class="n">std_msgs.msg</span> <span class="kn">import</span> <span class="n">String</span>

<span class="k">class</span> <span class="nc">MyPublisherNode</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="sh">"</span><span class="s">python_publisher_oop</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">publisher_</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_publisher</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="sh">'</span><span class="s">topic</span><span class="sh">'</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_timer</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">timer_callback</span><span class="p">)</span>     <span class="c1"># Timer callback, period in seconds, not frequency!
</span>        <span class="n">self</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">msg</span> <span class="o">=</span> <span class="nc">String</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">Publisher OOP has been started.</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">timer_callback</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>                                        <span class="c1"># Timer callback function implementation
</span>        <span class="n">self</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Hello, world: </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span>
        <span class="n">self</span><span class="p">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">Publishing: </span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="si">}</span><span class="sh">"'</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">publisher_</span><span class="p">.</span><span class="nf">publish</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">msg</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="nc">MyPublisherNode</span><span class="p">()</span> <span class="c1"># node is now a custom class based on ROS2 Node
</span>    <span class="n">rclpy</span><span class="p">.</span><span class="nf">spin</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>         <span class="c1"># Keeps the node running until it's closed with ctrl+c
</span>    <span class="n">node</span><span class="p">.</span><span class="nf">destroy_node</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>

<p>As we did previously, add the new script’s entrypoint in the <code class="language-plaintext highlighter-rouge">setup.py</code>, build the workspace and run our new node:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run bme_ros2_tutorials_py py_publisher_oop

</code></pre></div></div>

<h2 id="create-a-c-publisher">Create a C++ publisher</h2>

<p>In ROS1 it was very straightforward to mix nodes written in different languages. In ROS2, although it’s not impossible, it requires more manual editing of package metadata because we define in advance for <code class="language-plaintext highlighter-rouge">ament</code> what is the package’s build type. To keep it simple now, let’s create a new package:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 pkg create <span class="nt">--build-type</span> ament_cmake bme_ros2_tutorials_cpp

</code></pre></div></div>

<blockquote>
  <p><a href="https://roboticsbackend.com/ros2-package-for-both-python-and-cpp-nodes/">On this link</a>, you can see an example how to mix both python and C++ nodes within the same package.</p>
</blockquote>

<p>Let’s create <code class="language-plaintext highlighter-rouge">publisher.cpp</code> in <code class="language-plaintext highlighter-rouge">src</code> folder of the new package, this follows the object-oriented patterns as our previous python node, including the ROS2 timer. This time we work with <a href="https://docs.ros.org/en/jazzy/Concepts/Basic/About-Client-Libraries.html#the-rclcpp-package">the ROS2 C++ API</a>, <code class="language-plaintext highlighter-rouge">rclcpp</code>, the available API functions are pretty much identical to the <code class="language-plaintext highlighter-rouge">rclpy</code>.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">"rclcpp/rclcpp.hpp"</span><span class="cp">
#include</span> <span class="cpf">"std_msgs/msg/string.hpp"</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">MyPublisherNode</span> <span class="o">:</span> <span class="k">public</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">MyPublisherNode</span><span class="p">()</span> <span class="o">:</span> <span class="n">Node</span><span class="p">(</span><span class="s">"cpp_publisher"</span><span class="p">),</span> <span class="n">count_</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">publisher_</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">create_publisher</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"topic"</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
        <span class="n">timer_</span>     <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">create_wall_timer</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">milliseconds</span><span class="p">(</span><span class="mi">500</span><span class="p">),</span>
                                                <span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">MyPublisherNode</span><span class="o">::</span><span class="n">publishString</span><span class="p">,</span> <span class="k">this</span><span class="p">));</span>
        <span class="n">RCLCPP_INFO</span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">get_logger</span><span class="p">(),</span> <span class="s">"CPP publisher has been started."</span><span class="p">);</span>
    <span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
    <span class="kt">void</span> <span class="nf">publishString</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="p">();</span>
        <span class="n">msg</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="s">"Hello, world: "</span> <span class="o">+</span> <span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">count_</span><span class="o">++</span><span class="p">);</span>
        <span class="n">RCLCPP_INFO</span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">get_logger</span><span class="p">(),</span> <span class="s">"Publishing: '%s'"</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
        <span class="n">publisher_</span><span class="o">-&gt;</span><span class="n">publish</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kt">size_t</span> <span class="n">count_</span><span class="p">;</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">Publisher</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;::</span><span class="n">SharedPtr</span> <span class="n">publisher_</span><span class="p">;</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">TimerBase</span><span class="o">::</span><span class="n">SharedPtr</span> <span class="n">timer_</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">spin</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">MyPublisherNode</span><span class="o">&gt;</span><span class="p">());</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">shutdown</span><span class="p">();</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>

<p>To properly set up our node in the package’s metadata files we have to edit the <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code>:</p>

<div class="language-cmake highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">find_package</span><span class="p">(</span>rclcpp REQUIRED<span class="p">)</span>
<span class="nb">find_package</span><span class="p">(</span>std_msgs REQUIRED<span class="p">)</span>

<span class="nb">add_executable</span><span class="p">(</span>publisher_cpp src/publisher.cpp<span class="p">)</span>
<span class="nf">ament_target_dependencies</span><span class="p">(</span>publisher_cpp rclcpp std_msgs<span class="p">)</span>

<span class="nb">install</span><span class="p">(</span>TARGETS
  publisher_cpp
  DESTINATION lib/<span class="si">${</span><span class="nv">PROJECT_NAME</span><span class="si">}</span><span class="p">)</span>

</code></pre></div></div>

<p>After that we can build the workspace with <code class="language-plaintext highlighter-rouge">colcon build</code>, since it’s a new package we have to source the environment and after the we can run our new node:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run bme_ros2_tutorials_cpp publisher_cpp

</code></pre></div></div>

<blockquote>
  <p>If sourcing the environment of your workspace is already in the <code class="language-plaintext highlighter-rouge">.bashrc</code> it’s just easier to close and open a new terminal session.</p>
</blockquote>

<p>We can use the same tools as before to observe the published data by our new C++ node like <code class="language-plaintext highlighter-rouge">topic list</code>, <code class="language-plaintext highlighter-rouge">topic echo</code> or a graphical tool like <code class="language-plaintext highlighter-rouge">rqt</code>.</p>

<h2 id="create-a-python-subscriber">Create a python subscriber</h2>

<p>Let’s create a new file <code class="language-plaintext highlighter-rouge">subscriber.py</code> in our python package (<code class="language-plaintext highlighter-rouge">bme_ros2_tutorials_py</code>). First we make a very simple implementation and after that we’ll implement a more OOP version of it again. We further extend our knowledge with more API functions related to subscriptions (<code class="language-plaintext highlighter-rouge">create_subscription()</code>).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">rclpy</span>
<span class="kn">from</span> <span class="n">std_msgs.msg</span> <span class="kn">import</span> <span class="n">String</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">rclpy</span><span class="p">.</span><span class="nf">create_node</span><span class="p">(</span><span class="sh">'</span><span class="s">python_subscriber</span><span class="sh">'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">subscriber_callback</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>                      <span class="c1"># Subscriber callback will be invoked every time when a message arrives to the topic it has subsctibed
</span>        <span class="n">node</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">I heard: </span><span class="si">{</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># Register the node as a subscriber on a certain topic: 'topic' (with a certain data type: String)
</span>    <span class="c1"># and assign the callback function that will be invoked when a message arrives to the topic
</span>    <span class="c1"># with a queue size of 10 which determines how many incoming messages can be held in the subscriber’s
</span>    <span class="c1"># queue while waiting to be processed by the callback function
</span>    <span class="n">subscriber</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="nf">create_subscription</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="sh">'</span><span class="s">topic</span><span class="sh">'</span><span class="p">,</span> <span class="n">subscriber_callback</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> 
    <span class="n">node</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">Subsciber has been started.</span><span class="sh">"</span><span class="p">)</span>

    <span class="n">rclpy</span><span class="p">.</span><span class="nf">spin</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="n">node</span><span class="p">.</span><span class="nf">destroy_node</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>

<p>Add the node to the <code class="language-plaintext highlighter-rouge">setup.py</code> file as a new entry point</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">...</span>
    <span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
        <span class="sh">'</span><span class="s">console_scripts</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span>
            <span class="sh">'</span><span class="s">py_hello_world = bme_ros2_tutorials_py.hello_world:main</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">py_publisher = bme_ros2_tutorials_py.publisher:main</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">py_publisher_oop = bme_ros2_tutorials_py.publisher_oop:main</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">py_subscriber = bme_ros2_tutorials_py.subscriber:main</span><span class="sh">'</span>
        <span class="p">],</span>
    <span class="p">},</span>
<span class="bp">...</span>

</code></pre></div></div>

<p>Then, build the workspace and we can run our new node!</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run bme_ros2_tutorials_py py_subscriber
<span class="o">[</span>INFO] <span class="o">[</span>1727606328.416973729] <span class="o">[</span>python_subscriber]: Subsciber has been started.

</code></pre></div></div>

<p>If we don’t start a publisher, then our subscriber is just keep listening to the <code class="language-plaintext highlighter-rouge">/topic</code> but the callback function is not invoked. The node doesn’t stop running because of the <code class="language-plaintext highlighter-rouge">rclpy.spin(node)</code>  function.</p>

<p>Let’s start our C++ publisher in another terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run bme_ros2_tutorials_cpp publisher_cpp 
<span class="o">[</span>INFO] <span class="o">[</span>1727606744.184678739] <span class="o">[</span>cpp_publisher]: CPP publisher has been started.
<span class="o">[</span>INFO] <span class="o">[</span>1727606744.685934650] <span class="o">[</span>cpp_publisher]: Publishing: <span class="s1">'Hello, world: 0'</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727606745.185073828] <span class="o">[</span>cpp_publisher]: Publishing: <span class="s1">'Hello, world: 1'</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727606745.686288921] <span class="o">[</span>cpp_publisher]: Publishing: <span class="s1">'Hello, world: 2'</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727606746.186169881] <span class="o">[</span>cpp_publisher]: Publishing: <span class="s1">'Hello, world: 3'</span>

</code></pre></div></div>

<p>And let’s see what happens with the subscriber! It’s subscription callback function is invoked every time when the publisher sends a message onto the <code class="language-plaintext highlighter-rouge">/topic</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~/ros2_ws<span class="nv">$ </span>ros2 run bme_ros2_tutorials_py py_subscriber
<span class="o">[</span>INFO] <span class="o">[</span>1727606614.099180007] <span class="o">[</span>python_subscriber]: Subsciber has been started.
<span class="o">[</span>INFO] <span class="o">[</span>1727606744.695260304] <span class="o">[</span>python_subscriber]: I heard: Hello, world: 0
<span class="o">[</span>INFO] <span class="o">[</span>1727606745.187956805] <span class="o">[</span>python_subscriber]: I heard: Hello, world: 1
<span class="o">[</span>INFO] <span class="o">[</span>1727606745.689289484] <span class="o">[</span>python_subscriber]: I heard: Hello, world: 2
<span class="o">[</span>INFO] <span class="o">[</span>1727606746.188467429] <span class="o">[</span>python_subscriber]: I heard: Hello, world: 3

</code></pre></div></div>

<p>We can also check it with <code class="language-plaintext highlighter-rouge">rqt_graph</code>:
<img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/rqt_graph_3.png" alt="alt text" title="rqt_graph"></p>

<blockquote>
  <p>And we can also observe the language agnostic approach of ROS2, without any additional effort this middleware provides interfacing between nodes written in different programming languages.</p>
</blockquote>

<p>As before, let’s make our subscriber more OOP using our previous template from the publisher. Compared to the publisher we just need to replace the timer callback with a subscription callback and that’s all!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">rclpy</span>
<span class="kn">from</span> <span class="n">rclpy.node</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="kn">from</span> <span class="n">std_msgs.msg</span> <span class="kn">import</span> <span class="n">String</span>

<span class="k">class</span> <span class="nc">MySubscriberNode</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="sh">"</span><span class="s">python_subsciber_oop</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">subscriber_</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_subscription</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="sh">'</span><span class="s">topic</span><span class="sh">'</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">subscriber_callback</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">Subsciber OOP has been started.</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">subscriber_callback</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">I heard: </span><span class="si">{</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="nc">MySubscriberNode</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">spin</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="n">node</span><span class="p">.</span><span class="nf">destroy_node</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>
<p>Build the workspace and run the node.</p>

<h2 id="create-a-c-subscriber">Create a C++ subscriber</h2>

<p>Now let’s create a new file in the <code class="language-plaintext highlighter-rouge">src</code> directory of the <code class="language-plaintext highlighter-rouge">bme_ros2_tutorials_cpp</code>, we can name it <code class="language-plaintext highlighter-rouge">subscriber.cpp</code>.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">"rclcpp/rclcpp.hpp"</span><span class="cp">
#include</span> <span class="cpf">"std_msgs/msg/string.hpp"</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">MySubscriberNode</span> <span class="o">:</span> <span class="k">public</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">MySubscriberNode</span><span class="p">()</span> <span class="o">:</span> <span class="n">Node</span><span class="p">(</span><span class="s">"cpp_subscriber"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">subscriber_</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">create_subscription</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;</span><span class="p">(</span>
            <span class="s">"topic"</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">MySubscriberNode</span><span class="o">::</span><span class="n">subscriber_callback</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">_1</span><span class="p">));</span>
    <span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
    <span class="kt">void</span> <span class="nf">subscriber_callback</span><span class="p">(</span><span class="k">const</span> <span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="n">RCLCPP_INFO</span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">get_logger</span><span class="p">(),</span> <span class="s">"I heard: '%s'"</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="n">rclcpp</span><span class="o">::</span><span class="n">Subscription</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">String</span><span class="o">&gt;::</span><span class="n">SharedPtr</span> <span class="n">subscriber_</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
    <span class="k">auto</span> <span class="n">node</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">MySubscriberNode</span><span class="o">&gt;</span><span class="p">();</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">spin</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">shutdown</span><span class="p">();</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>
<p>Add it to the <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code>:</p>

<div class="language-cmake highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">add_executable</span><span class="p">(</span>publisher_cpp src/publisher.cpp<span class="p">)</span>
<span class="nb">add_executable</span><span class="p">(</span>subscriber_cpp src/subscriber.cpp<span class="p">)</span>
<span class="nf">ament_target_dependencies</span><span class="p">(</span>publisher_cpp rclcpp std_msgs<span class="p">)</span>
<span class="nf">ament_target_dependencies</span><span class="p">(</span>subscriber_cpp rclcpp std_msgs<span class="p">)</span>

<span class="nb">install</span><span class="p">(</span>TARGETS
  publisher_cpp
  subscriber_cpp
  DESTINATION lib/<span class="si">${</span><span class="nv">PROJECT_NAME</span><span class="si">}</span><span class="p">)</span>

</code></pre></div></div>

<p>Build the workspace and we can try the new node. Let’s start also a publisher and observe the behavior of the new C++ subscriber with the tools we already know!</p>

<h2 id="launchfiles">Launchfiles</h2>

<p>As you noticed with the previous examples we have to use as many terminals as many nodes we start. With a simple publisher and subscriber this isn’t really a big deal, but in more complex robotic projects, it’s quite common to use ROS nodes in the range of tens or even hundreds. Therefore ROS provides an efficient interface to start multiple nodes together and even re-map their topics to different ones or change its parameters instead of changing the source code itself.</p>

<p>Compared to ROS1 it’s a bit more complicated to bundle these launchfiles with our nodes, so as a best practice, I recommend creating an individual pakage only for our launcfiles.</p>

<p>Let’s create a new package with <code class="language-plaintext highlighter-rouge">ament_cmake</code> or simply without specifying the build type (by default it’s <code class="language-plaintext highlighter-rouge">ament_cmake</code>).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 pkg create bme_ros2_tutorials_bringup

</code></pre></div></div>

<p>Now let’s create a <code class="language-plaintext highlighter-rouge">launch</code> folder within this new package.
We can freely delete include and src folders:</p>

<blockquote>
  <p>If you want to delete a folder from command line that is not empty you can use the <code class="language-plaintext highlighter-rouge">rm -rf folder</code> command</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm</span> <span class="nt">-rf</span> include/ src/

</code></pre></div></div>

<p>Add the following to the <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code> to install the content of <code class="language-plaintext highlighter-rouge">launch</code> when we build the workspce:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">install</span><span class="o">(</span>DIRECTORY
  launch
  DESTINATION share/<span class="k">${</span><span class="nv">PROJECT_NAME</span><span class="k">}</span>
<span class="o">)</span>

</code></pre></div></div>

<p>Create a new launch file, and let’s call it <code class="language-plaintext highlighter-rouge">publisher_subscriber.launch.py</code>. In ROS2 the launchfiles are special declarative python scripts (with some imperative flavours) instead of the <code class="language-plaintext highlighter-rouge">xml</code> files we used in ROS1! Actually ROS2 also has the possibility to use <code class="language-plaintext highlighter-rouge">xml</code> based launch files, but the general usage and the documentation of this feature is very poor. Initially the python based launch system was intended to be the backend of xml launchfiles but it wasn’t ready for the initial launch of ROS2 and the community rather jumped on using the python launch system.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">touch </span>publisher_subscriber.launch.py

</code></pre></div></div>

<p>Let’s create our template that we can re-use in the future with only one publisher first. When we add a node to the launch file we must define the the <code class="language-plaintext highlighter-rouge">package</code>, the <code class="language-plaintext highlighter-rouge">node</code> (executable) and a freely chosen <code class="language-plaintext highlighter-rouge">name</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">ld</span> <span class="o">=</span> <span class="nc">LaunchDescription</span><span class="p">()</span>

    <span class="n">publisher_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span>
        <span class="n">package</span><span class="o">=</span><span class="sh">"</span><span class="s">bme_ros2_tutorials_py</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="sh">"</span><span class="s">py_publisher</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_publisher</span><span class="sh">"</span>
    <span class="p">)</span>

    <span class="n">ld</span><span class="p">.</span><span class="nf">add_action</span><span class="p">(</span><span class="n">publisher_node</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ld</span>

</code></pre></div></div>

<p>Build and don’t forget to source the workspace because we added a new package!</p>

<p>After it we can execute our launchfile with the <code class="language-plaintext highlighter-rouge">ros2 launch</code> command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 launch bme_ros2_tutorials_bringup publisher_subscriber.launch.py
<span class="o">[</span>INFO] <span class="o">[</span>launch]: All log files can be found below /home/david/.ros/log/2024-09-29-14-17-29-864407-david-ubuntu24-41228
<span class="o">[</span>INFO] <span class="o">[</span>launch]: Default logging verbosity is <span class="nb">set </span>to INFO
<span class="o">[</span>INFO] <span class="o">[</span>py_publisher-1]: process started with pid <span class="o">[</span>41231]
<span class="o">[</span>py_publisher-1] <span class="o">[</span>INFO] <span class="o">[</span>1727612250.056173684] <span class="o">[</span>my_publisher]: Publishing: <span class="s2">"Hello, world: 0"</span>
<span class="o">[</span>py_publisher-1] <span class="o">[</span>INFO] <span class="o">[</span>1727612250.559170990] <span class="o">[</span>my_publisher]: Publishing: <span class="s2">"Hello, world: 1"</span>
<span class="o">[</span>py_publisher-1] <span class="o">[</span>INFO] <span class="o">[</span>1727612251.061618736] <span class="o">[</span>my_publisher]: Publishing: <span class="s2">"Hello, world: 2"</span>

</code></pre></div></div>

<blockquote>
  <p>If we don’t write the <em><code class="language-plaintext highlighter-rouge">launch</code></em> word explicitly in the filename of our launch file, the <code class="language-plaintext highlighter-rouge">ros2 launch</code> cli tool won’t be able to autocomplete the filenames.</p>
</blockquote>

<p>We can notice that our node is now called <code class="language-plaintext highlighter-rouge">my_publisher</code> instead of <code class="language-plaintext highlighter-rouge">python_publisher</code> as we coded in the node itself earlier. With the launch files we can easily rename our nodes for better handling and organizing as our application scales up.</p>

<p>We can use the <code class="language-plaintext highlighter-rouge">node list</code> tool to list our nodes and the output will look like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~/ros2_ws<span class="nv">$ </span>ros2 node list 
/my_publisher

</code></pre></div></div>

<h3 id="now-lets-add-the-subscriber-too">Now let’s add the subscriber too:</h3>

<p>Every time when we add a node to the launch file we also have to register it with the <code class="language-plaintext highlighter-rouge">ld.add_action()</code> function:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">ld</span> <span class="o">=</span> <span class="nc">LaunchDescription</span><span class="p">()</span>

    <span class="n">publisher_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span>
        <span class="n">package</span><span class="o">=</span><span class="sh">"</span><span class="s">bme_ros2_tutorials_py</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="sh">"</span><span class="s">py_publisher</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_publisher</span><span class="sh">"</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">subscriber_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span>
        <span class="n">package</span><span class="o">=</span><span class="sh">"</span><span class="s">bme_ros2_tutorials_py</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="sh">"</span><span class="s">py_subscriber</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_subscriber</span><span class="sh">"</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">ld</span><span class="p">.</span><span class="nf">add_action</span><span class="p">(</span><span class="n">publisher_node</span><span class="p">)</span>
    <span class="n">ld</span><span class="p">.</span><span class="nf">add_action</span><span class="p">(</span><span class="n">subscriber_node</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ld</span>

</code></pre></div></div>

<p>Don’t forget to rebuild the workspace so the changed launchfile will be installed, after that we can run it!</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 launch bme_ros2_tutorials_bringup publisher_subscriber.launch.py
<span class="o">[</span>INFO] <span class="o">[</span>launch]: All log files can be found below /home/david/.ros/log/2024-09-29-14-20-15-603371-david-ubuntu24-41380
<span class="o">[</span>INFO] <span class="o">[</span>launch]: Default logging verbosity is <span class="nb">set </span>to INFO
<span class="o">[</span>INFO] <span class="o">[</span>py_publisher-1]: process started with pid <span class="o">[</span>41383]
<span class="o">[</span>INFO] <span class="o">[</span>py_subscriber-2]: process started with pid <span class="o">[</span>41384]
<span class="o">[</span>py_publisher-1] <span class="o">[</span>INFO] <span class="o">[</span>1727612415.811451529] <span class="o">[</span>my_publisher]: Publishing: <span class="s2">"Hello, world: 0"</span>
<span class="o">[</span>py_subscriber-2] <span class="o">[</span>INFO] <span class="o">[</span>1727612415.811459737] <span class="o">[</span>my_subscriber]: Subsciber has been started.
<span class="o">[</span>py_subscriber-2] <span class="o">[</span>INFO] <span class="o">[</span>1727612415.811878677] <span class="o">[</span>my_subscriber]: I heard: Hello, world: 0
<span class="o">[</span>py_publisher-1] <span class="o">[</span>INFO] <span class="o">[</span>1727612416.313222973] <span class="o">[</span>my_publisher]: Publishing: <span class="s2">"Hello, world: 1"</span>
<span class="o">[</span>py_subscriber-2] <span class="o">[</span>INFO] <span class="o">[</span>1727612416.315340170] <span class="o">[</span>my_subscriber]: I heard: Hello, world: 1

</code></pre></div></div>

<p>We can see that both nodes started and their logging to the standard output is combined in this single terminal window.</p>

<p>We can verify this with <code class="language-plaintext highlighter-rouge">node list</code> or using <code class="language-plaintext highlighter-rouge">rqt_graph</code> visually:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 node list 
/my_publisher
/my_subscriber

</code></pre></div></div>

<p>We can also verify the used topics with the <code class="language-plaintext highlighter-rouge">topic list</code> tool:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 topic list 
/parameter_events
/rosout
/topic

</code></pre></div></div>

<h2 id="remap">Remap</h2>

<p>With the launch files we can not just rename our nodes, we can also <em>re-map</em> topics, let’s try to remap the existing <code class="language-plaintext highlighter-rouge">/topic</code> to <code class="language-plaintext highlighter-rouge">/another_topic</code>:</p>

<p>Let’s add remapping to the publisher:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">publisher_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span>
        <span class="n">package</span><span class="o">=</span><span class="sh">"</span><span class="s">bme_ros2_tutorials_py</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="sh">"</span><span class="s">py_publisher</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_publisher</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">remappings</span><span class="o">=</span><span class="p">[</span>
            <span class="p">(</span><span class="sh">"</span><span class="s">topic</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">another_topic</span><span class="sh">"</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">)</span>

</code></pre></div></div>

<p>After build we can run the modified launch file and verify the topics with <code class="language-plaintext highlighter-rouge">topic list</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 topic list 
/another_topic
/parameter_events
/rosout
/topic


</code></pre></div></div>
<p>Our subsriber’s callback function is obviously not triggered because it’s still listening to the original <code class="language-plaintext highlighter-rouge">/topic</code> while the publisher now sends its messages to <code class="language-plaintext highlighter-rouge">/another_topic</code>, we can see it visually that our two nodes are now unconnected with <code class="language-plaintext highlighter-rouge">rqt_graph</code>:
<img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/rqt_graph_4.png" alt="alt text" title="rqt_graph"></p>

<p>We can also use the <code class="language-plaintext highlighter-rouge">node info</code> cli tool to check what are the published topics and the subscriptions for a specific node:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 node info /my_publisher

</code></pre></div></div>

<h3 id="lets-remap-our-subscriber-too">Let’s remap our subscriber too!</h3>

<p>Add re-mapping in the same way to the subscriber, too:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">...</span>
        <span class="n">remappings</span><span class="o">=</span><span class="p">[</span>
            <span class="p">(</span><span class="sh">"</span><span class="s">topic</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">another_topic</span><span class="sh">"</span><span class="p">)</span>
        <span class="p">]</span>
<span class="bp">...</span>

</code></pre></div></div>

<p>And we’ll see that they are connected again, through the <code class="language-plaintext highlighter-rouge">/another_topic</code>.
<img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/rqt_graph_5.png" alt="alt text" title="rqt_graph"></p>

<h3 id="adding-more-nodes">Adding more nodes</h3>
<p>Now let’s add more publishers and subscribers, also start mixing our C++ and python nodes:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">ld</span> <span class="o">=</span> <span class="nc">LaunchDescription</span><span class="p">()</span>

    <span class="n">cpp_publisher_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span>
        <span class="n">package</span><span class="o">=</span><span class="sh">"</span><span class="s">bme_ros2_tutorials_cpp</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="sh">"</span><span class="s">publisher_cpp</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_cpp_publisher</span><span class="sh">"</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">py_publisher_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span>
        <span class="n">package</span><span class="o">=</span><span class="sh">"</span><span class="s">bme_ros2_tutorials_py</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="sh">"</span><span class="s">py_publisher</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_py_publisher</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">remappings</span><span class="o">=</span><span class="p">[</span>
            <span class="p">(</span><span class="sh">"</span><span class="s">topic</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">another_topic</span><span class="sh">"</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="n">py_subscriber_node1</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span>
        <span class="n">package</span><span class="o">=</span><span class="sh">"</span><span class="s">bme_ros2_tutorials_py</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="sh">"</span><span class="s">py_subscriber</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_py_subscriber1</span><span class="sh">"</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">py_subscriber_node2</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span>
        <span class="n">package</span><span class="o">=</span><span class="sh">"</span><span class="s">bme_ros2_tutorials_py</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="sh">"</span><span class="s">py_subscriber_oop</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_py_subscriber2</span><span class="sh">"</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">cpp_subscriber_node1</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span>
        <span class="n">package</span><span class="o">=</span><span class="sh">"</span><span class="s">bme_ros2_tutorials_cpp</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="sh">"</span><span class="s">subscriber_cpp</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_cpp_subscriber1</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">remappings</span><span class="o">=</span><span class="p">[</span>
            <span class="p">(</span><span class="sh">"</span><span class="s">topic</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">another_topic</span><span class="sh">"</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="n">ld</span><span class="p">.</span><span class="nf">add_action</span><span class="p">(</span><span class="n">cpp_publisher_node</span><span class="p">)</span>
    <span class="n">ld</span><span class="p">.</span><span class="nf">add_action</span><span class="p">(</span><span class="n">py_publisher_node</span><span class="p">)</span>
    <span class="n">ld</span><span class="p">.</span><span class="nf">add_action</span><span class="p">(</span><span class="n">py_subscriber_node1</span><span class="p">)</span>
    <span class="n">ld</span><span class="p">.</span><span class="nf">add_action</span><span class="p">(</span><span class="n">py_subscriber_node2</span><span class="p">)</span>
    <span class="n">ld</span><span class="p">.</span><span class="nf">add_action</span><span class="p">(</span><span class="n">cpp_subscriber_node1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ld</span>

</code></pre></div></div>

<p>Rebuild the workspace and let’s see them visually with <code class="language-plaintext highlighter-rouge">rqt_graph</code>:
<img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/rqt_graph_6.png" alt="alt text" title="rqt_graph"></p>

<h1 id="parameters">Parameters</h1>

<p>ROS2 provides an interface to custom parameters of nodes, we can list the parameters, get or set their value with the <code class="language-plaintext highlighter-rouge">param list</code>, <code class="language-plaintext highlighter-rouge">param get</code> and <code class="language-plaintext highlighter-rouge">param set</code> cli tools.</p>

<p>Let’s see what kind of parameters do we have for our existing nodes, start our C++ publisher:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run bme_ros2_tutorials_cpp publisher_cpp 

</code></pre></div></div>

<p>And in a separate terminal execute <code class="language-plaintext highlighter-rouge">ros2 param list /cpp_publisher</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 param list /cpp_publisher
  qos_overrides./parameter_events.publisher.depth
  qos_overrides./parameter_events.publisher.durability
  qos_overrides./parameter_events.publisher.history
  qos_overrides./parameter_events.publisher.reliability
  start_type_description_service
  use_sim_time

</code></pre></div></div>

<p>Although this list a couple of parameters, these are default parameters that were set up by the ROS2 C++ API, let’s write another python publisher node where this time we add a parameter with the ROS2 API. Let’s use our OOP publisher as the template:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">rclpy</span>
<span class="kn">from</span> <span class="n">rclpy.node</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="kn">from</span> <span class="n">std_msgs.msg</span> <span class="kn">import</span> <span class="n">String</span>

<span class="k">class</span> <span class="nc">MyPublisherNode</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="sh">"</span><span class="s">python_publisher_with_parameter</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">declare_parameter</span><span class="p">(</span><span class="sh">"</span><span class="s">published_text</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">MOGI</span><span class="sh">"</span><span class="p">)</span>        <span class="c1"># Add a parameter with a default value
</span>        <span class="n">self</span><span class="p">.</span><span class="n">text_</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">get_parameter</span><span class="p">(</span><span class="sh">"</span><span class="s">published_text</span><span class="sh">"</span><span class="p">).</span><span class="n">value</span> <span class="c1"># Copy the parameter value into the text_ variable
</span>
        <span class="n">self</span><span class="p">.</span><span class="n">publisher_</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_publisher</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="sh">'</span><span class="s">topic</span><span class="sh">'</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_timer</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">timer_callback</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">msg</span> <span class="o">=</span> <span class="nc">String</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">Publisher OOP has been started.</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">timer_callback</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">text_</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span>               <span class="c1"># use the text_ variable for the String message
</span>        <span class="n">self</span><span class="p">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">Publishing: </span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="si">}</span><span class="sh">"'</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">publisher_</span><span class="p">.</span><span class="nf">publish</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">msg</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="nc">MyPublisherNode</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">spin</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="n">node</span><span class="p">.</span><span class="nf">destroy_node</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>

<p>Now, let’s see the parameters with the <code class="language-plaintext highlighter-rouge">param list</code> tool:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 param list /python_publisher_with_parameter 
  published_text
  start_type_description_service
  use_sim_time

</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">published_text</code> parameter is now visible for ROS2.</p>

<blockquote>
  <p>Parameter handling is a key difference between ROS1 and ROS2, in ROS1 it was a centralized functionality of the ROS master (<code class="language-plaintext highlighter-rouge">ros_core</code>), every node reported it’s parameters to the global parameter server and we could change their parameters only through this parameter server. In ROS2, there is no parameter server anymore and the handling of parameters is node-specific and decentralized.</p>
</blockquote>

<p>Let’s see how can we get the value of this parameter using <code class="language-plaintext highlighter-rouge">param get</code> tool:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 param get /python_publisher_with_parameter published_text
String value is: MOGI

</code></pre></div></div>

<p>Now let’s try to modify the parameter value from <code class="language-plaintext highlighter-rouge">MOGI</code> to <code class="language-plaintext highlighter-rouge">BME</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 param <span class="nb">set</span> /python_publisher_with_parameter published_text BME

</code></pre></div></div>

<p>As we experience it doesn’t work because we set the <code class="language-plaintext highlighter-rouge">self.text_</code> variable in the constructor, so it’s value is not dynamically read from the parameter set by the API.
This is not necessarily a mistake, if we only want to set these parameters at startup instead of changing them runtime. For example setting up a topic’s name or the frequency of a timer is often used as startup parameters.</p>

<p>This time we want to dynamically change the text so let’s move this line into the <code class="language-plaintext highlighter-rouge">timer_callback()</code> instead of the constructor:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">self</span><span class="p">.</span><span class="n">text_</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">get_parameter</span><span class="p">(</span><span class="sh">"</span><span class="s">published_text</span><span class="sh">"</span><span class="p">).</span><span class="n">value</span>

</code></pre></div></div>

<p>Rebuild the workspace, start the node and modify the parameter as before. As we expected we could change the published text runtime through the ROS2 <code class="language-plaintext highlighter-rouge">param</code> API.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>INFO] <span class="o">[</span>1727616903.755729829] <span class="o">[</span>python_publisher_with_parameter]: Publishing: <span class="s2">"MOGI: 3"</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727616904.254593308] <span class="o">[</span>python_publisher_with_parameter]: Publishing: <span class="s2">"MOGI: 4"</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727616904.754490094] <span class="o">[</span>python_publisher_with_parameter]: Publishing: <span class="s2">"BME: 5"</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727616905.255873125] <span class="o">[</span>python_publisher_with_parameter]: Publishing: <span class="s2">"BME: 6"</span>

</code></pre></div></div>

<h2 id="set-the-parameter-from-a-launchfile">Set the parameter from a launchfile</h2>

<p>Now, let’s create a new launch file (<code class="language-plaintext highlighter-rouge">publisher_param.launch.py</code>) that starts our latest node with a custom parameter.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">from</span> <span class="n">launch</span> <span class="kn">import</span> <span class="n">LaunchDescription</span>
<span class="kn">from</span> <span class="n">launch_ros.actions</span> <span class="kn">import</span> <span class="n">Node</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="n">ld</span> <span class="o">=</span> <span class="nc">LaunchDescription</span><span class="p">()</span>

    <span class="n">cpp_publisher_node</span> <span class="o">=</span> <span class="nc">Node</span><span class="p">(</span>
        <span class="n">package</span><span class="o">=</span><span class="sh">"</span><span class="s">bme_ros2_tutorials_py</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">executable</span><span class="o">=</span><span class="sh">"</span><span class="s">python_publisher_with_parameter</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">my_publisher</span><span class="sh">"</span><span class="p">,</span>
        <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">published_text</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Parameter_from_launch</span><span class="sh">"</span><span class="p">}]</span>
    <span class="p">)</span>


    <span class="n">ld</span><span class="p">.</span><span class="nf">add_action</span><span class="p">(</span><span class="n">cpp_publisher_node</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ld</span>

</code></pre></div></div>

<p>Rebuild the workspace and launch the file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 launch bme_ros2_tutorials_bringup publisher_param.launch.py
<span class="o">[</span>INFO] <span class="o">[</span>launch]: All log files can be found below /home/david/.ros/log/2024-09-29-15-50-33-210526-david-ubuntu24-44682
<span class="o">[</span>INFO] <span class="o">[</span>launch]: Default logging verbosity is <span class="nb">set </span>to INFO
<span class="o">[</span>INFO] <span class="o">[</span>py_publisher_with_param-1]: process started with pid <span class="o">[</span>44685]
<span class="o">[</span>py_publisher_with_param-1] <span class="o">[</span>INFO] <span class="o">[</span>1727617833.429100542] <span class="o">[</span>my_publisher]: Publisher OOP has been started.
<span class="o">[</span>py_publisher_with_param-1] <span class="o">[</span>INFO] <span class="o">[</span>1727617833.926650915] <span class="o">[</span>my_publisher]: Publishing: <span class="s2">"Parameter_from_launch: 0"</span>
<span class="o">[</span>py_publisher_with_param-1] <span class="o">[</span>INFO] <span class="o">[</span>1727617834.426182680] <span class="o">[</span>my_publisher]: Publishing: <span class="s2">"Parameter_from_launch: 1"</span>

</code></pre></div></div>

<h2 id="a-more-advanced-example-for-setting-parameters">A more advanced example for setting parameters</h2>

<p>Some parameters are usually set in the constructor like a topic’s name or the frequency of a publisher. Now let’s see a more advanced example for changing the frequency runtime. Using this for changing a period is more a workaround than an API feature. On parameter change we will cancel the existing timer and start another one with the new parameter. Let’s upgrade our exisiting node with the changes:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">rclpy</span>
<span class="kn">from</span> <span class="n">rclpy.node</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="kn">from</span> <span class="n">std_msgs.msg</span> <span class="kn">import</span> <span class="n">String</span>
<span class="kn">from</span> <span class="n">rcl_interfaces.msg</span> <span class="kn">import</span> <span class="n">SetParametersResult</span>

<span class="k">class</span> <span class="nc">MyPublisherNode</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="sh">"</span><span class="s">python_publisher_with_parameter</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">declare_parameter</span><span class="p">(</span><span class="sh">"</span><span class="s">published_text</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">MOGI</span><span class="sh">"</span><span class="p">)</span>             <span class="c1"># Add a parameter with a default value
</span>        <span class="n">self</span><span class="p">.</span><span class="nf">declare_parameter</span><span class="p">(</span><span class="sh">"</span><span class="s">timer_period</span><span class="sh">"</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>                  <span class="c1"># Add the timer_period parameter with default 1s
</span>        <span class="n">self</span><span class="p">.</span><span class="n">timer_period</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">get_parameter</span><span class="p">(</span><span class="sh">'</span><span class="s">timer_period</span><span class="sh">'</span><span class="p">).</span><span class="n">value</span> <span class="c1"># Get the startup value of the timer_period
</span>        <span class="n">self</span><span class="p">.</span><span class="n">publisher_</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_publisher</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="sh">'</span><span class="s">topic</span><span class="sh">'</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="c1"># Use the startup value of self.timer_period to start a timer
</span>        <span class="n">self</span><span class="p">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_timer</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">timer_period</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">timer_callback</span><span class="p">)</span>
        <span class="c1"># Set a callback to listen for changes to the 'timer_period' parameter
</span>        <span class="n">self</span><span class="p">.</span><span class="nf">add_on_set_parameters_callback</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">update_timer_period_callback</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">msg</span> <span class="o">=</span> <span class="nc">String</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">Publisher OOP has been started.</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">timer_callback</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">text_</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">get_parameter</span><span class="p">(</span><span class="sh">"</span><span class="s">published_text</span><span class="sh">"</span><span class="p">).</span><span class="n">value</span> <span class="c1"># Copy the parameter value into the text_ variable
</span>        <span class="n">self</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">text_</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span>               <span class="c1"># use the text_ variable for the String message
</span>        <span class="n">self</span><span class="p">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">Publishing: </span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="si">}</span><span class="sh">"'</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">publisher_</span><span class="p">.</span><span class="nf">publish</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_timer_period_callback</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nc">SetParametersResult</span><span class="p">(</span><span class="n">successful</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">params</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">param</span><span class="p">.</span><span class="n">name</span> <span class="o">==</span> <span class="sh">'</span><span class="s">timer_period</span><span class="sh">'</span> <span class="ow">and</span> <span class="n">param</span><span class="p">.</span><span class="n">type_</span> <span class="o">==</span> <span class="n">rclpy</span><span class="p">.</span><span class="n">Parameter</span><span class="p">.</span><span class="n">Type</span><span class="p">.</span><span class="n">DOUBLE</span><span class="p">:</span>
                <span class="n">new_period</span> <span class="o">=</span> <span class="n">param</span><span class="p">.</span><span class="n">value</span>
                <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">Updating timer period to </span><span class="si">{</span><span class="n">new_period</span><span class="si">}</span><span class="s"> seconds</span><span class="sh">'</span><span class="p">)</span>
                <span class="c1"># Cancel the old timer and create a new one with the updated period
</span>                <span class="n">self</span><span class="p">.</span><span class="n">timer</span><span class="p">.</span><span class="nf">cancel</span><span class="p">()</span>                                              <span class="c1"># Cancel the existing timer
</span>                <span class="n">self</span><span class="p">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_timer</span><span class="p">(</span><span class="n">new_period</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">timer_callback</span><span class="p">)</span>  <span class="c1"># Create a new timer
</span>                <span class="k">return</span> <span class="n">result</span>
        <span class="c1"># Return success, so updates are seen via get_parameter()
</span>        <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="nc">MyPublisherNode</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">spin</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="n">node</span><span class="p">.</span><span class="nf">destroy_node</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>

<p>If we want we can change the startup parameter for the period from a launch file by adding another parameter:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">...</span>
        <span class="n">parameters</span><span class="o">=</span><span class="p">[{</span><span class="sh">"</span><span class="s">published_text</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Parameter_from_launch</span><span class="sh">"</span><span class="p">},</span>
                    <span class="p">{</span><span class="sh">"</span><span class="s">timer_period</span><span class="sh">"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}]</span>
<span class="bp">...</span>

</code></pre></div></div>

<p>Don’t forget to rebuild the workspace and let’s see what happens if we run the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 param <span class="nb">set</span> /python_publisher_with_parameter timer_period 5.0
Set parameter successful

</code></pre></div></div>

<p>In our other terinal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run bme_ros2_tutorials_py python_publisher_with_parameter 
<span class="o">[</span>INFO] <span class="o">[</span>1727620325.796053193] <span class="o">[</span>python_publisher_with_parameter]: Publisher OOP has been started.
...
<span class="o">[</span>INFO] <span class="o">[</span>1727620335.792876945] <span class="o">[</span>python_publisher_with_parameter]: Publishing: <span class="s2">"MOGI: 9"</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727620335.894037660] <span class="o">[</span>python_publisher_with_parameter]: Updating timer period to 5.0 seconds
<span class="o">[</span>INFO] <span class="o">[</span>1727620340.897785232] <span class="o">[</span>python_publisher_with_parameter]: Publishing: <span class="s2">"MOGI: 10"</span>
<span class="o">[</span>INFO] <span class="o">[</span>1727620345.895518460] <span class="o">[</span>python_publisher_with_parameter]: Publishing: <span class="s2">"MOGI: 11"</span>

</code></pre></div></div>

<h1 id="services">Services</h1>

<p>Previously we met the publish-subscribe communication model, as a recap let’s see how we defined it in the beginning of this lesson:</p>
<blockquote>
  <p>Publish-subscribe models are asynchronous, one-to-many or many-to-many interactions where the publishers don’t know how many subscribers there are (if any). Therefore publisher never expects any response or confirmation from the subscribers.</p>
</blockquote>

<p>Services are different in many ways and are suitable for different use-cases:</p>
<ul>
  <li>Services are synchronous communications where a client sends a request to the server, the server processes the request and returns a response.</li>
  <li>This is a one-to-one only interaction.</li>
  <li>The communication only ends when the request was handled and response is returned.</li>
  <li>Services are suitable for one-time and request-response operations.</li>
</ul>

<p>Before we write a server or client we have to create the service definition. In ROS2 usually we place custom messages, services and actions in a separate package. Let’s create the <code class="language-plaintext highlighter-rouge">bme_ros2_tutorials_interfaces</code> package:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 pkg create bme_ros2_tutorials_interfaces

</code></pre></div></div>

<p>The package must be an <code class="language-plaintext highlighter-rouge">ament_cmake</code> package, we can either define it with <code class="language-plaintext highlighter-rouge">--build-type ament_cmake</code> in the <code class="language-plaintext highlighter-rouge">pkg create</code> command or we can rely on the default settings of it.</p>

<p>Let’s create an <code class="language-plaintext highlighter-rouge">srv</code> folder, we will store our service here and we are free to delete the <code class="language-plaintext highlighter-rouge">src</code> and <code class="language-plaintext highlighter-rouge">include</code> folders.</p>

<p>In the <code class="language-plaintext highlighter-rouge">srv</code> folder we create a our service file <code class="language-plaintext highlighter-rouge">CustomCalc.srv</code> with the following request-response structure:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int64 a
int64 b
<span class="nt">---</span>
int64 result

</code></pre></div></div>

<p>We have to edit <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code>, add the following lines:</p>

<div class="language-cmake highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">find_package</span><span class="p">(</span>rosidl_default_generators REQUIRED<span class="p">)</span>

<span class="nf">rosidl_generate_interfaces</span><span class="p">(</span><span class="si">${</span><span class="nv">PROJECT_NAME</span><span class="si">}</span>
  <span class="s2">"srv/CustomCalc.srv"</span>
<span class="p">)</span>

</code></pre></div></div>

<p>And also edit <code class="language-plaintext highlighter-rouge">packge.xml</code>, add the following lines:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;buildtool_depend&gt;</span>rosidl_default_generators<span class="nt">&lt;/buildtool_depend&gt;</span>
  <span class="nt">&lt;exec_depend&gt;</span>rosidl_default_runtime<span class="nt">&lt;/exec_depend&gt;</span>
  <span class="nt">&lt;member_of_group&gt;</span>rosidl_interface_packages<span class="nt">&lt;/member_of_group&gt;</span>

</code></pre></div></div>

<p>Then we can build the workspace. And we also have to source the environment because we added a new package!</p>

<p>We can verify if our service was successfully created with the <code class="language-plaintext highlighter-rouge">ros2 interface package</code> cli tool:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 interface package bme_ros2_tutorials_interfaces 
bme_ros2_tutorials_interfaces/srv/CustomCalc

</code></pre></div></div>

<p>If it shows the name of our service we can even look inside with the <code class="language-plaintext highlighter-rouge">interface show</code> tool:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 interface show bme_ros2_tutorials_interfaces/srv/CustomCalc
int64 a
int64 b
<span class="nt">---</span>
int64 result

</code></pre></div></div>

<h2 id="service-server">Service server</h2>

<p>Create the following python node <code class="language-plaintext highlighter-rouge">service_server.py</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">from</span> <span class="n">bme_ros2_tutorials_interfaces.srv</span> <span class="kn">import</span> <span class="n">CustomCalc</span> <span class="c1"># Import our own custom service
</span>
<span class="kn">import</span> <span class="n">rclpy</span>
<span class="kn">from</span> <span class="n">rclpy.node</span> <span class="kn">import</span> <span class="n">Node</span>

<span class="k">class</span> <span class="nc">MyService</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="sh">'</span><span class="s">my_service</span><span class="sh">'</span><span class="p">)</span>
        <span class="c1"># Create a service server with a callback function
</span>        <span class="n">self</span><span class="p">.</span><span class="n">srv</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_service</span><span class="p">(</span><span class="n">CustomCalc</span><span class="p">,</span> <span class="sh">'</span><span class="s">custom_calc</span><span class="sh">'</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">custom_calc_callback</span><span class="p">)</span>

    <span class="c1"># A service callback has request and response parameters
</span>    <span class="k">def</span> <span class="nf">custom_calc_callback</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
        <span class="n">response</span><span class="p">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">a</span> <span class="o">+</span> <span class="n">request</span><span class="p">.</span><span class="n">b</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sh">'</span><span class="s">Incoming request</span><span class="se">\n</span><span class="s">a: %d b: %d</span><span class="sh">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">request</span><span class="p">.</span><span class="n">b</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">response</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="n">my_service_server</span> <span class="o">=</span> <span class="nc">MyService</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">spin</span><span class="p">(</span><span class="n">my_service_server</span><span class="p">)</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>

<p>We have to add the new entry point to the <code class="language-plaintext highlighter-rouge">setup.py</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="sh">'</span><span class="s">py_service_server = bme_ros2_tutorials_py.service_server:main</span><span class="sh">'</span>

</code></pre></div></div>

<p>And we also have to edit <code class="language-plaintext highlighter-rouge">package.xml</code> because now our package depends on our other interface package:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;depend&gt;</span>bme_ros2_tutorials_interfaces<span class="nt">&lt;/depend&gt;</span>

</code></pre></div></div>

<p>Rebuild the workspace and run the new node:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run bme_ros2_tutorials_py py_service_server

</code></pre></div></div>

<p>Now our node is running in the background waiting for a service call. Before we write our service client we can test it with <code class="language-plaintext highlighter-rouge">rqt</code>, we can add the <code class="language-plaintext highlighter-rouge">Service Caller</code> plugin, set the <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code> parameters and call it.
<img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/rqt_3.png" alt="alt text" title="rqt"></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run bme_ros2_tutorials_py py_service_server 
<span class="o">[</span>INFO] <span class="o">[</span>1727625404.997418704] <span class="o">[</span>my_service]: Incoming request
a: 5 b: 2

</code></pre></div></div>

<p>If you are interested in writing a service server in C++ you can check out <a href="https://docs.ros.org/en/jazzy/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html#">the official tutorials</a> about it.</p>

<h2 id="service-client">Service client</h2>

<p>Create the following python node <code class="language-plaintext highlighter-rouge">service_client.py</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">sys</span>

<span class="kn">from</span> <span class="n">bme_ros2_tutorials_interfaces.srv</span> <span class="kn">import</span> <span class="n">CustomCalc</span> <span class="c1"># Import our own custom service
</span>
<span class="kn">import</span> <span class="n">rclpy</span>
<span class="kn">from</span> <span class="n">rclpy.node</span> <span class="kn">import</span> <span class="n">Node</span>

<span class="k">class</span> <span class="nc">MyServiceClientAsync</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="sh">'</span><span class="s">my_service_client_async</span><span class="sh">'</span><span class="p">)</span>
        <span class="c1"># Create a service client
</span>        <span class="n">self</span><span class="p">.</span><span class="n">cli</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_client</span><span class="p">(</span><span class="n">CustomCalc</span><span class="p">,</span> <span class="sh">'</span><span class="s">custom_calc</span><span class="sh">'</span><span class="p">)</span>
        <span class="c1"># Check if service server is online
</span>        <span class="k">while</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">cli</span><span class="p">.</span><span class="nf">wait_for_service</span><span class="p">(</span><span class="n">timeout_sec</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span><span class="sh">'</span><span class="s">service not available, waiting again...</span><span class="sh">'</span><span class="p">)</span>
        <span class="c1"># Create the service request
</span>        <span class="n">self</span><span class="p">.</span><span class="n">req</span> <span class="o">=</span> <span class="n">CustomCalc</span><span class="p">.</span><span class="nc">Request</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">send_request</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">req</span><span class="p">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
        <span class="n">self</span><span class="p">.</span><span class="n">req</span><span class="p">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span>
        <span class="c1"># Call the service with the 2 parameters in the request and return result
</span>        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">cli</span><span class="p">.</span><span class="nf">call_async</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">req</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">init</span><span class="p">()</span>
    <span class="n">my_service_client</span> <span class="o">=</span> <span class="nc">MyServiceClientAsync</span><span class="p">()</span>
    <span class="n">future</span> <span class="o">=</span> <span class="n">my_service_client</span><span class="p">.</span><span class="nf">send_request</span><span class="p">(</span><span class="nf">int</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nf">int</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
    <span class="c1"># Spin only until response arrives
</span>    <span class="n">rclpy</span><span class="p">.</span><span class="nf">spin_until_future_complete</span><span class="p">(</span><span class="n">my_service_client</span><span class="p">,</span> <span class="n">future</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">future</span><span class="p">.</span><span class="nf">result</span><span class="p">()</span>
    <span class="n">my_service_client</span><span class="p">.</span><span class="nf">get_logger</span><span class="p">().</span><span class="nf">info</span><span class="p">(</span>
        <span class="sh">'</span><span class="s">Result of custom_calc: for %d + %d = %d</span><span class="sh">'</span> <span class="o">%</span>
        <span class="p">(</span><span class="nf">int</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nf">int</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="n">response</span><span class="p">.</span><span class="n">result</span><span class="p">))</span>

    <span class="n">my_service_client</span><span class="p">.</span><span class="nf">destroy_node</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>

</code></pre></div></div>

<p>We have to add the new entry point to the <code class="language-plaintext highlighter-rouge">setup.py</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="sh">'</span><span class="s">py_service_client = bme_ros2_tutorials_py.service_client:main</span><span class="sh">'</span>

</code></pre></div></div>

<p>Rebuild the workspace then first, start the service server:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run bme_ros2_tutorials_py py_service_server

</code></pre></div></div>

<p>Then run the service client with 2 numbers as command line arguments:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 run bme_ros2_tutorials_py py_service_client 3 4
<span class="o">[</span>INFO] <span class="o">[</span>1727626843.911245336] <span class="o">[</span>my_service_client_async]: Result of custom_calc: <span class="k">for </span>3 + 4 <span class="o">=</span> 7

</code></pre></div></div>

<h2 id="use-services-and-parameters-with-turtlesim">Use services and parameters with turtlesim</h2>

<p>Let’s return to <code class="language-plaintext highlighter-rouge">turtlesim</code>, now we understand the ROS2 parameters and service calls. Start <code class="language-plaintext highlighter-rouge">turtlesim</code> in a terminal window:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run turtlesim turtlesim_node

</code></pre></div></div>
<p>Then run the <code class="language-plaintext highlighter-rouge">turtle_teleop_key</code> in another terminal window:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 run turtlesim turtle_teleop_key

</code></pre></div></div>
<p>And start <code class="language-plaintext highlighter-rouge">rqt</code> in a 3<sup>rd</sup> terminal window. Now let’s drive the turtle around, then we can play with the <code class="language-plaintext highlighter-rouge">/clear</code> and <code class="language-plaintext highlighter-rouge">/turtle1/set_pen</code> services.</p>

<p><img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/turtlesim_2.png" alt="alt text" title="turtlesim"></p>

<p>In another terminal window we can also check out <code class="language-plaintext highlighter-rouge">turtlesim</code>’s parameters. First let’s see what kind of parameters does it have:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 param list /turtlesim 
  background_b
  background_g
  background_r
  holonomic
  qos_overrides./parameter_events.publisher.depth
  qos_overrides./parameter_events.publisher.durability
  qos_overrides./parameter_events.publisher.history
  qos_overrides./parameter_events.publisher.reliability
  start_type_description_service
  use_sim_time

</code></pre></div></div>

<p>Then let’s see for example <code class="language-plaintext highlighter-rouge">background_b</code> parameter:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~<span class="nv">$ </span>ros2 param get /turtlesim background_b
Integer value is: 255

</code></pre></div></div>

<p>And now let’s try to change is:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>david@david-ubuntu24:~/ros2_ws<span class="nv">$ </span>ros2 param <span class="nb">set</span> /turtlesim background_b 50
Set parameter successful

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/mogi-ros/week-1-2-introduction-to-ros2/main/./assets/turtlesim_3.png" alt="alt text" title="turtlesim"></p>

<h1 id="recap">Recap</h1>

<p>Before we deep dive into the simulation environment, let’s do a recap about the most important Linux and ROS2 commands.</p>

<h2 id="useful-linux-commands">Useful Linux commands</h2>

<table>
  <thead>
    <tr>
      <th>Command</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">sudo</code></td>
      <td>execute commands with elevated privileges</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">apt</code></td>
      <td>Debian based distributions’ package manager</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">apt update</code></td>
      <td>updates the local package index from the online repositories</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">apt upgrade</code></td>
      <td>It installs the new versions of packages based on the information from <code class="language-plaintext highlighter-rouge">apt update</code>
</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">nano</code></td>
      <td>simple text editor that operated inside a terminal</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ls</code></td>
      <td>list the contents of a directory</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cd</code></td>
      <td>change the current directory</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">~</code></td>
      <td>tilde represents the user’s home directory, can be used together with <code class="language-plaintext highlighter-rouge">ls</code> or <code class="language-plaintext highlighter-rouge">cd</code>
</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mkdir</code></td>
      <td>create a new directory</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">rm -rf</code></td>
      <td>
<code class="language-plaintext highlighter-rouge">rm</code> removes a file or an empty folder <code class="language-plaintext highlighter-rouge">-r</code> means recursive (useful for folder systems) and <code class="language-plaintext highlighter-rouge">-f</code> is force deletion without prompting</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">touch</code></td>
      <td>creates a new file</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">chmod +x</code></td>
      <td>make a file executable</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">tree</code></td>
      <td>list the contents of the file system under the current directory</td>
    </tr>
  </tbody>
</table>

<h2 id="useful-ros2-commands">Useful ROS2 commands</h2>

<table>
  <thead>
    <tr>
      <th>Command</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ros2 node list, info</code></td>
      <td>list or obtain more information about node(s)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ros2 topic list, info, echo</code></td>
      <td>list or obtain more information about topic(s), <code class="language-plaintext highlighter-rouge">echo</code> can subscribe onto a topic within the terminal window</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ros2 run *package* *node*</code></td>
      <td>starts a ROS2 node from a certain package</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ros2 pkg create</code></td>
      <td>create a ROS2 package, we can define the <code class="language-plaintext highlighter-rouge">--build-type </code> to <code class="language-plaintext highlighter-rouge">ament_cmake</code> or <code class="language-plaintext highlighter-rouge">ament_python</code> build system for the package</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">rqt</code></td>
      <td>opens <code class="language-plaintext highlighter-rouge">rqt</code> a graphical tool to intercat with topics, services and more</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">rqt_graph</code></td>
      <td>a visual tool to see the pub-sub connections between nodes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">colcon build</code></td>
      <td>builds the worspace</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">source /opt/ros/jazzy/setup.bash</code></td>
      <td>source ROS2 environment, it’s recommended to put into <code class="language-plaintext highlighter-rouge">.bashrc</code>
</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ros2 launch *package* *launchfile*</code></td>
      <td>starts a ROS2 launch file from a crtain package</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ros2 param list, get, set</code></td>
      <td>list, get or set the parameters of a node</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ros2 interface package, show</code></td>
      <td>list or obtain more information about the services of a package</td>
    </tr>
  </tbody>
</table>

</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/week-1-2-introduction-to-ros2">week-1-2-introduction-to-ros2</a> <small>repository</small></h3>
        <span class="label label-default">python</span> <span class="label label-default">bash</span> <span class="label label-default">services</span> <span class="label label-default">cpp</span> <span class="label label-default">publisher</span> <span class="label label-default">subscriber</span> <span class="label label-default">rqt</span> <span class="label label-default">ros2</span> <span class="label label-default">remote-procedure-calls</span> <span class="label label-default">turtlesim</span> <span class="label label-default">rqt-graph</span> <span class="label label-default">ros2-jazzy</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mogi-ros-week-1-2-introduction-to-ros2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mogi-ros-week-1-2-introduction-to-ros2" role="menuitem" tabindex="-1" href="/r/week-1-2-introduction-to-ros2/github-mogi-ros-week-1-2-introduction-to-ros2" data="github-mogi-ros-week-1-2-introduction-to-ros2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mogi-ros-week-1-2-introduction-to-ros2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/week-1-2-introduction-to-ros2">week-1-2-introduction-to-ros2</a> <small>repository</small></h3>
        <span class="label label-default">python</span> <span class="label label-default">bash</span> <span class="label label-default">services</span> <span class="label label-default">cpp</span> <span class="label label-default">publisher</span> <span class="label label-default">subscriber</span> <span class="label label-default">rqt</span> <span class="label label-default">ros2</span> <span class="label label-default">remote-procedure-calls</span> <span class="label label-default">turtlesim</span> <span class="label label-default">rqt-graph</span> <span class="label label-default">ros2-jazzy</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mogi-ros-week-1-2-introduction-to-ros2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mogi-ros-week-1-2-introduction-to-ros2" role="menuitem" tabindex="-1" href="/r/week-1-2-introduction-to-ros2/github-mogi-ros-week-1-2-introduction-to-ros2" data="github-mogi-ros-week-1-2-introduction-to-ros2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mogi-ros-week-1-2-introduction-to-ros2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/week-1-2-introduction-to-ros2">week-1-2-introduction-to-ros2</a> <small>repository</small></h3>
        <span class="label label-default">python</span> <span class="label label-default">bash</span> <span class="label label-default">services</span> <span class="label label-default">cpp</span> <span class="label label-default">publisher</span> <span class="label label-default">subscriber</span> <span class="label label-default">rqt</span> <span class="label label-default">ros2</span> <span class="label label-default">remote-procedure-calls</span> <span class="label label-default">turtlesim</span> <span class="label label-default">rqt-graph</span> <span class="label label-default">ros2-jazzy</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mogi-ros-week-1-2-introduction-to-ros2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mogi-ros-week-1-2-introduction-to-ros2" role="menuitem" tabindex="-1" href="/r/week-1-2-introduction-to-ros2/github-mogi-ros-week-1-2-introduction-to-ros2" data="github-mogi-ros-week-1-2-introduction-to-ros2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mogi-ros-week-1-2-introduction-to-ros2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/week-1-2-introduction-to-ros2">week-1-2-introduction-to-ros2</a> <small>repository</small></h3>
        <span class="label label-default">python</span> <span class="label label-default">bash</span> <span class="label label-default">services</span> <span class="label label-default">cpp</span> <span class="label label-default">publisher</span> <span class="label label-default">subscriber</span> <span class="label label-default">rqt</span> <span class="label label-default">ros2</span> <span class="label label-default">remote-procedure-calls</span> <span class="label label-default">turtlesim</span> <span class="label label-default">rqt-graph</span> <span class="label label-default">ros2-jazzy</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-mogi-ros-week-1-2-introduction-to-ros2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-mogi-ros-week-1-2-introduction-to-ros2" role="menuitem" tabindex="-1" href="/r/week-1-2-introduction-to-ros2/github-mogi-ros-week-1-2-introduction-to-ros2" data="github-mogi-ros-week-1-2-introduction-to-ros2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-mogi-ros-week-1-2-introduction-to-ros2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/mogi-ros/week-1-2-introduction-to-ros2.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
