<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/gazebo_video_monitors/github-nlamprian-gazebo_video_monitors/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">gazebo_video_monitors</li>
        <!--<li class="active">gazebo_video_monitors</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class=" older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/gazebo_video_monitors">gazebo_video_monitors</a> <small>repository</small></h3>
        <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_interfaces">gazebo_video_monitor_interfaces</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_plugins">gazebo_video_monitor_plugins</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_utils">gazebo_video_monitor_utils</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitors">gazebo_video_monitors</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nlamprian-gazebo_video_monitors
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nlamprian-gazebo_video_monitors" role="menuitem" tabindex="-1" href="/r/gazebo_video_monitors/github-nlamprian-gazebo_video_monitors" data="github-nlamprian-gazebo_video_monitors">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nlamprian-gazebo_video_monitors
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Various Gazebo video plugins for capturing the operation of a robot, for monitoring during tests, etc.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/nlamprian/gazebo_video_monitors.git">https://github.com/nlamprian/gazebo_video_monitors.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2023-11-13
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_interfaces">gazebo_video_monitor_interfaces</a></td>
                    <td>0.8.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_plugins">gazebo_video_monitor_plugins</a></td>
                    <td>0.8.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_utils">gazebo_video_monitor_utils</a></td>
                    <td>0.8.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitors">gazebo_video_monitors</a></td>
                    <td>0.8.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="gazebo_video_monitors">gazebo_video_monitors</h1>

<p>gazebo_video_monitors contains packages that lets the user record videos of a <a href="http://gazebosim.org/">Gazebo</a> simulation. It provides a multicamera sensor that can be used for creating different types of videos with multiple views from inside the gazebo world.</p>

<p>There is a number of plugins available in the package which are explained next. More plugins can be developed, with minimal effort, to fit arbitrary use cases.</p>

<h2 id="gazebovideomonitorplugin">GazeboVideoMonitorPlugin</h2>

<p>The GazeboVideoMonitorPlugin plugin records videos in the following format.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/video-monitor-plugin.png" alt="video-monitor-plugin"></p>

<p>It assumes two cameras: one which can be used to get a view of the world, and another one which can be attached to a robot to get a view from its perspective. Additionally, time metadata are logged in the video to make tracking of world and robot events easier. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/test/worlds/gazebo_video_monitor_plugin.world#L77">gazebo_video_monitor_plugin.world</a> file. The plugin exposes two ROS services to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. Setting disable_window to true removes the second view from the recording. world_as_main_view can be used to set the world or robot camera as the main view of the recording.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/start_recording gazebo_video_monitor_interfaces/srv/StartGvmRecording <span class="s2">"{disable_window: false, world_as_main_view: false}"</span>

</code></pre></div></div>

<ul>
  <li>Use the stop_recording service to save or discard a recording. The filename must be given without the extension (.mp4). The recording is saved in the directory defined in the plugin configuration.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/stop_recording gazebo_video_monitor_interfaces/srv/StopRecording <span class="s2">"{discard: false, filename: navigation-test}"</span>

</code></pre></div></div>

<h2 id="gazebomultivideomonitorplugin">GazeboMultiVideoMonitorPlugin</h2>

<p>The GazeboMultiVideoMonitorPlugin plugin records multiple videos from different cameras simultaneously.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-video-monitor-plugin.gif" alt="multi-video-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, which the plugin will read and record a video for each one of them. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/test/worlds/gazebo_multi_video_monitor_plugin.world#L122">gazebo_multi_video_monitor_plugin.world</a> file. The plugin exposes two ROS services to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. There are no arguments.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/start_recording std_srvs/srv/Empty <span class="s2">"{}"</span>

</code></pre></div></div>

<ul>
  <li>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>. The recordings are saved together in the subdirectory under the directory defined in the plugin configuration.</li>
</ul>

<h2 id="gazebomulticameramonitorplugin">GazeboMultiCameraMonitorPlugin</h2>

<p>The GazeboMultiCameraMonitorPlugin plugin records videos with a multi-camera setup. See the gif below (the video was created automatically; no editing was done).</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-camera-monitor-plugin.gif" alt="multi-camera-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, from which the plugin can select and configure the video stream. The cameras can be updated dynamically during the recording. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/test/worlds/gazebo_multi_camera_monitor_plugin.world#L168">gazebo_multi_camera_monitor_plugin.world</a> file. The plugin exposes two ROS services and one topic to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. You can optionally specify the cameras with which to initialize the video stream.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/start_recording gazebo_video_monitor_interfaces/srv/StartGmcmRecording <span class="s2">"{cameras: {names: []}}"</span>

</code></pre></div></div>

<ul>
  <li>
    <p>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>.</p>
  </li>
  <li>
    <p>Publish a message to the camera_select topic to update the video stream. You can specify one or two cameras for the main and window view, respectively.</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub <span class="nt">-1</span> /gazebo/camera_select gazebo_video_monitor_interfaces/msg/Strings <span class="s2">"{names: [camera_0, camera_2]}"</span>

</code></pre></div></div>

<h2 id="gazebomultiviewmonitorplugin">GazeboMultiViewMonitorPlugin</h2>

<p>The GazeboMultiViewMonitorPlugin plugin records videos with up to 4 parallel camera streams.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-view-monitor-plugin.gif" alt="multi-view-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, from which the plugin can select and configure the video stream. The cameras can be updated dynamically during the recording. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/test/worlds/gazebo_multi_view_monitor_plugin.world#L168">gazebo_multi_view_monitor_plugin.world</a> file. The plugin exposes two ROS services and one topic to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. You can pass as arguments the cameras with which to initialize the video stream. An empty camera name results in a null camera stream in the respective quadrant.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/start_recording gazebo_video_monitor_interfaces/srv/StartGmcmRecording <span class="s2">"{cameras: {names: ['', camera_1, camera_2, '']}}"</span>

</code></pre></div></div>

<ul>
  <li>
    <p>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>.</p>
  </li>
  <li>
    <p>Publish a message to the camera_select topic to update the video stream. You can specify up to 4 cameras for the top left, top right, bottom left, and bottom right quadrant, respectively. A camera name can be left empty to disable the respective quadrant.</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub <span class="nt">-1</span> /gazebo/camera_select gazebo_video_monitor_interfaces/msg/Strings <span class="s2">"{names: [camera_3, camera_1, '', camera_2]}"</span>

</code></pre></div></div>

<h2 id="camera-configuration">Camera Configuration</h2>

<p>All plugins expose a set_camera ROS service for configuring the pose of a camera and the link to which the camera should be attached. You can call this service to dynamically reconfigure a camera during a simulation, or to fine tune and extract the initial pose of the camera when configuring the plugin (enabling the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/test/worlds/gazebo_video_monitor_plugin.world#L80">camera visualizations</a> makes this process much easier).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/set_camera gazebo_video_monitor_interfaces/srv/SetCamera <span class="s2">"{camera_name: robot_camera, model_name: robot-0001, link_name: gripper_link, pose: {x: 0.0, y: -0.05, z: -0.1, roll: -0.2, pitch: 0.0, yaw: 0.0}}"</span>

</code></pre></div></div>

<h2 id="utilities">Utilities</h2>

<p>A set of utility plugins is also available to be used along with the monitor plugins.</p>

<ul>
  <li>
<strong>CameraContainsPlugin</strong>: publishes a list of camera names when one or more of the tracked models enter the space of a box container.</li>
</ul>

<h2 id="known-issues">Known Issues</h2>

<ul>
  <li>The camera visualizations (not the cameras used for the recordings) are created and set correctly, but they don’t get attached to the models.</li>
  <li>The cameras are not always positioned correctly during initialization. The <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/include/gazebo_video_monitor_plugins/gazebo_monitor_base_plugin.h#L43">numberOfInitialAttachRetries</a> parameter was introduced as a temporary fix.</li>
  <li>Gazebo may or may not crash upon launch if your robot has ray sensors (somehow creating the scene early makes collision detection explode; your guess is as good as mine). The <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/include/gazebo_video_monitor_plugins/gvm_multicamera_bootstrapper_plugin.h#L38">initService</a> parameter was introduced to trigger the initialization of the plugin by calling a service at the right moment (e.g. after your robot has been initialized).</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/gazebo_video_monitors">gazebo_video_monitors</a> <small>repository</small></h3>
        <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nlamprian-gazebo_video_monitors
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nlamprian-gazebo_video_monitors" role="menuitem" tabindex="-1" href="/r/gazebo_video_monitors/github-nlamprian-gazebo_video_monitors" data="github-nlamprian-gazebo_video_monitors">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nlamprian-gazebo_video_monitors
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/gazebo_video_monitors">gazebo_video_monitors</a> <small>repository</small></h3>
        <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nlamprian-gazebo_video_monitors
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nlamprian-gazebo_video_monitors" role="menuitem" tabindex="-1" href="/r/gazebo_video_monitors/github-nlamprian-gazebo_video_monitors" data="github-nlamprian-gazebo_video_monitors">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nlamprian-gazebo_video_monitors
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/gazebo_video_monitors">gazebo_video_monitors</a> <small>repository</small></h3>
        <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nlamprian-gazebo_video_monitors
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nlamprian-gazebo_video_monitors" role="menuitem" tabindex="-1" href="/r/gazebo_video_monitors/github-nlamprian-gazebo_video_monitors" data="github-nlamprian-gazebo_video_monitors">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nlamprian-gazebo_video_monitors
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/gazebo_video_monitors">gazebo_video_monitors</a> <small>repository</small></h3>
        <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nlamprian-gazebo_video_monitors
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nlamprian-gazebo_video_monitors" role="menuitem" tabindex="-1" href="/r/gazebo_video_monitors/github-nlamprian-gazebo_video_monitors" data="github-nlamprian-gazebo_video_monitors">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nlamprian-gazebo_video_monitors
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/gazebo_video_monitors">gazebo_video_monitors</a> <small>repository</small></h3>
        <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_msgs">gazebo_video_monitor_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_plugins">gazebo_video_monitor_plugins</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_utils">gazebo_video_monitor_utils</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitors">gazebo_video_monitors</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nlamprian-gazebo_video_monitors
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nlamprian-gazebo_video_monitors" role="menuitem" tabindex="-1" href="/r/gazebo_video_monitors/github-nlamprian-gazebo_video_monitors" data="github-nlamprian-gazebo_video_monitors">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nlamprian-gazebo_video_monitors
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Various Gazebo video plugins for capturing the operation of a robot, for monitoring during tests, etc.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/nlamprian/gazebo_video_monitors.git">https://github.com/nlamprian/gazebo_video_monitors.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros1</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2023-10-21
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_msgs">gazebo_video_monitor_msgs</a></td>
                    <td>0.7.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_plugins">gazebo_video_monitor_plugins</a></td>
                    <td>0.7.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_utils">gazebo_video_monitor_utils</a></td>
                    <td>0.7.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitors">gazebo_video_monitors</a></td>
                    <td>0.7.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="gazebo_video_monitors">gazebo_video_monitors</h1>

<p>gazebo_video_monitors contains packages that lets the user record videos of a <a href="http://gazebosim.org/">Gazebo</a> simulation. It provides a multicamera sensor that can be used for creating different types of videos with multiple views from inside the gazebo world.</p>

<p>There is a number of plugins available in the package which are explained next. More plugins can be developed, with minimal effort, to fit arbitrary use cases.</p>

<h2 id="gazebovideomonitorplugin">GazeboVideoMonitorPlugin</h2>

<p>The GazeboVideoMonitorPlugin plugin records videos in the following format.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/video-monitor-plugin.png" alt="video-monitor-plugin"></p>

<p>It assumes two cameras: one which can be used to get a view of the world, and another one which can be attached to a robot to get a view from its perspective. Additionally, time metadata are logged in the video to make tracking of world and robot events easier. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros1/gazebo_video_monitor_plugins/test/worlds/gazebo_video_monitor_plugin.world#L77">gazebo_video_monitor_plugin.world</a> file. The plugin exposes two ROS services to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. Setting disable_window to true removes the second view from the recording. world_as_main_view can be used to set the world or robot camera as the main view of the recording.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice call /gazebo/start_recording <span class="s2">"{disable_window: false, world_as_main_view: false}"</span>

</code></pre></div></div>

<ul>
  <li>Use the stop_recording service to save or discard a recording. The filename must be given without the extension (.mp4). The recording is saved in the directory defined in the plugin configuration.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice call /gazebo/stop_recording <span class="s2">"{discard: false, filename: navigation-test}"</span>

</code></pre></div></div>

<h2 id="gazebomultivideomonitorplugin">GazeboMultiVideoMonitorPlugin</h2>

<p>The GazeboMultiVideoMonitorPlugin plugin records multiple videos from different cameras simultaneously.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-video-monitor-plugin.gif" alt="multi-video-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, which the plugin will read and record a video for each one of them. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros1/gazebo_video_monitor_plugins/test/worlds/gazebo_multi_video_monitor_plugin.world#L122">gazebo_multi_video_monitor_plugin.world</a> file. The plugin exposes two ROS services to control the recordings:</p>

<ul>
  <li>
    <p>Use the start_recording service to initiate a recording. There are no arguments.</p>
  </li>
  <li>
    <p>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros1/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>. The recordings are saved together in the subdirectory under the directory defined in the plugin configuration.</p>
  </li>
</ul>

<h2 id="gazebomulticameramonitorplugin">GazeboMultiCameraMonitorPlugin</h2>

<p>The GazeboMultiCameraMonitorPlugin plugin records videos with a multi-camera setup. See the gif below (the video was created automatically; no editing was done).</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-camera-monitor-plugin.gif" alt="multi-camera-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, from which the plugin can select and configure the video stream. The cameras can be updated dynamically during the recording. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros1/gazebo_video_monitor_plugins/test/worlds/gazebo_multi_camera_monitor_plugin.world#L168">gazebo_multi_camera_monitor_plugin.world</a> file. The plugin exposes two ROS services and one topic to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. You can optionally specify the cameras with which to initialize the video stream.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice call /gazebo/start_recording <span class="s2">"{cameras: {names: []}}"</span>

</code></pre></div></div>

<ul>
  <li>
    <p>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros1/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>.</p>
  </li>
  <li>
    <p>Publish a message to the camera_select topic to update the video stream. You can specify one or two cameras for the main and window view, respectively.</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rostopic pub /gazebo/camera_select gazebo_video_monitor_msgs/Strings <span class="s2">"{names: [camera_0, camera_2]}"</span>

</code></pre></div></div>

<h2 id="gazebomultiviewmonitorplugin">GazeboMultiViewMonitorPlugin</h2>

<p>The GazeboMultiViewMonitorPlugin plugin records videos with up to 4 parallel camera streams.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-view-monitor-plugin.gif" alt="multi-view-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, from which the plugin can select and configure the video stream. The cameras can be updated dynamically during the recording. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros1/gazebo_video_monitor_plugins/test/worlds/gazebo_multi_view_monitor_plugin.world#L168">gazebo_multi_view_monitor_plugin.world</a> file. The plugin exposes two ROS services and one topic to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. You can pass as arguments the cameras with which to initialize the video stream. An empty camera name results in a null camera stream in the respective quadrant.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice call /gazebo/start_recording <span class="s2">"{cameras: {names: ['', camera_1, camera_2, '']}}"</span>

</code></pre></div></div>

<ul>
  <li>
    <p>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros1/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>.</p>
  </li>
  <li>
    <p>Publish a message to the camera_select topic to update the video stream. You can specify up to 4 cameras for the top left, top right, bottom left, and bottom right quadrant, respectively. A camera name can be left empty to disable the respective quadrant.</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rostopic pub /gazebo/camera_select gazebo_video_monitor_msgs/Strings <span class="s2">"{names: [camera_3, camera_1, '', camera_2]}"</span>

</code></pre></div></div>

<h2 id="camera-configuration">Camera Configuration</h2>

<p>All plugins expose a set_camera ROS service for configuring the pose of a camera and the link to which the camera should be attached. You can call this service to dynamically reconfigure a camera during a simulation, or to fine tune and extract the initial pose of the camera when configuring the plugin (enabling the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros1/gazebo_video_monitor_plugins/test/worlds/gazebo_video_monitor_plugin.world#L80">camera visualizations</a> makes this process much easier).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice call /gazebo/set_camera <span class="s2">"{camera_name: robot_camera, model_name: robot-0001, link_name: gripper_link, pose: {x: 0.0, y: -0.05, z: -0.1, roll: -0.2, pitch: 0.0, yaw: 0.0}}"</span>

</code></pre></div></div>

<h2 id="utilities">Utilities</h2>

<p>A set of utility plugins is also available to be used along with the monitor plugins.</p>

<ul>
  <li>
<strong>CameraContainsPlugin</strong>: publishes a list of camera names when one or more of the tracked models enter the space of a box container.</li>
</ul>

<h2 id="known-issues">Known Issues</h2>

<ul>
  <li>The camera visualizations (not the cameras used for the recordings) are created and set correctly, but they don’t get attached to the models.</li>
  <li>The cameras are not always positioned correctly during initialization. The <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros1/gazebo_video_monitor_plugins/include/gazebo_video_monitor_plugins/gazebo_monitor_base_plugin.h#L43">numberOfInitialAttachRetries</a> parameter was introduced as a temporary fix.</li>
  <li>Gazebo may or may not crash upon launch if your robot has ray sensors (somehow creating the scene early makes collision detection explode; your guess is as good as mine). The <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros1/gazebo_video_monitor_plugins/include/gazebo_video_monitor_plugins/gvm_multicamera_bootstrapper_plugin.h#L38">initService</a> parameter was introduced to trigger the initialization of the plugin by calling a service at the right moment (e.g. after your robot has been initialized).</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/gazebo_video_monitors">gazebo_video_monitors</a> <small>repository</small></h3>
        <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nlamprian-gazebo_video_monitors
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nlamprian-gazebo_video_monitors" role="menuitem" tabindex="-1" href="/r/gazebo_video_monitors/github-nlamprian-gazebo_video_monitors" data="github-nlamprian-gazebo_video_monitors">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nlamprian-gazebo_video_monitors
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/gazebo_video_monitors">gazebo_video_monitors</a> <small>repository</small></h3>
        <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_interfaces">gazebo_video_monitor_interfaces</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_plugins">gazebo_video_monitor_plugins</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_utils">gazebo_video_monitor_utils</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitors">gazebo_video_monitors</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nlamprian-gazebo_video_monitors
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nlamprian-gazebo_video_monitors" role="menuitem" tabindex="-1" href="/r/gazebo_video_monitors/github-nlamprian-gazebo_video_monitors" data="github-nlamprian-gazebo_video_monitors">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nlamprian-gazebo_video_monitors
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Various Gazebo video plugins for capturing the operation of a robot, for monitoring during tests, etc.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/nlamprian/gazebo_video_monitors.git">https://github.com/nlamprian/gazebo_video_monitors.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2023-11-13
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_interfaces">gazebo_video_monitor_interfaces</a></td>
                    <td>0.8.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_plugins">gazebo_video_monitor_plugins</a></td>
                    <td>0.8.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_utils">gazebo_video_monitor_utils</a></td>
                    <td>0.8.1</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitors">gazebo_video_monitors</a></td>
                    <td>0.8.1</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="gazebo_video_monitors">gazebo_video_monitors</h1>

<p>gazebo_video_monitors contains packages that lets the user record videos of a <a href="http://gazebosim.org/">Gazebo</a> simulation. It provides a multicamera sensor that can be used for creating different types of videos with multiple views from inside the gazebo world.</p>

<p>There is a number of plugins available in the package which are explained next. More plugins can be developed, with minimal effort, to fit arbitrary use cases.</p>

<h2 id="gazebovideomonitorplugin">GazeboVideoMonitorPlugin</h2>

<p>The GazeboVideoMonitorPlugin plugin records videos in the following format.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/video-monitor-plugin.png" alt="video-monitor-plugin"></p>

<p>It assumes two cameras: one which can be used to get a view of the world, and another one which can be attached to a robot to get a view from its perspective. Additionally, time metadata are logged in the video to make tracking of world and robot events easier. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/test/worlds/gazebo_video_monitor_plugin.world#L77">gazebo_video_monitor_plugin.world</a> file. The plugin exposes two ROS services to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. Setting disable_window to true removes the second view from the recording. world_as_main_view can be used to set the world or robot camera as the main view of the recording.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/start_recording gazebo_video_monitor_interfaces/srv/StartGvmRecording <span class="s2">"{disable_window: false, world_as_main_view: false}"</span>

</code></pre></div></div>

<ul>
  <li>Use the stop_recording service to save or discard a recording. The filename must be given without the extension (.mp4). The recording is saved in the directory defined in the plugin configuration.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/stop_recording gazebo_video_monitor_interfaces/srv/StopRecording <span class="s2">"{discard: false, filename: navigation-test}"</span>

</code></pre></div></div>

<h2 id="gazebomultivideomonitorplugin">GazeboMultiVideoMonitorPlugin</h2>

<p>The GazeboMultiVideoMonitorPlugin plugin records multiple videos from different cameras simultaneously.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-video-monitor-plugin.gif" alt="multi-video-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, which the plugin will read and record a video for each one of them. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/test/worlds/gazebo_multi_video_monitor_plugin.world#L122">gazebo_multi_video_monitor_plugin.world</a> file. The plugin exposes two ROS services to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. There are no arguments.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/start_recording std_srvs/srv/Empty <span class="s2">"{}"</span>

</code></pre></div></div>

<ul>
  <li>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>. The recordings are saved together in the subdirectory under the directory defined in the plugin configuration.</li>
</ul>

<h2 id="gazebomulticameramonitorplugin">GazeboMultiCameraMonitorPlugin</h2>

<p>The GazeboMultiCameraMonitorPlugin plugin records videos with a multi-camera setup. See the gif below (the video was created automatically; no editing was done).</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-camera-monitor-plugin.gif" alt="multi-camera-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, from which the plugin can select and configure the video stream. The cameras can be updated dynamically during the recording. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/test/worlds/gazebo_multi_camera_monitor_plugin.world#L168">gazebo_multi_camera_monitor_plugin.world</a> file. The plugin exposes two ROS services and one topic to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. You can optionally specify the cameras with which to initialize the video stream.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/start_recording gazebo_video_monitor_interfaces/srv/StartGmcmRecording <span class="s2">"{cameras: {names: []}}"</span>

</code></pre></div></div>

<ul>
  <li>
    <p>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>.</p>
  </li>
  <li>
    <p>Publish a message to the camera_select topic to update the video stream. You can specify one or two cameras for the main and window view, respectively.</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub <span class="nt">-1</span> /gazebo/camera_select gazebo_video_monitor_interfaces/msg/Strings <span class="s2">"{names: [camera_0, camera_2]}"</span>

</code></pre></div></div>

<h2 id="gazebomultiviewmonitorplugin">GazeboMultiViewMonitorPlugin</h2>

<p>The GazeboMultiViewMonitorPlugin plugin records videos with up to 4 parallel camera streams.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-view-monitor-plugin.gif" alt="multi-view-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, from which the plugin can select and configure the video stream. The cameras can be updated dynamically during the recording. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/test/worlds/gazebo_multi_view_monitor_plugin.world#L168">gazebo_multi_view_monitor_plugin.world</a> file. The plugin exposes two ROS services and one topic to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. You can pass as arguments the cameras with which to initialize the video stream. An empty camera name results in a null camera stream in the respective quadrant.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/start_recording gazebo_video_monitor_interfaces/srv/StartGmcmRecording <span class="s2">"{cameras: {names: ['', camera_1, camera_2, '']}}"</span>

</code></pre></div></div>

<ul>
  <li>
    <p>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>.</p>
  </li>
  <li>
    <p>Publish a message to the camera_select topic to update the video stream. You can specify up to 4 cameras for the top left, top right, bottom left, and bottom right quadrant, respectively. A camera name can be left empty to disable the respective quadrant.</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 topic pub <span class="nt">-1</span> /gazebo/camera_select gazebo_video_monitor_interfaces/msg/Strings <span class="s2">"{names: [camera_3, camera_1, '', camera_2]}"</span>

</code></pre></div></div>

<h2 id="camera-configuration">Camera Configuration</h2>

<p>All plugins expose a set_camera ROS service for configuring the pose of a camera and the link to which the camera should be attached. You can call this service to dynamically reconfigure a camera during a simulation, or to fine tune and extract the initial pose of the camera when configuring the plugin (enabling the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/test/worlds/gazebo_video_monitor_plugin.world#L80">camera visualizations</a> makes this process much easier).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 service call /gazebo/set_camera gazebo_video_monitor_interfaces/srv/SetCamera <span class="s2">"{camera_name: robot_camera, model_name: robot-0001, link_name: gripper_link, pose: {x: 0.0, y: -0.05, z: -0.1, roll: -0.2, pitch: 0.0, yaw: 0.0}}"</span>

</code></pre></div></div>

<h2 id="utilities">Utilities</h2>

<p>A set of utility plugins is also available to be used along with the monitor plugins.</p>

<ul>
  <li>
<strong>CameraContainsPlugin</strong>: publishes a list of camera names when one or more of the tracked models enter the space of a box container.</li>
</ul>

<h2 id="known-issues">Known Issues</h2>

<ul>
  <li>The camera visualizations (not the cameras used for the recordings) are created and set correctly, but they don’t get attached to the models.</li>
  <li>The cameras are not always positioned correctly during initialization. The <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/include/gazebo_video_monitor_plugins/gazebo_monitor_base_plugin.h#L43">numberOfInitialAttachRetries</a> parameter was introduced as a temporary fix.</li>
  <li>Gazebo may or may not crash upon launch if your robot has ray sensors (somehow creating the scene early makes collision detection explode; your guess is as good as mine). The <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/ros2/gazebo_video_monitor_plugins/include/gazebo_video_monitor_plugins/gvm_multicamera_bootstrapper_plugin.h#L38">initService</a> parameter was introduced to trigger the initialization of the plugin by calling a service at the right moment (e.g. after your robot has been initialized).</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/gazebo_video_monitors">gazebo_video_monitors</a> <small>repository</small></h3>
        <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_msgs">gazebo_video_monitor_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_plugins">gazebo_video_monitor_plugins</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitor_utils">gazebo_video_monitor_utils</a>
        
        <a class="label label-primary pkg-label" href="/p/gazebo_video_monitors">gazebo_video_monitors</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-nlamprian-gazebo_video_monitors
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-nlamprian-gazebo_video_monitors" role="menuitem" tabindex="-1" href="/r/gazebo_video_monitors/github-nlamprian-gazebo_video_monitors" data="github-nlamprian-gazebo_video_monitors">
                    <span class="glyphicon glyphicon-star"></span>
                    github-nlamprian-gazebo_video_monitors
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Various Gazebo video plugins for capturing the operation of a robot, for monitoring during tests, etc.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/nlamprian/gazebo_video_monitors.git">https://github.com/nlamprian/gazebo_video_monitors.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2021-08-22
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">gazebo-plugins</span> <span class="label label-default">gazebo-simulator</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#melodic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#melodic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/gazebo_video_monitors/#melodic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_msgs">gazebo_video_monitor_msgs</a></td>
                    <td>0.7.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_plugins">gazebo_video_monitor_plugins</a></td>
                    <td>0.7.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitor_utils">gazebo_video_monitor_utils</a></td>
                    <td>0.7.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/gazebo_video_monitors">gazebo_video_monitors</a></td>
                    <td>0.7.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="gazebo_video_monitors">gazebo_video_monitors</h1>

<p>gazebo_video_monitors contains packages that lets the user record videos of a <a href="http://gazebosim.org/">Gazebo</a> simulation. It provides a multicamera sensor that can be used for creating different types of videos with multiple views from inside the gazebo world.</p>

<p>There is a number of plugins available in the package which are explained next. More plugins can be developed, with minimal effort, to fit arbitrary use cases.</p>

<h2 id="gazebovideomonitorplugin">GazeboVideoMonitorPlugin</h2>

<p>The GazeboVideoMonitorPlugin plugin records videos in the following format.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/video-monitor-plugin.png" alt="video-monitor-plugin"></p>

<p>It assumes two cameras: one which can be used to get a view of the world, and another one which can be attached to a robot to get a view from its perspective. Additionally, time metadata are logged in the video to make tracking of world and robot events easier. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/master/test/worlds/gazebo_video_monitor_plugin.world#L77">gazebo_video_monitor_plugin.world</a> file. The plugin exposes two ROS services to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. Setting disable_window to true removes the second view from the recording. world_as_main_view can be used to set the world or robot camera as the main view of the recording.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice call /gazebo/start_recording <span class="s2">"{disable_window: false, world_as_main_view: false}"</span>

</code></pre></div></div>

<ul>
  <li>Use the stop_recording service to save or discard a recording. The filename must be given without the extension (.mp4). The recording is saved in the directory defined in the plugin configuration.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice call /gazebo/stop_recording <span class="s2">"{discard: false, filename: navigation-test}"</span>

</code></pre></div></div>

<h2 id="gazebomultivideomonitorplugin">GazeboMultiVideoMonitorPlugin</h2>

<p>The GazeboMultiVideoMonitorPlugin plugin records multiple videos from different cameras simultaneously.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-video-monitor-plugin.gif" alt="multi-video-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, which the plugin will read and record a video for each one of them. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/master/test/worlds/gazebo_multi_video_monitor_plugin.world#L122">gazebo_multi_video_monitor_plugin.world</a> file. The plugin exposes two ROS services to control the recordings:</p>

<ul>
  <li>
    <p>Use the start_recording service to initiate a recording. There are no arguments.</p>
  </li>
  <li>
    <p>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/master/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>. The recordings are saved together in the subdirectory under the directory defined in the plugin configuration.</p>
  </li>
</ul>

<h2 id="gazebomulticameramonitorplugin">GazeboMultiCameraMonitorPlugin</h2>

<p>The GazeboMultiCameraMonitorPlugin plugin records videos with a multi-camera setup. See the gif below (the video was created automatically; no editing was done).</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-camera-monitor-plugin.gif" alt="multi-camera-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, from which the plugin can select and configure the video stream. The cameras can be updated dynamically during the recording. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/master/test/worlds/gazebo_multi_camera_monitor_plugin.world#L168">gazebo_multi_camera_monitor_plugin.world</a> file. The plugin exposes two ROS services and one topic to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. You can optionally specify the cameras with which to initialize the video stream.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice call /gazebo/start_recording <span class="s2">"{cameras: {names: []}}"</span>

</code></pre></div></div>

<ul>
  <li>
    <p>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/master/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>.</p>
  </li>
  <li>
    <p>Publish a message to the camera_select topic to update the video stream. You can specify one or two cameras for the main and window view, respectively.</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rostopic pub /gazebo/camera_select gazebo_video_monitor_msgs/Strings <span class="s2">"{names: [camera_0, camera_2]}"</span>

</code></pre></div></div>

<h2 id="gazebomultiviewmonitorplugin">GazeboMultiViewMonitorPlugin</h2>

<p>The GazeboMultiViewMonitorPlugin plugin records videos with up to 4 parallel camera streams.</p>

<p><img src="https://github.com/nlamprian/gazebo_video_monitors/wiki/assets/multi-view-monitor-plugin.gif" alt="multi-view-monitor-plugin"></p>

<p>An arbitrary number of cameras can be set up, from which the plugin can select and configure the video stream. The cameras can be updated dynamically during the recording. Time metadata can be logged in the videos as well. To configure the plugin, see the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/master/test/worlds/gazebo_multi_view_monitor_plugin.world#L168">gazebo_multi_view_monitor_plugin.world</a> file. The plugin exposes two ROS services and one topic to control the recordings:</p>

<ul>
  <li>Use the start_recording service to initiate a recording. You can pass as arguments the cameras with which to initialize the video stream. An empty camera name results in a null camera stream in the respective quadrant.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice call /gazebo/start_recording <span class="s2">"{cameras: {names: ['', camera_1, camera_2, '']}}"</span>

</code></pre></div></div>

<ul>
  <li>
    <p>Use the stop_recording service to save or discard a recording, as explained in <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/master/#gazebovideomonitorplugin">GazeboVideoMonitorPlugin</a>.</p>
  </li>
  <li>
    <p>Publish a message to the camera_select topic to update the video stream. You can specify up to 4 cameras for the top left, top right, bottom left, and bottom right quadrant, respectively. A camera name can be left empty to disable the respective quadrant.</p>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rostopic pub /gazebo/camera_select gazebo_video_monitor_msgs/Strings <span class="s2">"{names: [camera_3, camera_1, '', camera_2]}"</span>

</code></pre></div></div>

<h2 id="camera-configuration">Camera Configuration</h2>

<p>All plugins expose a set_camera ROS service for configuring the pose of a camera and the link to which the camera should be attached. You can call this service to dynamically reconfigure a camera during a simulation, or to fine tune and extract the initial pose of the camera when configuring the plugin (enabling the <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/master/test/worlds/gazebo_video_monitor_plugin.world#L80">camera visualizations</a> makes this process much easier).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosservice call /gazebo/set_camera <span class="s2">"{camera_name: robot_camera, model_name: robot-0001, link_name: gripper_link, pose: {x: 0.0, y: -0.05, z: -0.1, roll: -0.2, pitch: 0.0, yaw: 0.0}}"</span>

</code></pre></div></div>

<h2 id="utilities">Utilities</h2>

<p>A set of utility plugins is also available to be used along with the monitor plugins.</p>

<ul>
  <li>
<strong>CameraContainsPlugin</strong>: publishes a list of camera names when one or more of the tracked models enter the space of a box container.</li>
</ul>

<h2 id="known-issues">Known Issues</h2>

<ul>
  <li>The camera visualizations (not the cameras used for the recordings) are created and set correctly, but they don’t get attached to the models.</li>
  <li>The cameras are not always positioned correctly during initialization. The <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/master/gazebo_video_monitor_plugins/include/gazebo_video_monitor_plugins/gazebo_monitor_base_plugin.h#L43">numberOfInitialAttachRetries</a> parameter was introduced as a temporary fix.</li>
  <li>Gazebo may or may not crash upon launch if your robot has ray sensors (somehow creating the scene early makes collision detection explode; your guess is as good as mine). The <a href="https://github.com/nlamprian/gazebo_video_monitors/tree/master/gazebo_video_monitor_plugins/include/gazebo_video_monitor_plugins/gvm_multicamera_bootstrapper_plugin.h#L38">initService</a> parameter was introduced to trigger the initialization of the plugin by calling a service at the right moment (e.g. after your robot has been initialized).</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/nlamprian/gazebo_video_monitors.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
