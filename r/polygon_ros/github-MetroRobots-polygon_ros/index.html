<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/r/polygon_ros/github-MetroRobots-polygon_ros/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">polygon_ros</li>
        <!--<li class="active">polygon_ros</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-primary" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-primary" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/polygon_ros">polygon_ros</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/polygon_demos">polygon_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_msgs">polygon_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_rviz_plugins">polygon_rviz_plugins</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_utils">polygon_utils</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MetroRobots-polygon_ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MetroRobots-polygon_ros" role="menuitem" tabindex="-1" href="/r/polygon_ros/github-MetroRobots-polygon_ros" data="github-MetroRobots-polygon_ros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MetroRobots-polygon_ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Messages and libraries for operating on two dimensional polygons.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/MetroRobots/polygon_ros.git">https://github.com/MetroRobots/polygon_ros.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-15
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/polygon_ros/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/polygon_ros/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/polygon_ros/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/polygon_demos">polygon_demos</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_msgs">polygon_msgs</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_rviz_plugins">polygon_rviz_plugins</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_utils">polygon_utils</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="polygon_ros">polygon_ros</h1>
<p>Messages and libraries for operating on two dimensional polygons.</p>

<p><img src="https://raw.githubusercontent.com/MetroRobots/polygon_ros/main/demo.png" alt="rviz visualization of a bunch of polygons"></p>

<p>In the standard package <a href="https://github.com/ros2/common_interfaces/blob/rolling/geometry_msgs/msg/Polygon.msg"><code class="language-plaintext highlighter-rouge">geometry_msgs</code></a>, <code class="language-plaintext highlighter-rouge">Polygon.msg</code> and <code class="language-plaintext highlighter-rouge">PolygonStamped.msg</code> are defined, but have three primary limitations.</p>
<ul>
  <li>The <code class="language-plaintext highlighter-rouge">Polygon</code> is defined by <code class="language-plaintext highlighter-rouge">Point32</code> which uses <code class="language-plaintext highlighter-rouge">float32</code> limited precision to store the coordinates.</li>
  <li>The point is also defined in three dimensions, leading to an often ignored Z coordinate.</li>
  <li>There is no support for <a href="https://en.wikipedia.org/wiki/Complex_polygon">complex polygons</a> i.e. polygons with holes in them.</li>
</ul>

<p>This led to the creation of the new messages defined in this package. This work is forked from the ROS 1 version of the <a href="https://github.com/locusrobotics/robot_navigation"><code class="language-plaintext highlighter-rouge">robot_navigation</code></a>.</p>

<h2 id="data-types">Data Types</h2>

<ul>
  <li>The base datatype is <code class="language-plaintext highlighter-rouge">Point2D</code>, which defines an x and a y coordinate, in 64 bit precision.</li>
  <li>The <code class="language-plaintext highlighter-rouge">Polygon2D</code> type defines a <a href="https://en.wikipedia.org/wiki/Simple_polygon">simple polygon</a> with an ordered list of <code class="language-plaintext highlighter-rouge">Point2D</code> that are the vertices of the polygon. The first point is connected to the second, the second is connected to the third, and so on, and the last point is also connected to the first.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Polygon2DStamped</code> is a single simple polygon with a header.</li>
  <li>
<code class="language-plaintext highlighter-rouge">ComplexPolygon2D</code> defines a complex polygon with one polygon that is the outer perimeter, and an arbitrary number of polygons that define the holes.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Polygon2DCollection</code> is a list of simple polygons, all with the same frame. There is also an optional per-polygon colors field for display purposes.</li>
  <li>Similarly, <code class="language-plaintext highlighter-rouge">ComplexPolygon2DCollection</code> is a list of complex polygons, also with a header, and an optional colors field.</li>
</ul>

<h2 id="polygon-utils">Polygon Utils</h2>
<p>The <code class="language-plaintext highlighter-rouge">polygon_utils</code> package provides a number of tools for working with <code class="language-plaintext highlighter-rouge">polygon_msgs</code>.</p>

<h3 id="conversions">Conversions</h3>
<p>Note that when converting from <code class="language-plaintext highlighter-rouge">geometry_msgs</code> to <code class="language-plaintext highlighter-rouge">polygon_msgs</code>, any information in the z coordinate is discarded.</p>

<table>
  <thead>
    <tr>
      <th>to <code class="language-plaintext highlighter-rouge">polygon_msgs</code>
</th>
      <th>from <code class="language-plaintext highlighter-rouge">polygon_msgs</code>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Polygon2D polygon3Dto2D(geometry_msgs::Polygon)</code></td>
      <td><code class="language-plaintext highlighter-rouge">geometry_msgs::Polygon polygon2Dto3D(Polygon2D)</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Polygon2DStamped polygon3Dto2D(geometry_msgs::PolygonStamped)</code></td>
      <td><code class="language-plaintext highlighter-rouge">geometry_msgs::PolygonStamped polygon2Dto3D(Polygon2DStamped)</code></td>
    </tr>
  </tbody>
</table>

<h3 id="operations">Operations</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">equals</code> - check if two polygons are equal</li>
  <li>
<code class="language-plaintext highlighter-rouge">movePolygonToPose</code> - translate and rotate a polygon</li>
  <li>
<code class="language-plaintext highlighter-rouge">isInside</code> - check if a point is inside a polygon</li>
  <li>
<code class="language-plaintext highlighter-rouge">triangulate</code> - Decompose a polygon into a set of non-overlapping triangles using an open source implementation of the <a href="https://github.com/mapbox/earcut.hpp">earcut algorithm</a>
</li>
</ul>

<h3 id="python">Python</h3>
<p>There are also a few Python-based utility operations available.</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_utils.shapely_lib.py</code> provides conversions from ROS messages to <a href="https://shapely.readthedocs.io/en/stable/manual.html">Shapely</a> objects, enabling a large library of algorithms to be run. <strong>Note: Requires <code class="language-plaintext highlighter-rouge">shapely</code> to be installed via <code class="language-plaintext highlighter-rouge">pip</code>.</strong>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_utils.shortest_path.py</code> provides methods for determining the shortest path around a collection of polygons. (also uses <code class="language-plaintext highlighter-rouge">shapely_lib</code>)</li>
</ul>

<h2 id="rviz-plugins">RViz Plugins</h2>

<p>The existing <a href="https://github.com/ros2/rviz/blob/ros2/rviz_default_plugins/src/rviz_default_plugins/displays/polygon/polygon_display.cpp"><code class="language-plaintext highlighter-rouge">rviz_default_plugins::PolygonDisplay</code></a> draws only the outline of a given polygon, and cannot fill the polygon in with color. This package has five new RViz displays for polygon data:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::Polygon3DDisplay</code> will display <code class="language-plaintext highlighter-rouge">geometry_msgs/PolygonStamped</code> messages just like <code class="language-plaintext highlighter-rouge">rviz_default_plugins::PolygonDisplay</code> except it can fill in the polygon.</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::PolygonDisplay</code> displays <code class="language-plaintext highlighter-rouge">polygon_msgs/Polygon2DStamped</code> messages</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::ComplexPolygonDisplay</code> displays <code class="language-plaintext highlighter-rouge">polygon_msgs/ComplexPolygon2DStamped</code> messages</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::PolygonsDisplay</code> (note the S in PolygonS) will display <code class="language-plaintext highlighter-rouge">polygon_msgs/Polygon2DCollection</code> messages.</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::ComplexPolygonsDisplay</code> (note the S in PolygonS) will display <code class="language-plaintext highlighter-rouge">polygon_msgs/ComplexPolygon2DCollection</code> messages.</li>
</ul>

<p>Each has three display modes, for displaying just the outline, just the filler, or both.</p>

<p>When displaying polygon collections, you have the option to display a single color, colors from the message, or a set of “unique” colors (limited to 54 colors).</p>

<p>The behavior is showcased by running <code class="language-plaintext highlighter-rouge">ros2 launch polygon_demos polygons.launch.py</code>. The results are also shown in the screenshot above.</p>
<ul>
  <li>The blue star in the middle is a <code class="language-plaintext highlighter-rouge">Polygon2DStamped</code>
</li>
  <li>The white star is a <code class="language-plaintext highlighter-rouge">geometry_msgs/PolygonStamped</code>
</li>
  <li>The star burst around the white star is a <code class="language-plaintext highlighter-rouge">ComplexPolygon2DStamped</code>
</li>
  <li>The ring of yellow stars is a <code class="language-plaintext highlighter-rouge">Polygon2DCollection</code>
</li>
  <li>The rainbow-colored stars around the blue star are a <code class="language-plaintext highlighter-rouge">ComplexPolygon2DCollection</code>
</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/polygon_ros">polygon_ros</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/polygon_demos">polygon_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_msgs">polygon_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_rviz_plugins">polygon_rviz_plugins</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_utils">polygon_utils</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MetroRobots-polygon_ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MetroRobots-polygon_ros" role="menuitem" tabindex="-1" href="/r/polygon_ros/github-MetroRobots-polygon_ros" data="github-MetroRobots-polygon_ros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MetroRobots-polygon_ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Messages and libraries for operating on two dimensional polygons.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/MetroRobots/polygon_ros.git">https://github.com/MetroRobots/polygon_ros.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-15
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/polygon_ros/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/polygon_ros/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/polygon_ros/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/polygon_demos">polygon_demos</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_msgs">polygon_msgs</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_rviz_plugins">polygon_rviz_plugins</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_utils">polygon_utils</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="polygon_ros">polygon_ros</h1>
<p>Messages and libraries for operating on two dimensional polygons.</p>

<p><img src="https://raw.githubusercontent.com/MetroRobots/polygon_ros/main/demo.png" alt="rviz visualization of a bunch of polygons"></p>

<p>In the standard package <a href="https://github.com/ros2/common_interfaces/blob/rolling/geometry_msgs/msg/Polygon.msg"><code class="language-plaintext highlighter-rouge">geometry_msgs</code></a>, <code class="language-plaintext highlighter-rouge">Polygon.msg</code> and <code class="language-plaintext highlighter-rouge">PolygonStamped.msg</code> are defined, but have three primary limitations.</p>
<ul>
  <li>The <code class="language-plaintext highlighter-rouge">Polygon</code> is defined by <code class="language-plaintext highlighter-rouge">Point32</code> which uses <code class="language-plaintext highlighter-rouge">float32</code> limited precision to store the coordinates.</li>
  <li>The point is also defined in three dimensions, leading to an often ignored Z coordinate.</li>
  <li>There is no support for <a href="https://en.wikipedia.org/wiki/Complex_polygon">complex polygons</a> i.e. polygons with holes in them.</li>
</ul>

<p>This led to the creation of the new messages defined in this package. This work is forked from the ROS 1 version of the <a href="https://github.com/locusrobotics/robot_navigation"><code class="language-plaintext highlighter-rouge">robot_navigation</code></a>.</p>

<h2 id="data-types">Data Types</h2>

<ul>
  <li>The base datatype is <code class="language-plaintext highlighter-rouge">Point2D</code>, which defines an x and a y coordinate, in 64 bit precision.</li>
  <li>The <code class="language-plaintext highlighter-rouge">Polygon2D</code> type defines a <a href="https://en.wikipedia.org/wiki/Simple_polygon">simple polygon</a> with an ordered list of <code class="language-plaintext highlighter-rouge">Point2D</code> that are the vertices of the polygon. The first point is connected to the second, the second is connected to the third, and so on, and the last point is also connected to the first.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Polygon2DStamped</code> is a single simple polygon with a header.</li>
  <li>
<code class="language-plaintext highlighter-rouge">ComplexPolygon2D</code> defines a complex polygon with one polygon that is the outer perimeter, and an arbitrary number of polygons that define the holes.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Polygon2DCollection</code> is a list of simple polygons, all with the same frame. There is also an optional per-polygon colors field for display purposes.</li>
  <li>Similarly, <code class="language-plaintext highlighter-rouge">ComplexPolygon2DCollection</code> is a list of complex polygons, also with a header, and an optional colors field.</li>
</ul>

<h2 id="polygon-utils">Polygon Utils</h2>
<p>The <code class="language-plaintext highlighter-rouge">polygon_utils</code> package provides a number of tools for working with <code class="language-plaintext highlighter-rouge">polygon_msgs</code>.</p>

<h3 id="conversions">Conversions</h3>
<p>Note that when converting from <code class="language-plaintext highlighter-rouge">geometry_msgs</code> to <code class="language-plaintext highlighter-rouge">polygon_msgs</code>, any information in the z coordinate is discarded.</p>

<table>
  <thead>
    <tr>
      <th>to <code class="language-plaintext highlighter-rouge">polygon_msgs</code>
</th>
      <th>from <code class="language-plaintext highlighter-rouge">polygon_msgs</code>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Polygon2D polygon3Dto2D(geometry_msgs::Polygon)</code></td>
      <td><code class="language-plaintext highlighter-rouge">geometry_msgs::Polygon polygon2Dto3D(Polygon2D)</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Polygon2DStamped polygon3Dto2D(geometry_msgs::PolygonStamped)</code></td>
      <td><code class="language-plaintext highlighter-rouge">geometry_msgs::PolygonStamped polygon2Dto3D(Polygon2DStamped)</code></td>
    </tr>
  </tbody>
</table>

<h3 id="operations">Operations</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">equals</code> - check if two polygons are equal</li>
  <li>
<code class="language-plaintext highlighter-rouge">movePolygonToPose</code> - translate and rotate a polygon</li>
  <li>
<code class="language-plaintext highlighter-rouge">isInside</code> - check if a point is inside a polygon</li>
  <li>
<code class="language-plaintext highlighter-rouge">triangulate</code> - Decompose a polygon into a set of non-overlapping triangles using an open source implementation of the <a href="https://github.com/mapbox/earcut.hpp">earcut algorithm</a>
</li>
</ul>

<h3 id="python">Python</h3>
<p>There are also a few Python-based utility operations available.</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_utils.shapely_lib.py</code> provides conversions from ROS messages to <a href="https://shapely.readthedocs.io/en/stable/manual.html">Shapely</a> objects, enabling a large library of algorithms to be run. <strong>Note: Requires <code class="language-plaintext highlighter-rouge">shapely</code> to be installed via <code class="language-plaintext highlighter-rouge">pip</code>.</strong>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_utils.shortest_path.py</code> provides methods for determining the shortest path around a collection of polygons. (also uses <code class="language-plaintext highlighter-rouge">shapely_lib</code>)</li>
</ul>

<h2 id="rviz-plugins">RViz Plugins</h2>

<p>The existing <a href="https://github.com/ros2/rviz/blob/ros2/rviz_default_plugins/src/rviz_default_plugins/displays/polygon/polygon_display.cpp"><code class="language-plaintext highlighter-rouge">rviz_default_plugins::PolygonDisplay</code></a> draws only the outline of a given polygon, and cannot fill the polygon in with color. This package has five new RViz displays for polygon data:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::Polygon3DDisplay</code> will display <code class="language-plaintext highlighter-rouge">geometry_msgs/PolygonStamped</code> messages just like <code class="language-plaintext highlighter-rouge">rviz_default_plugins::PolygonDisplay</code> except it can fill in the polygon.</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::PolygonDisplay</code> displays <code class="language-plaintext highlighter-rouge">polygon_msgs/Polygon2DStamped</code> messages</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::ComplexPolygonDisplay</code> displays <code class="language-plaintext highlighter-rouge">polygon_msgs/ComplexPolygon2DStamped</code> messages</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::PolygonsDisplay</code> (note the S in PolygonS) will display <code class="language-plaintext highlighter-rouge">polygon_msgs/Polygon2DCollection</code> messages.</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::ComplexPolygonsDisplay</code> (note the S in PolygonS) will display <code class="language-plaintext highlighter-rouge">polygon_msgs/ComplexPolygon2DCollection</code> messages.</li>
</ul>

<p>Each has three display modes, for displaying just the outline, just the filler, or both.</p>

<p>When displaying polygon collections, you have the option to display a single color, colors from the message, or a set of “unique” colors (limited to 54 colors).</p>

<p>The behavior is showcased by running <code class="language-plaintext highlighter-rouge">ros2 launch polygon_demos polygons.launch.py</code>. The results are also shown in the screenshot above.</p>
<ul>
  <li>The blue star in the middle is a <code class="language-plaintext highlighter-rouge">Polygon2DStamped</code>
</li>
  <li>The white star is a <code class="language-plaintext highlighter-rouge">geometry_msgs/PolygonStamped</code>
</li>
  <li>The star burst around the white star is a <code class="language-plaintext highlighter-rouge">ComplexPolygon2DStamped</code>
</li>
  <li>The ring of yellow stars is a <code class="language-plaintext highlighter-rouge">Polygon2DCollection</code>
</li>
  <li>The rainbow-colored stars around the blue star are a <code class="language-plaintext highlighter-rouge">ComplexPolygon2DCollection</code>
</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/polygon_ros">polygon_ros</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/polygon_demos">polygon_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_msgs">polygon_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_rviz_plugins">polygon_rviz_plugins</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_utils">polygon_utils</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MetroRobots-polygon_ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MetroRobots-polygon_ros" role="menuitem" tabindex="-1" href="/r/polygon_ros/github-MetroRobots-polygon_ros" data="github-MetroRobots-polygon_ros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MetroRobots-polygon_ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Messages and libraries for operating on two dimensional polygons.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/MetroRobots/polygon_ros.git">https://github.com/MetroRobots/polygon_ros.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-15
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/polygon_ros/#kilted-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/polygon_ros/#kilted-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/polygon_ros/#kilted-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/polygon_demos">polygon_demos</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_msgs">polygon_msgs</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_rviz_plugins">polygon_rviz_plugins</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_utils">polygon_utils</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="polygon_ros">polygon_ros</h1>
<p>Messages and libraries for operating on two dimensional polygons.</p>

<p><img src="https://raw.githubusercontent.com/MetroRobots/polygon_ros/main/demo.png" alt="rviz visualization of a bunch of polygons"></p>

<p>In the standard package <a href="https://github.com/ros2/common_interfaces/blob/rolling/geometry_msgs/msg/Polygon.msg"><code class="language-plaintext highlighter-rouge">geometry_msgs</code></a>, <code class="language-plaintext highlighter-rouge">Polygon.msg</code> and <code class="language-plaintext highlighter-rouge">PolygonStamped.msg</code> are defined, but have three primary limitations.</p>
<ul>
  <li>The <code class="language-plaintext highlighter-rouge">Polygon</code> is defined by <code class="language-plaintext highlighter-rouge">Point32</code> which uses <code class="language-plaintext highlighter-rouge">float32</code> limited precision to store the coordinates.</li>
  <li>The point is also defined in three dimensions, leading to an often ignored Z coordinate.</li>
  <li>There is no support for <a href="https://en.wikipedia.org/wiki/Complex_polygon">complex polygons</a> i.e. polygons with holes in them.</li>
</ul>

<p>This led to the creation of the new messages defined in this package. This work is forked from the ROS 1 version of the <a href="https://github.com/locusrobotics/robot_navigation"><code class="language-plaintext highlighter-rouge">robot_navigation</code></a>.</p>

<h2 id="data-types">Data Types</h2>

<ul>
  <li>The base datatype is <code class="language-plaintext highlighter-rouge">Point2D</code>, which defines an x and a y coordinate, in 64 bit precision.</li>
  <li>The <code class="language-plaintext highlighter-rouge">Polygon2D</code> type defines a <a href="https://en.wikipedia.org/wiki/Simple_polygon">simple polygon</a> with an ordered list of <code class="language-plaintext highlighter-rouge">Point2D</code> that are the vertices of the polygon. The first point is connected to the second, the second is connected to the third, and so on, and the last point is also connected to the first.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Polygon2DStamped</code> is a single simple polygon with a header.</li>
  <li>
<code class="language-plaintext highlighter-rouge">ComplexPolygon2D</code> defines a complex polygon with one polygon that is the outer perimeter, and an arbitrary number of polygons that define the holes.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Polygon2DCollection</code> is a list of simple polygons, all with the same frame. There is also an optional per-polygon colors field for display purposes.</li>
  <li>Similarly, <code class="language-plaintext highlighter-rouge">ComplexPolygon2DCollection</code> is a list of complex polygons, also with a header, and an optional colors field.</li>
</ul>

<h2 id="polygon-utils">Polygon Utils</h2>
<p>The <code class="language-plaintext highlighter-rouge">polygon_utils</code> package provides a number of tools for working with <code class="language-plaintext highlighter-rouge">polygon_msgs</code>.</p>

<h3 id="conversions">Conversions</h3>
<p>Note that when converting from <code class="language-plaintext highlighter-rouge">geometry_msgs</code> to <code class="language-plaintext highlighter-rouge">polygon_msgs</code>, any information in the z coordinate is discarded.</p>

<table>
  <thead>
    <tr>
      <th>to <code class="language-plaintext highlighter-rouge">polygon_msgs</code>
</th>
      <th>from <code class="language-plaintext highlighter-rouge">polygon_msgs</code>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Polygon2D polygon3Dto2D(geometry_msgs::Polygon)</code></td>
      <td><code class="language-plaintext highlighter-rouge">geometry_msgs::Polygon polygon2Dto3D(Polygon2D)</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Polygon2DStamped polygon3Dto2D(geometry_msgs::PolygonStamped)</code></td>
      <td><code class="language-plaintext highlighter-rouge">geometry_msgs::PolygonStamped polygon2Dto3D(Polygon2DStamped)</code></td>
    </tr>
  </tbody>
</table>

<h3 id="operations">Operations</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">equals</code> - check if two polygons are equal</li>
  <li>
<code class="language-plaintext highlighter-rouge">movePolygonToPose</code> - translate and rotate a polygon</li>
  <li>
<code class="language-plaintext highlighter-rouge">isInside</code> - check if a point is inside a polygon</li>
  <li>
<code class="language-plaintext highlighter-rouge">triangulate</code> - Decompose a polygon into a set of non-overlapping triangles using an open source implementation of the <a href="https://github.com/mapbox/earcut.hpp">earcut algorithm</a>
</li>
</ul>

<h3 id="python">Python</h3>
<p>There are also a few Python-based utility operations available.</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_utils.shapely_lib.py</code> provides conversions from ROS messages to <a href="https://shapely.readthedocs.io/en/stable/manual.html">Shapely</a> objects, enabling a large library of algorithms to be run. <strong>Note: Requires <code class="language-plaintext highlighter-rouge">shapely</code> to be installed via <code class="language-plaintext highlighter-rouge">pip</code>.</strong>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_utils.shortest_path.py</code> provides methods for determining the shortest path around a collection of polygons. (also uses <code class="language-plaintext highlighter-rouge">shapely_lib</code>)</li>
</ul>

<h2 id="rviz-plugins">RViz Plugins</h2>

<p>The existing <a href="https://github.com/ros2/rviz/blob/ros2/rviz_default_plugins/src/rviz_default_plugins/displays/polygon/polygon_display.cpp"><code class="language-plaintext highlighter-rouge">rviz_default_plugins::PolygonDisplay</code></a> draws only the outline of a given polygon, and cannot fill the polygon in with color. This package has five new RViz displays for polygon data:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::Polygon3DDisplay</code> will display <code class="language-plaintext highlighter-rouge">geometry_msgs/PolygonStamped</code> messages just like <code class="language-plaintext highlighter-rouge">rviz_default_plugins::PolygonDisplay</code> except it can fill in the polygon.</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::PolygonDisplay</code> displays <code class="language-plaintext highlighter-rouge">polygon_msgs/Polygon2DStamped</code> messages</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::ComplexPolygonDisplay</code> displays <code class="language-plaintext highlighter-rouge">polygon_msgs/ComplexPolygon2DStamped</code> messages</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::PolygonsDisplay</code> (note the S in PolygonS) will display <code class="language-plaintext highlighter-rouge">polygon_msgs/Polygon2DCollection</code> messages.</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::ComplexPolygonsDisplay</code> (note the S in PolygonS) will display <code class="language-plaintext highlighter-rouge">polygon_msgs/ComplexPolygon2DCollection</code> messages.</li>
</ul>

<p>Each has three display modes, for displaying just the outline, just the filler, or both.</p>

<p>When displaying polygon collections, you have the option to display a single color, colors from the message, or a set of “unique” colors (limited to 54 colors).</p>

<p>The behavior is showcased by running <code class="language-plaintext highlighter-rouge">ros2 launch polygon_demos polygons.launch.py</code>. The results are also shown in the screenshot above.</p>
<ul>
  <li>The blue star in the middle is a <code class="language-plaintext highlighter-rouge">Polygon2DStamped</code>
</li>
  <li>The white star is a <code class="language-plaintext highlighter-rouge">geometry_msgs/PolygonStamped</code>
</li>
  <li>The star burst around the white star is a <code class="language-plaintext highlighter-rouge">ComplexPolygon2DStamped</code>
</li>
  <li>The ring of yellow stars is a <code class="language-plaintext highlighter-rouge">Polygon2DCollection</code>
</li>
  <li>The rainbow-colored stars around the blue star are a <code class="language-plaintext highlighter-rouge">ComplexPolygon2DCollection</code>
</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/polygon_ros">polygon_ros</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/polygon_demos">polygon_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_msgs">polygon_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_rviz_plugins">polygon_rviz_plugins</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_utils">polygon_utils</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MetroRobots-polygon_ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MetroRobots-polygon_ros" role="menuitem" tabindex="-1" href="/r/polygon_ros/github-MetroRobots-polygon_ros" data="github-MetroRobots-polygon_ros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MetroRobots-polygon_ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Messages and libraries for operating on two dimensional polygons.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/MetroRobots/polygon_ros.git">https://github.com/MetroRobots/polygon_ros.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-15
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/polygon_ros/#rolling-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/polygon_ros/#rolling-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/polygon_ros/#rolling-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/polygon_demos">polygon_demos</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_msgs">polygon_msgs</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_rviz_plugins">polygon_rviz_plugins</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_utils">polygon_utils</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="polygon_ros">polygon_ros</h1>
<p>Messages and libraries for operating on two dimensional polygons.</p>

<p><img src="https://raw.githubusercontent.com/MetroRobots/polygon_ros/main/demo.png" alt="rviz visualization of a bunch of polygons"></p>

<p>In the standard package <a href="https://github.com/ros2/common_interfaces/blob/rolling/geometry_msgs/msg/Polygon.msg"><code class="language-plaintext highlighter-rouge">geometry_msgs</code></a>, <code class="language-plaintext highlighter-rouge">Polygon.msg</code> and <code class="language-plaintext highlighter-rouge">PolygonStamped.msg</code> are defined, but have three primary limitations.</p>
<ul>
  <li>The <code class="language-plaintext highlighter-rouge">Polygon</code> is defined by <code class="language-plaintext highlighter-rouge">Point32</code> which uses <code class="language-plaintext highlighter-rouge">float32</code> limited precision to store the coordinates.</li>
  <li>The point is also defined in three dimensions, leading to an often ignored Z coordinate.</li>
  <li>There is no support for <a href="https://en.wikipedia.org/wiki/Complex_polygon">complex polygons</a> i.e. polygons with holes in them.</li>
</ul>

<p>This led to the creation of the new messages defined in this package. This work is forked from the ROS 1 version of the <a href="https://github.com/locusrobotics/robot_navigation"><code class="language-plaintext highlighter-rouge">robot_navigation</code></a>.</p>

<h2 id="data-types">Data Types</h2>

<ul>
  <li>The base datatype is <code class="language-plaintext highlighter-rouge">Point2D</code>, which defines an x and a y coordinate, in 64 bit precision.</li>
  <li>The <code class="language-plaintext highlighter-rouge">Polygon2D</code> type defines a <a href="https://en.wikipedia.org/wiki/Simple_polygon">simple polygon</a> with an ordered list of <code class="language-plaintext highlighter-rouge">Point2D</code> that are the vertices of the polygon. The first point is connected to the second, the second is connected to the third, and so on, and the last point is also connected to the first.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Polygon2DStamped</code> is a single simple polygon with a header.</li>
  <li>
<code class="language-plaintext highlighter-rouge">ComplexPolygon2D</code> defines a complex polygon with one polygon that is the outer perimeter, and an arbitrary number of polygons that define the holes.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Polygon2DCollection</code> is a list of simple polygons, all with the same frame. There is also an optional per-polygon colors field for display purposes.</li>
  <li>Similarly, <code class="language-plaintext highlighter-rouge">ComplexPolygon2DCollection</code> is a list of complex polygons, also with a header, and an optional colors field.</li>
</ul>

<h2 id="polygon-utils">Polygon Utils</h2>
<p>The <code class="language-plaintext highlighter-rouge">polygon_utils</code> package provides a number of tools for working with <code class="language-plaintext highlighter-rouge">polygon_msgs</code>.</p>

<h3 id="conversions">Conversions</h3>
<p>Note that when converting from <code class="language-plaintext highlighter-rouge">geometry_msgs</code> to <code class="language-plaintext highlighter-rouge">polygon_msgs</code>, any information in the z coordinate is discarded.</p>

<table>
  <thead>
    <tr>
      <th>to <code class="language-plaintext highlighter-rouge">polygon_msgs</code>
</th>
      <th>from <code class="language-plaintext highlighter-rouge">polygon_msgs</code>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Polygon2D polygon3Dto2D(geometry_msgs::Polygon)</code></td>
      <td><code class="language-plaintext highlighter-rouge">geometry_msgs::Polygon polygon2Dto3D(Polygon2D)</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Polygon2DStamped polygon3Dto2D(geometry_msgs::PolygonStamped)</code></td>
      <td><code class="language-plaintext highlighter-rouge">geometry_msgs::PolygonStamped polygon2Dto3D(Polygon2DStamped)</code></td>
    </tr>
  </tbody>
</table>

<h3 id="operations">Operations</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">equals</code> - check if two polygons are equal</li>
  <li>
<code class="language-plaintext highlighter-rouge">movePolygonToPose</code> - translate and rotate a polygon</li>
  <li>
<code class="language-plaintext highlighter-rouge">isInside</code> - check if a point is inside a polygon</li>
  <li>
<code class="language-plaintext highlighter-rouge">triangulate</code> - Decompose a polygon into a set of non-overlapping triangles using an open source implementation of the <a href="https://github.com/mapbox/earcut.hpp">earcut algorithm</a>
</li>
</ul>

<h3 id="python">Python</h3>
<p>There are also a few Python-based utility operations available.</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_utils.shapely_lib.py</code> provides conversions from ROS messages to <a href="https://shapely.readthedocs.io/en/stable/manual.html">Shapely</a> objects, enabling a large library of algorithms to be run. <strong>Note: Requires <code class="language-plaintext highlighter-rouge">shapely</code> to be installed via <code class="language-plaintext highlighter-rouge">pip</code>.</strong>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_utils.shortest_path.py</code> provides methods for determining the shortest path around a collection of polygons. (also uses <code class="language-plaintext highlighter-rouge">shapely_lib</code>)</li>
</ul>

<h2 id="rviz-plugins">RViz Plugins</h2>

<p>The existing <a href="https://github.com/ros2/rviz/blob/ros2/rviz_default_plugins/src/rviz_default_plugins/displays/polygon/polygon_display.cpp"><code class="language-plaintext highlighter-rouge">rviz_default_plugins::PolygonDisplay</code></a> draws only the outline of a given polygon, and cannot fill the polygon in with color. This package has five new RViz displays for polygon data:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::Polygon3DDisplay</code> will display <code class="language-plaintext highlighter-rouge">geometry_msgs/PolygonStamped</code> messages just like <code class="language-plaintext highlighter-rouge">rviz_default_plugins::PolygonDisplay</code> except it can fill in the polygon.</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::PolygonDisplay</code> displays <code class="language-plaintext highlighter-rouge">polygon_msgs/Polygon2DStamped</code> messages</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::ComplexPolygonDisplay</code> displays <code class="language-plaintext highlighter-rouge">polygon_msgs/ComplexPolygon2DStamped</code> messages</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::PolygonsDisplay</code> (note the S in PolygonS) will display <code class="language-plaintext highlighter-rouge">polygon_msgs/Polygon2DCollection</code> messages.</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::ComplexPolygonsDisplay</code> (note the S in PolygonS) will display <code class="language-plaintext highlighter-rouge">polygon_msgs/ComplexPolygon2DCollection</code> messages.</li>
</ul>

<p>Each has three display modes, for displaying just the outline, just the filler, or both.</p>

<p>When displaying polygon collections, you have the option to display a single color, colors from the message, or a set of “unique” colors (limited to 54 colors).</p>

<p>The behavior is showcased by running <code class="language-plaintext highlighter-rouge">ros2 launch polygon_demos polygons.launch.py</code>. The results are also shown in the screenshot above.</p>
<ul>
  <li>The blue star in the middle is a <code class="language-plaintext highlighter-rouge">Polygon2DStamped</code>
</li>
  <li>The white star is a <code class="language-plaintext highlighter-rouge">geometry_msgs/PolygonStamped</code>
</li>
  <li>The star burst around the white star is a <code class="language-plaintext highlighter-rouge">ComplexPolygon2DStamped</code>
</li>
  <li>The ring of yellow stars is a <code class="language-plaintext highlighter-rouge">Polygon2DCollection</code>
</li>
  <li>The rainbow-colored stars around the blue star are a <code class="language-plaintext highlighter-rouge">ComplexPolygon2DCollection</code>
</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/polygon_ros">polygon_ros</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MetroRobots-polygon_ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MetroRobots-polygon_ros" role="menuitem" tabindex="-1" href="/r/polygon_ros/github-MetroRobots-polygon_ros" data="github-MetroRobots-polygon_ros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MetroRobots-polygon_ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/polygon_ros">polygon_ros</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MetroRobots-polygon_ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MetroRobots-polygon_ros" role="menuitem" tabindex="-1" href="/r/polygon_ros/github-MetroRobots-polygon_ros" data="github-MetroRobots-polygon_ros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MetroRobots-polygon_ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/polygon_ros">polygon_ros</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MetroRobots-polygon_ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MetroRobots-polygon_ros" role="menuitem" tabindex="-1" href="/r/polygon_ros/github-MetroRobots-polygon_ros" data="github-MetroRobots-polygon_ros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MetroRobots-polygon_ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/polygon_ros">polygon_ros</a> <small>repository</small></h3>
        
        
        <a class="label label-primary pkg-label" href="/p/polygon_demos">polygon_demos</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_msgs">polygon_msgs</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_rviz_plugins">polygon_rviz_plugins</a>
        
        <a class="label label-primary pkg-label" href="/p/polygon_utils">polygon_utils</a>
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MetroRobots-polygon_ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MetroRobots-polygon_ros" role="menuitem" tabindex="-1" href="/r/polygon_ros/github-MetroRobots-polygon_ros" data="github-MetroRobots-polygon_ros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MetroRobots-polygon_ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Messages and libraries for operating on two dimensional polygons.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/MetroRobots/polygon_ros.git">https://github.com/MetroRobots/polygon_ros.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-15
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/polygon_ros/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/polygon_ros/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/polygon_ros/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/polygon_demos">polygon_demos</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_msgs">polygon_msgs</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_rviz_plugins">polygon_rviz_plugins</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/polygon_utils">polygon_utils</a></td>
                    <td>1.2.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="polygon_ros">polygon_ros</h1>
<p>Messages and libraries for operating on two dimensional polygons.</p>

<p><img src="https://raw.githubusercontent.com/MetroRobots/polygon_ros/main/demo.png" alt="rviz visualization of a bunch of polygons"></p>

<p>In the standard package <a href="https://github.com/ros2/common_interfaces/blob/rolling/geometry_msgs/msg/Polygon.msg"><code class="language-plaintext highlighter-rouge">geometry_msgs</code></a>, <code class="language-plaintext highlighter-rouge">Polygon.msg</code> and <code class="language-plaintext highlighter-rouge">PolygonStamped.msg</code> are defined, but have three primary limitations.</p>
<ul>
  <li>The <code class="language-plaintext highlighter-rouge">Polygon</code> is defined by <code class="language-plaintext highlighter-rouge">Point32</code> which uses <code class="language-plaintext highlighter-rouge">float32</code> limited precision to store the coordinates.</li>
  <li>The point is also defined in three dimensions, leading to an often ignored Z coordinate.</li>
  <li>There is no support for <a href="https://en.wikipedia.org/wiki/Complex_polygon">complex polygons</a> i.e. polygons with holes in them.</li>
</ul>

<p>This led to the creation of the new messages defined in this package. This work is forked from the ROS 1 version of the <a href="https://github.com/locusrobotics/robot_navigation"><code class="language-plaintext highlighter-rouge">robot_navigation</code></a>.</p>

<h2 id="data-types">Data Types</h2>

<ul>
  <li>The base datatype is <code class="language-plaintext highlighter-rouge">Point2D</code>, which defines an x and a y coordinate, in 64 bit precision.</li>
  <li>The <code class="language-plaintext highlighter-rouge">Polygon2D</code> type defines a <a href="https://en.wikipedia.org/wiki/Simple_polygon">simple polygon</a> with an ordered list of <code class="language-plaintext highlighter-rouge">Point2D</code> that are the vertices of the polygon. The first point is connected to the second, the second is connected to the third, and so on, and the last point is also connected to the first.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Polygon2DStamped</code> is a single simple polygon with a header.</li>
  <li>
<code class="language-plaintext highlighter-rouge">ComplexPolygon2D</code> defines a complex polygon with one polygon that is the outer perimeter, and an arbitrary number of polygons that define the holes.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Polygon2DCollection</code> is a list of simple polygons, all with the same frame. There is also an optional per-polygon colors field for display purposes.</li>
  <li>Similarly, <code class="language-plaintext highlighter-rouge">ComplexPolygon2DCollection</code> is a list of complex polygons, also with a header, and an optional colors field.</li>
</ul>

<h2 id="polygon-utils">Polygon Utils</h2>
<p>The <code class="language-plaintext highlighter-rouge">polygon_utils</code> package provides a number of tools for working with <code class="language-plaintext highlighter-rouge">polygon_msgs</code>.</p>

<h3 id="conversions">Conversions</h3>
<p>Note that when converting from <code class="language-plaintext highlighter-rouge">geometry_msgs</code> to <code class="language-plaintext highlighter-rouge">polygon_msgs</code>, any information in the z coordinate is discarded.</p>

<table>
  <thead>
    <tr>
      <th>to <code class="language-plaintext highlighter-rouge">polygon_msgs</code>
</th>
      <th>from <code class="language-plaintext highlighter-rouge">polygon_msgs</code>
</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Polygon2D polygon3Dto2D(geometry_msgs::Polygon)</code></td>
      <td><code class="language-plaintext highlighter-rouge">geometry_msgs::Polygon polygon2Dto3D(Polygon2D)</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Polygon2DStamped polygon3Dto2D(geometry_msgs::PolygonStamped)</code></td>
      <td><code class="language-plaintext highlighter-rouge">geometry_msgs::PolygonStamped polygon2Dto3D(Polygon2DStamped)</code></td>
    </tr>
  </tbody>
</table>

<h3 id="operations">Operations</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">equals</code> - check if two polygons are equal</li>
  <li>
<code class="language-plaintext highlighter-rouge">movePolygonToPose</code> - translate and rotate a polygon</li>
  <li>
<code class="language-plaintext highlighter-rouge">isInside</code> - check if a point is inside a polygon</li>
  <li>
<code class="language-plaintext highlighter-rouge">triangulate</code> - Decompose a polygon into a set of non-overlapping triangles using an open source implementation of the <a href="https://github.com/mapbox/earcut.hpp">earcut algorithm</a>
</li>
</ul>

<h3 id="python">Python</h3>
<p>There are also a few Python-based utility operations available.</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_utils.shapely_lib.py</code> provides conversions from ROS messages to <a href="https://shapely.readthedocs.io/en/stable/manual.html">Shapely</a> objects, enabling a large library of algorithms to be run. <strong>Note: Requires <code class="language-plaintext highlighter-rouge">shapely</code> to be installed via <code class="language-plaintext highlighter-rouge">pip</code>.</strong>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_utils.shortest_path.py</code> provides methods for determining the shortest path around a collection of polygons. (also uses <code class="language-plaintext highlighter-rouge">shapely_lib</code>)</li>
</ul>

<h2 id="rviz-plugins">RViz Plugins</h2>

<p>The existing <a href="https://github.com/ros2/rviz/blob/ros2/rviz_default_plugins/src/rviz_default_plugins/displays/polygon/polygon_display.cpp"><code class="language-plaintext highlighter-rouge">rviz_default_plugins::PolygonDisplay</code></a> draws only the outline of a given polygon, and cannot fill the polygon in with color. This package has five new RViz displays for polygon data:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::Polygon3DDisplay</code> will display <code class="language-plaintext highlighter-rouge">geometry_msgs/PolygonStamped</code> messages just like <code class="language-plaintext highlighter-rouge">rviz_default_plugins::PolygonDisplay</code> except it can fill in the polygon.</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::PolygonDisplay</code> displays <code class="language-plaintext highlighter-rouge">polygon_msgs/Polygon2DStamped</code> messages</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::ComplexPolygonDisplay</code> displays <code class="language-plaintext highlighter-rouge">polygon_msgs/ComplexPolygon2DStamped</code> messages</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::PolygonsDisplay</code> (note the S in PolygonS) will display <code class="language-plaintext highlighter-rouge">polygon_msgs/Polygon2DCollection</code> messages.</li>
  <li>
<code class="language-plaintext highlighter-rouge">polygon_rviz_plugins::ComplexPolygonsDisplay</code> (note the S in PolygonS) will display <code class="language-plaintext highlighter-rouge">polygon_msgs/ComplexPolygon2DCollection</code> messages.</li>
</ul>

<p>Each has three display modes, for displaying just the outline, just the filler, or both.</p>

<p>When displaying polygon collections, you have the option to display a single color, colors from the message, or a set of “unique” colors (limited to 54 colors).</p>

<p>The behavior is showcased by running <code class="language-plaintext highlighter-rouge">ros2 launch polygon_demos polygons.launch.py</code>. The results are also shown in the screenshot above.</p>
<ul>
  <li>The blue star in the middle is a <code class="language-plaintext highlighter-rouge">Polygon2DStamped</code>
</li>
  <li>The white star is a <code class="language-plaintext highlighter-rouge">geometry_msgs/PolygonStamped</code>
</li>
  <li>The star burst around the white star is a <code class="language-plaintext highlighter-rouge">ComplexPolygon2DStamped</code>
</li>
  <li>The ring of yellow stars is a <code class="language-plaintext highlighter-rouge">Polygon2DCollection</code>
</li>
  <li>The rainbow-colored stars around the blue star are a <code class="language-plaintext highlighter-rouge">ComplexPolygon2DCollection</code>
</li>
</ul>
</div>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">CONTRIBUTING</h3></div>
          <div class="panel-body">
            
              <em>No CONTRIBUTING.md found.</em>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/polygon_ros">polygon_ros</a> <small>repository</small></h3>
        
        

      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-MetroRobots-polygon_ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-MetroRobots-polygon_ros" role="menuitem" tabindex="-1" href="/r/polygon_ros/github-MetroRobots-polygon_ros" data="github-MetroRobots-polygon_ros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-MetroRobots-polygon_ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
  $(function() {
    setupContributeListTabLinks();
  });
  $(document).ready(function() {
    setupDistroSwitch("humble");
    setupContributeLists("https://github.com/MetroRobots/polygon_ros.git");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
