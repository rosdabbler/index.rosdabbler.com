<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: move_base_swp</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/move_base_swp/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">move_base_swp</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class=" older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/move_base_swp">move_base_swp</a> <small>package from <a style="text-decoration:none" href="/r/move_base_swp/github-ihadzic-move_base_swp">move_base_swp</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

move_base_swp
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/move_base_swp/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/ihadzic/move_base_swp/tree/master/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/move_base_swp?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="noetic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#noetic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#noetic-assets" data-toggle="tab"><span class="label label-primary">2</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#noetic-deps" data-toggle="tab"><span class="label label-primary">23</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#noetic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#noetic-questions" data-toggle="tab"><span id="noetic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="noetic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>1.16.7</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">A fork of ROS move_base node that supports sparse waypoints</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ihadzic/move_base_swp.git">https://github.com/ihadzic/move_base_swp.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2022-04-19
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <a href="https://build.ros.org/view/Ndev_db/job/Ndev_db__move_base_swp__debian_buster_amd64" class="label ci-result-success" title="Latest build information: Thu, 05 May 2022 23:44:24 GMT
  Total tests: 0
  Succeeded: 0
  Skipped: 0
  Failed: 0
No build history available for this repository.">
                        <span class="glyphicon glyphicon-check"></span>
                        Continuous Integration
                        
                          : 0 / 0
                        
                      </a>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/move_base_swp/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/move_base_swp/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/move_base_swp/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            

        A spinoff from move_base package that is better suited for sparsw-waypoint goals. Original description: The move_base package provides an implementation of an action (see the 
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="http://wiki.ros.org/move_base">Website</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Ilija Hadzic</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Eitan Marder-Eppstein</li>
                
                  <li>contradict <AT> gmail.com</li>
                
                  <li>Ilija Hadzic</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/ihadzic/move_base_swp/tree/master/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="movebase-with-sparse-waypoint-goals">Movebase with Sparse-Waypoint Goals</h1>

<p>This package has been derived from the original move_base node from
<a href="http://wiki.ros.org/navigation">ROS Navigation package</a>. It implements
the <code class="language-plaintext highlighter-rouge">move_base_swp</code> node, which extends the interface of the the original
<code class="language-plaintext highlighter-rouge">move_base</code> node to include the sparse waypoints that the robot must
visit along its route to the goal.</p>

<p>‘move_base_swp’ is a drop-in replacement for <code class="language-plaintext highlighter-rouge">move_base</code>,
designed to work with all existing plugins (e.g. DWA planner, navfn,
costmap2d) from the Navigation package. The interface is fully compatible
with <code class="language-plaintext highlighter-rouge">move_base</code> and will accept single-pose goals and behave
just as regular <code class="language-plaintext highlighter-rouge">move_base</code> with a couple of improvements listed below.
The new interface accepts the sparse-waypoint goals which specifies a
list of poses, with last pose being the final goal. If a single-waypoint
goal is provided the goal reduces to a final goal with no waypoints only
issued over the new interface. All other components will work, so
<code class="language-plaintext highlighter-rouge">move_base_swp</code> is simply a better <code class="language-plaintext highlighter-rouge">move_base</code>.</p>

<h2 id="feature-overview">Feature Overview</h2>

<p>In this section, we describe the improvements that <code class="language-plaintext highlighter-rouge">move_base_swp</code>
implements on the top of original <code class="language-plaintext highlighter-rouge">move_base</code> node.</p>

<h3 id="sparse-waypoint-goals">Sparse-waypoint goals</h3>

<p><code class="language-plaintext highlighter-rouge">move_base_swp</code> implements a new <code class="language-plaintext highlighter-rouge">actionlib</code> interface, which allows
the caller to define the goal in form of a list of waypoints. Unlike dense
waypoints generated by the global planner, this list is sparse. Typical size
of this list will include no more than 5-10 waypoints, sometimes just one.
The path between sparse waypoints is still within the responsibility
of the global planner. In other words, the input to <code class="language-plaintext highlighter-rouge">move_base_swp</code>
is a list of sparse waypoints that represent an the goal along with
a list of interim checkpoints that the robot must visit along its path.
The global planner produces a list of dense waypoints in the same
manner as in the original <code class="language-plaintext highlighter-rouge">move_base</code>, which are fed to the local planner,
which, in turn, produces the velocity vector that creates the motion.</p>

<p>While it is theoretically possible to supply a dense set of waypoints
over the interface and effectively override the global planner, this is
not intended usage. Such usage will likely result in poor performance
because of frequent calls to the global planner. The intended usage is
for situations when the robot must get from point A to point B, but the
application requires that it visits point C along the way. Simply issuing
the goal at point B would result in finding the shortest path within the
constraints of the cost map which may or may not include point C. If the
point C is on a “detour” path it will not be visited. Using <code class="language-plaintext highlighter-rouge">move_base_swp</code>
allows the application to specify this additional constraint.</p>

<p>While it is possible to achieve the described behavior by first issuing
the goal to point C and then as the robot approaches that goal issue
the new goal to point B, this will likely result in unwanted slowdown
or even complete stop at the interim waypoint. Further, an application
would have to constantly monitor the progress of the first goal and
issue the next goal “just in time” to ensure smooth transition. Often
the “just in time” would imply using ill-defined heuristics that heavily
depend on local and global planner tuning parameters.</p>

<p><code class="language-plaintext highlighter-rouge">move_base_swp</code> solves the problem by first calling the global planner
for each segment of the path (A-to-C segment, followed by C-to-B segment
in our example) and then concatenating the two plans into one global-planner
solution before feeding it to the local planner. The result is a smooth
motion at the concatenation point without the need for application
to intervene in any way. The application simply follows the progress
towards the specified goal which includes the specified sparse waypoints.</p>

<h3 id="windowed-global-plan">Windowed global plan</h3>

<p><code class="language-plaintext highlighter-rouge">move_base_swp</code> provides an option to feed the horizon of the global
plan that is being fed into the local planner. Instead of feeding
an entire global plan, <code class="language-plaintext highlighter-rouge">move_base_swp</code> has an option to feed only
a specified number of plan waypoints starting from the present location
and load additional plan waypoints as the robot progresses towards the goal.</p>

<p>This feature can improve motion behavior in general and can stand on
its own regardless of whether sparse-waypoint plan is used or not. However,
the problem that the windowed global plan solves is exacerbated by the
usage of sparse waypoints.</p>

<p>An example of the problem that exists even in the original <code class="language-plaintext highlighter-rouge">move_base</code>
package is illustrated in this video:</p>

<p>https://youtu.be/7vnxZ25MzEk</p>

<p>The robot is moving from one side to the other of an X-shaped obstacle.
Notice how at 0:57 it enters the state where it is not making progress.
This happens because the entire area of interest is within the local
planner window (we used DWA planner for this experiment). The local planner
has the choice to either produce the velocity vector that takes it along
the route prescribed by the global plan (the top path shown in green)
or to deviate from the global plan and move the robot down the bottom
path. From the local planner’s perspective, both paths have equal cost
for the set of parameters it is using and the solver is bouncing back
and forth between two options without making much progress.</p>

<p>While one motion may eventually prevail, the time it will take for this
to happen, is not bounded. Changing the weight factors in the DWA planner
to prefer sticking to the global plan more than advancing towards the
target (i.e. cutting corners) would resolve this case, but there is always
another case for which the same phenomena would happen. Triggering the
patience timeout on the local planner and requesting the replan will
in practice often break this live-lock, but it would be preferable if
we could avoid the need to timeout. Making the local planner horizon
smaller would also help in this case, but at the expense of degraded
obstacle avoidance performance.</p>

<p>This video shows how the windowed global plan solves the problem:</p>

<p>https://youtu.be/VPTIrmf1TQQ</p>

<p>The thin green line shows the plan as determined by the global
planner, which goes all the way to the goal. The thick green line shows
the section of the global plan to which the local planner has been exposed.
As the robot makes progress, the <code class="language-plaintext highlighter-rouge">move_base_swp</code> feeds additional waypoints
to the local planner. The new waypoints can be fed either continuously
or when the number of presently used waypoints runs below the low-watermark
threshold. Because the local planner is only exposed to limited number
of waypoints, effectively cutting its horizon, the secondary viable
path that causes the live-lock has been eliminated.</p>

<p>The next video shows how the usage of sparse waypoints can be at odds
with the local planner:</p>

<p>https://youtu.be/x_Khtj9rBhc</p>

<p>The robot is in the open space (no obstacles) and it gets a goal with
two waypoints that define a zig-zag path to the final pose. If the local
planner sees the whole plan, it will eventually start cutting corners
as the opportunistic behavior of reducing the distance to the goal starts
to prevail. The effect is especially visible for the second waypoint
where the robot does not even attempt to visit it, but instead cuts
straight to the goal.</p>

<p>This video shows how the windowed global plan solves the problem:</p>

<p>https://youtu.be/8t-57WI_6UY</p>

<p>By exposing the local planner to a shorter subset of the global plan,
the robot is forced to head towards the waypoint, before it learns about
the existence of the sharp turn and gives the opportunity to the local
planner to cut the corner.</p>

<h3 id="brake-rampdown">Brake rampdown</h3>

<p>If the goal is canceled or preempted, or the robot is made stop by any
means other than arriving to the goal, the original <code class="language-plaintext highlighter-rouge">move_base</code> node would
abruptly bring the velocity vector to zero. This can result in a jerky
motion, which can cause the stress or even damage to robot’s mechanical
or electrical system. <code class="language-plaintext highlighter-rouge">move_base_swp</code> introduces the break-rampdown feature
which makes the robot slow down gradually. The rampdown rate is controlled
by a parameter and the behavior can be turned off, essentially resulting
on original <code class="language-plaintext highlighter-rouge">move_base</code> behavior.</p>

<h3 id="handbrake-interface">Handbrake interface</h3>

<p>Sometimes, an application may decide to temporarily stop the robot
and then after some time allow it to proceed towards its target. In the
original <code class="language-plaintext highlighter-rouge">move_base</code> the only way to achieve this is to cancel
the goal and re-issue the new goal after the application decides to
restore the motion. <code class="language-plaintext highlighter-rouge">move_base_swp</code> provides a dedicated handbrake
interface that implements this feature. When the robot is ordered to
handbrake, it will not cancel the goal. The goal and the planner will
remain active until the handbrake is released, after which the robot
will continue to pursue its original plan.</p>

<h3 id="code-improvements">Code improvements</h3>

<p>Besides extended functionality, <code class="language-plaintext highlighter-rouge">move_base_swp</code> also refactors and
improves the general <code class="language-plaintext highlighter-rouge">move_base</code> code. Many instances of repeated code
are extracted into common functions. Blocks of code embedded in
long functions are extracted into separate functions and named accordingly.
Finally, some locks are reworked to improve the interlocking correctness.</p>

<h2 id="interfaces">Interfaces</h2>

<p><code class="language-plaintext highlighter-rouge">move_base_swp</code> provides all interfaces that <code class="language-plaintext highlighter-rouge">move_base</code> does unchanged.
If the <code class="language-plaintext highlighter-rouge">move_base</code> node in an application designed to work with it is
replaced with the <code class="language-plaintext highlighter-rouge">move_base_swp</code> node, the behavior will remain identical.
Other than launching the new mode no change to the application would
be necessary. However, to use the new capabilities (described above), the
application would have to be extended to use the new interfaces. This
makes the transition to <code class="language-plaintext highlighter-rouge">move_base_swp</code> easy, because the node can be
first swapped out, followed by gradually converting the application to
use the new features.</p>

<p>This section describes the interfaces (topics and <code class="language-plaintext highlighter-rouge">actionlib</code> interfaces)
that allow the application to use the new capabilities of the `move_base_swp’</p>

<h3 id="sparse-waypoint-actionlib-interface">Sparse-waypoint <code class="language-plaintext highlighter-rouge">actionlib</code> interface.</h3>

<p>This is a standard <code class="language-plaintext highlighter-rouge">actionlib</code> interface. Actions are defined in
‘move_base_swp/action/MoveBaseSWP.action<code class="language-plaintext highlighter-rouge"> file. The standard topics associated
with this interface are as follows, </code>move_base_swp/goal<code class="language-plaintext highlighter-rouge">,
</code>move_base_swp/result<code class="language-plaintext highlighter-rouge">, </code>move_base_swp/status<code class="language-plaintext highlighter-rouge">, </code>move_base_swp/feedback<code class="language-plaintext highlighter-rouge">, and
</code>move_base_swp/cancel`. The goal supplied is the list of poses that
represent the waypoints that the robot should visit. The last pose
in the list is the final goal:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>geometry_msgs/PoseStamped[] waypoint_poses

</code></pre></div></div>

<p>If a single-element list is provided as the goal, the resulting behavior
will be that of the original <code class="language-plaintext highlighter-rouge">move_base</code>. The
<a href="http://wiki.ros.org/move_base">legacy interface</a> is also available and
consists of original topics <code class="language-plaintext highlighter-rouge">move_base/goal</code>, <code class="language-plaintext highlighter-rouge">move_base/result</code>,
<code class="language-plaintext highlighter-rouge">move_base/status</code>, <code class="language-plaintext highlighter-rouge">move_base/feedback</code>, and <code class="language-plaintext highlighter-rouge">move_base/cancel</code>. The
goal received on the legacy <code class="language-plaintext highlighter-rouge">move_base</code> interface will be type-converted
and forwarded to the <code class="language-plaintext highlighter-rouge">move_base_swp</code> interface. The feedback and the result
will be visible on both interface.</p>

<p>The goal received on the new <code class="language-plaintext highlighter-rouge">move_base_swp</code>
interface will be executed natively and the feedback and result will
be visible on the new interface only. Issuing the new goal on either
of the two interfaces will preempt the goal in progress regardless
of the interface the goal was issued on. Only one goal can be pursued
at the time, regardless of the interface.</p>

<p>The simple-goal topic (<code class="language-plaintext highlighter-rouge">/move_base_simple/goal</code>) is also available for
sending goals from RVIZ.</p>

<h3 id="navigation-status-topics">Navigation status topics</h3>

<p>In addition to the <code class="language-plaintext highlighter-rouge">actionlib</code> interface, <code class="language-plaintext highlighter-rouge">move_base_swp</code> also
provides several topics that can be used to monitor and visualize the
progress of the goal. All topics that exist in the
<a href="http://wiki.ros.org/move_base">original <code class="language-plaintext highlighter-rouge">move_base</code></a>
node exist in the <code class="language-plaintext highlighter-rouge">move_base_swp</code> and they are not repeated here.</p>

<p>The namespace used for all topics is <code class="language-plaintext highlighter-rouge">move_base</code> (not <code class="language-plaintext highlighter-rouge">move_base_swp</code>)
because these topics are meant to be used together with original
topics provided by the <code class="language-plaintext highlighter-rouge">move_base</code>.</p>

<p>The new topics are:</p>

<p><code class="language-plaintext highlighter-rouge">/move_base/current_waypoints</code> (<a href="http://docs.ros.org/en/api/geometry_msgs/html/msg/PoseArray.html"><code class="language-plaintext highlighter-rouge">geometry_msgs/PoseArray</code></a>)</p>
<blockquote>
  <p>This topic contains the list of waypoints that the robot is currently
pursuing. As the robot visits each waypoint, it is removed from the list.
The order of poses in the list is the order in which the waypoints will be
visited.</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">/move_base/snapped_pose</code> (<a href="http://docs.ros.org/en/api/geometry_msgs/html/msg/PoseStamped.html"><code class="language-plaintext highlighter-rouge">geometry_msgs/PoseStamped</code></a>)</p>
<blockquote>
  <p>This topic represents the robot pose (as derived from the transform tree)
snapped to the global plan that the robot is pursuing. The snapping
is done by finding the nearest point in 2D space that lies on the line
composed out of dense waypoints generated by the global planner. This pose
can be used to visualize the robot progress along the plan. Internally
<code class="language-plaintext highlighter-rouge">move_base_swp</code> uses this pose to determine when to feed new segment
of the global plan into the local planner
(see <a href="https://github.com/ihadzic/move_base_swp/tree/master/./#windowed-global-plan">Windowed global plan</a> section for details).</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">/move_base/pursued_plan</code> (<a href="http://docs.ros.org/en/api/nav_msgs/html/msg/Path.html"><code class="language-plaintext highlighter-rouge">nav_msgs/Path</code></a>)</p>
<blockquote>
  <p>This topic is the subset of the global plan that has been fed to
the local planner and that the robot is currently pursuing. As the
robot makes progress along this plan, the waypoints are replenished
from the global plan (published by the global planner).</p>
</blockquote>

<h3 id="handbrake-topic">Handbrake topic</h3>

<p><code class="language-plaintext highlighter-rouge">/move_base/handbrake</code> (move_base_swp/Handbrake)</p>
<blockquote>
  <p>Sending <code class="language-plaintext highlighter-rouge">True</code> to this topic will pull the handbrake stopping the robot
along its plan. Sending <code class="language-plaintext highlighter-rouge">False</code> will release the handbrake. The handbrake
must be renewed every second (or less) by re-sending <code class="language-plaintext highlighter-rouge">True</code> to the topic.
This is required to prevent applications from halting the robot and
disappearing. Note that this is not a safety brake (a safety brake would
require an inverse logic that stops the robot if not renewed). This
handbrake is meant to be used as part of the robot navigation strategy
(e.g. stopping to yield to another robot).</p>
</blockquote>

<h2 id="parameters">Parameters</h2>

<p><code class="language-plaintext highlighter-rouge">move_base_swp</code> introduces several new parameters that control the behavior
of the navigation state machine. All parameters are dynamic and can be
changed at runtime with immediate effect or passed at node launch time.
This section describes the available parameters. All parameters that are
available in the <a href="http://wiki.ros.org/move_base">original <code class="language-plaintext highlighter-rouge">move_base</code></a>
node are available in <code class="language-plaintext highlighter-rouge">move_base_swp</code> with the same function. Their description
is not repeated here.</p>

<p><code class="language-plaintext highlighter-rouge">~brake_slope</code> (<code class="language-plaintext highlighter-rouge">float</code>, default: 0.5)</p>
<blockquote>
  <p>This parameter determines the deceleration rate (in m/s^2) that the
robot will use when braking. Note that naturally slowing down when
approaching the goal is not considered braking. Braking occurs when the
goal is canceled, or preempted, or when the handbrake is pulled. Setting
this parameter to a maximum value of 1000 (de-facto infinity) will
effectively result in the original <code class="language-plaintext highlighter-rouge">move_base</code> behavior which is
to stop immediately.</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">~brake_sample_rate</code> (`float, default: 20)</p>
<blockquote>
  <p>Rate (in Hz) at which to generate velocity vectors when braking.
This rate is used only when braking. During normal operation the rate
specified by <code class="language-plaintext highlighter-rouge">controller_frequency</code> is used as the sampling rate.</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">~plan_buffer_size</code> (<code class="language-plaintext highlighter-rouge">int</code>, default: 150)</p>
<blockquote>
  <p>The number of waypoints to keep loaded into the local planner when using
<a href="https://github.com/ihadzic/move_base_swp/tree/master/./#windowed-global-plan">Windowed global plan</a>. Setting this parameter
to zero will tun off this feature, effectively resulting in the original
<code class="language-plaintext highlighter-rouge">move_base</code> behavior.</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">~plan_reload_threshold</code> (<code class="language-plaintext highlighter-rouge">int</code>, default: 100)</p>
<blockquote>
  <p>The low-watermark threshold that determines when to load more waypoints
into the local planner. Setting this parameter to a value that is greater
than or equal to the value of <code class="language-plaintext highlighter-rouge">~plan_buffer_size</code> will result in feeding
waypoints continuously, which will result in least corner-cutting by the
local planner, but may have performance implications. Setting
this value to zero may result in choppy motion because the state machine
will wait until the local planner exhausts all waypoints before supplying
the new set.</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">~plan_min_step_len</code> (<code class="language-plaintext highlighter-rouge">float</code>, default: 0.025)</p>
<blockquote>
  <p>This parameter ensures that the length of the plan buffer roughly results
in the same covered distance for different map resolution. Namely, some
global planner generate the waypoints whose resolution matches the
map resolution. For example, 100 waypoints in the map whose resolution
is 0.01 m/pixel would result in 10x shorter distance than in the map
whose resolution is 0.1 m/pixel. Typically, such a fine resolution is not
necessary because the local planner can successfully deal with waypoints
that are much further apart. To deal with this problem <code class="language-plaintext highlighter-rouge">~plan_min_step_len</code>
parameter effectively downsamples the global plan such that the Euclidean
distance between plan waypoints is greater or equal to the one
specified by this parameter.</p>
</blockquote>

<h2 id="usage">Usage</h2>

<p>To use the <code class="language-plaintext highlighter-rouge">move_base_swp</code> node clone this repository into your catkin
workspace and build it with <code class="language-plaintext highlighter-rouge">catkin_make</code>.
Make sure that you have the ROS Navigation package installed
and configure it to use the <code class="language-plaintext highlighter-rouge">move_base</code> normally. Make sure that works before
cutting over to <code class="language-plaintext highlighter-rouge">move_base_swp</code>. Next, add additional parameters
under <code class="language-plaintext highlighter-rouge">move_base</code> namespace in the same way you would set any
other <code class="language-plaintext highlighter-rouge">move_base</code> parameter (either in your <code class="language-plaintext highlighter-rouge">.launch</code> file or in your
parameter <code class="language-plaintext highlighter-rouge">yaml</code> file). If you don’t add new parameters, default
values will be used which are fine to start with.</p>

<p>Next, modify your <code class="language-plaintext highlighter-rouge">launch</code> file for <code class="language-plaintext highlighter-rouge">move_base</code> and set the node type to
<code class="language-plaintext highlighter-rouge">move_base_swp</code>. Start the <code class="language-plaintext highlighter-rouge">move_base</code> as you would normally start
and your navigation system will run with <code class="language-plaintext highlighter-rouge">move_base_swp</code>. The relevant line
in the <code class="language-plaintext highlighter-rouge">.launch</code> file should look like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;node pkg="move_base_swp" type="move_base_swp" name="move_base" output="screen"&gt;

</code></pre></div></div>

<p>Once the node starts up, you should see new topics and the new <code class="language-plaintext highlighter-rouge">actionlib</code>
interface. Also, if you bring up <code class="language-plaintext highlighter-rouge">rqt_reconfig</code> tool, you should see
the new parameters in the <code class="language-plaintext highlighter-rouge">move_base</code> section.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-move_base">Changelog for package move_base</h1>

<h2 id="1167-2020-08-27">1.16.7 (2020-08-27)</h2>

<ul>
  <li>
    <p>move_base: Add options for make_plan service
(<a href="https://github.com/ros-planning/navigation/issues/981">#981</a>)
Adds the following two parameters for the ~make_plan service:
1. make_plan_clear_costmap Whether or not to clear the global costmap
on make_plan service call.
2. make_plan_add_unreachable_goal Whether or not to add the original
goal to the path if it is unreachable in the make_plan service call.</p>
  </li>
  <li>
    <p>Contributors: nxdefiant</p>
  </li>
</ul>

<h2 id="1166-2020-03-18">1.16.6 (2020-03-18)</h2>

<h2 id="1165-2020-03-15">1.16.5 (2020-03-15)</h2>

<h2 id="1164-2020-03-04">1.16.4 (2020-03-04)</h2>

<ul>
  <li>[Windows][melodic] Navigation (except for map_server and amcl)
Windows build bring up
(<a href="https://github.com/cobalt-robotics/navigation/issues/851">#851</a>)</li>
  <li>Contributors: Sean Yen</li>
</ul>

<h2 id="1163-2019-11-15">1.16.3 (2019-11-15)</h2>

<ul>
  <li>Merge branch 'melodic-devel' into layer_clear_area-melodic</li>
  <li>Added publishZeroVelocity() before starting planner
(<a href="https://github.com/ros-planning/navigation/issues/751">#751</a>)
Edit for Issue
<a href="https://github.com/ros-planning/navigation/issues/750">#750</a>
</li>
  <li>Merge pull request
<a href="https://github.com/ros-planning/navigation/issues/831">#831</a> from
ros-planning/feature/remove_slashes [melodic] Remove leading
slashes from default frame_id parameters</li>
  <li>Remove leading slashes from default frame_id parameters</li>
  <li>Contributors: David V. Lu, Michael Ferguson, SUNIL SULANIA, Steven
Macenski</li>
</ul>

<h2 id="1162-2018-07-31">1.16.2 (2018-07-31)</h2>

<h2 id="1161-2018-07-28">1.16.1 (2018-07-28)</h2>

<h2 id="1160-2018-07-25">1.16.0 (2018-07-25)</h2>

<ul>
  <li>Switch to TF2
<a href="https://github.com/ros-planning/navigation/issues/755">#755</a>
</li>
  <li>Merge pull request
<a href="https://github.com/ros-planning/navigation/issues/723">#723</a> from
moriarty/melodic-buildfarm-errors Melodic buildfarm errors</li>
  <li>Merge pull request
<a href="https://github.com/ros-planning/navigation/issues/719">#719</a> from
ros-planning/lunar_711 adding mutex locks to costmap clearing
service</li>
  <li>Contributors: Alexander Moriarty, Michael Ferguson, Vincent Rabaud,
stevemacenski</li>
</ul>

<h2 id="1152-2018-03-22">1.15.2 (2018-03-22)</h2>

<ul>
  <li>Merge pull request
<a href="https://github.com/ros-planning/navigation/issues/673">#673</a> from
ros-planning/email_update_lunar update maintainer email (lunar)</li>
  <li>Merge pull request
<a href="https://github.com/ros-planning/navigation/issues/649">#649</a> from
aaronhoy/lunar_add_ahoy Add myself as a maintainer.</li>
  <li>Rebase PRs from Indigo/Kinetic
(<a href="https://github.com/ros-planning/navigation/issues/637">#637</a>)
    <ul>
      <li>Respect planner_frequency intended behavior
(<a href="https://github.com/ros-planning/navigation/issues/622">#622</a>)</li>
    </ul>

    <p>* Only do a getRobotPose when no start pose is given
(<a href="https://github.com/ros-planning/navigation/issues/628">#628</a>)
Omit the unnecessary call to getRobotPose when the start pose was
already given, so that move_base can also generate a path in
situations where getRobotPose would fail. This is actually to work
around an issue of getRobotPose randomly failing.</p>
    <ul>
      <li>Update gradient_path.cpp
(<a href="https://github.com/ros-planning/navigation/issues/576">#576</a>)</li>
      <li>Update gradient_path.cpp</li>
      <li>Update navfn.cpp</li>
      <li>update to use non deprecated pluginlib macro
(<a href="https://github.com/ros-planning/navigation/issues/630">#630</a>)</li>
      <li>update to use non deprecated pluginlib macro</li>
      <li>multiline version as well</li>
      <li>Print SDL error on IMG_Load failure in server_map
(<a href="https://github.com/ros-planning/navigation/issues/631">#631</a>)</li>
    </ul>
  </li>
  <li>Contributors: Aaron Hoy, David V. Lu!!, Michael Ferguson</li>
</ul>

<h2 id="1151-2017-08-14">1.15.1 (2017-08-14)</h2>

<h2 id="1150-2017-08-07">1.15.0 (2017-08-07)</h2>

<ul>
  <li>Add a max_planning_retries parameter to move_base [kinetic]
(<a href="https://github.com/ros-planning/navigation/issues/539">#539</a>)</li>
  <li>Fix for
<a href="https://github.com/ros-planning/navigation/issues/517">#517</a>:
create a getRobotPose method on move_base instead of using that on
the costmaps</li>
  <li>Fixed deadlock when changing global planner</li>
  <li>rebase fixups</li>
  <li>convert packages to format2</li>
  <li>Fix CMakeLists + package.xmls
(<a href="https://github.com/ros-planning/navigation/issues/548">#548</a>)</li>
  <li>Added deps to amcl costmap_2d move_base
(<a href="https://github.com/ros-planning/navigation/issues/512">#512</a>)</li>
  <li>Fix CMake warnings</li>
  <li>move_base: Add move_base_msgs to find_package.</li>
  <li>Contributors: Jorge Santos, Jorge Santos Simón, Maarten de Vries,
Martin Günther, Mikael Arguedas, Vincent Rabaud, mryellow, ne0</li>
</ul>

<h2 id="1140-2016-05-20">1.14.0 (2016-05-20)</h2>

<h2 id="1131-2015-10-29">1.13.1 (2015-10-29)</h2>

<ul>
  <li>Removes installation of nonexistent directories</li>
  <li>use correct size for clearing window</li>
  <li>full name has been required for eons, this code just adds unneeded
complexity</li>
  <li>remove ancient conversion scripts from v0.2 to v0.3</li>
  <li>proper locking during costmap update</li>
  <li>Contributors: Michael Ferguson, Thiago de Freitas Oliveira Araujo</li>
</ul>

<h2 id="1130-2015-03-17">1.13.0 (2015-03-17)</h2>

<ul>
  <li>Fixing various memory freeing operations</li>
  <li>Contributors: Alex Bencz</li>
</ul>

<h2 id="1120-2015-02-04">1.12.0 (2015-02-04)</h2>

<ul>
  <li>update maintainer email</li>
  <li>Contributors: Michael Ferguson</li>
</ul>

<h2 id="11115-2015-02-03">1.11.15 (2015-02-03)</h2>

<ul>
  <li>Disable global planner when resetting state.</li>
  <li>Mark move_base headers for installation</li>
  <li>Add ARCHIVE DESTINATION for move_base</li>
  <li>Break infinite loop when tolerance 0 is used</li>
  <li>remove partial usage of &lt;tab&gt; in the code</li>
  <li>Contributors: Gary Servin, Michael Ferguson, ohendriks, v4hn</li>
</ul>

<h2 id="11114-2014-12-05">1.11.14 (2014-12-05)</h2>

<ul>
  <li>use timer rather than rate for immediate wakeup</li>
  <li>adding lock to planner makePlan fail case</li>
  <li>Contributors: Michael Ferguson, phil0stine</li>
</ul>

<h2 id="11113-2014-10-02">1.11.13 (2014-10-02)</h2>

<h2 id="11112-2014-10-01">1.11.12 (2014-10-01)</h2>

<h2 id="11111-2014-07-23">1.11.11 (2014-07-23)</h2>

<ul>
  <li>removes trailing spaces and empty lines</li>
  <li>Contributors: Enrique Fernández Perdomo</li>
</ul>

<h2 id="11110-2014-06-25">1.11.10 (2014-06-25)</h2>

<ul>
  <li>Remove unnecessary colons</li>
  <li>move_base planService now searches out from desired goal</li>
  <li>Contributors: David Lu!!, Kaijen Hsiao</li>
</ul>

<h2 id="1119-2014-06-10">1.11.9 (2014-06-10)</h2>

<ul>
  <li>uses ::hypot(x, y) instead of sqrt(x*x, y*y)</li>
  <li>Contributors: Enrique Fernández Perdomo</li>
</ul>

<h2 id="1118-2014-05-21">1.11.8 (2014-05-21)</h2>

<h2 id="1117-2014-05-21">1.11.7 (2014-05-21)</h2>

<ul>
  <li>update build to find eigen using cmake_modules</li>
  <li>Fix classloader warnings on exit of move_base</li>
  <li>Contributors: Michael Ferguson</li>
</ul>

<h2 id="1114-2013-09-27">1.11.4 (2013-09-27)</h2>

<ul>
  <li>Package URL Updates</li>
  <li>Reintroduce ClearCostmaps Service</li>
  <li>Add dependencies to recovery behaviors.</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/move_base_swp/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/cmake_modules#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/cmake_modules#noetic">cmake_modules  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/message_generation#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/message_generation#noetic">message_generation  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#noetic">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#noetic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#noetic">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/message_runtime#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/message_runtime#noetic">message_runtime  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/actionlib#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/actionlib#noetic">actionlib  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/costmap_2d#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/costmap_2d#noetic">costmap_2d  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/dynamic_reconfigure#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/dynamic_reconfigure#noetic">dynamic_reconfigure  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/geometry_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/geometry_msgs#noetic">geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/actionlib_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/actionlib_msgs#noetic">actionlib_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/move_base_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/move_base_msgs#noetic">move_base_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_core#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_core#noetic">nav_core  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_msgs#noetic">nav_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/pluginlib#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/pluginlib#noetic">pluginlib  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roscpp#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roscpp#noetic">roscpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rospy#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rospy#noetic">rospy  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/std_srvs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/std_srvs#noetic">std_srvs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_ros#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_ros#noetic">tf2_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/visualization_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/visualization_msgs#noetic">visualization_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/base_local_planner#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/base_local_planner#noetic">base_local_planner  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/clear_costmap_recovery#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/clear_costmap_recovery#noetic">clear_costmap_recovery  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/navfn#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/navfn#noetic">navfn  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rotate_recovery#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rotate_recovery#noetic">rotate_recovery  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ihadzic/move_base_swp/tree/master/./planner_test.xml" target="_blank">planner_test.xml</a>
                <ul class="list-unstyled">
                  
                    <li><em></em></li>
                  
                  <li>
                    <ul>
                      
                    </ul>
                  </li>
                </ul>
              </li>
            
          </ul>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ihadzic/move_base_swp/tree/master/./msg/Handbrake.msg" target="_blank">msg/Handbrake.msg</a></li>
            
          </ul>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>move_base_swp</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="noetic-question-list" class="panel-body" style="display: none;"></div>
      <div id="noetic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/move_base_swp+noetic">here</a>.</p>
      </div>
      <div id="noetic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/ihadzic/move_base_swp.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/move_base_swp/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/ihadzic/move_base_swp/tree/master/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/move_base_swp?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/move_base_swp">move_base_swp</a> <small>package from <a style="text-decoration:none" href="/r/move_base_swp/github-ihadzic-move_base_swp">move_base_swp</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

move_base_swp
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/melodic/api/move_base_swp/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/ihadzic/move_base_swp/tree/master/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/move_base_swp?distro=melodic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="melodic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#melodic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#melodic-assets" data-toggle="tab"><span class="label label-primary">2</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#melodic-deps" data-toggle="tab"><span class="label label-primary">23</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#melodic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#melodic-questions" data-toggle="tab"><span id="melodic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="melodic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>1.16.7</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">A fork of ROS move_base node that supports sparse waypoints</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ihadzic/move_base_swp.git">https://github.com/ihadzic/move_base_swp.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2022-04-19
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <a href="https://build.ros.org/view/Mdev/job/Mdev__move_base_swp__ubuntu_bionic_amd64" class="label ci-result-success" title="Latest build information: Thu, 05 May 2022 23:56:54 GMT
  Total tests: 0
  Succeeded: 0
  Skipped: 0
  Failed: 0
No build history available for this repository.">
                        <span class="glyphicon glyphicon-check"></span>
                        Continuous Integration
                        
                          : 0 / 0
                        
                      </a>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/move_base_swp/#melodic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/move_base_swp/#melodic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/move_base_swp/#melodic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            

        A spinoff from move_base package that is better suited for sparsw-waypoint goals. Original description: The move_base package provides an implementation of an action (see the 
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="http://wiki.ros.org/move_base">Website</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Ilija Hadzic</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Eitan Marder-Eppstein</li>
                
                  <li>contradict <AT> gmail.com</li>
                
                  <li>Ilija Hadzic</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/ihadzic/move_base_swp/tree/master/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="movebase-with-sparse-waypoint-goals">Movebase with Sparse-Waypoint Goals</h1>

<p>This package has been derived from the original move_base node from
<a href="http://wiki.ros.org/navigation">ROS Navigation package</a>. It implements
the <code class="language-plaintext highlighter-rouge">move_base_swp</code> node, which extends the interface of the the original
<code class="language-plaintext highlighter-rouge">move_base</code> node to include the sparse waypoints that the robot must
visit along its route to the goal.</p>

<p>‘move_base_swp’ is a drop-in replacement for <code class="language-plaintext highlighter-rouge">move_base</code>,
designed to work with all existing plugins (e.g. DWA planner, navfn,
costmap2d) from the Navigation package. The interface is fully compatible
with <code class="language-plaintext highlighter-rouge">move_base</code> and will accept single-pose goals and behave
just as regular <code class="language-plaintext highlighter-rouge">move_base</code> with a couple of improvements listed below.
The new interface accepts the sparse-waypoint goals which specifies a
list of poses, with last pose being the final goal. If a single-waypoint
goal is provided the goal reduces to a final goal with no waypoints only
issued over the new interface. All other components will work, so
<code class="language-plaintext highlighter-rouge">move_base_swp</code> is simply a better <code class="language-plaintext highlighter-rouge">move_base</code>.</p>

<h2 id="feature-overview">Feature Overview</h2>

<p>In this section, we describe the improvements that <code class="language-plaintext highlighter-rouge">move_base_swp</code>
implements on the top of original <code class="language-plaintext highlighter-rouge">move_base</code> node.</p>

<h3 id="sparse-waypoint-goals">Sparse-waypoint goals</h3>

<p><code class="language-plaintext highlighter-rouge">move_base_swp</code> implements a new <code class="language-plaintext highlighter-rouge">actionlib</code> interface, which allows
the caller to define the goal in form of a list of waypoints. Unlike dense
waypoints generated by the global planner, this list is sparse. Typical size
of this list will include no more than 5-10 waypoints, sometimes just one.
The path between sparse waypoints is still within the responsibility
of the global planner. In other words, the input to <code class="language-plaintext highlighter-rouge">move_base_swp</code>
is a list of sparse waypoints that represent an the goal along with
a list of interim checkpoints that the robot must visit along its path.
The global planner produces a list of dense waypoints in the same
manner as in the original <code class="language-plaintext highlighter-rouge">move_base</code>, which are fed to the local planner,
which, in turn, produces the velocity vector that creates the motion.</p>

<p>While it is theoretically possible to supply a dense set of waypoints
over the interface and effectively override the global planner, this is
not intended usage. Such usage will likely result in poor performance
because of frequent calls to the global planner. The intended usage is
for situations when the robot must get from point A to point B, but the
application requires that it visits point C along the way. Simply issuing
the goal at point B would result in finding the shortest path within the
constraints of the cost map which may or may not include point C. If the
point C is on a “detour” path it will not be visited. Using <code class="language-plaintext highlighter-rouge">move_base_swp</code>
allows the application to specify this additional constraint.</p>

<p>While it is possible to achieve the described behavior by first issuing
the goal to point C and then as the robot approaches that goal issue
the new goal to point B, this will likely result in unwanted slowdown
or even complete stop at the interim waypoint. Further, an application
would have to constantly monitor the progress of the first goal and
issue the next goal “just in time” to ensure smooth transition. Often
the “just in time” would imply using ill-defined heuristics that heavily
depend on local and global planner tuning parameters.</p>

<p><code class="language-plaintext highlighter-rouge">move_base_swp</code> solves the problem by first calling the global planner
for each segment of the path (A-to-C segment, followed by C-to-B segment
in our example) and then concatenating the two plans into one global-planner
solution before feeding it to the local planner. The result is a smooth
motion at the concatenation point without the need for application
to intervene in any way. The application simply follows the progress
towards the specified goal which includes the specified sparse waypoints.</p>

<h3 id="windowed-global-plan">Windowed global plan</h3>

<p><code class="language-plaintext highlighter-rouge">move_base_swp</code> provides an option to feed the horizon of the global
plan that is being fed into the local planner. Instead of feeding
an entire global plan, <code class="language-plaintext highlighter-rouge">move_base_swp</code> has an option to feed only
a specified number of plan waypoints starting from the present location
and load additional plan waypoints as the robot progresses towards the goal.</p>

<p>This feature can improve motion behavior in general and can stand on
its own regardless of whether sparse-waypoint plan is used or not. However,
the problem that the windowed global plan solves is exacerbated by the
usage of sparse waypoints.</p>

<p>An example of the problem that exists even in the original <code class="language-plaintext highlighter-rouge">move_base</code>
package is illustrated in this video:</p>

<p>https://youtu.be/7vnxZ25MzEk</p>

<p>The robot is moving from one side to the other of an X-shaped obstacle.
Notice how at 0:57 it enters the state where it is not making progress.
This happens because the entire area of interest is within the local
planner window (we used DWA planner for this experiment). The local planner
has the choice to either produce the velocity vector that takes it along
the route prescribed by the global plan (the top path shown in green)
or to deviate from the global plan and move the robot down the bottom
path. From the local planner’s perspective, both paths have equal cost
for the set of parameters it is using and the solver is bouncing back
and forth between two options without making much progress.</p>

<p>While one motion may eventually prevail, the time it will take for this
to happen, is not bounded. Changing the weight factors in the DWA planner
to prefer sticking to the global plan more than advancing towards the
target (i.e. cutting corners) would resolve this case, but there is always
another case for which the same phenomena would happen. Triggering the
patience timeout on the local planner and requesting the replan will
in practice often break this live-lock, but it would be preferable if
we could avoid the need to timeout. Making the local planner horizon
smaller would also help in this case, but at the expense of degraded
obstacle avoidance performance.</p>

<p>This video shows how the windowed global plan solves the problem:</p>

<p>https://youtu.be/VPTIrmf1TQQ</p>

<p>The thin green line shows the plan as determined by the global
planner, which goes all the way to the goal. The thick green line shows
the section of the global plan to which the local planner has been exposed.
As the robot makes progress, the <code class="language-plaintext highlighter-rouge">move_base_swp</code> feeds additional waypoints
to the local planner. The new waypoints can be fed either continuously
or when the number of presently used waypoints runs below the low-watermark
threshold. Because the local planner is only exposed to limited number
of waypoints, effectively cutting its horizon, the secondary viable
path that causes the live-lock has been eliminated.</p>

<p>The next video shows how the usage of sparse waypoints can be at odds
with the local planner:</p>

<p>https://youtu.be/x_Khtj9rBhc</p>

<p>The robot is in the open space (no obstacles) and it gets a goal with
two waypoints that define a zig-zag path to the final pose. If the local
planner sees the whole plan, it will eventually start cutting corners
as the opportunistic behavior of reducing the distance to the goal starts
to prevail. The effect is especially visible for the second waypoint
where the robot does not even attempt to visit it, but instead cuts
straight to the goal.</p>

<p>This video shows how the windowed global plan solves the problem:</p>

<p>https://youtu.be/8t-57WI_6UY</p>

<p>By exposing the local planner to a shorter subset of the global plan,
the robot is forced to head towards the waypoint, before it learns about
the existence of the sharp turn and gives the opportunity to the local
planner to cut the corner.</p>

<h3 id="brake-rampdown">Brake rampdown</h3>

<p>If the goal is canceled or preempted, or the robot is made stop by any
means other than arriving to the goal, the original <code class="language-plaintext highlighter-rouge">move_base</code> node would
abruptly bring the velocity vector to zero. This can result in a jerky
motion, which can cause the stress or even damage to robot’s mechanical
or electrical system. <code class="language-plaintext highlighter-rouge">move_base_swp</code> introduces the break-rampdown feature
which makes the robot slow down gradually. The rampdown rate is controlled
by a parameter and the behavior can be turned off, essentially resulting
on original <code class="language-plaintext highlighter-rouge">move_base</code> behavior.</p>

<h3 id="handbrake-interface">Handbrake interface</h3>

<p>Sometimes, an application may decide to temporarily stop the robot
and then after some time allow it to proceed towards its target. In the
original <code class="language-plaintext highlighter-rouge">move_base</code> the only way to achieve this is to cancel
the goal and re-issue the new goal after the application decides to
restore the motion. <code class="language-plaintext highlighter-rouge">move_base_swp</code> provides a dedicated handbrake
interface that implements this feature. When the robot is ordered to
handbrake, it will not cancel the goal. The goal and the planner will
remain active until the handbrake is released, after which the robot
will continue to pursue its original plan.</p>

<h3 id="code-improvements">Code improvements</h3>

<p>Besides extended functionality, <code class="language-plaintext highlighter-rouge">move_base_swp</code> also refactors and
improves the general <code class="language-plaintext highlighter-rouge">move_base</code> code. Many instances of repeated code
are extracted into common functions. Blocks of code embedded in
long functions are extracted into separate functions and named accordingly.
Finally, some locks are reworked to improve the interlocking correctness.</p>

<h2 id="interfaces">Interfaces</h2>

<p><code class="language-plaintext highlighter-rouge">move_base_swp</code> provides all interfaces that <code class="language-plaintext highlighter-rouge">move_base</code> does unchanged.
If the <code class="language-plaintext highlighter-rouge">move_base</code> node in an application designed to work with it is
replaced with the <code class="language-plaintext highlighter-rouge">move_base_swp</code> node, the behavior will remain identical.
Other than launching the new mode no change to the application would
be necessary. However, to use the new capabilities (described above), the
application would have to be extended to use the new interfaces. This
makes the transition to <code class="language-plaintext highlighter-rouge">move_base_swp</code> easy, because the node can be
first swapped out, followed by gradually converting the application to
use the new features.</p>

<p>This section describes the interfaces (topics and <code class="language-plaintext highlighter-rouge">actionlib</code> interfaces)
that allow the application to use the new capabilities of the `move_base_swp’</p>

<h3 id="sparse-waypoint-actionlib-interface">Sparse-waypoint <code class="language-plaintext highlighter-rouge">actionlib</code> interface.</h3>

<p>This is a standard <code class="language-plaintext highlighter-rouge">actionlib</code> interface. Actions are defined in
‘move_base_swp/action/MoveBaseSWP.action<code class="language-plaintext highlighter-rouge"> file. The standard topics associated
with this interface are as follows, </code>move_base_swp/goal<code class="language-plaintext highlighter-rouge">,
</code>move_base_swp/result<code class="language-plaintext highlighter-rouge">, </code>move_base_swp/status<code class="language-plaintext highlighter-rouge">, </code>move_base_swp/feedback<code class="language-plaintext highlighter-rouge">, and
</code>move_base_swp/cancel`. The goal supplied is the list of poses that
represent the waypoints that the robot should visit. The last pose
in the list is the final goal:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>geometry_msgs/PoseStamped[] waypoint_poses

</code></pre></div></div>

<p>If a single-element list is provided as the goal, the resulting behavior
will be that of the original <code class="language-plaintext highlighter-rouge">move_base</code>. The
<a href="http://wiki.ros.org/move_base">legacy interface</a> is also available and
consists of original topics <code class="language-plaintext highlighter-rouge">move_base/goal</code>, <code class="language-plaintext highlighter-rouge">move_base/result</code>,
<code class="language-plaintext highlighter-rouge">move_base/status</code>, <code class="language-plaintext highlighter-rouge">move_base/feedback</code>, and <code class="language-plaintext highlighter-rouge">move_base/cancel</code>. The
goal received on the legacy <code class="language-plaintext highlighter-rouge">move_base</code> interface will be type-converted
and forwarded to the <code class="language-plaintext highlighter-rouge">move_base_swp</code> interface. The feedback and the result
will be visible on both interface.</p>

<p>The goal received on the new <code class="language-plaintext highlighter-rouge">move_base_swp</code>
interface will be executed natively and the feedback and result will
be visible on the new interface only. Issuing the new goal on either
of the two interfaces will preempt the goal in progress regardless
of the interface the goal was issued on. Only one goal can be pursued
at the time, regardless of the interface.</p>

<p>The simple-goal topic (<code class="language-plaintext highlighter-rouge">/move_base_simple/goal</code>) is also available for
sending goals from RVIZ.</p>

<h3 id="navigation-status-topics">Navigation status topics</h3>

<p>In addition to the <code class="language-plaintext highlighter-rouge">actionlib</code> interface, <code class="language-plaintext highlighter-rouge">move_base_swp</code> also
provides several topics that can be used to monitor and visualize the
progress of the goal. All topics that exist in the
<a href="http://wiki.ros.org/move_base">original <code class="language-plaintext highlighter-rouge">move_base</code></a>
node exist in the <code class="language-plaintext highlighter-rouge">move_base_swp</code> and they are not repeated here.</p>

<p>The namespace used for all topics is <code class="language-plaintext highlighter-rouge">move_base</code> (not <code class="language-plaintext highlighter-rouge">move_base_swp</code>)
because these topics are meant to be used together with original
topics provided by the <code class="language-plaintext highlighter-rouge">move_base</code>.</p>

<p>The new topics are:</p>

<p><code class="language-plaintext highlighter-rouge">/move_base/current_waypoints</code> (<a href="http://docs.ros.org/en/api/geometry_msgs/html/msg/PoseArray.html"><code class="language-plaintext highlighter-rouge">geometry_msgs/PoseArray</code></a>)</p>
<blockquote>
  <p>This topic contains the list of waypoints that the robot is currently
pursuing. As the robot visits each waypoint, it is removed from the list.
The order of poses in the list is the order in which the waypoints will be
visited.</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">/move_base/snapped_pose</code> (<a href="http://docs.ros.org/en/api/geometry_msgs/html/msg/PoseStamped.html"><code class="language-plaintext highlighter-rouge">geometry_msgs/PoseStamped</code></a>)</p>
<blockquote>
  <p>This topic represents the robot pose (as derived from the transform tree)
snapped to the global plan that the robot is pursuing. The snapping
is done by finding the nearest point in 2D space that lies on the line
composed out of dense waypoints generated by the global planner. This pose
can be used to visualize the robot progress along the plan. Internally
<code class="language-plaintext highlighter-rouge">move_base_swp</code> uses this pose to determine when to feed new segment
of the global plan into the local planner
(see <a href="https://github.com/ihadzic/move_base_swp/tree/master/./#windowed-global-plan">Windowed global plan</a> section for details).</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">/move_base/pursued_plan</code> (<a href="http://docs.ros.org/en/api/nav_msgs/html/msg/Path.html"><code class="language-plaintext highlighter-rouge">nav_msgs/Path</code></a>)</p>
<blockquote>
  <p>This topic is the subset of the global plan that has been fed to
the local planner and that the robot is currently pursuing. As the
robot makes progress along this plan, the waypoints are replenished
from the global plan (published by the global planner).</p>
</blockquote>

<h3 id="handbrake-topic">Handbrake topic</h3>

<p><code class="language-plaintext highlighter-rouge">/move_base/handbrake</code> (move_base_swp/Handbrake)</p>
<blockquote>
  <p>Sending <code class="language-plaintext highlighter-rouge">True</code> to this topic will pull the handbrake stopping the robot
along its plan. Sending <code class="language-plaintext highlighter-rouge">False</code> will release the handbrake. The handbrake
must be renewed every second (or less) by re-sending <code class="language-plaintext highlighter-rouge">True</code> to the topic.
This is required to prevent applications from halting the robot and
disappearing. Note that this is not a safety brake (a safety brake would
require an inverse logic that stops the robot if not renewed). This
handbrake is meant to be used as part of the robot navigation strategy
(e.g. stopping to yield to another robot).</p>
</blockquote>

<h2 id="parameters">Parameters</h2>

<p><code class="language-plaintext highlighter-rouge">move_base_swp</code> introduces several new parameters that control the behavior
of the navigation state machine. All parameters are dynamic and can be
changed at runtime with immediate effect or passed at node launch time.
This section describes the available parameters. All parameters that are
available in the <a href="http://wiki.ros.org/move_base">original <code class="language-plaintext highlighter-rouge">move_base</code></a>
node are available in <code class="language-plaintext highlighter-rouge">move_base_swp</code> with the same function. Their description
is not repeated here.</p>

<p><code class="language-plaintext highlighter-rouge">~brake_slope</code> (<code class="language-plaintext highlighter-rouge">float</code>, default: 0.5)</p>
<blockquote>
  <p>This parameter determines the deceleration rate (in m/s^2) that the
robot will use when braking. Note that naturally slowing down when
approaching the goal is not considered braking. Braking occurs when the
goal is canceled, or preempted, or when the handbrake is pulled. Setting
this parameter to a maximum value of 1000 (de-facto infinity) will
effectively result in the original <code class="language-plaintext highlighter-rouge">move_base</code> behavior which is
to stop immediately.</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">~brake_sample_rate</code> (`float, default: 20)</p>
<blockquote>
  <p>Rate (in Hz) at which to generate velocity vectors when braking.
This rate is used only when braking. During normal operation the rate
specified by <code class="language-plaintext highlighter-rouge">controller_frequency</code> is used as the sampling rate.</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">~plan_buffer_size</code> (<code class="language-plaintext highlighter-rouge">int</code>, default: 150)</p>
<blockquote>
  <p>The number of waypoints to keep loaded into the local planner when using
<a href="https://github.com/ihadzic/move_base_swp/tree/master/./#windowed-global-plan">Windowed global plan</a>. Setting this parameter
to zero will tun off this feature, effectively resulting in the original
<code class="language-plaintext highlighter-rouge">move_base</code> behavior.</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">~plan_reload_threshold</code> (<code class="language-plaintext highlighter-rouge">int</code>, default: 100)</p>
<blockquote>
  <p>The low-watermark threshold that determines when to load more waypoints
into the local planner. Setting this parameter to a value that is greater
than or equal to the value of <code class="language-plaintext highlighter-rouge">~plan_buffer_size</code> will result in feeding
waypoints continuously, which will result in least corner-cutting by the
local planner, but may have performance implications. Setting
this value to zero may result in choppy motion because the state machine
will wait until the local planner exhausts all waypoints before supplying
the new set.</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">~plan_min_step_len</code> (<code class="language-plaintext highlighter-rouge">float</code>, default: 0.025)</p>
<blockquote>
  <p>This parameter ensures that the length of the plan buffer roughly results
in the same covered distance for different map resolution. Namely, some
global planner generate the waypoints whose resolution matches the
map resolution. For example, 100 waypoints in the map whose resolution
is 0.01 m/pixel would result in 10x shorter distance than in the map
whose resolution is 0.1 m/pixel. Typically, such a fine resolution is not
necessary because the local planner can successfully deal with waypoints
that are much further apart. To deal with this problem <code class="language-plaintext highlighter-rouge">~plan_min_step_len</code>
parameter effectively downsamples the global plan such that the Euclidean
distance between plan waypoints is greater or equal to the one
specified by this parameter.</p>
</blockquote>

<h2 id="usage">Usage</h2>

<p>To use the <code class="language-plaintext highlighter-rouge">move_base_swp</code> node clone this repository into your catkin
workspace and build it with <code class="language-plaintext highlighter-rouge">catkin_make</code>.
Make sure that you have the ROS Navigation package installed
and configure it to use the <code class="language-plaintext highlighter-rouge">move_base</code> normally. Make sure that works before
cutting over to <code class="language-plaintext highlighter-rouge">move_base_swp</code>. Next, add additional parameters
under <code class="language-plaintext highlighter-rouge">move_base</code> namespace in the same way you would set any
other <code class="language-plaintext highlighter-rouge">move_base</code> parameter (either in your <code class="language-plaintext highlighter-rouge">.launch</code> file or in your
parameter <code class="language-plaintext highlighter-rouge">yaml</code> file). If you don’t add new parameters, default
values will be used which are fine to start with.</p>

<p>Next, modify your <code class="language-plaintext highlighter-rouge">launch</code> file for <code class="language-plaintext highlighter-rouge">move_base</code> and set the node type to
<code class="language-plaintext highlighter-rouge">move_base_swp</code>. Start the <code class="language-plaintext highlighter-rouge">move_base</code> as you would normally start
and your navigation system will run with <code class="language-plaintext highlighter-rouge">move_base_swp</code>. The relevant line
in the <code class="language-plaintext highlighter-rouge">.launch</code> file should look like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;node pkg="move_base_swp" type="move_base_swp" name="move_base" output="screen"&gt;

</code></pre></div></div>

<p>Once the node starts up, you should see new topics and the new <code class="language-plaintext highlighter-rouge">actionlib</code>
interface. Also, if you bring up <code class="language-plaintext highlighter-rouge">rqt_reconfig</code> tool, you should see
the new parameters in the <code class="language-plaintext highlighter-rouge">move_base</code> section.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-move_base">Changelog for package move_base</h1>

<h2 id="1167-2020-08-27">1.16.7 (2020-08-27)</h2>

<ul>
  <li>
    <p>move_base: Add options for make_plan service
(<a href="https://github.com/ros-planning/navigation/issues/981">#981</a>)
Adds the following two parameters for the ~make_plan service:
1. make_plan_clear_costmap Whether or not to clear the global costmap
on make_plan service call.
2. make_plan_add_unreachable_goal Whether or not to add the original
goal to the path if it is unreachable in the make_plan service call.</p>
  </li>
  <li>
    <p>Contributors: nxdefiant</p>
  </li>
</ul>

<h2 id="1166-2020-03-18">1.16.6 (2020-03-18)</h2>

<h2 id="1165-2020-03-15">1.16.5 (2020-03-15)</h2>

<h2 id="1164-2020-03-04">1.16.4 (2020-03-04)</h2>

<ul>
  <li>[Windows][melodic] Navigation (except for map_server and amcl)
Windows build bring up
(<a href="https://github.com/cobalt-robotics/navigation/issues/851">#851</a>)</li>
  <li>Contributors: Sean Yen</li>
</ul>

<h2 id="1163-2019-11-15">1.16.3 (2019-11-15)</h2>

<ul>
  <li>Merge branch 'melodic-devel' into layer_clear_area-melodic</li>
  <li>Added publishZeroVelocity() before starting planner
(<a href="https://github.com/ros-planning/navigation/issues/751">#751</a>)
Edit for Issue
<a href="https://github.com/ros-planning/navigation/issues/750">#750</a>
</li>
  <li>Merge pull request
<a href="https://github.com/ros-planning/navigation/issues/831">#831</a> from
ros-planning/feature/remove_slashes [melodic] Remove leading
slashes from default frame_id parameters</li>
  <li>Remove leading slashes from default frame_id parameters</li>
  <li>Contributors: David V. Lu, Michael Ferguson, SUNIL SULANIA, Steven
Macenski</li>
</ul>

<h2 id="1162-2018-07-31">1.16.2 (2018-07-31)</h2>

<h2 id="1161-2018-07-28">1.16.1 (2018-07-28)</h2>

<h2 id="1160-2018-07-25">1.16.0 (2018-07-25)</h2>

<ul>
  <li>Switch to TF2
<a href="https://github.com/ros-planning/navigation/issues/755">#755</a>
</li>
  <li>Merge pull request
<a href="https://github.com/ros-planning/navigation/issues/723">#723</a> from
moriarty/melodic-buildfarm-errors Melodic buildfarm errors</li>
  <li>Merge pull request
<a href="https://github.com/ros-planning/navigation/issues/719">#719</a> from
ros-planning/lunar_711 adding mutex locks to costmap clearing
service</li>
  <li>Contributors: Alexander Moriarty, Michael Ferguson, Vincent Rabaud,
stevemacenski</li>
</ul>

<h2 id="1152-2018-03-22">1.15.2 (2018-03-22)</h2>

<ul>
  <li>Merge pull request
<a href="https://github.com/ros-planning/navigation/issues/673">#673</a> from
ros-planning/email_update_lunar update maintainer email (lunar)</li>
  <li>Merge pull request
<a href="https://github.com/ros-planning/navigation/issues/649">#649</a> from
aaronhoy/lunar_add_ahoy Add myself as a maintainer.</li>
  <li>Rebase PRs from Indigo/Kinetic
(<a href="https://github.com/ros-planning/navigation/issues/637">#637</a>)
    <ul>
      <li>Respect planner_frequency intended behavior
(<a href="https://github.com/ros-planning/navigation/issues/622">#622</a>)</li>
    </ul>

    <p>* Only do a getRobotPose when no start pose is given
(<a href="https://github.com/ros-planning/navigation/issues/628">#628</a>)
Omit the unnecessary call to getRobotPose when the start pose was
already given, so that move_base can also generate a path in
situations where getRobotPose would fail. This is actually to work
around an issue of getRobotPose randomly failing.</p>
    <ul>
      <li>Update gradient_path.cpp
(<a href="https://github.com/ros-planning/navigation/issues/576">#576</a>)</li>
      <li>Update gradient_path.cpp</li>
      <li>Update navfn.cpp</li>
      <li>update to use non deprecated pluginlib macro
(<a href="https://github.com/ros-planning/navigation/issues/630">#630</a>)</li>
      <li>update to use non deprecated pluginlib macro</li>
      <li>multiline version as well</li>
      <li>Print SDL error on IMG_Load failure in server_map
(<a href="https://github.com/ros-planning/navigation/issues/631">#631</a>)</li>
    </ul>
  </li>
  <li>Contributors: Aaron Hoy, David V. Lu!!, Michael Ferguson</li>
</ul>

<h2 id="1151-2017-08-14">1.15.1 (2017-08-14)</h2>

<h2 id="1150-2017-08-07">1.15.0 (2017-08-07)</h2>

<ul>
  <li>Add a max_planning_retries parameter to move_base [kinetic]
(<a href="https://github.com/ros-planning/navigation/issues/539">#539</a>)</li>
  <li>Fix for
<a href="https://github.com/ros-planning/navigation/issues/517">#517</a>:
create a getRobotPose method on move_base instead of using that on
the costmaps</li>
  <li>Fixed deadlock when changing global planner</li>
  <li>rebase fixups</li>
  <li>convert packages to format2</li>
  <li>Fix CMakeLists + package.xmls
(<a href="https://github.com/ros-planning/navigation/issues/548">#548</a>)</li>
  <li>Added deps to amcl costmap_2d move_base
(<a href="https://github.com/ros-planning/navigation/issues/512">#512</a>)</li>
  <li>Fix CMake warnings</li>
  <li>move_base: Add move_base_msgs to find_package.</li>
  <li>Contributors: Jorge Santos, Jorge Santos Simón, Maarten de Vries,
Martin Günther, Mikael Arguedas, Vincent Rabaud, mryellow, ne0</li>
</ul>

<h2 id="1140-2016-05-20">1.14.0 (2016-05-20)</h2>

<h2 id="1131-2015-10-29">1.13.1 (2015-10-29)</h2>

<ul>
  <li>Removes installation of nonexistent directories</li>
  <li>use correct size for clearing window</li>
  <li>full name has been required for eons, this code just adds unneeded
complexity</li>
  <li>remove ancient conversion scripts from v0.2 to v0.3</li>
  <li>proper locking during costmap update</li>
  <li>Contributors: Michael Ferguson, Thiago de Freitas Oliveira Araujo</li>
</ul>

<h2 id="1130-2015-03-17">1.13.0 (2015-03-17)</h2>

<ul>
  <li>Fixing various memory freeing operations</li>
  <li>Contributors: Alex Bencz</li>
</ul>

<h2 id="1120-2015-02-04">1.12.0 (2015-02-04)</h2>

<ul>
  <li>update maintainer email</li>
  <li>Contributors: Michael Ferguson</li>
</ul>

<h2 id="11115-2015-02-03">1.11.15 (2015-02-03)</h2>

<ul>
  <li>Disable global planner when resetting state.</li>
  <li>Mark move_base headers for installation</li>
  <li>Add ARCHIVE DESTINATION for move_base</li>
  <li>Break infinite loop when tolerance 0 is used</li>
  <li>remove partial usage of &lt;tab&gt; in the code</li>
  <li>Contributors: Gary Servin, Michael Ferguson, ohendriks, v4hn</li>
</ul>

<h2 id="11114-2014-12-05">1.11.14 (2014-12-05)</h2>

<ul>
  <li>use timer rather than rate for immediate wakeup</li>
  <li>adding lock to planner makePlan fail case</li>
  <li>Contributors: Michael Ferguson, phil0stine</li>
</ul>

<h2 id="11113-2014-10-02">1.11.13 (2014-10-02)</h2>

<h2 id="11112-2014-10-01">1.11.12 (2014-10-01)</h2>

<h2 id="11111-2014-07-23">1.11.11 (2014-07-23)</h2>

<ul>
  <li>removes trailing spaces and empty lines</li>
  <li>Contributors: Enrique Fernández Perdomo</li>
</ul>

<h2 id="11110-2014-06-25">1.11.10 (2014-06-25)</h2>

<ul>
  <li>Remove unnecessary colons</li>
  <li>move_base planService now searches out from desired goal</li>
  <li>Contributors: David Lu!!, Kaijen Hsiao</li>
</ul>

<h2 id="1119-2014-06-10">1.11.9 (2014-06-10)</h2>

<ul>
  <li>uses ::hypot(x, y) instead of sqrt(x*x, y*y)</li>
  <li>Contributors: Enrique Fernández Perdomo</li>
</ul>

<h2 id="1118-2014-05-21">1.11.8 (2014-05-21)</h2>

<h2 id="1117-2014-05-21">1.11.7 (2014-05-21)</h2>

<ul>
  <li>update build to find eigen using cmake_modules</li>
  <li>Fix classloader warnings on exit of move_base</li>
  <li>Contributors: Michael Ferguson</li>
</ul>

<h2 id="1114-2013-09-27">1.11.4 (2013-09-27)</h2>

<ul>
  <li>Package URL Updates</li>
  <li>Reintroduce ClearCostmaps Service</li>
  <li>Add dependencies to recovery behaviors.</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/move_base_swp/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/cmake_modules#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/cmake_modules#melodic">cmake_modules  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/message_generation#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/message_generation#melodic">message_generation  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#melodic">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#melodic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#melodic">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/message_runtime#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/message_runtime#melodic">message_runtime  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/actionlib#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/actionlib#melodic">actionlib  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/costmap_2d#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/costmap_2d#melodic">costmap_2d  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/dynamic_reconfigure#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/dynamic_reconfigure#melodic">dynamic_reconfigure  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/geometry_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/geometry_msgs#melodic">geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/actionlib_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/actionlib_msgs#melodic">actionlib_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/move_base_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/move_base_msgs#melodic">move_base_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_core#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_core#melodic">nav_core  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_msgs#melodic">nav_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/pluginlib#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/pluginlib#melodic">pluginlib  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roscpp#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roscpp#melodic">roscpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rospy#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rospy#melodic">rospy  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/std_srvs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/std_srvs#melodic">std_srvs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_ros#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_ros#melodic">tf2_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/visualization_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/visualization_msgs#melodic">visualization_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/base_local_planner#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/base_local_planner#melodic">base_local_planner  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/clear_costmap_recovery#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/clear_costmap_recovery#melodic">clear_costmap_recovery  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/navfn#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/navfn#melodic">navfn  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rotate_recovery#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rotate_recovery#melodic">rotate_recovery  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ihadzic/move_base_swp/tree/master/./planner_test.xml" target="_blank">planner_test.xml</a>
                <ul class="list-unstyled">
                  
                    <li><em></em></li>
                  
                  <li>
                    <ul>
                      
                    </ul>
                  </li>
                </ul>
              </li>
            
          </ul>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ihadzic/move_base_swp/tree/master/./msg/Handbrake.msg" target="_blank">msg/Handbrake.msg</a></li>
            
          </ul>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>move_base_swp</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="melodic-question-list" class="panel-body" style="display: none;"></div>
      <div id="melodic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/move_base_swp+melodic">here</a>.</p>
      </div>
      <div id="melodic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/ihadzic/move_base_swp.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/melodic/api/move_base_swp/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/ihadzic/move_base_swp/tree/master/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/move_base_swp?distro=melodic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/move_base_swp?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/move_base_swp?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=move_base_swp&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "move_base_swp"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
