<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: file_management</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/file_management/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">file_management</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class=" older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/file_management">file_management</a> <small>package from <a style="text-decoration:none" href="/r/cloudwatch_common/github-aws-robotics-cloudwatch-common">cloudwatch_common</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/cloudwatch_logs_common">

cloudwatch_logs_common
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/cloudwatch_metrics_common">

cloudwatch_metrics_common
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dataflow_lite">

dataflow_lite
</a>
            
          
            
            
              <span class="label label-default pkg-label">

file_management
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/melodic/api/file_management/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/aws-robotics/cloudwatch-common/tree/master/file_management"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/file_management?distro=melodic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="melodic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#melodic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#melodic-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#melodic-deps" data-toggle="tab"><span class="label label-primary">7</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#melodic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#melodic-questions" data-toggle="tab"><span id="melodic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="melodic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>1.1.5</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>Apache 2.0</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS packages for facilitating the use of AWS cloud services.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/aws-robotics/cloudwatch-common.git">https://github.com/aws-robotics/cloudwatch-common.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2022-02-08
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
          UNMAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <a href="https://build.ros.org/view/Mdev/job/Mdev__cloudwatch_common__ubuntu_bionic_amd64" class="label ci-result-success" title="Latest build information: Tue, 08 Feb 2022 21:50:17 GMT
  Total tests: 0
  Succeeded: 0
  Skipped: 0
  Failed: 0
No build history available for this repository.">
                        <span class="glyphicon glyphicon-check"></span>
                        Continuous Integration
                        
                          : 0 / 0
                        
                      </a>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/cloudwatch_common/#melodic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/cloudwatch_common/#melodic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/cloudwatch_common/#melodic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            AWS CloudWatch management library used to manage offline files.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>AWS RoboMaker</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>AWS RoboMaker</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    
      <div class="row">
        <div class="col-xs-12">
          <div class="panel panel-default">
            <div class="panel-heading"><span class="glyphicon glyphicon-file"></span> README </div>
            <div class="panel-body">
            <em>No README found.</em>
             <em><a href="/r/cloudwatch_common/github-aws-robotics-cloudwatch-common/#melodic">See repository README.</a></em>
            
            </div>
          </div>
        </div>
      </div>
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-file_management">Changelog for package file_management</h1>

<h2 id="101-2019-03-20">1.0.1 (2019-03-20)</h2>

<ul>
  <li>adding unit tests for cloudwatch facade</li>
  <li>Merge pull request
<a href="https://github.com/aws-robotics/cloudwatch-common/issues/4">#4</a>
from juanrh/improve-coverage-cloudwatch_logger Improve coverage
cloudwatch logger</li>
  <li>Make LogManagerFactory mockeable</li>
  <li>Make file_management shared lib to use it in other libs</li>
  <li>Merge pull request
<a href="https://github.com/aws-robotics/cloudwatch-common/issues/1">#1</a>
from xabxx/master [Bug Fix] Resolved false-positive error log
messages</li>
  <li>Resolved false-positive error log messages</li>
  <li>Contributors: Abby Xu, Ross Desmond, Ryan Newell, Yuan "Forrest"
Yu, hortala</li>
</ul>

<h2 id="115-2020-10-14">1.1.5 (2020-10-14)</h2>

<p>No changes.</p>

<h2 id="114-2020-09-17">1.1.4 (2020-09-17)</h2>

<ul>
  <li>Add AWS logging to batch tests
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/58">#58</a>)</li>
  <li>Allow user to automatically delete CloudWatch logs in batch that
are &gt; 14 days old
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/56">#56</a>)
    <ul>
      <li>move docstring and don't break loop</li>
      <li>call fileUploadComplete</li>
      <li>modify struct and add tests</li>
      <li>add tests and change 2 week wording to old</li>
      <li>Add lock to discard stale data container</li>
      <li>extend stale data protection</li>
      <li>remove setter</li>
      <li>Reduce lock_guard scope</li>
    </ul>
  </li>
  <li>Bumping version to match bloom release
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/51">#51</a>)
Bumping version to 1.1.3</li>
  <li>Fix linting issues found by clang-tidy 6.0
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/50">#50</a>)
    <ul>
      <li>clang-tidy fixes</li>
      <li>revert explicit constructor declarations to maintain API
compatbility</li>
      <li>clang-tidy linting issues fixed manually</li>
      <li>fix unit tests build break</li>
    </ul>
  </li>
  <li>Increase package version numbers to 1.1.2
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/44">#44</a>)</li>
  <li>Fixes a bug where we did not null check the result of getting the
HOMâ€¦
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/43">#43</a>)
Fixes a bug where we did not null check the result of getting the
HOME env variable and also switches to create_directories instead
of create_directory so that it doesn't SIGABRT when asked to
create multiple levels of a directory.</li>
  <li>Contributors: Jesse Ikawa, Miaofei Mei, Nick Burek, Ragha Prasad</li>
</ul>

<h2 id="111-2019-09-10">1.1.1 (2019-09-10)</h2>

<ul>
  <li>Disable error on cast-align warning to support ARMhf builds
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/41">#41</a>)
    <ul>
      <li>Remove -Wcast-align flag to support ARMhf builds</li>
      <li>
        <ul>
          <li>bumped versions to 1.1.1</li>
        </ul>
      </li>
      <li>restored cast-align, but added as a warning</li>
      <li>removed unused headers</li>
      <li>Removed duplicate Werror</li>
    </ul>
  </li>
  <li>modify changelist to be compatible with catkin_generate_changelog
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/39">#39</a>)
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</li>
  <li>synchronize version of new packages with rest of the packages in the
repo
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/38">#38</a>)
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</li>
  <li>Merge pull request
<a href="https://github.com/aws-robotics/cloudwatch-common/issues/36">#36</a>
from aws-robotics/guard_test_libs Added guards for test libraries</li>
  <li>Added guards for test libraries</li>
  <li>Offline logs feature
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/34">#34</a>)
* Add file manager and upload complete callback Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Fixed merge conflict Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add file manager test Still deciding if the write should just go
in the FileManagerStrategy. Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add FileManager to log manager factory Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add generic file upload logic Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
    <ul>
      <li>Add reading, discovery and rotation to FileManagerStrategy</li>
    </ul>

    <p>- Add function getFileToRead that returns the best file to start
reading from when sending data from the file to CloudWatch.
- Add function discoverStoredFiles which finds all files in the
storage directory and keeps them, in case there were offline logs
still hanging around from a previous run.
- Add rotateActiveFile which creates a new file to write to. This
is used when we want to read from the current active file, or when
the file size limit has been reached. Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add file management system. Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Link file management with publisher Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add test for file management system Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Add reading and writing to FileManagerStrategy</li>
    </ul>

    <p>- This way the file manager strategy can handle all the core file
data stuff, keeping track of the size of the active file and
rotating it when neccessary. Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* cleanup Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Don't initialize file_manager_strategy yet Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Add file upload statistics Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Move file management files to isolated package Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Moved tests to file_manager folder Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Update offline test location Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add comments to file management interfaces Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add more comments to file uploading Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add futures/promises to file upload tasks Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add blocking and observed queue interface Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add comments to observed_queue.h Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Make batch size configurable for file upload manager
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Add subscribe method to file upload manager Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Move queues and status monitor to dataflow folder Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Atomatize status monitor Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add working dataflow pipeline Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add template argument for file management factory Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Add priority between queues functionality Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Fix test and rename namespace for dataflow Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Cleanup test Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Organize priority options Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Rename FileUploadManager to FileUploadStreamer Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Add comments Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Convert LogManager to sink and ILogManager Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Amend UploadFunction status type Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add milliseconds to dequeue Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add timeout to dequeue() Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add operator &gt;&gt; overload for source to input stage
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Adding tests for file manager strategy Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Use Tokens with FileManagerStrategy</li>
    </ul>

    <p>- FileManagerStrategy now only has basic read and write functions.
When reading data you're given a token. When done sending this to
CloudWatch you can call resolve() on the token which marks that
section of the file as complete. After all sections of a file have
uploaded the file is deleted.
- FileManagerStrategy also now inherits from DataManagerStrategy so
that in the future people can build new systems for managing their
offline logs and easily hook them into the existing framework.
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Fix operator overload for InputStage Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Remove unnecessary external class declaration Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Add tests for file upload streamer Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Reformat file management Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Reformat log file names and discovery Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Cleanup, add Tests</li>
      <li>Rename file_name to file_path to better describe what it
represents</li>
    </ul>

    <p>- Add more tests for FileManagerStrategy Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Delete old files when storage limit is reached</li>
    </ul>

    <p>- Add a storage_limit option. When this is reached the oldest file
on disk will be deleted to clear space.
- The storage limit is checked before data is written so that the
size of files on disk can never be over the storage limit.
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Task factory
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/6">#6</a>)</li>
      <li>Don't use atomic memory operations</li>
      <li>generic observer definition</li>
      <li>init connection monitor</li>
    </ul>

    <p>* Added publisher interface Refactored log publisher to use
interface
* Added IPublisher Interface definition and as Task member Added
Publisher implementation and templated for data type
* Added LogBatcher (renamed LogManager) Added DataStreamer
interface</p>
    <ul>
      <li>Rename DataStreamer interface to DataBatcher to reduce confusion</li>
    </ul>

    <p>* Added TaskFactory Added Publisher Interface Added factory to
LogBatcher</p>
    <ul>
      <li>BasicTask uses a shared pointer for templated data</li>
      <li>Added publishing when the DataBatcher reaches a specific size</li>
    </ul>

    <p>* Use generic FileManager in the TaskFactory Add
uploadCompleteStatus as an abstract FileManager method</p>
    <ul>
      <li>Added Log Service</li>
      <li>worker thread to dequeue tasks</li>
      <li>common owner of various actors (file streaming, log batching)</li>
      <li>templated to be a generic interface</li>
      <li>Added Task cancel method</li>
      <li>minor change to push</li>
      <li>Fix file permissions</li>
      <li>Added dequeue with timeout for LogService</li>
    </ul>

    <p>* Finished publisher base class implementation Added new states for
LogPublisher</p>
    <ul>
      <li>Removed shared object from logs</li>
      <li>Moved AWS SDK init and shutdown into publisher</li>
    </ul>

    <p>* uncomment file streamer code - does not compile! Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Fixed build, still todo fix file streamer Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Simple pipeline tests
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/9">#9</a>)</li>
      <li>initial commit for simple test</li>
      <li>Added test for batched size</li>
      <li>minor comments</li>
    </ul>

    <p>* Added ObservableObject class Added simple ObservableObject tests
Integrated ObservableObject into base publisher class File Streamer
uses ObservableObject registration on publisher owned state
* Added basic service interface for generic init, start, and
shutdown Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Remove task factory</li>
      <li>Task change proposal</li>
      <li>Remove the task factory</li>
      <li>Working file management tests</li>
    </ul>

    <p>* Fix tests and minor logic due to merge Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Address comments for task change proposal Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Delete task_factory.h Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Add cloudwatch options</li>
    </ul>

    <p>* Use explict set/add sink and source functions Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Cleanups
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/12">#12</a>)</li>
      <li>Added cancel flag</li>
      <li>Added thread handling (same as log service) to file upload
streamer</li>
      <li>Added RunnableService</li>
    </ul>

    <p>* Added ObservableObject tests Added documentation
* Added RunnableService test Added documentation Converted streamer
and log service to runnables
* Merge Conflict Fixes Added sanity (empty) tests</p>
    <ul>
      <li>Fixed pipeline tests</li>
      <li>Addressed review comments</li>
    </ul>

    <p>* fix for merge conflict Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Thorough testing of token system Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Clear file streamer queue on failure to upload</li>
    </ul>

    <p>* Add locks around dequeue Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add basic mutex synchronization for ObservedQueue Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Remove uploadStatusComplete from FileManager Remove the
uploadStatusComplete function from FileManager as it is not the
responsibility of the file manager to determine if data should be
written. Instead, a lambda should be used to first check for upload
failure then write to the file manager. Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add construct from backup for TokenStore Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Fix synchronized queue and address comments Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Enable build flags
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/16">#16</a>)</li>
      <li>Added build flags per team process</li>
      <li>Addressed some build fixes found by flags</li>
    </ul>

    <p>* Fix build issues with new build flags Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Fix publishing
(<a href="https://github.com/aws-robotics/cloudwatch-common/issues/15">#15</a>)</li>
    </ul>

    <p>* Removed initialize method (not needed) for service Fixed
publishing Reinit AWS SDK each time we configure (needed if gone
offline)
* Addressed some ToDos Added publisher diagnostics Minor cleanups
Added documentation</p>
    <ul>
      <li>Fix issue with constant</li>
      <li>Propgated no network connection state in publisher</li>
      <li>fix pipeline test teardown</li>
      <li>Addressed review comments</li>
      <li>merge fixes</li>
    </ul>

    <p>* Added input checking for CloudWatchService Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Don't clear sink on successful upload</li>
    </ul>

    <p>- Add test and fix bug so that the file upload sink is only cleared
when an upload fails. cr
<a href="https://code.amazon.com/reviews/CR-9559033">https://code.amazon.com/reviews/CR-9559033</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>ROS-2000: [Test] Full pipeline when there is no internet</li>
    </ul>

    <p>- added input checking for various constructors cr
<a href="https://code.amazon.com/reviews/CR-9552279">https://code.amazon.com/reviews/CR-9552279</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>ROS-2136: Address migrating core classes to service interface</li>
      <li>Define Defaults for File Strategy</li>
      <li>Deleted files are deleted on a new thread</li>
      <li>Removed code from destructors that may fail</li>
    </ul>

    <p>- CloudWatchService handles start / shutdown of all services
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2001: [Test] Full pipeline when there is intermittent
internet ROS-2002: [Test] Case when batched data is queued at an
untenable rate Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Addressed review comments Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Move dataflow to separate library cr
<a href="https://code.amazon.com/reviews/CR-9586163">https://code.amazon.com/reviews/CR-9586163</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Move file management to separate package directory</li>
    </ul>

    <p>* Modified onPublishStatusChanged in file streamer to remove
dependency on cloudwatch cr
<a href="https://code.amazon.com/reviews/CR-9596692">https://code.amazon.com/reviews/CR-9596692</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2147: Move DataBatcher to utils cr
<a href="https://code.amazon.com/reviews/CR-9640987">https://code.amazon.com/reviews/CR-9640987</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>
        <ul>
          <li>addressed review comments</li>
        </ul>
      </li>
      <li>added documentation</li>
    </ul>

    <p>- moved waiter test utility to separate implementation
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2166: I can check the state of the CloudWatch publishing
service cr <a href="https://code.amazon.com/reviews/CR-9763677">https://code.amazon.com/reviews/CR-9763677</a>
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Add Metric File Manager to Cloudwatch Metrics Common cr
<a href="https://code.amazon.com/reviews/CR-9607921">https://code.amazon.com/reviews/CR-9607921</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Improve metric serialization, add tests. Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add Serialization of StatisticValues Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Add serializing of Dimensions, Value and Values Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Doc and coding style improvements Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Squashed commit of the following: cr
<a href="https://code.amazon.com/reviews/CR-9769267">https://code.amazon.com/reviews/CR-9769267</a> commit
41bc857bd30853f80a439bfec0ba389fd4253dc0 Author: Devin Bonnie
&lt;&lt;dbbonnie@amazon.com&gt;&gt; Date: Fri Jun 21 13:52:29 2019 -0700
Various fixes from rebasing commit
0e6149b0733323d80390567c11d65e013318d3f2 Author: Devin Bonnie
&lt;&lt;dbbonnie@amazon.com&gt;&gt; Date: Thu Jun 20 16:39:58 2019 -0700</p>
    <ul>
      <li>addressed review comments</li>
      <li>added metrics definition file</li>
    </ul>

    <p>- removed configure from publisher interface commit
206880df0198d6fba4299f0ebd25fbc23831bc8b Author: Devin Bonnie
&lt;&lt;dbbonnie@amazon.com&gt;&gt; Date: Mon Jun 17 11:43:57 2019 -0700
ROS-2055: Implement DataBatcher for Metrics ROS-2056: Implement
MetricService cr <a href="https://code.amazon.com/reviews/CR-9769267">https://code.amazon.com/reviews/CR-9769267</a> commit
c2ad314521b17a34c7f481d5ea5c5ca008918ac2 Author: Devin Bonnie
&lt;&lt;dbbonnie@amazon.com&gt;&gt; Date: Fri Jun 14 23:55:23 2019 -0700
ROS-2057: Create immutable metric container commit
b2df9419963a67b60b87df9e5aee34d55111d92c Author: Devin Bonnie
&lt;&lt;dbbonnie@amazon.com&gt;&gt; Date: Fri Jun 14 16:50:48 2019 -0700 Moved
CloudwatchService to utils commit
e07e35e04ed3a4c2d2803a3daf3261dc8f3c2e4b Author: Devin Bonnie
&lt;&lt;dbbonnie@amazon.com&gt;&gt; Date: Fri Jun 14 11:08:40 2019 -0700
ROS-2055: Implement Metric Publisher</p>
    <ul>
      <li>moved Publisher to utilities</li>
      <li>moved CloudWatchService to utilities</li>
      <li>cleaned up headers</li>
    </ul>

    <p>- fixed namespace issues Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2226: [Bug] Metrics Facade Class does not properly set
network disconnected state cr
<a href="https://code.amazon.com/reviews/CR-10089409">https://code.amazon.com/reviews/CR-10089409</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Backup TokenStore to disk</li>
      <li>Add TokenStoreOptions so the user can configure the directory
the token store is backed up to.</li>
    </ul>

    <p>- On shutdown save the token store and all active tokens out to
disk in JSON format.</p>
    <ul>
      <li>On startup load the tokenstore from the file saved on disk.</li>
    </ul>

    <p>- Tests for shutdown/startup cr
<a href="https://code.amazon.com/reviews/CR-9736297">https://code.amazon.com/reviews/CR-9736297</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Improve serialize function, catch invalid JSON</li>
      <li>Add a new serialize function instead of overloading &lt;&lt; in
TokenStore</li>
    </ul>

    <p>- Catch and continue if we have trouble parsing the TokenStore
backup file. Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Improve naming and initialization of variables Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Add better random number generator Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Code style fixes Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2051: Add FileManagement Pipeline to CW Metrics cr
<a href="https://code.amazon.com/reviews/CR-10100452">https://code.amazon.com/reviews/CR-10100452</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Moving options around</li>
    </ul>

    <p>- Moving TokenStore and FileManagerStrategy options to a separate
file so that it can be included and set by the upstream packages.</p>
    <ul>
      <li>Renaming the Dataflow options to UploaderOptions</li>
    </ul>

    <p>- Creating one main CloudwatchOptions in both logs and metrics that
has FileManagerOptions and UploaderOptions inside it. Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Change storage limits to kb instead of bytes cr
<a href="https://code.amazon.com/reviews/CR-10144739">https://code.amazon.com/reviews/CR-10144739</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* File upload streamer integration and unit tested <em>Summary</em> File
upload and token cache manages failed and in flight tokens. Files
are uploaded when the streamer is notified of an available file and
network access. Files that are on the system are after FileStreamer
shutdown are uploaded on restart.</p>
    <ul>
      <li>Tested with cloudwatch logs</li>
    </ul>

    <p>* Tested with unit tests cr
<a href="https://code.amazon.com/reviews/CR-10173529">https://code.amazon.com/reviews/CR-10173529</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Capitalize W in kDefaultCloudWatchOptions Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Pass options correctly, fixing bugs</li>
      <li>Pass options to the FileManager for logs and metrics</li>
    </ul>

    <p>- Add additional params to handle this option passing.
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Add different file storage options for metrics by default</li>
    </ul>

    <p>- Metrics files now go in a metrics directory with metric prefix by
default, so that they don't get mixed up with offline logs.
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>DRY'ify, remove magic numbers, fix tests</li>
      <li>Consolidate duplicate path processing code into one area.</li>
      <li>Fix magic numbers, move into defines.</li>
    </ul>

    <p>- Fix tests. Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2249: [Bug] Log Publisher implementation does not properly
handle token init ROS-2250: Restore CloudWatch Logs Facade Unit Test
cr <a href="https://code.amazon.com/reviews/CR-10253526">https://code.amazon.com/reviews/CR-10253526</a> Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Added relevant unit tests Minor fixes and cleanup Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>
        <ul>
          <li>CloudWatchClients are now shared pointers instead of unique</li>
        </ul>
      </li>
      <li>addressed spacing issues</li>
    </ul>

    <p>- updated CloudWatchLogs facade naming to be consistent with
Metrics Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Include &lt;random&gt; in header file cr
<a href="https://code.amazon.com/reviews/CR-10531916">https://code.amazon.com/reviews/CR-10531916</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Rename variables and error to match config</li>
      <li>Rename the batch size variables to match the config file names.</li>
    </ul>

    <p>- Update error message so the end user knows what config options
are wrong. cr <a href="https://code.amazon.com/reviews/CR-10481115">https://code.amazon.com/reviews/CR-10481115</a>
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Allow batch_trigger_publish_size and batch_max_queue_size
to be the same Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Changing back ot publish size must be less than max queue size
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Check batch trigger publish size against kDefaultTriggerSize
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>ROS-2231: [Bug] Potential locking issue with DataBatcher child
classes</li>
      <li>batcher attempt to flush batched data when shutting down</li>
    </ul>

    <p>- added documentation cr
<a href="https://code.amazon.com/reviews/CR-10543019">https://code.amazon.com/reviews/CR-10543019</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Addressed review comments Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Fix up param values</li>
      <li>Remove stream_max_queue_size as it's no longer used.</li>
    </ul>

    <p>- Remove kDefaultUploaderOptions because it's not used as it's
always replaced by the default values specified in uploader_options
struct.
- Pass batch_max_queue_size and batch_trigger_publish_size to
the DataBatcher's so they're actually used cr
<a href="https://code.amazon.com/reviews/CR-10571067">https://code.amazon.com/reviews/CR-10571067</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2338: I can configure the amount of streamed data to hold in
memory cr <a href="https://code.amazon.com/reviews/CR-10578133">https://code.amazon.com/reviews/CR-10578133</a>
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>ROS-2240: Restore existing unit tests</li>
    </ul>

    <p>- added definitions header to logs cr
<a href="https://code.amazon.com/reviews/CR-10569452">https://code.amazon.com/reviews/CR-10569452</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Removed extra definitions file Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2341: Publisher state refactor cr
<a href="https://code.amazon.com/reviews/CR-10584550">https://code.amazon.com/reviews/CR-10584550</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Fixes bug with trying to upload to cloudwatch in batches that
aren't chronologically sorted.
<a href="https://sim.amazon.com/issues/7cbe72f2-28c6-4771-a202-ab0d72587031">https://sim.amazon.com/issues/7cbe72f2-28c6-4771-a202-ab0d72587031</a>
cr <a href="https://code.amazon.com/reviews/CR-10621402">https://code.amazon.com/reviews/CR-10621402</a> Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2346: [Bug] Don't set stats values in metric datums cr
<a href="https://code.amazon.com/reviews/CR-10623123">https://code.amazon.com/reviews/CR-10623123</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* - doc additions Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* - removed other unsupported types via review Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2263: [Bug] Storage and retry behavior for failed requests
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Addressed review comments Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Added invalid data handling to metrics Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2368: [Bug] Data is not attempted to be uploaded without an
active input cr <a href="https://code.amazon.com/reviews/CR-10664962">https://code.amazon.com/reviews/CR-10664962</a>
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2369: [Bug] Fix Metrics Serialization Unit Tests cr
<a href="https://code.amazon.com/reviews/CR-10665643">https://code.amazon.com/reviews/CR-10665643</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Revert "ROS-2368: [Bug] Data is not attempted to be uploaded
without an active input" This reverts commit
67129f977446079a28539833c0d3d7967306f0c2. Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2368: [Bug] Data is not attempted to be uploaded without an
active input cr <a href="https://code.amazon.com/reviews/CR-10664962">https://code.amazon.com/reviews/CR-10664962</a>
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2380: [Bug] CloudWatch Service Shutdown cr
<a href="https://code.amazon.com/reviews/CR-10804863">https://code.amazon.com/reviews/CR-10804863</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Fix bug - logs not being uploaded from disk after reconnecting</li>
    </ul>

    <p>- If all files on disk were added to the queue the status was set
to UNAVAILABLE. Then if they failed to upload the status was never
restored. This ensures that if a file fails to upload the status is
set back to AVAILABLE so they can attempt to be uploaded again.
- Add more DEBUG logs to file management. cr
<a href="https://code.amazon.com/reviews/CR-10806493">https://code.amazon.com/reviews/CR-10806493</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Read the newest file in storage instead of the oldest, lock when
deleting file</p>
    <ul>
      <li>Read the newest file from storage instead of reading the oldest.</li>
    </ul>

    <p>- When deleting a file to free up storage space, add a lock to
ensure we're not reading from that same file. If we are then stop
reading from that file. cr
<a href="https://code.amazon.com/reviews/CR-10886255">https://code.amazon.com/reviews/CR-10886255</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Add lock to active write file</li>
      <li>When checking if the active file should be rotated first lock it
to ensure it's not being written to as it's rotated.</li>
    </ul>

    <p>- Add new log to delete oldest file. Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>Add docs for FileManagerStrategy, cleanup unused code</li>
      <li>Add documentation to all FileManagerStrategy functions</li>
      <li>Remove some un-useful code for the FileManagerStrategy</li>
    </ul>

    <p>- Function renaming / cleanup to make more sense. Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Remove todo and unused variable Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* Remove unneccessary initialization and commented out code
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2381: [Bug] Items in memory lost on shutdown cr
<a href="https://code.amazon.com/reviews/CR-10942302">https://code.amazon.com/reviews/CR-10942302</a> Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* ROS-2421: [Bug] Ensure FileManager thrown exceptions are
handled cr <a href="https://code.amazon.com/reviews/CR-11029944">https://code.amazon.com/reviews/CR-11029944</a>
Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;</p>
    <ul>
      <li>
        <ul>
          <li>addressed review comments</li>
        </ul>
      </li>
    </ul>

    <p>- changed file upload streamer wait timeout from 1 minute to 5
minutes Signed-off-by: Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* Addressed terse variable names Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* increment minor version Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* fix compilation errors in unit tests Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;
* fix more compilation errors found in dashing Signed-off-by:
Miaofei &lt;&lt;miaofei@amazon.com&gt;&gt;
* fix unit test failures Signed-off-by: Miaofei
&lt;&lt;miaofei@amazon.com&gt;&gt;</p>
  </li>
  <li>Contributors: Devin Bonnie, M. M</li>
</ul>

<h2 id="100-2019-03-20">1.0.0 (2019-03-20)</h2>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/file_management/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_gtest#melodic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_gtest#melodic">ament_cmake_gtest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_gmock#melodic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_gmock#melodic">ament_cmake_gmock  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/aws_common#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/aws_common#melodic">aws_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/dataflow_lite#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/dataflow_lite#melodic">dataflow_lite  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/cmake">cmake</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/gtest">gtest</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/google-mock">google-mock</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/cloudwatch_logs_common#melodic">cloudwatch_logs_common</a></td>
                      <td class="text-center">
                        
                        <a href="/p/cloudwatch_logs_common#melodic-deps" >
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/cloudwatch_metrics_common#melodic">cloudwatch_metrics_common</a></td>
                      <td class="text-center">
                        
                        <a href="/p/cloudwatch_metrics_common#melodic-deps" >
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>file_management</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="melodic-question-list" class="panel-body" style="display: none;"></div>
      <div id="melodic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/file_management+melodic">here</a>.</p>
      </div>
      <div id="melodic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/aws-robotics/cloudwatch-common.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/melodic/api/file_management/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/aws-robotics/cloudwatch-common/tree/master/file_management"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/file_management?distro=melodic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/file_management?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/file_management?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=file_management&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "file_management"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
