<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: adi_tmc_coe_core</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/adi_tmc_coe_core/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">adi_tmc_coe_core</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/adi_tmc_coe_core">adi_tmc_coe_core</a> <small>package from <a style="text-decoration:none" href="/r/adi_tmc_coe/github-analogdevicesinc-adi_tmc_coe_ros2">adi_tmc_coe</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/adi_tmc_coe">

adi_tmc_coe
</a>
            
          
            
            
              <span class="label label-default pkg-label">

adi_tmc_coe_core
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/adi_tmc_coe_interfaces">

adi_tmc_coe_interfaces
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/humble/p/adi_tmc_coe_core"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="humble-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#humble-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#humble-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#humble-deps" data-toggle="tab"><span class="label label-primary">8</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#humble-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#humble-questions" data-toggle="tab"><span id="humble-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="humble-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>1.0.0</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD-3-Clause</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Official ROS2 Metapackage driver for Trinamic Motor Controller (TMC) boards with CoE (CANopen-over-etherCAT) interface.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2.git">https://github.com/analogdevicesinc/adi_tmc_coe_ros2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">humble</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-03-06
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/adi_tmc_coe/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/adi_tmc_coe/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/adi_tmc_coe/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Core package for Trinamic Motor Controllers (TMC) that uses CANopen-over-etherCAT(CoE) protocol.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Analog Devices</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/README.md" title="Open in git repository">adi_tmc_coe_core/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<table>
  <thead>
    <tr>
      <th>adi_tmc_coe_core</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Core package for Trinamic Motor Controllers (TMC) that uses CANopen-over-etherCAT(CoE) protocol.</td>
    </tr>
  </tbody>
</table>

<h1 id="background">Background</h1>
<ul>
  <li>Supported TMC boards: <a href="https://www.analog.com/en/products/pd-1461.html">TMCM-1461-CoE</a>
</li>
  <li>Supported communication interface and interface driver: CANopen-over-etherCAT (<a href="https://github.com/OpenEtherCATsociety/SOEM">SOEM</a>)</li>
  <li>Supported ROS and OS distro: Humble (Ubuntu 22.04)</li>
  <li>Supported platform: Intel x86 64-bit (amd64)</li>
  <li>Supported setup: Single/Multiple TMC in Single ECAT interface (namespace-managed)</li>
</ul>

<blockquote>
  <p>:memo: <em>Note: Although officially supported TMC boards are only the abovementioned, all market-ready TMCs with YAMLs in this repository are also expected to work and can be tried and tested by the users.</em>
<em>Contact the Developers for any  issues encountered.</em></p>
</blockquote>

<h1 id="hardware">Hardware</h1>

<p>For the tested TMCM-1461-CoE setup, the following are used:</p>
<ul>
  <li>1 x <a href="https://www.analog.com/en/products/pd-1461.html">TMCM-1461-CoE</a>
</li>
  <li>1 x External 24V power supply</li>
  <li>1 x USB to LAN ethernet adapter</li>
</ul>

<p>Also the following:</p>
<ul>
  <li>1 x 4pin female M8-RJ45 etherCAT cable</li>
  <li>1 x 4 pin male M8 power supply cable</li>
</ul>

<p>The image below shows the connection diagram of the setup (with labels):
<img src="https://raw.githubusercontent.com/analogdevicesinc/adi_tmc_coe_ros2/humble/adi_tmc_coe_core/./docs/images/tmcm_1461_coe_setup.png" alt="TMCM-1461 Connections"></p>

<p>The image below shows the actual setup used (for reference):
<img src="https://raw.githubusercontent.com/analogdevicesinc/adi_tmc_coe_ros2/humble/adi_tmc_coe_core/./docs/images/tmcm_1461_coe_actual_setup.jpg" alt="TMCM-1461 Actual Setup"></p>

<h1 id="software">Software</h1>

<h2 id="software-architecture">Software Architecture</h2>
<p><img src="https://raw.githubusercontent.com/analogdevicesinc/adi_tmc_coe_ros2/humble/adi_tmc_coe_core/./docs/images/adi_tmc_coe_core_Software_Architecture_Diagram.png" alt="Software Architecture Diagram"></p>

<h2 id="software-dependencies">Software Dependencies</h2>
<p>Assumptions before building this package:</p>
<ul>
  <li>Installed ROS Humble. If not, follow these <a href="https://docs.ros.org/en/humble/Installation.html">steps</a>.</li>
  <li>Setup workspace (with workspace folder named as “ros2_ws”). If not, follow these <a href="https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html">steps</a>.</li>
</ul>

<h1 id="clone">Clone</h1>

<p>In the website:</p>
<ol>
  <li>Make sure that the branch dropdown is set to “humble”.</li>
  <li>Click the “Clone” or “Code” button, then copy the SSH or HTTPS link (eg, “*.git”).</li>
</ol>

<p>In a terminal, do the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> ~/ros2_ws/src
<span class="nv">$ </span>git clone &lt;copied SSH o HTTPS <span class="nb">link </span>here&gt; adi_tmc_coe <span class="c">#clones repo to "adi_tmc_coe" directory name</span>

</code></pre></div></div>
<h1 id="build">Build</h1>

<p>Do proper exports first:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># $ source /opt/ros/&lt;ROS version&gt;/setup.bash</span>
<span class="nv">$ </span><span class="nb">source</span> /opt/ros/humble/setup.bash

</code></pre></div></div>
<p>Where:</p>
<ul>
  <li>“ROS version” is the user’s actual ROS version</li>
</ul>

<p>Then, install all required dependencies (See <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/#software-dependencies">SoftwareDependencies</a>) using rosdep:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> ~/ros2_ws
<span class="nv">$ </span>rosdep init
<span class="nv">$ </span>rosdep update
<span class="nv">$ </span>rosdep <span class="nb">install</span> <span class="nt">--from-paths</span> src <span class="nt">-y</span> <span class="nt">--ignore-src</span>

</code></pre></div></div>
<p>Then:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> ~/ros2_ws
<span class="nv">$ </span>colcon build
<span class="c">## To clean first before building, you may run the following instead:</span>
<span class="c">## $ colcon build --cmake-clean-first</span>

</code></pre></div></div>
<blockquote>
  <p>:memo: <em>Note: It is recommended that 1 terminal is dedicated to building the package/workspace to avoid complex issues as mentioned in <a href="https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Creating-A-Workspace/Creating-A-Workspace.html#source-the-overlay">ROS2 Source the overlay</a></em></p>
</blockquote>

<h1 id="pre-launch-one-time-per-setup">Pre-Launch (One-time per setup)</h1>

<p>Not all Trinamic modules are on TMCL_IDE specially CoE due to different interface used. Check module first for other communication protocol than CoE (UART, USB or CAN). Proceed to next steps if module is available in TMCL_IDE.</p>

<blockquote>
  <p>:memo: <em>Note: Different communication protocol might need different cable to communicate with TMCL_IDE (e.g. UART - USB to TTL adapter, USB - TypeC/TypeB/Micro, CAN - PCAN-USB adapter).</em></p>

</blockquote>

<p>If it’s the first time to use the set of motors for the TMC, it is required to calibrate and tune the PID settings of the motors first.</p>

<p>Do the calibrations/tuning by downloading and using <a href="https://www.analog.com/en/resources/evaluation-hardware-and-software/motor-motion-control-software/tmcl-ide.html">TMCL-IDE</a>.</p>

<h2 id="bldc-motors">BLDC Motors</h2>

<h3 id="calibrate-the-motors">Calibrate the motors</h3>

<p>For a run-through/tutorial of how the calibration is done in the TMCL-IDE via its <code class="language-plaintext highlighter-rouge">Wizard Pool</code> feature, check this <a href="https://www.youtube.com/watch?v=MASVD_2tNuo">link</a>.</p>

<h3 id="tune-the-pi-settings-of-the-motors">Tune the PI settings of the motors</h3>

<p>For a run-through/tutorial of how the PI tuning is done in the TMCL-IDE via its <code class="language-plaintext highlighter-rouge">PI Tuning</code> feature, check this <a href="https://www.youtube.com/watch?v=rfZAs-QdYlQ">link</a>.</p>

<blockquote>
  <p>:memo: <em>Note: For all the calibration and tuning done, store all the parameters set from TMCL_IDE on the board’s EEPROM. Do this by doing any of the following:</em></p>
  <ul>
    <li><em>Clicking the “Store Parameter” under Settings of each axis</em></li>
    <li><em>Using STAP (Store Axis Parameters) command from Direct Mode</em></li>
    <li><em>Creating and uploading a TMCL Program, and enabling the “auto start mode” under SGP (Set Global Parameter) command from Direct Mode</em></li>
    <li>
      <ul>
        <li>:memo: <em>Note: Some boards don’t have “auto start mode”, so in such a case, use the other options to store the parameters.</em>
</li>
      </ul>
    </li>
  </ul>
</blockquote>

<h2 id="stepper-motors">Stepper Motors</h2>

<h3 id="calibrate-the-motors-1">Calibrate the motors</h3>

<p>For a run-through/tutorial of how the calibration is done in the TMCL-IDE via its <code class="language-plaintext highlighter-rouge">Wizard Pool</code> feature, check this <a href="https://www.youtube.com/watch?v=l6r63Q7Yr58o">link</a>.</p>

<p>For more information about Trinamic features on stepper motors, visit this <a href="https://www.analog.com/en/product-category/stepper-motor-driver.html">link</a>.</p>

<blockquote>
  <p>:memo: <em>Note: For all the calibration and tuning done, store all the parameters set from TMCL_IDE on the board’s EEPROM. Do this by:</em></p>
  <ul>
    <li><em>Creating and uploading a TMCL Program, and enabling the “auto start mode” under SGP (Set Global Parameter) command from Direct Mode</em></li>
  </ul>
</blockquote>

<h2 id="pre-launch-one-time">Pre-Launch (One-time)</h2>

<p>The <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/#ethercat_grant">ethercat_grant</a> node/utility is needed to run the <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/#tmc_coe_ros2_node">tmc_coe_ros2_node</a> without root privileges.</p>

<p>If built from source, you will need to go through <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/#installation">ethercat_grant/Installation</a>.</p>

<h2 id="configlaunch-file">Config/Launch File</h2>

<p>Before launching the package, make sure that the <em>interface_name</em> on the yaml file is correct. Modify the corresponding yaml file depending on your setup:</p>

<ul>
  <li>If using 1 slave with 1 axis, modify 1slave_1axis.yaml,</li>
  <li>If using 2 slaves with 1 axis per slave, modify 2slaves_1axis_per_slave.yaml,</li>
  <li>If using 2 slaves with 2 axes per slave, modify 2slaves_2axes_per_slave.yaml,</li>
</ul>

<p>Modify <em>interface_name</em> (check <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/#parameters">Parameter</a>) and set the interface name of your adapter.</p>

<p>To check the interface name, run this command in terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ifconfig

</code></pre></div></div>

<p>Interface name is usually starts with enx / eth. Copy and paste the interface name on the <em>interface_name</em> in yaml file.</p>

<p>Also, check the launch file if correct trinamic board autogenerated yaml and config yaml is loaded. TMCM-1461 setup is the default namespace for 1slave_1axis and 2slaves_1axis_per_slave launch files, provide the correct namespace if other device is used.</p>

<h1 id="launch">Launch</h1>
<p>This package has 3 sample launch files for:</p>

<p>single slave with single axis (used module is TMCM-1461-CoE)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch adi_tmc_coe_core 1slave_1axis.launch

</code></pre></div></div>
<p>2 slaves with single axis on both slaves (used module is 2x TMCM-1461-CoE)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch adi_tmc_coe_core 2slaves_1axis_per_slave.launch

</code></pre></div></div>
<p>2 slaves with 2 axes on both slaves</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ros2 launch adi_tmc_coe_core 2slaves_2axes_per_slave.launch

</code></pre></div></div>

<h1 id="nodes">Nodes</h1>

<h2 id="tmc_coe_ros2_node">tmc_coe_ros2_node</h2>

<blockquote>
  <p>:memo: _Note: For those with <slave_number> and <motor_number> in the topic names, these are the slave number and motor number respectively. For example, if there are 2 slaves/devices both with single motor used, there should be two published topics for tmc_coe_info, specifically /tmc_coe_info_1_0 for device 1 motor 0 and /tmc_coe_info_2_0 for device 2 motor 0._</motor_number></slave_number></p>
</blockquote>

<h3 id="published-topics">Published topics</h3>

<p>These are the default topic names, topic names can be modified as a ROS parameter.</p>

<ul>
  <li>**/tmc_info_<slave_number>_<motor_number>** (adi_tmc_coe_interfaces/msg/TmcCoeInfo)
</motor_number></slave_number>    <ul>
      <li>Publish information</li>
      <li>Refer to <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/../adi_tmc_coe_interfaces/README.md#adi_tmc_coe_interfacesmsgtmccoeinfo">adi_tmc_coe_interfaces/msg/TmcCoeInfo</a> for more info</li>
    </ul>
  </li>
</ul>

<h3 id="subscribed-topics">Subscribed topics</h3>

<ul>
  <li>**/cmd_vel_<slave_number>_<motor_number>** (geometry_msgs/msg/Twist)
</motor_number></slave_number>    <ul>
      <li>Velocity command (rpm or m/s)</li>
    </ul>
  </li>
  <li>**/cmd_abspos_<slave_number>_<motor_number>** (std_msgs/msg/Int32)
</motor_number></slave_number>    <ul>
      <li>Absolute position command (steps or degree angle)</li>
    </ul>
  </li>
  <li>**/cmd_relpos_<slave_number>_<motor_number>** (std_msgs/msg/Int32)
</motor_number></slave_number>    <ul>
      <li>Relative position command (steps or degree angle)</li>
    </ul>
  </li>
</ul>

<h3 id="advertised-services">Advertised services</h3>

<ul>
  <li>
<strong>/read_SDO</strong> (adi_tmc_coe_interfaces/srv/ReadWriteSDO)
    <ul>
      <li>Executes a read command using SDO protocol</li>
      <li>The output contains raw data (velocity = rpm, position = steps) from the board. <em>Do not expect same unit from the publisher.</em>
</li>
      <li>Refer to <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/../adi_tmc_coe_interfaces/README.md#adi_tmc_coe_interfacessrvreadwritesdo">adi_tmc_coe_interfaces/srv/ReadWriteSDO</a> for more info</li>
    </ul>
  </li>
  <li>
<strong>/write_SDO</strong> (adi_tmc_coe_interfaces/srv/ReadWriteSDO)
    <ul>
      <li>Executes a write command using SDO protocol</li>
      <li>The input value should be the default unit (velocity = rpm, position = steps) from the board. <em>Do not expect same unit from the publisher.</em>
</li>
      <li>Refer to <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/../adi_tmc_coe_interfaces/README.md#adi_tmc_coe_interfacessrvreadwritesdo">adi_tmc_coe_interfaces/srv/ReadWriteSDO</a> for more info</li>
    </ul>
  </li>
  <li>
<strong>/read_PDO</strong> (adi_tmc_coe_interfaces/srv/ReadWritePDO)
    <ul>
      <li>Executes a read command using PDO protocol.</li>
      <li>The output contains raw data (velocity = rpm, position = steps) from the board. <em>Do not expect same unit from the publisher.</em>
</li>
      <li>Refer to <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/../adi_tmc_coe_interfaces/README.md#adi_tmc_coe_interfacessrvreadwritepdo">adi_tmc_coe_interfaces/srv/ReadWritePDO</a> for more info</li>
    </ul>
  </li>
  <li>
<strong>/write_PDO</strong> (adi_tmc_coe_interfaces/srv/ReadWritePDO)
    <ul>
      <li>Executes a write command using PDO protocol</li>
      <li>The input value should be the default unit (velocity = rpm, position = steps) from the board. <em>Do not expect same unit from the publisher.</em>
</li>
      <li>Refer to <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/../adi_tmc_coe_interfaces/README.md#adi_tmc_coe_interfacessrvreadwritepdo">adi_tmc_coe_interfaces/srv/ReadWritePDO</a> for more info</li>
    </ul>
  </li>
  <li>
<strong>/change_nmt_state</strong> (adi_tmc_coe_interfaces/srv/ChangeNMTState)
    <ul>
      <li>Changes the NMT state of the specified device/slave</li>
      <li>Refer to <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/../adi_tmc_coe_interfaces/README.md#adi_tmc_coe_interfacessrvchangenmtstate">adi_tmc_coe_interfaces/srv/ChangeNMTState</a> for more info</li>
    </ul>
  </li>
  <li>
<strong>/change_cia402_state</strong> (adi_tmc_coe_interfaces/srv/ChangeCia402State)
    <ul>
      <li>Changes the CiA402 or DS402 state of the specified device/slave</li>
      <li>
<em>Current Limitation</em>: Can only change DS402 of Motor 0/Axis 0</li>
      <li>Refer to <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/../adi_tmc_coe_interfaces/README.md#adi_tmc_coe_interfacessrvchangecia402state">adi_tmc_coe_interfaces/srv/ChangeCia402State</a> for more info</li>
    </ul>
  </li>
  <li>
<strong>/cyclic_sync_mode</strong> (adi_tmc_coe_interfaces/srv/CyclicSyncMode)
    <ul>
      <li>Controls the motor’s velocity, position or torque in cyclic synchronous mode.</li>
      <li>The input value should be the default unit (velocity = rpm, position = steps) from the board. <em>Do not expect same unit from the publisher.</em>
</li>
      <li>Refer to <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/../adi_tmc_coe_interfaces/README.md#adi_tmc_coe_interfacessrvcyclicsyncmode">adi_tmc_coe_interfaces/srv/CyclicSyncMode</a> for more info</li>
    </ul>
  </li>
</ul>

<h3 id="parameters">Parameters</h3>

<blockquote>
  <p>:memo: <em>Notes:</em></p>
  <ul>
    <li><em>Communication Interface Parameter is essential in initializing etherCAT.</em></li>
    <li><em>If any of these paramameters are not set/declared, default values will be used.</em></li>
    <li><em>To know more details about each parameter, you can execute
<code class="language-plaintext highlighter-rouge">$ ros2 param describe &lt;node&gt; &lt;parameter&gt;
</code></em></li>
  </ul>
</blockquote>

<h5 id="communication-interface-parameter"><em>Communication Interface Parameter</em></h5>

<ul>
  <li>
<strong>interface_name</strong> (string, default: “”)
    <ul>
      <li>Name of the NIC (Network Interface Card) detected by the PC. Use command <code class="language-plaintext highlighter-rouge">$ifconfig</code> to check the interface name, it usually starts with ethxxx or enxxxx.</li>
    </ul>
  </li>
  <li>
<strong>SDO_PDO_retries</strong> (int, default: 1)
    <ul>
      <li>Indicates how many times the SDO and PDO will retry in sending before logging an error if SDO or PDO fails.</li>
    </ul>
  </li>
  <li>
<strong>interface_timeout</strong> (double, default: 3.0)
    <ul>
      <li>Indicates how long should the node will wait for the slave to be responsive.</li>
    </ul>
  </li>
</ul>

<h5 id="tmc-coe-ros-node-parameters"><em>TMC COE ROS Node Parameters</em></h5>

<ul>
  <li>
<strong>en_slave</strong> (int[], default: [0])
    <ul>
      <li>Enables/disables device/slave connected. If disabled, settings for those motors will be ignored or not set.</li>
    </ul>
  </li>
  <li>
<strong>adhoc_mode</strong> (int[], default: [0])
    <ul>
      <li>This mode expects that the used module is not known. The velocity, position and torque relies on the additional_ratio_* values.</li>
    </ul>
  </li>
  <li>
<strong>slv&lt;slave_number&gt;/en_motors</strong> (int[], default: [0])
    <ul>
      <li>e.g. <strong>slv1/en_motors</strong>
</li>
      <li>Enables/disables active motors or axes in each slave. If disabled, settings for those motors will be ignored or not set.</li>
    </ul>
  </li>
</ul>

<h5 id="motor-configuration-settings"><em>Motor Configuration Settings</em></h5>
<blockquote>
  <p>:memo: <em>Notes:</em></p>
  <ul>
    <li><em>The following parameters can be provided for each motor of each slave, otherwise, default will be used</em></li>
    <li>_Resulting parameter will be prefixed by
<code class="language-plaintext highlighter-rouge">slv&lt;slave_number&gt;.motor&lt;motor_number&gt;
</code>. (e.g.
<code class="language-plaintext highlighter-rouge">slv1.motor0.pub_rate_tmc_coe_info
</code>)</li>
  </ul>
</blockquote>

<ul>
  <li>
<strong>pub_rate_tmc_coe_info</strong> (int, default: 10)
    <ul>
      <li>Publish rate (hertz) of TMC information</li>
    </ul>
  </li>
  <li>
<strong>en_pub_tmc_coe_info</strong> (bool, default: false)
    <ul>
      <li>Enables/disables publishing of TMC information</li>
    </ul>
  </li>
  <li>
<strong>pub_actual_vel</strong> (bool, default: false)
    <ul>
      <li>Enable/Disable actual velocity that the user can optionally publish every publish rate as long as en_pub_tmc_info is true</li>
    </ul>
  </li>
  <li>
<strong>pub_actual_pos</strong> (bool, default: false)
    <ul>
      <li>Enable/Disable actual position that the user can optionally publish every publish rate as long as en_pub_tmc_info is true</li>
    </ul>
  </li>
  <li>
<strong>pub_actual_trq</strong> (bool, default: false)
    <ul>
      <li>Enable/Disable actual torque that the user can optionally publish every publish rate as long as en_pub_tmc_info is true</li>
    </ul>
  </li>
  <li>
<strong>tmc_coe_info_topic</strong> (string, default: /tmc_coe_info_<slave_number>_<motor_number>)
</motor_number></slave_number>    <ul>
      <li>tmc_coe_info topics that will contain chosen TMC info that will be published</li>
    </ul>
  </li>
  <li>
<strong>tmc_cmd_vel_topic</strong> (string, default: /cmd_vel_<slave_number>_<motor_number>)
</motor_number></slave_number>    <ul>
      <li>Twist topics that will be the source of target velocity to be set on the TMC</li>
    </ul>
  </li>
  <li>
<strong>tmc_cmd_abspos_topic</strong> (string, default: /cmd_abspos_<slave_number>_<motor_number>)
</motor_number></slave_number>    <ul>
      <li>Int32 topics that will be the source of target position to be set on the TMC</li>
    </ul>
  </li>
  <li>
<strong>tmc_cmd_relpos_topic</strong> (string, default: /cmd_relpos_<slave_number>_<motor_number>)
</motor_number></slave_number>    <ul>
      <li>Int32 topics that will be the source of target position to be set on the TMC</li>
    </ul>
  </li>
  <li>
<strong>wheel_diameter</strong> (float, default: 0.0)
    <ul>
      <li>Wheel diameter that is attached on the motor shaft directly. This is to convert linear values to rpm</li>
      <li>If wheel diameter is 0, cmd_vel is equal to rpm</li>
    </ul>
  </li>
  <li>
<strong>additional_ratio_vel</strong> (float, default: 1.0)
    <ul>
      <li>Additional Ratio for velocity for general purposes (adhoc mode, added pulley or gear trains). Default value 1 means disabled</li>
    </ul>
  </li>
  <li>
<strong>additional_ratio_pos</strong> (float, default: 1.0)
    <ul>
      <li>Additional Ratio for position for general purposes (adhoc mode, added pulley or gear trains). Default value 1 means disabled</li>
    </ul>
  </li>
  <li>
<strong>additional_ratio_trq</strong> (float, default: 1.0)
    <ul>
      <li>Additional Ratio for torque for general purposes (adhoc mode). Default value 1 means disabled</li>
    </ul>
  </li>
</ul>

<h4 id="autogenerated-parameters">Autogenerated Parameters</h4>
<blockquote>
  <p>:memo: <em>Notes:</em></p>
  <ul>
    <li><em>These parameters are generated per TMCM device which contain CANOpen Object Dictionary attributes</em></li>
    <li><em>Be careful when changing these parameter values, as the behavior of the node/device may change</em></li>
    <li><em>Resulting parameter will be prefixed by
<code class="language-plaintext highlighter-rouge">tmcm_&lt;device_number&gt;.
</code> (e.g.
<code class="language-plaintext highlighter-rouge">tmcm_1461.obj_name
</code>)</em></li>
  </ul>
</blockquote>

<ul>
  <li>
<strong>obj_name</strong> (string[], default: [])
    <ul>
      <li>Object Name attribute of all object dictionary entries in specific device</li>
    </ul>
  </li>
  <li>
<strong>index</strong> (string[], default: [])
    <ul>
      <li>16-bit base address of the object</li>
    </ul>
  </li>
  <li>
<strong>sub_index</strong> (string[], default: [])
    <ul>
      <li>8-bit subindex of the object</li>
    </ul>
  </li>
  <li>
<strong>datatype</strong> (string[], default: [])
    <ul>
      <li>Data type of the object (e.g. UINT16, UINT8, etc.)</li>
    </ul>
  </li>
</ul>

<h2 id="ethercat_grant">ethercat_grant</h2>
<p>adi_ethercat_grant_node is a ROS2 node for ethercat_grant. Theoretically, if this package is available via binary installation, there should be no further instructions required.</p>

<h3 id="installation">Installation</h3>

<p>If this package is installed via source, before running the launch file, do the steps below:</p>
<ol>
  <li>Open /scripts directory</li>
  <li>Make script executable</li>
</ol>

<p>```$ chmod +x ethercat_grant_installation.sh</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3. Run the script with sudo

```$ sudo ./ethercat_grant_installation.sh
</code></pre></div></div>
<ol>
  <li>Run the launch file</li>
</ol>

<h1 id="quick-tests">Quick Tests</h1>

<h2 id="test-velocity-mode">Test Velocity Mode</h2>

<p>To do a quick test of Velocity Mode, there is a fake velocity script that the user can run.
Idea is, this script will send Velocity commands (as a ROS topic), then the first motor should be expected to:</p>
<ol>
  <li>Increase velocity every 3secs, clockwise (in m/s: 3, 6, 9)</li>
  <li>Stop for 5secs</li>
  <li>Increase velocity every 3secs, counter-clockwise (in m/s: -3, -6, -9)</li>
  <li>Stop for 5secs</li>
</ol>

<p>To proceed with the test, execute these following commands on three (3) different terminals (in sequence):</p>
<blockquote>
  <p>:memo: <em>Note: Assuming that the package was <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/#build">built</a> in Terminal 1.</em></p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Terminal 2</th>
      <th>Terminal 3</th>
      <th>Terminal 4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>&lt;pre&gt;<code class="language-plaintext highlighter-rouge">$ cd ~/ros2_ws/</code> <br><code class="language-plaintext highlighter-rouge">$ source /opt/ros/humble/setup.bash</code> <br><code class="language-plaintext highlighter-rouge">$ source install/setup.bash</code> <br><code class="language-plaintext highlighter-rouge">$ ros2 launch adi_tmc_coe_core 1slave_1axis.launch.py</code>
</td>
      <td>&lt;pre&gt;<code class="language-plaintext highlighter-rouge">$ cd ~/ros2_ws/</code> <br><code class="language-plaintext highlighter-rouge">$ source /opt/ros/humble/setup.bash</code> <br><code class="language-plaintext highlighter-rouge">$ source install/setup.bash</code> <br><code class="language-plaintext highlighter-rouge">$ ros2 topic echo /tmc_info_1_0</code>
</td>
      <td>&lt;pre&gt;<code class="language-plaintext highlighter-rouge">$ cd ~/ros2_ws/src/adi_tmc_coe/adi_tmc_coe_core/scripts</code> <br><code class="language-plaintext highlighter-rouge">$ sudo chmod 777 fake_cmd_vel.sh</code> <br><code class="language-plaintext highlighter-rouge">$ ./fake_cmd_vel.sh</code>
</td>
    </tr>
  </tbody>
</table>

<p><strong>Monitor the velocity of the first motor (watch out for velocity value at Terminal 3).</strong></p>

<blockquote>
  <p>:memo: <em>Notes:</em></p>
  <ul>
    <li><em>Terminals 3 and 4 are best viewed side-by-side.</em></li>
    <li><em>You may Ctrl-C the command in Terminal 2 and 3 once you’re done.</em></li>
    <li><em>The command in Terminal 4 auto-stops by itself.</em></li>
  </ul>
</blockquote>

<h2 id="test-position-mode">Test Position Mode</h2>
<p>To do a quick test of Position Mode, there is a fake position script that the user can run.
Idea is, this script will send Position commands (as a ROS topic), then the first motor should be expected to:</p>
<ol>
  <li>Rotate 360 degrees (clockwise) every 5 secs, 3 times</li>
  <li>Stop for 5secs</li>
  <li>Rotate 360 degrees (counter-clockwise) every 5 secs, 3 times</li>
  <li>Stop for 5secs</li>
</ol>

<p>To proceed with the test, execute these following commands on three (3) different terminals (in sequence):</p>
<blockquote>
  <p>:memo: <em>Note: Assuming that the package was <a href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core/#build">built</a> in Terminal 1.</em></p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Terminal 2</th>
      <th>Terminal 3</th>
      <th>Terminal 4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>&lt;pre&gt;<code class="language-plaintext highlighter-rouge">$ cd ~/ros2_ws/</code> <br><code class="language-plaintext highlighter-rouge">$ source /opt/ros/humble/setup.bash</code> <br><code class="language-plaintext highlighter-rouge">$ source install/setup.bash</code> <br><code class="language-plaintext highlighter-rouge">$ ros2 launch adi_tmc_coe_core 1slave_1axis.launch.py</code>
</td>
      <td>&lt;pre&gt;<code class="language-plaintext highlighter-rouge">$ cd ~/ros2_ws/</code> <br><code class="language-plaintext highlighter-rouge">$ source /opt/ros/humble/setup.bash</code> <br><code class="language-plaintext highlighter-rouge">$ source install/setup.bash</code> <br><code class="language-plaintext highlighter-rouge">$ ros2 topic echo /tmc_info_1_0</code>
</td>
      <td>&lt;pre&gt;<code class="language-plaintext highlighter-rouge">$ cd ~/ros2_ws/src/adi_tmc_coe/adi_tmc_coe_core/scripts</code> <br><code class="language-plaintext highlighter-rouge">$ sudo chmod 777 fake_cmd_pos.sh</code> <br><code class="language-plaintext highlighter-rouge">$ ./fake_cmd_pos.sh</code>
</td>
    </tr>
  </tbody>
</table>

<p><strong>Monitor the position of the first motor (watch out for position value at Terminal 3).</strong></p>

<blockquote>
  <p>:memo: <em>Notes:</em></p>
  <ul>
    <li><em>Terminals 3 and 4 are best viewed side-by-side.</em></li>
    <li><em>You may Ctrl-C the command in Terminal 2 and 3 once you’re done.</em></li>
    <li><em>The command in Terminal 4 auto-stops by itself.</em></li>
  </ul>
</blockquote>

<h1 id="limitations">Limitations</h1>
<ol>
  <li>Current modules that are tested does not include Profile Torque Mode but still included on topic names for ease of implementation if decided to continue.</li>
  <li>Homing Mode is not implemented.</li>
  <li>Cyclic Synchronous Modes only accepts raw value (no conversions of unit) and is not the same with subscriber callbacks.</li>
  <li>Host PC specifications play a crucial role to ensure low latency when exchanging data. 4 or more cores are recommended. Threads will increase depending on the number of devices/slaves and motors.</li>
  <li>Due to having and allowing multiple threads (e.g. 1 thread for processdata cycle, 1 thread that executes SDOread/write), a ~0.01s delay was added in each SDOread/write retries to ensure proper processing.</li>
</ol>

</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-adi_tmc_coe_core">Changelog for package adi_tmc_coe_core</h1>

<h2 id="100-2025-03-06">1.0.0 (2025-03-06)</h2>

<ul>
  <li>Adding 1.0.0 of adi_tmc_coe, ROS2 Humble</li>
  <li>Contributors: Jamila Macagba</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/adi_tmc_coe_core/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#humble">rclcpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/geometry_msgs#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/geometry_msgs#humble">geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/std_msgs#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/std_msgs#humble">std_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#humble">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#humble">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#humble">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/adi_tmc_coe_interfaces#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/adi_tmc_coe_interfaces#humble">adi_tmc_coe_interfaces  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/libcap-dev">libcap-dev</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/adi_tmc_coe#humble">adi_tmc_coe</a></td>
                      <td class="text-center">
                        
                        <a href="/p/adi_tmc_coe#humble-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>adi_tmc_coe_core</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="humble-question-list" class="panel-body" style="display: none;"></div>
      <div id="humble-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/adi_tmc_coe_core+humble">here</a>.</p>
      </div>
      <div id="humble-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/analogdevicesinc/adi_tmc_coe_ros2.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/humble/p/adi_tmc_coe_core"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/analogdevicesinc/adi_tmc_coe_ros2/tree/humble/adi_tmc_coe_core"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/adi_tmc_coe_core?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/adi_tmc_coe_core?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=adi_tmc_coe_core&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "adi_tmc_coe_core"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
