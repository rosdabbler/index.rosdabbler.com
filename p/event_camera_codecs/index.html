<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: event_camera_codecs</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/event_camera_codecs/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">event_camera_codecs</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-primary" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-primary" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/event_camera_codecs">event_camera_codecs</a> <small>package from <a style="text-decoration:none" href="/r/event_camera_codecs/github-ros-event-camera-event_camera_codecs">event_camera_codecs</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

event_camera_codecs
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/humble/p/event_camera_codecs"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/ros-event-camera/event_camera_codecs/tree/humble/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="humble-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#humble-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#humble-assets" data-toggle="tab"><span class="label label-primary">1</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#humble-deps" data-toggle="tab"><span class="label label-primary">13</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#humble-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#humble-questions" data-toggle="tab"><span id="humble-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="humble-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>1.1.3</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>Apache2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">encoding/decoding for event_array_messages</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-event-camera/event_camera_codecs.git">https://github.com/ros-event-camera/event_camera_codecs.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">humble</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-02-04
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/event_camera_codecs/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/event_camera_codecs/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/event_camera_codecs/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            package to encode and decode event_camera_msgs
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Bernd Pfrommer</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/ros-event-camera/event_camera_codecs/tree/humble/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="event_camera_codecs">event_camera_codecs</h1>

<p>This repository holds code for decoding
<a href="https://github.com/ros-event-camera/event_camera_msgs">event_camera_msgs</a>. It
builds under both ROS1 and ROS2.
You can use this decoder from python via the
<a href="https://github.com/ros-event-camera/event_camera_py">event_camera_py repository</a>.</p>

<h2 id="supported-platforms">Supported platforms</h2>

<p>Currently tested on:</p>
<ul>
  <li>ROS1: Ubuntu 20.04 on Noetic</li>
  <li>ROS2: Ubuntu 22.04 on Humble, Iron, Rolling</li>
</ul>

<h2 id="how-to-build">How to build</h2>
<p>Create a workspace, clone this repo, and use <code class="language-plaintext highlighter-rouge">vcs</code>
to pull in the remaining dependencies:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pkg=event_camera_codecs
mkdir -p ~/$pkg/src
cd ~/ws
git clone https://github.com/ros-event-camera/${pkg}.git src/${pkg}
cd src
vcs import &lt; ${pkg}/${pkg}.repos
cd ..

</code></pre></div></div>

<h3 id="configure-and-build-on-ros1">configure and build on ROS1:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>catkin config -DCMAKE_BUILD_TYPE=RelWithDebInfo  # (optionally add -DCMAKE_EXPORT_COMPILE_COMMANDS=1)
catkin build

</code></pre></div></div>

<h3 id="configure-and-build-on-ros2">configure and build on ROS2:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/ws
colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo  # (optionally add -DCMAKE_EXPORT_COMPILE_COMMANDS=1)

</code></pre></div></div>

<p>To also build the unit tests, add the cmake argument <code class="language-plaintext highlighter-rouge">-DEVENT_CAMERA_CODECS_BUILD_TESTS=ON</code>.</p>

<h2 id="api-example">API example</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;event_camera_codecs/decoder.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;event_camera_codecs/decoder_factory.h&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacket</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyProcessor</span> <span class="o">:</span> <span class="k">public</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventProcessor</span>
<span class="p">{</span>
<span class="nl">public:</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="n">eventCD</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ex</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ey</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">polarity</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span>
    <span class="c1">// do useful stuff here</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">eventExtTrigger</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">)</span> <span class="k">override</span> <span class="p">{}</span>
  <span class="kt">void</span> <span class="n">finished</span><span class="p">()</span> <span class="k">override</span><span class="p">{};</span> <span class="c1">// called after no more events decoded in this packet</span>
  <span class="kt">void</span> <span class="n">rawData</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">size_t</span><span class="p">)</span> <span class="k">override</span><span class="p">{};</span>  <span class="c1">// passthrough of raw data</span>
<span class="p">};</span>

<span class="n">MyProcessor</span> <span class="n">processor</span><span class="p">;</span>

<span class="c1">// the decoder factory method is templated on the event processor</span>
<span class="c1">// to permit inlining of methods like eventCD() above.</span>

<span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">DecoderFactory</span><span class="o">&lt;</span><span class="n">EventPacket</span><span class="p">,</span> <span class="n">MyProcessor</span><span class="o">&gt;</span> <span class="n">decoderFactory</span><span class="p">;</span>

<span class="c1">// to get callbacks into MyProcessor, feed the message buffer</span>
<span class="c1">// into the decoder like so</span>

<span class="kt">void</span> <span class="nf">eventMsg</span><span class="p">(</span><span class="k">const</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacketConstSharedPtr</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// will create a new decoder on first call, from then on returns existing one</span>
  <span class="k">auto</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoderFactory</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">decoder</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// msg-&gt;encoding was invalid</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// the decode() will trigger callbacks to processor</span>
  <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">decode</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">processor</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* To synchronize with frame based sensors it is useful to play back
   until a frame boundary is reached. The interface decodeUntil() is provided
   for this purpose. Do *NOT* use decode() and decodeUntil() on the same decoder!
   In the sample code belowframeTimes is an ordered queue of frame times.
   */</span>

<span class="kt">void</span> <span class="nf">eventMsg2</span><span class="p">(</span><span class="k">const</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacketConstSharedPtr</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">auto</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoderFactory</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">);</span>
  <span class="kt">uint64_t</span> <span class="n">nextTime</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="c1">// The loop will exit when all events in msg have been processed</span>
  <span class="c1">// or there are no more frame times available</span>
  <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">setTimeBase</span><span class="p">(</span><span class="n">msg</span><span class="o">-&gt;</span><span class="n">time_base</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">frameTimes</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
    <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">decodeUntil</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">processor</span><span class="p">,</span> <span class="n">frameTimes</span><span class="p">.</span><span class="n">front</span><span class="p">(),</span> <span class="o">&amp;</span><span class="n">nextTime</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// use loop in case multiple frames fit inbetween two events</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">frameTimes</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">frameTimes</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">nextTime</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// processFrameHere()</span>
      <span class="n">frameTimes</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="codecs">Codecs</h2>

<p>The following encodings are supported:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">evt3</code>: Native EVT3 format of the Prophesee (Metavision) line of cameras</li>
  <li>
<code class="language-plaintext highlighter-rouge">libcaer_cmp</code>: Compressed libcaer format for Inivation Labs line of cameras.</li>
  <li>
<code class="language-plaintext highlighter-rouge">libcaer</code>: Uncompressed format of libcaer data. Use only when memory bandwidth
 is high and CPU is slow.</li>
  <li>
<code class="language-plaintext highlighter-rouge">mono</code>: legacy format temporarily used for prophesee cameras. Deprecated.</li>
  <li>
<code class="language-plaintext highlighter-rouge">trigger</code>: legacy format temporarily used for trigger events. Deprecated.</li>
</ul>

<h2 id="event-time-stamps">Event Time Stamps</h2>

<p>All event time stamps returned by the decoder refer to <em>sensor time</em>, i.e. the
clock that is built into the device. The <em>sensor time</em> is given in nanoseconds
although at the moment no device supports accuracy higher than microseconds.
For certain devices (e.g. libcaer) <em>sensor time</em>
is aligned with <em>host time</em> when the driver starts up. Since <em>sensor time</em> and <em>host time</em>
are not synchronized they can drift arbitrarily far from each other.
Some decoders (e.g. <code class="language-plaintext highlighter-rouge">libcaer</code>, <code class="language-plaintext highlighter-rouge">libcaer_cmp</code>) make use of the <code class="language-plaintext highlighter-rouge">time_base</code>
field, which refers to sensor time at the time of arrival of the first data packet
included in the ROS message. For other encodings (e.g. <code class="language-plaintext highlighter-rouge">evt3</code>) the sensor time must
be recovered by decoding the messages.</p>

<p>The time stamps encoded in EVT3 format have a few peculiarities worthwhile noting:</p>

<ul>
  <li>the data field for the time stamps is only 24 bits wide, which leads to wrap-around
of the time stamps every 2^24usec = 16.77s. This means that if you start decoding
somewhere in the middle of the data stream (an hour into it!), the first time stamp
you will get is always between 0 and 16.77s.
From then on the decoder library keeps track of the
moment when the 24 bit time stamp wraps around and so gives you the illusion that
the time stamp is 64bit wide. In reality it is not.</li>
  <li>the device has some dubious bit errors in the time stamps that thwart a simplistic
detection of the time stamp wrap-around. The decoder has some logic built into it
to compensate for those errors but if your time stamps are suddenly off by 16.77s,
that may well have been the problem.</li>
  <li>in theory comparison with the time stamps obtained from the Metavision SDK should be
possible but especially the starting time usually disagrees for unknown reasons. The
relative time differences however have always checked out so far.</li>
  <li>because of the time-stamp wrap around, decoding two separate EVT3 event streams from
two different cameras can be tricky. If the time stamps for one camera have just wrapped
around before the first packet is decoded, but have not wrapped around for the second
camera, the sensor times will be off by 16.7s with respect to each other although the
two cameras are hardware synced.</li>
</ul>

<h2 id="tools">Tools</h2>

<h3 id="performance-measurement-of-evt3-decoder-for-developers-only">Performance measurement of EVT3 decoder (for developers only)</h3>

<p>ROS1:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># decode a raw file and measure performance
rosrun event_camera_codecs codec_perf -i foo.raw

</code></pre></div></div>

<p>ROS2 examples:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># decode a raw file and measure performance
ros2 run event_camera_codecs codec_perf -i foo.raw

</code></pre></div></div>

<h2 id="license">License</h2>

<p>This software is issued under the Apache License Version 2.0.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-event_camera_codecs">Changelog for package event_camera_codecs</h1>

<h2 id="113-2024-02-04">1.1.3 (2024-02-04)</h2>

<ul>
  <li>added hasSensorTimeSinceEpoch() and getTimeMultiplier() This is to
support libcaer event python processing</li>
  <li>added newInstance(msg) methods</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="112-2023-12-16">1.1.2 (2023-12-16)</h2>

<ul>
  <li>added more tests</li>
  <li>added libcaer, libcaer_cmp and improved README</li>
  <li>make decoder factory geometry aware, use new ros1 ci</li>
  <li>use new CI rules</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="111-2023-09-19">1.1.1 (2023-09-19)</h2>

<ul>
  <li>add dependency on class_loader</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="110-2023-08-29">1.1.0 (2023-08-29)</h2>

<ul>
  <li>initial release</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/event_camera_codecs/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#humble">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_ros#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_ros#humble">ament_cmake_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_auto#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_auto#humble">ament_cmake_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#humble-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#humble">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#humble">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#humble">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_gtest#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_gtest#humble">ament_cmake_gtest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_clang_format#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_clang_format#humble">ament_cmake_clang_format  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosbag2_cpp#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosbag2_cpp#humble">rosbag2_cpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#humble">rclcpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/class_loader#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/class_loader#humble">class_loader  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/event_camera_msgs#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/event_camera_msgs#humble">event_camera_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ros_environment#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ros_environment#humble">ros_environment  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/event_camera_py#humble">event_camera_py</a></td>
                      <td class="text-center">
                        
                        <a href="/p/event_camera_py#humble-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/event_camera_renderer#humble">event_camera_renderer</a></td>
                      <td class="text-center">
                        
                        <a href="/p/event_camera_renderer#humble-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ros-event-camera/event_camera_codecs/tree/humble/.//nodelet_plugins.xml" target="_blank">nodelet</a></li>
            
          </ul>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>event_camera_codecs</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="humble-question-list" class="panel-body" style="display: none;"></div>
      <div id="humble-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/event_camera_codecs+humble">here</a>.</p>
      </div>
      <div id="humble-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/ros-event-camera/event_camera_codecs.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/humble/p/event_camera_codecs"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/ros-event-camera/event_camera_codecs/tree/humble/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/event_camera_codecs">event_camera_codecs</a> <small>package from <a style="text-decoration:none" href="/r/event_camera_codecs/github-ros-event-camera-event_camera_codecs">event_camera_codecs</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

event_camera_codecs
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/jazzy/p/event_camera_codecs"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="jazzy-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#jazzy-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#jazzy-assets" data-toggle="tab"><span class="label label-primary">1</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#jazzy-deps" data-toggle="tab"><span class="label label-primary">13</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#jazzy-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#jazzy-questions" data-toggle="tab"><span id="jazzy-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="jazzy-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>1.0.5</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>Apache2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">encoding/decoding for event_array_messages</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-event-camera/event_camera_codecs.git">https://github.com/ros-event-camera/event_camera_codecs.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">rolling</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-05-29
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/event_camera_codecs/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/event_camera_codecs/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/event_camera_codecs/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            package to encode and decode event_camera_msgs
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Bernd Pfrommer</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="event_camera_codecs">event_camera_codecs</h1>

<p>This repository holds code for decoding
<a href="https://github.com/ros-event-camera/event_camera_msgs">event_camera_msgs</a>. It
builds under both ROS1 and ROS2.
You can use this decoder from python via the
<a href="https://github.com/ros-event-camera/event_camera_py">event_camera_py repository</a>.</p>

<h2 id="supported-platforms">Supported platforms</h2>

<p>Currently tested on:</p>
<ul>
  <li>ROS1: Ubuntu 20.04 on Noetic</li>
  <li>ROS2: Ubuntu 22.04 on Humble, Iron, Rolling</li>
</ul>

<h2 id="how-to-build">How to build</h2>

<p>Set the following shell variables:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">repo</span><span class="o">=</span>event_camera_codecs
<span class="nv">url</span><span class="o">=</span>https://github.com/ros-event-camera/<span class="k">${</span><span class="nv">repo</span><span class="k">}</span>.git

</code></pre></div></div>
<p>and follow the <a href="https://github.com/ros-misc-utilities/.github/blob/master/docs/build_ros_repository.md">instructions here</a></p>

<h3 id="configure-and-build-on-ros1">configure and build on ROS1:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>catkin config -DCMAKE_BUILD_TYPE=RelWithDebInfo  # (optionally add -DCMAKE_EXPORT_COMPILE_COMMANDS=1)
catkin build

</code></pre></div></div>

<h3 id="configure-and-build-on-ros2">configure and build on ROS2:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/ws
colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo  # (optionally add -DCMAKE_EXPORT_COMPILE_COMMANDS=1)

</code></pre></div></div>

<p>To also build the unit tests, add the cmake argument <code class="language-plaintext highlighter-rouge">-DEVENT_CAMERA_CODECS_BUILD_TESTS=ON</code>.</p>

<h2 id="api-example">API example</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;event_camera_codecs/decoder.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;event_camera_codecs/decoder_factory.h&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacket</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyProcessor</span> <span class="o">:</span> <span class="k">public</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventProcessor</span>
<span class="p">{</span>
<span class="nl">public:</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="n">eventCD</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ex</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ey</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">polarity</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span>
    <span class="c1">// do useful stuff here</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">eventExtTrigger</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">)</span> <span class="k">override</span> <span class="p">{}</span>
  <span class="kt">void</span> <span class="n">finished</span><span class="p">()</span> <span class="k">override</span><span class="p">{};</span> <span class="c1">// called after no more events decoded in this packet</span>
  <span class="kt">void</span> <span class="n">rawData</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">size_t</span><span class="p">)</span> <span class="k">override</span><span class="p">{};</span>  <span class="c1">// passthrough of raw data</span>
<span class="p">};</span>

<span class="n">MyProcessor</span> <span class="n">processor</span><span class="p">;</span>

<span class="c1">// the decoder factory method is templated on the event processor</span>
<span class="c1">// to permit inlining of methods like eventCD() above.</span>

<span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">DecoderFactory</span><span class="o">&lt;</span><span class="n">EventPacket</span><span class="p">,</span> <span class="n">MyProcessor</span><span class="o">&gt;</span> <span class="n">decoderFactory</span><span class="p">;</span>

<span class="c1">// to get callbacks into MyProcessor, feed the message buffer</span>
<span class="c1">// into the decoder like so</span>

<span class="kt">void</span> <span class="nf">eventMsg</span><span class="p">(</span><span class="k">const</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacketConstSharedPtr</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// will create a new decoder on first call, from then on returns existing one</span>
  <span class="k">auto</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoderFactory</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">decoder</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// msg-&gt;encoding was invalid</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// the decode() will trigger callbacks to processor</span>
  <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">decode</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">processor</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* To synchronize with frame based sensors it is useful to play back
   until a frame boundary is reached. The interface decodeUntil() is provided
   for this purpose. Do *NOT* use decode() and decodeUntil() on the same decoder!
   In the sample code belowframeTimes is an ordered queue of frame times.
   */</span>

<span class="kt">void</span> <span class="nf">eventMsg2</span><span class="p">(</span><span class="k">const</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacketConstSharedPtr</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">auto</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoderFactory</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">);</span>
  <span class="kt">uint64_t</span> <span class="n">nextTime</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="c1">// The loop will exit when all events in msg have been processed</span>
  <span class="c1">// or there are no more frame times available</span>
  <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">setTimeBase</span><span class="p">(</span><span class="n">msg</span><span class="o">-&gt;</span><span class="n">time_base</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">frameTimes</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
    <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">decodeUntil</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">processor</span><span class="p">,</span> <span class="n">frameTimes</span><span class="p">.</span><span class="n">front</span><span class="p">(),</span> <span class="o">&amp;</span><span class="n">nextTime</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// use loop in case multiple frames fit inbetween two events</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">frameTimes</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">frameTimes</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">nextTime</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// processFrameHere()</span>
      <span class="n">frameTimes</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="codecs">Codecs</h2>

<p>The following encodings are supported:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">evt3</code>: Native EVT3 format of the Prophesee (Metavision) line of cameras</li>
  <li>
<code class="language-plaintext highlighter-rouge">libcaer_cmp</code>: Compressed libcaer format for Inivation Labs line of cameras.</li>
  <li>
<code class="language-plaintext highlighter-rouge">libcaer</code>: Uncompressed format of libcaer data. Use only when memory bandwidth
 is high and CPU is slow.</li>
  <li>
<code class="language-plaintext highlighter-rouge">mono</code>: legacy format temporarily used for prophesee cameras. Deprecated.</li>
  <li>
<code class="language-plaintext highlighter-rouge">trigger</code>: legacy format temporarily used for trigger events. Deprecated.</li>
</ul>

<h2 id="event-time-stamps">Event Time Stamps</h2>

<p>All event time stamps returned by the decoder refer to <em>sensor time</em>, i.e. the
clock that is built into the device. The <em>sensor time</em> is given in nanoseconds
although at the moment no device supports accuracy higher than microseconds.
For certain devices (e.g. libcaer) <em>sensor time</em>
is aligned with <em>host time</em> when the driver starts up. Since <em>sensor time</em> and <em>host time</em>
are not synchronized they can drift arbitrarily far from each other.
Some decoders (e.g. <code class="language-plaintext highlighter-rouge">libcaer</code>, <code class="language-plaintext highlighter-rouge">libcaer_cmp</code>) make use of the <code class="language-plaintext highlighter-rouge">time_base</code>
field, which refers to sensor time at the time of arrival of the first data packet
included in the ROS message. For other encodings (e.g. <code class="language-plaintext highlighter-rouge">evt3</code>) the sensor time must
be recovered by decoding the messages.</p>

<p>The time stamps encoded in EVT3 format have a few peculiarities worthwhile noting:</p>

<ul>
  <li>the data field for the time stamps is only 24 bits wide, which leads to wrap-around
of the time stamps every 2^24usec = 16.77s. This means that if you start decoding
somewhere in the middle of the data stream (an hour into it!), the first time stamp
you will get is always between 0 and 16.77s.
From then on the decoder library keeps track of the
moment when the 24 bit time stamp wraps around and so gives you the illusion that
the time stamp is 64bit wide. In reality it is not.</li>
  <li>the device has some dubious bit errors in the time stamps that thwart a simplistic
detection of the time stamp wrap-around. The decoder has some logic built into it
to compensate for those errors but if your time stamps are suddenly off by 16.77s,
that may well have been the problem.</li>
  <li>in theory comparison with the time stamps obtained from the Metavision SDK should be
possible but especially the starting time usually disagrees for unknown reasons. The
relative time differences however have always checked out so far.</li>
  <li>because of the time-stamp wrap around, decoding two separate EVT3 event streams from
two different cameras can be tricky. If the time stamps for one camera have just wrapped
around before the first packet is decoded, but have not wrapped around for the second
camera, the sensor times will be off by 16.7s with respect to each other although the
two cameras are hardware synced.</li>
</ul>

<h2 id="tools">Tools</h2>

<h3 id="performance-measurement-of-evt3-decoder-for-developers-only">Performance measurement of EVT3 decoder (for developers only)</h3>

<p>ROS1:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># decode a raw file and measure performance
rosrun event_camera_codecs codec_perf -i foo.raw

</code></pre></div></div>

<p>ROS2 examples:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># decode a raw file and measure performance
ros2 run event_camera_codecs codec_perf -i foo.raw

</code></pre></div></div>

<h2 id="license">License</h2>

<p>This software is issued under the Apache License Version 2.0.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-event_camera_codecs">Changelog for package event_camera_codecs</h1>

<h2 id="105-2024-05-29">1.0.5 (2024-05-29)</h2>

<ul>
  <li>fix formatting for noble</li>
  <li>updated build instructions</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="104-2024-02-04">1.0.4 (2024-02-04)</h2>

<ul>
  <li>added hasSensorTimeSinceEpoch() and getTimeMultiplier() This is to
support libcaer event python processing</li>
  <li>added newInstance(msg) methods</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="103-2023-12-16">1.0.3 (2023-12-16)</h2>

<ul>
  <li>added tests</li>
  <li>added libcaer_cmp, libcaer and improved README</li>
  <li>make decoder factory geometry aware, use new ros1 ci</li>
  <li>use new CI rules</li>
  <li>add dependency on class_loader</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="102-2023-09-19">1.0.2 (2023-09-19)</h2>

<ul>
  <li>add dependency on class_loader</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="101-2023-08-29">1.0.1 (2023-08-29)</h2>

<ul>
  <li>initial release</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/event_camera_codecs/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#jazzy">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_ros#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_ros#jazzy">ament_cmake_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_auto#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_auto#jazzy">ament_cmake_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#jazzy-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#jazzy">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#jazzy">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#jazzy">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_gtest#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_gtest#jazzy">ament_cmake_gtest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_clang_format#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_clang_format#jazzy">ament_cmake_clang_format  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosbag2_cpp#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosbag2_cpp#jazzy">rosbag2_cpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#jazzy">rclcpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/class_loader#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/class_loader#jazzy">class_loader  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/event_camera_msgs#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/event_camera_msgs#jazzy">event_camera_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ros_environment#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ros_environment#jazzy">ros_environment  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/event_camera_py#jazzy">event_camera_py</a></td>
                      <td class="text-center">
                        
                        <a href="/p/event_camera_py#jazzy-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/event_camera_renderer#jazzy">event_camera_renderer</a></td>
                      <td class="text-center">
                        
                        <a href="/p/event_camera_renderer#jazzy-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/.//nodelet_plugins.xml" target="_blank">nodelet</a></li>
            
          </ul>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>event_camera_codecs</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="jazzy-question-list" class="panel-body" style="display: none;"></div>
      <div id="jazzy-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/event_camera_codecs+jazzy">here</a>.</p>
      </div>
      <div id="jazzy-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/ros-event-camera/event_camera_codecs.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/jazzy/p/event_camera_codecs"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/event_camera_codecs">event_camera_codecs</a> <small>package from <a style="text-decoration:none" href="/r/event_camera_codecs/github-ros-event-camera-event_camera_codecs">event_camera_codecs</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

event_camera_codecs
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/kilted/p/event_camera_codecs"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="kilted-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#kilted-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#kilted-assets" data-toggle="tab"><span class="label label-primary">1</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#kilted-deps" data-toggle="tab"><span class="label label-primary">13</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#kilted-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#kilted-questions" data-toggle="tab"><span id="kilted-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="kilted-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>1.0.5</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>Apache2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">encoding/decoding for event_array_messages</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-event-camera/event_camera_codecs.git">https://github.com/ros-event-camera/event_camera_codecs.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">rolling</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-05-29
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/event_camera_codecs/#kilted-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/event_camera_codecs/#kilted-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/event_camera_codecs/#kilted-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            package to encode and decode event_camera_msgs
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Bernd Pfrommer</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="event_camera_codecs">event_camera_codecs</h1>

<p>This repository holds code for decoding
<a href="https://github.com/ros-event-camera/event_camera_msgs">event_camera_msgs</a>. It
builds under both ROS1 and ROS2.
You can use this decoder from python via the
<a href="https://github.com/ros-event-camera/event_camera_py">event_camera_py repository</a>.</p>

<h2 id="supported-platforms">Supported platforms</h2>

<p>Currently tested on:</p>
<ul>
  <li>ROS1: Ubuntu 20.04 on Noetic</li>
  <li>ROS2: Ubuntu 22.04 on Humble, Iron, Rolling</li>
</ul>

<h2 id="how-to-build">How to build</h2>

<p>Set the following shell variables:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">repo</span><span class="o">=</span>event_camera_codecs
<span class="nv">url</span><span class="o">=</span>https://github.com/ros-event-camera/<span class="k">${</span><span class="nv">repo</span><span class="k">}</span>.git

</code></pre></div></div>
<p>and follow the <a href="https://github.com/ros-misc-utilities/.github/blob/master/docs/build_ros_repository.md">instructions here</a></p>

<h3 id="configure-and-build-on-ros1">configure and build on ROS1:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>catkin config -DCMAKE_BUILD_TYPE=RelWithDebInfo  # (optionally add -DCMAKE_EXPORT_COMPILE_COMMANDS=1)
catkin build

</code></pre></div></div>

<h3 id="configure-and-build-on-ros2">configure and build on ROS2:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/ws
colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo  # (optionally add -DCMAKE_EXPORT_COMPILE_COMMANDS=1)

</code></pre></div></div>

<p>To also build the unit tests, add the cmake argument <code class="language-plaintext highlighter-rouge">-DEVENT_CAMERA_CODECS_BUILD_TESTS=ON</code>.</p>

<h2 id="api-example">API example</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;event_camera_codecs/decoder.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;event_camera_codecs/decoder_factory.h&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacket</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyProcessor</span> <span class="o">:</span> <span class="k">public</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventProcessor</span>
<span class="p">{</span>
<span class="nl">public:</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="n">eventCD</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ex</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ey</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">polarity</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span>
    <span class="c1">// do useful stuff here</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">eventExtTrigger</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">)</span> <span class="k">override</span> <span class="p">{}</span>
  <span class="kt">void</span> <span class="n">finished</span><span class="p">()</span> <span class="k">override</span><span class="p">{};</span> <span class="c1">// called after no more events decoded in this packet</span>
  <span class="kt">void</span> <span class="n">rawData</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">size_t</span><span class="p">)</span> <span class="k">override</span><span class="p">{};</span>  <span class="c1">// passthrough of raw data</span>
<span class="p">};</span>

<span class="n">MyProcessor</span> <span class="n">processor</span><span class="p">;</span>

<span class="c1">// the decoder factory method is templated on the event processor</span>
<span class="c1">// to permit inlining of methods like eventCD() above.</span>

<span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">DecoderFactory</span><span class="o">&lt;</span><span class="n">EventPacket</span><span class="p">,</span> <span class="n">MyProcessor</span><span class="o">&gt;</span> <span class="n">decoderFactory</span><span class="p">;</span>

<span class="c1">// to get callbacks into MyProcessor, feed the message buffer</span>
<span class="c1">// into the decoder like so</span>

<span class="kt">void</span> <span class="nf">eventMsg</span><span class="p">(</span><span class="k">const</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacketConstSharedPtr</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// will create a new decoder on first call, from then on returns existing one</span>
  <span class="k">auto</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoderFactory</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">decoder</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// msg-&gt;encoding was invalid</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// the decode() will trigger callbacks to processor</span>
  <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">decode</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">processor</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* To synchronize with frame based sensors it is useful to play back
   until a frame boundary is reached. The interface decodeUntil() is provided
   for this purpose. Do *NOT* use decode() and decodeUntil() on the same decoder!
   In the sample code belowframeTimes is an ordered queue of frame times.
   */</span>

<span class="kt">void</span> <span class="nf">eventMsg2</span><span class="p">(</span><span class="k">const</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacketConstSharedPtr</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">auto</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoderFactory</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">);</span>
  <span class="kt">uint64_t</span> <span class="n">nextTime</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="c1">// The loop will exit when all events in msg have been processed</span>
  <span class="c1">// or there are no more frame times available</span>
  <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">setTimeBase</span><span class="p">(</span><span class="n">msg</span><span class="o">-&gt;</span><span class="n">time_base</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">frameTimes</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
    <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">decodeUntil</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">processor</span><span class="p">,</span> <span class="n">frameTimes</span><span class="p">.</span><span class="n">front</span><span class="p">(),</span> <span class="o">&amp;</span><span class="n">nextTime</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// use loop in case multiple frames fit inbetween two events</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">frameTimes</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">frameTimes</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">nextTime</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// processFrameHere()</span>
      <span class="n">frameTimes</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="codecs">Codecs</h2>

<p>The following encodings are supported:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">evt3</code>: Native EVT3 format of the Prophesee (Metavision) line of cameras</li>
  <li>
<code class="language-plaintext highlighter-rouge">libcaer_cmp</code>: Compressed libcaer format for Inivation Labs line of cameras.</li>
  <li>
<code class="language-plaintext highlighter-rouge">libcaer</code>: Uncompressed format of libcaer data. Use only when memory bandwidth
 is high and CPU is slow.</li>
  <li>
<code class="language-plaintext highlighter-rouge">mono</code>: legacy format temporarily used for prophesee cameras. Deprecated.</li>
  <li>
<code class="language-plaintext highlighter-rouge">trigger</code>: legacy format temporarily used for trigger events. Deprecated.</li>
</ul>

<h2 id="event-time-stamps">Event Time Stamps</h2>

<p>All event time stamps returned by the decoder refer to <em>sensor time</em>, i.e. the
clock that is built into the device. The <em>sensor time</em> is given in nanoseconds
although at the moment no device supports accuracy higher than microseconds.
For certain devices (e.g. libcaer) <em>sensor time</em>
is aligned with <em>host time</em> when the driver starts up. Since <em>sensor time</em> and <em>host time</em>
are not synchronized they can drift arbitrarily far from each other.
Some decoders (e.g. <code class="language-plaintext highlighter-rouge">libcaer</code>, <code class="language-plaintext highlighter-rouge">libcaer_cmp</code>) make use of the <code class="language-plaintext highlighter-rouge">time_base</code>
field, which refers to sensor time at the time of arrival of the first data packet
included in the ROS message. For other encodings (e.g. <code class="language-plaintext highlighter-rouge">evt3</code>) the sensor time must
be recovered by decoding the messages.</p>

<p>The time stamps encoded in EVT3 format have a few peculiarities worthwhile noting:</p>

<ul>
  <li>the data field for the time stamps is only 24 bits wide, which leads to wrap-around
of the time stamps every 2^24usec = 16.77s. This means that if you start decoding
somewhere in the middle of the data stream (an hour into it!), the first time stamp
you will get is always between 0 and 16.77s.
From then on the decoder library keeps track of the
moment when the 24 bit time stamp wraps around and so gives you the illusion that
the time stamp is 64bit wide. In reality it is not.</li>
  <li>the device has some dubious bit errors in the time stamps that thwart a simplistic
detection of the time stamp wrap-around. The decoder has some logic built into it
to compensate for those errors but if your time stamps are suddenly off by 16.77s,
that may well have been the problem.</li>
  <li>in theory comparison with the time stamps obtained from the Metavision SDK should be
possible but especially the starting time usually disagrees for unknown reasons. The
relative time differences however have always checked out so far.</li>
  <li>because of the time-stamp wrap around, decoding two separate EVT3 event streams from
two different cameras can be tricky. If the time stamps for one camera have just wrapped
around before the first packet is decoded, but have not wrapped around for the second
camera, the sensor times will be off by 16.7s with respect to each other although the
two cameras are hardware synced.</li>
</ul>

<h2 id="tools">Tools</h2>

<h3 id="performance-measurement-of-evt3-decoder-for-developers-only">Performance measurement of EVT3 decoder (for developers only)</h3>

<p>ROS1:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># decode a raw file and measure performance
rosrun event_camera_codecs codec_perf -i foo.raw

</code></pre></div></div>

<p>ROS2 examples:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># decode a raw file and measure performance
ros2 run event_camera_codecs codec_perf -i foo.raw

</code></pre></div></div>

<h2 id="license">License</h2>

<p>This software is issued under the Apache License Version 2.0.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-event_camera_codecs">Changelog for package event_camera_codecs</h1>

<h2 id="105-2024-05-29">1.0.5 (2024-05-29)</h2>

<ul>
  <li>fix formatting for noble</li>
  <li>updated build instructions</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="104-2024-02-04">1.0.4 (2024-02-04)</h2>

<ul>
  <li>added hasSensorTimeSinceEpoch() and getTimeMultiplier() This is to
support libcaer event python processing</li>
  <li>added newInstance(msg) methods</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="103-2023-12-16">1.0.3 (2023-12-16)</h2>

<ul>
  <li>added tests</li>
  <li>added libcaer_cmp, libcaer and improved README</li>
  <li>make decoder factory geometry aware, use new ros1 ci</li>
  <li>use new CI rules</li>
  <li>add dependency on class_loader</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="102-2023-09-19">1.0.2 (2023-09-19)</h2>

<ul>
  <li>add dependency on class_loader</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="101-2023-08-29">1.0.1 (2023-08-29)</h2>

<ul>
  <li>initial release</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/event_camera_codecs/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#kilted">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_ros#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_ros#kilted">ament_cmake_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_auto#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_auto#kilted">ament_cmake_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#kilted-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#kilted">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#kilted">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#kilted">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_gtest#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_gtest#kilted">ament_cmake_gtest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_clang_format#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_clang_format#kilted">ament_cmake_clang_format  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosbag2_cpp#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosbag2_cpp#kilted">rosbag2_cpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#kilted">rclcpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/class_loader#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/class_loader#kilted">class_loader  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/event_camera_msgs#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/event_camera_msgs#kilted">event_camera_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ros_environment#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ros_environment#kilted">ros_environment  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/event_camera_py#kilted">event_camera_py</a></td>
                      <td class="text-center">
                        
                        <a href="/p/event_camera_py#kilted-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/event_camera_renderer#kilted">event_camera_renderer</a></td>
                      <td class="text-center">
                        
                        <a href="/p/event_camera_renderer#kilted-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/.//nodelet_plugins.xml" target="_blank">nodelet</a></li>
            
          </ul>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>event_camera_codecs</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="kilted-question-list" class="panel-body" style="display: none;"></div>
      <div id="kilted-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/event_camera_codecs+kilted">here</a>.</p>
      </div>
      <div id="kilted-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/ros-event-camera/event_camera_codecs.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/kilted/p/event_camera_codecs"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/event_camera_codecs">event_camera_codecs</a> <small>package from <a style="text-decoration:none" href="/r/event_camera_codecs/github-ros-event-camera-event_camera_codecs">event_camera_codecs</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

event_camera_codecs
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/rolling/p/event_camera_codecs"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="rolling-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#rolling-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#rolling-assets" data-toggle="tab"><span class="label label-primary">1</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#rolling-deps" data-toggle="tab"><span class="label label-primary">13</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#rolling-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#rolling-questions" data-toggle="tab"><span id="rolling-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="rolling-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>1.0.5</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>Apache2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">encoding/decoding for event_array_messages</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-event-camera/event_camera_codecs.git">https://github.com/ros-event-camera/event_camera_codecs.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">rolling</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-05-29
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/event_camera_codecs/#rolling-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/event_camera_codecs/#rolling-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/event_camera_codecs/#rolling-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            package to encode and decode event_camera_msgs
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Bernd Pfrommer</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="event_camera_codecs">event_camera_codecs</h1>

<p>This repository holds code for decoding
<a href="https://github.com/ros-event-camera/event_camera_msgs">event_camera_msgs</a>. It
builds under both ROS1 and ROS2.
You can use this decoder from python via the
<a href="https://github.com/ros-event-camera/event_camera_py">event_camera_py repository</a>.</p>

<h2 id="supported-platforms">Supported platforms</h2>

<p>Currently tested on:</p>
<ul>
  <li>ROS1: Ubuntu 20.04 on Noetic</li>
  <li>ROS2: Ubuntu 22.04 on Humble, Iron, Rolling</li>
</ul>

<h2 id="how-to-build">How to build</h2>

<p>Set the following shell variables:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">repo</span><span class="o">=</span>event_camera_codecs
<span class="nv">url</span><span class="o">=</span>https://github.com/ros-event-camera/<span class="k">${</span><span class="nv">repo</span><span class="k">}</span>.git

</code></pre></div></div>
<p>and follow the <a href="https://github.com/ros-misc-utilities/.github/blob/master/docs/build_ros_repository.md">instructions here</a></p>

<h3 id="configure-and-build-on-ros1">configure and build on ROS1:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>catkin config -DCMAKE_BUILD_TYPE=RelWithDebInfo  # (optionally add -DCMAKE_EXPORT_COMPILE_COMMANDS=1)
catkin build

</code></pre></div></div>

<h3 id="configure-and-build-on-ros2">configure and build on ROS2:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/ws
colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo  # (optionally add -DCMAKE_EXPORT_COMPILE_COMMANDS=1)

</code></pre></div></div>

<p>To also build the unit tests, add the cmake argument <code class="language-plaintext highlighter-rouge">-DEVENT_CAMERA_CODECS_BUILD_TESTS=ON</code>.</p>

<h2 id="api-example">API example</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;event_camera_codecs/decoder.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;event_camera_codecs/decoder_factory.h&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacket</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyProcessor</span> <span class="o">:</span> <span class="k">public</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventProcessor</span>
<span class="p">{</span>
<span class="nl">public:</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="n">eventCD</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ex</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ey</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">polarity</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span>
    <span class="c1">// do useful stuff here</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">eventExtTrigger</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">)</span> <span class="k">override</span> <span class="p">{}</span>
  <span class="kt">void</span> <span class="n">finished</span><span class="p">()</span> <span class="k">override</span><span class="p">{};</span> <span class="c1">// called after no more events decoded in this packet</span>
  <span class="kt">void</span> <span class="n">rawData</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">size_t</span><span class="p">)</span> <span class="k">override</span><span class="p">{};</span>  <span class="c1">// passthrough of raw data</span>
<span class="p">};</span>

<span class="n">MyProcessor</span> <span class="n">processor</span><span class="p">;</span>

<span class="c1">// the decoder factory method is templated on the event processor</span>
<span class="c1">// to permit inlining of methods like eventCD() above.</span>

<span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">DecoderFactory</span><span class="o">&lt;</span><span class="n">EventPacket</span><span class="p">,</span> <span class="n">MyProcessor</span><span class="o">&gt;</span> <span class="n">decoderFactory</span><span class="p">;</span>

<span class="c1">// to get callbacks into MyProcessor, feed the message buffer</span>
<span class="c1">// into the decoder like so</span>

<span class="kt">void</span> <span class="nf">eventMsg</span><span class="p">(</span><span class="k">const</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacketConstSharedPtr</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// will create a new decoder on first call, from then on returns existing one</span>
  <span class="k">auto</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoderFactory</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">decoder</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// msg-&gt;encoding was invalid</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// the decode() will trigger callbacks to processor</span>
  <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">decode</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">processor</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* To synchronize with frame based sensors it is useful to play back
   until a frame boundary is reached. The interface decodeUntil() is provided
   for this purpose. Do *NOT* use decode() and decodeUntil() on the same decoder!
   In the sample code belowframeTimes is an ordered queue of frame times.
   */</span>

<span class="kt">void</span> <span class="nf">eventMsg2</span><span class="p">(</span><span class="k">const</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacketConstSharedPtr</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">auto</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoderFactory</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">);</span>
  <span class="kt">uint64_t</span> <span class="n">nextTime</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="c1">// The loop will exit when all events in msg have been processed</span>
  <span class="c1">// or there are no more frame times available</span>
  <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">setTimeBase</span><span class="p">(</span><span class="n">msg</span><span class="o">-&gt;</span><span class="n">time_base</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">frameTimes</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
    <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">decodeUntil</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">processor</span><span class="p">,</span> <span class="n">frameTimes</span><span class="p">.</span><span class="n">front</span><span class="p">(),</span> <span class="o">&amp;</span><span class="n">nextTime</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// use loop in case multiple frames fit inbetween two events</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">frameTimes</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">frameTimes</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">nextTime</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// processFrameHere()</span>
      <span class="n">frameTimes</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="codecs">Codecs</h2>

<p>The following encodings are supported:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">evt3</code>: Native EVT3 format of the Prophesee (Metavision) line of cameras</li>
  <li>
<code class="language-plaintext highlighter-rouge">libcaer_cmp</code>: Compressed libcaer format for Inivation Labs line of cameras.</li>
  <li>
<code class="language-plaintext highlighter-rouge">libcaer</code>: Uncompressed format of libcaer data. Use only when memory bandwidth
 is high and CPU is slow.</li>
  <li>
<code class="language-plaintext highlighter-rouge">mono</code>: legacy format temporarily used for prophesee cameras. Deprecated.</li>
  <li>
<code class="language-plaintext highlighter-rouge">trigger</code>: legacy format temporarily used for trigger events. Deprecated.</li>
</ul>

<h2 id="event-time-stamps">Event Time Stamps</h2>

<p>All event time stamps returned by the decoder refer to <em>sensor time</em>, i.e. the
clock that is built into the device. The <em>sensor time</em> is given in nanoseconds
although at the moment no device supports accuracy higher than microseconds.
For certain devices (e.g. libcaer) <em>sensor time</em>
is aligned with <em>host time</em> when the driver starts up. Since <em>sensor time</em> and <em>host time</em>
are not synchronized they can drift arbitrarily far from each other.
Some decoders (e.g. <code class="language-plaintext highlighter-rouge">libcaer</code>, <code class="language-plaintext highlighter-rouge">libcaer_cmp</code>) make use of the <code class="language-plaintext highlighter-rouge">time_base</code>
field, which refers to sensor time at the time of arrival of the first data packet
included in the ROS message. For other encodings (e.g. <code class="language-plaintext highlighter-rouge">evt3</code>) the sensor time must
be recovered by decoding the messages.</p>

<p>The time stamps encoded in EVT3 format have a few peculiarities worthwhile noting:</p>

<ul>
  <li>the data field for the time stamps is only 24 bits wide, which leads to wrap-around
of the time stamps every 2^24usec = 16.77s. This means that if you start decoding
somewhere in the middle of the data stream (an hour into it!), the first time stamp
you will get is always between 0 and 16.77s.
From then on the decoder library keeps track of the
moment when the 24 bit time stamp wraps around and so gives you the illusion that
the time stamp is 64bit wide. In reality it is not.</li>
  <li>the device has some dubious bit errors in the time stamps that thwart a simplistic
detection of the time stamp wrap-around. The decoder has some logic built into it
to compensate for those errors but if your time stamps are suddenly off by 16.77s,
that may well have been the problem.</li>
  <li>in theory comparison with the time stamps obtained from the Metavision SDK should be
possible but especially the starting time usually disagrees for unknown reasons. The
relative time differences however have always checked out so far.</li>
  <li>because of the time-stamp wrap around, decoding two separate EVT3 event streams from
two different cameras can be tricky. If the time stamps for one camera have just wrapped
around before the first packet is decoded, but have not wrapped around for the second
camera, the sensor times will be off by 16.7s with respect to each other although the
two cameras are hardware synced.</li>
</ul>

<h2 id="tools">Tools</h2>

<h3 id="performance-measurement-of-evt3-decoder-for-developers-only">Performance measurement of EVT3 decoder (for developers only)</h3>

<p>ROS1:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># decode a raw file and measure performance
rosrun event_camera_codecs codec_perf -i foo.raw

</code></pre></div></div>

<p>ROS2 examples:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># decode a raw file and measure performance
ros2 run event_camera_codecs codec_perf -i foo.raw

</code></pre></div></div>

<h2 id="license">License</h2>

<p>This software is issued under the Apache License Version 2.0.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-event_camera_codecs">Changelog for package event_camera_codecs</h1>

<h2 id="105-2024-05-29">1.0.5 (2024-05-29)</h2>

<ul>
  <li>fix formatting for noble</li>
  <li>updated build instructions</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="104-2024-02-04">1.0.4 (2024-02-04)</h2>

<ul>
  <li>added hasSensorTimeSinceEpoch() and getTimeMultiplier() This is to
support libcaer event python processing</li>
  <li>added newInstance(msg) methods</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="103-2023-12-16">1.0.3 (2023-12-16)</h2>

<ul>
  <li>added tests</li>
  <li>added libcaer_cmp, libcaer and improved README</li>
  <li>make decoder factory geometry aware, use new ros1 ci</li>
  <li>use new CI rules</li>
  <li>add dependency on class_loader</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="102-2023-09-19">1.0.2 (2023-09-19)</h2>

<ul>
  <li>add dependency on class_loader</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="101-2023-08-29">1.0.1 (2023-08-29)</h2>

<ul>
  <li>initial release</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/event_camera_codecs/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#rolling">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_ros#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_ros#rolling">ament_cmake_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_auto#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_auto#rolling">ament_cmake_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#rolling-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#rolling">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#rolling">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#rolling">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_gtest#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_gtest#rolling">ament_cmake_gtest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_clang_format#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_clang_format#rolling">ament_cmake_clang_format  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosbag2_cpp#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosbag2_cpp#rolling">rosbag2_cpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#rolling">rclcpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/class_loader#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/class_loader#rolling">class_loader  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/event_camera_msgs#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/event_camera_msgs#rolling">event_camera_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ros_environment#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ros_environment#rolling">ros_environment  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/event_camera_py#rolling">event_camera_py</a></td>
                      <td class="text-center">
                        
                        <a href="/p/event_camera_py#rolling-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/event_camera_renderer#rolling">event_camera_renderer</a></td>
                      <td class="text-center">
                        
                        <a href="/p/event_camera_renderer#rolling-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/.//nodelet_plugins.xml" target="_blank">nodelet</a></li>
            
          </ul>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>event_camera_codecs</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="rolling-question-list" class="panel-body" style="display: none;"></div>
      <div id="rolling-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/event_camera_codecs+rolling">here</a>.</p>
      </div>
      <div id="rolling-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/ros-event-camera/event_camera_codecs.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/rolling/p/event_camera_codecs"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/ros-event-camera/event_camera_codecs/tree/rolling/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/event_camera_codecs">event_camera_codecs</a> <small>package from <a style="text-decoration:none" href="/r/event_camera_codecs/github-ros-event-camera-event_camera_codecs">event_camera_codecs</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

event_camera_codecs
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/iron/p/event_camera_codecs"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/ros-event-camera/event_camera_codecs/tree/iron/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="iron-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#iron-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#iron-assets" data-toggle="tab"><span class="label label-primary">1</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#iron-deps" data-toggle="tab"><span class="label label-primary">13</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#iron-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#iron-questions" data-toggle="tab"><span id="iron-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="iron-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>1.2.4</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>Apache2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">encoding/decoding for event_array_messages</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-event-camera/event_camera_codecs.git">https://github.com/ros-event-camera/event_camera_codecs.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">iron</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-02-04
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/event_camera_codecs/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/event_camera_codecs/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/event_camera_codecs/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            package to encode and decode event_camera_msgs
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Bernd Pfrommer</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/ros-event-camera/event_camera_codecs/tree/iron/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="event_camera_codecs">event_camera_codecs</h1>

<p>This repository holds code for decoding
<a href="https://github.com/ros-event-camera/event_camera_msgs">event_camera_msgs</a>. It
builds under both ROS1 and ROS2.
You can use this decoder from python via the
<a href="https://github.com/ros-event-camera/event_camera_py">event_camera_py repository</a>.</p>

<h2 id="supported-platforms">Supported platforms</h2>

<p>Currently tested on:</p>
<ul>
  <li>ROS1: Ubuntu 20.04 on Noetic</li>
  <li>ROS2: Ubuntu 22.04 on Humble, Iron, Rolling</li>
</ul>

<h2 id="how-to-build">How to build</h2>
<p>Create a workspace, clone this repo, and use <code class="language-plaintext highlighter-rouge">vcs</code>
to pull in the remaining dependencies:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pkg=event_camera_codecs
mkdir -p ~/$pkg/src
cd ~/ws
git clone https://github.com/ros-event-camera/${pkg}.git src/${pkg}
cd src
vcs import &lt; ${pkg}/${pkg}.repos
cd ..

</code></pre></div></div>

<h3 id="configure-and-build-on-ros1">configure and build on ROS1:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>catkin config -DCMAKE_BUILD_TYPE=RelWithDebInfo  # (optionally add -DCMAKE_EXPORT_COMPILE_COMMANDS=1)
catkin build

</code></pre></div></div>

<h3 id="configure-and-build-on-ros2">configure and build on ROS2:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/ws
colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo  # (optionally add -DCMAKE_EXPORT_COMPILE_COMMANDS=1)

</code></pre></div></div>

<p>To also build the unit tests, add the cmake argument <code class="language-plaintext highlighter-rouge">-DEVENT_CAMERA_CODECS_BUILD_TESTS=ON</code>.</p>

<h2 id="api-example">API example</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;event_camera_codecs/decoder.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;event_camera_codecs/decoder_factory.h&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacket</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyProcessor</span> <span class="o">:</span> <span class="k">public</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventProcessor</span>
<span class="p">{</span>
<span class="nl">public:</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="n">eventCD</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ex</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ey</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">polarity</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span>
    <span class="c1">// do useful stuff here</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">eventExtTrigger</span><span class="p">(</span><span class="kt">uint64_t</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">)</span> <span class="k">override</span> <span class="p">{}</span>
  <span class="kt">void</span> <span class="n">finished</span><span class="p">()</span> <span class="k">override</span><span class="p">{};</span> <span class="c1">// called after no more events decoded in this packet</span>
  <span class="kt">void</span> <span class="n">rawData</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">size_t</span><span class="p">)</span> <span class="k">override</span><span class="p">{};</span>  <span class="c1">// passthrough of raw data</span>
<span class="p">};</span>

<span class="n">MyProcessor</span> <span class="n">processor</span><span class="p">;</span>

<span class="c1">// the decoder factory method is templated on the event processor</span>
<span class="c1">// to permit inlining of methods like eventCD() above.</span>

<span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">DecoderFactory</span><span class="o">&lt;</span><span class="n">EventPacket</span><span class="p">,</span> <span class="n">MyProcessor</span><span class="o">&gt;</span> <span class="n">decoderFactory</span><span class="p">;</span>

<span class="c1">// to get callbacks into MyProcessor, feed the message buffer</span>
<span class="c1">// into the decoder like so</span>

<span class="kt">void</span> <span class="nf">eventMsg</span><span class="p">(</span><span class="k">const</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacketConstSharedPtr</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// will create a new decoder on first call, from then on returns existing one</span>
  <span class="k">auto</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoderFactory</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">decoder</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// msg-&gt;encoding was invalid</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// the decode() will trigger callbacks to processor</span>
  <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">decode</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">processor</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* To synchronize with frame based sensors it is useful to play back
   until a frame boundary is reached. The interface decodeUntil() is provided
   for this purpose. Do *NOT* use decode() and decodeUntil() on the same decoder!
   In the sample code belowframeTimes is an ordered queue of frame times.
   */</span>

<span class="kt">void</span> <span class="nf">eventMsg2</span><span class="p">(</span><span class="k">const</span> <span class="n">event_camera_codecs</span><span class="o">::</span><span class="n">EventPacketConstSharedPtr</span> <span class="o">&amp;</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">auto</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoderFactory</span><span class="p">.</span><span class="n">getInstance</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">);</span>
  <span class="kt">uint64_t</span> <span class="n">nextTime</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="c1">// The loop will exit when all events in msg have been processed</span>
  <span class="c1">// or there are no more frame times available</span>
  <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">setTimeBase</span><span class="p">(</span><span class="n">msg</span><span class="o">-&gt;</span><span class="n">time_base</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">frameTimes</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
    <span class="n">decoder</span><span class="o">-&gt;</span><span class="n">decodeUntil</span><span class="p">(</span><span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">processor</span><span class="p">,</span> <span class="n">frameTimes</span><span class="p">.</span><span class="n">front</span><span class="p">(),</span> <span class="o">&amp;</span><span class="n">nextTime</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// use loop in case multiple frames fit inbetween two events</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">frameTimes</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">frameTimes</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">nextTime</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// processFrameHere()</span>
      <span class="n">frameTimes</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="codecs">Codecs</h2>

<p>The following encodings are supported:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">evt3</code>: Native EVT3 format of the Prophesee (Metavision) line of cameras</li>
  <li>
<code class="language-plaintext highlighter-rouge">libcaer_cmp</code>: Compressed libcaer format for Inivation Labs line of cameras.</li>
  <li>
<code class="language-plaintext highlighter-rouge">libcaer</code>: Uncompressed format of libcaer data. Use only when memory bandwidth
 is high and CPU is slow.</li>
  <li>
<code class="language-plaintext highlighter-rouge">mono</code>: legacy format temporarily used for prophesee cameras. Deprecated.</li>
  <li>
<code class="language-plaintext highlighter-rouge">trigger</code>: legacy format temporarily used for trigger events. Deprecated.</li>
</ul>

<h2 id="event-time-stamps">Event Time Stamps</h2>

<p>All event time stamps returned by the decoder refer to <em>sensor time</em>, i.e. the
clock that is built into the device. The <em>sensor time</em> is given in nanoseconds
although at the moment no device supports accuracy higher than microseconds.
For certain devices (e.g. libcaer) <em>sensor time</em>
is aligned with <em>host time</em> when the driver starts up. Since <em>sensor time</em> and <em>host time</em>
are not synchronized they can drift arbitrarily far from each other.
Some decoders (e.g. <code class="language-plaintext highlighter-rouge">libcaer</code>, <code class="language-plaintext highlighter-rouge">libcaer_cmp</code>) make use of the <code class="language-plaintext highlighter-rouge">time_base</code>
field, which refers to sensor time at the time of arrival of the first data packet
included in the ROS message. For other encodings (e.g. <code class="language-plaintext highlighter-rouge">evt3</code>) the sensor time must
be recovered by decoding the messages.</p>

<p>The time stamps encoded in EVT3 format have a few peculiarities worthwhile noting:</p>

<ul>
  <li>the data field for the time stamps is only 24 bits wide, which leads to wrap-around
of the time stamps every 2^24usec = 16.77s. This means that if you start decoding
somewhere in the middle of the data stream (an hour into it!), the first time stamp
you will get is always between 0 and 16.77s.
From then on the decoder library keeps track of the
moment when the 24 bit time stamp wraps around and so gives you the illusion that
the time stamp is 64bit wide. In reality it is not.</li>
  <li>the device has some dubious bit errors in the time stamps that thwart a simplistic
detection of the time stamp wrap-around. The decoder has some logic built into it
to compensate for those errors but if your time stamps are suddenly off by 16.77s,
that may well have been the problem.</li>
  <li>in theory comparison with the time stamps obtained from the Metavision SDK should be
possible but especially the starting time usually disagrees for unknown reasons. The
relative time differences however have always checked out so far.</li>
  <li>because of the time-stamp wrap around, decoding two separate EVT3 event streams from
two different cameras can be tricky. If the time stamps for one camera have just wrapped
around before the first packet is decoded, but have not wrapped around for the second
camera, the sensor times will be off by 16.7s with respect to each other although the
two cameras are hardware synced.</li>
</ul>

<h2 id="tools">Tools</h2>

<h3 id="performance-measurement-of-evt3-decoder-for-developers-only">Performance measurement of EVT3 decoder (for developers only)</h3>

<p>ROS1:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># decode a raw file and measure performance
rosrun event_camera_codecs codec_perf -i foo.raw

</code></pre></div></div>

<p>ROS2 examples:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># decode a raw file and measure performance
ros2 run event_camera_codecs codec_perf -i foo.raw

</code></pre></div></div>

<h2 id="license">License</h2>

<p>This software is issued under the Apache License Version 2.0.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-event_camera_codecs">Changelog for package event_camera_codecs</h1>

<h2 id="124-2024-02-04">1.2.4 (2024-02-04)</h2>

<ul>
  <li>added hasSensorTimeSinceEpoch() and getTimeMultiplier() This is to
support libcaer event python processing</li>
  <li>added newInstance(msg) methods</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="123-2023-12-16">1.2.3 (2023-12-16)</h2>

<ul>
  <li>added more tests</li>
  <li>added libcaer_cmp, libcaer and improved README</li>
  <li>make decoder factory geometry aware, use new ros1 ci</li>
  <li>use new CI rules</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>

<h2 id="122-2023-11-11">1.2.2 (2023-11-11)</h2>

<ul>
  <li>first release</li>
  <li>Contributors: Bernd Pfrommer</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/event_camera_codecs/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#iron">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_ros#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_ros#iron">ament_cmake_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_auto#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_auto#iron">ament_cmake_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#iron-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#iron">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#iron">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#iron">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_gtest#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_gtest#iron">ament_cmake_gtest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_clang_format#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_clang_format#iron">ament_cmake_clang_format  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosbag2_cpp#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosbag2_cpp#iron">rosbag2_cpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#iron">rclcpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/class_loader#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/class_loader#iron">class_loader  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/event_camera_msgs#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/event_camera_msgs#iron">event_camera_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ros_environment#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ros_environment#iron">ros_environment  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/event_camera_py#iron">event_camera_py</a></td>
                      <td class="text-center">
                        
                        <a href="/p/event_camera_py#iron-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/event_camera_renderer#iron">event_camera_renderer</a></td>
                      <td class="text-center">
                        
                        <a href="/p/event_camera_renderer#iron-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ros-event-camera/event_camera_codecs/tree/iron/.//nodelet_plugins.xml" target="_blank">nodelet</a></li>
            
          </ul>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>event_camera_codecs</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="iron-question-list" class="panel-body" style="display: none;"></div>
      <div id="iron-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/event_camera_codecs+iron">here</a>.</p>
      </div>
      <div id="iron-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/ros-event-camera/event_camera_codecs.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/iron/p/event_camera_codecs"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/ros-event-camera/event_camera_codecs/tree/iron/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/event_camera_codecs?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/event_camera_codecs?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=event_camera_codecs&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "event_camera_codecs"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
