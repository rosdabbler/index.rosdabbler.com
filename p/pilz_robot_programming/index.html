<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: pilz_robot_programming</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/pilz_robot_programming/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">pilz_robot_programming</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class=" older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/pilz_robot_programming">pilz_robot_programming</a> <small>package from <a style="text-decoration:none" href="/r/pilz_industrial_motion/github-PilzDE-pilz_industrial_motion">pilz_industrial_motion</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/pilz_industrial_motion">

pilz_industrial_motion
</a>
            
          
            
            
              <span class="label label-default pkg-label">

pilz_robot_programming
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/pilz_robot_programming/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/PilzDE/pilz_industrial_motion/tree/noetic-devel/pilz_robot_programming"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/pilz_robot_programming?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="noetic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#noetic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#noetic-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#noetic-deps" data-toggle="tab"><span class="label label-primary">21</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#noetic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#noetic-questions" data-toggle="tab"><span id="noetic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="noetic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.5.0</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>LGPLv3</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Industrial trajectory generation for MoveIt!.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/PilzDE/pilz_industrial_motion.git">https://github.com/PilzDE/pilz_industrial_motion.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">noetic-devel</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2023-11-22
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
              <span class="label label-danger">
          
          END-OF-LIFE
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <div class="dropdown">
                        <button type="button" data-toggle="dropdown" class="btn label label-primary dropdown-toggle ci-result-success" title="Latest build information: Wed, 22 Nov 2023 14:27:13 GMT
  Total tests: 129
  Succeeded: 129
  Skipped: 0
  Failed: 0
Click to show more build history.">
                          <span class="glyphicon glyphicon-check"></span>
                          Continuous Integration
                          
                            : 129 / 129
                          
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                          <li class="dropdown-header">Latest build history: Wed, 22 Nov 2023 14:27:13 GMT (last 2 of 4 builds)</li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Ndev__pilz_industrial_motion__ubuntu_focal_amd64/7/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#7</strong></span>
                                <span>22-Nov-2023 14:12</span>
                                <span>129 / 129</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Ndev__pilz_industrial_motion__ubuntu_focal_amd64/4/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#4</strong></span>
                                <span>26-Aug-2021 14:51</span>
                                <span>129 / 129</span>
                              </a>
                            </li>
                          
                        </ul>
                      </div>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">ros</span> <span class="label label-default">pilz</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/pilz_industrial_motion/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/pilz_industrial_motion/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/pilz_industrial_motion/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            
  An Easy to use API to execute standard industrial robot commands like Ptp, Lin, Circ and Sequence using Moveit.
  
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Immanuel Martini</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/PilzDE/pilz_industrial_motion/tree/noetic-devel/pilz_robot_programming/Readme.rst" title="Open in git repository">pilz_robot_programming/Readme.rst</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<p>The pilz_robot_programming package provides the user with an easy to
use API to move a MoveIt! enabled robot. It's target is to execute
standard industrial robot commands like :py<code class="language-plaintext highlighter-rouge">.Ptp</code>{.interpreted-text
role=”class”}, :py<code class="language-plaintext highlighter-rouge">.Lin</code>{.interpreted-text role=”class”} and
:py<code class="language-plaintext highlighter-rouge">.Circ</code>{.interpreted-text role=”class”} using the
<code class="language-plaintext highlighter-rouge">pilz_industrial_motion_planner::CommandPlanner</code> plugin for MoveIt!. It
also provides the user with the possibility to execute command sequences
(called :py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”}). On top of that,
the robot movement can be paused, resumed and stopped.</p>

<p>All examples are given for a PRBT robot but the API is general enough to
be used with any robot that has a MoveIt! configuration, it merely
requires the availability of the service <code class="language-plaintext highlighter-rouge">/get_speed_override</code> for
obtaining the speed override of the robot system.</p>

<p>The robot API has some similarity to the <code class="language-plaintext highlighter-rouge">moveit_commander</code> package but
differs in its specialization for classical industrial robot commands to
be executed by the <code class="language-plaintext highlighter-rouge">pilz_industrial_motion_planner</code> MoveIt! plugin. The
robot API connects to MoveIt! using the standard <code class="language-plaintext highlighter-rouge">move_group</code> action
interface and the custom <code class="language-plaintext highlighter-rouge">sequence_move_group</code> action, that the sequence
capability implements.</p>

<p>See the package <code class="language-plaintext highlighter-rouge">pilz_industrial_motion_planner</code> for more details about
the parameters for industrial trajectory generation.</p>

<h1 id="a-simple-demo-program">A simple demo program</h1>

<p>To run the demo program it is first necessary to startup the simulated
or the real robot. Afterwards, you can execute the demo program by
typing:</p>

<p>``` {.sourceCode .none}
$ rosrun pilz_robot_programming demo_program.py</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
The code `demo_program.py`
--------------------------

::: {.literalinclude}
../examples/demo\_program.py
:::

The code explained
------------------

In this section parts of the demo program are explained to give a better
understanding how the robot API is used.

note

:   The chosen code snippets are not necessarily in order.

### Robot creation


``` {.sourceCode .python}
from pilz_robot_programming import *

</code></pre></div></div>

<p>At first we import the robot API.</p>

<p>``` {.sourceCode .python}
rospy.init_node(‘robot_program_node’)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
This code snippet initializes ROS.


``` {.sourceCode .python}
r = Robot(__REQUIRED_API_VERSION__)

</code></pre></div></div>

<p>Here the robot object is created, which, subsequently, is used to move
the robot.</p>

<p>The API version argument ensures, that the correct API version is used.
This makes sure, that the robot behaves as expected/intended. In case
the versions do not match, an exception is thrown.</p>

<dl>
  <dt>note</dt>
  <dd>
    <p>For the API version check only the major version number is relevant.</p>
  </dd>
  <dt>note</dt>
  <dd>
    <p>In general the speed of all motions depends on the operation mode of
the robot system. For more information see
<a href="https://github.com/PilzDE/pilz_robots/tree/melodic-devel/prbt_hardware_support">prbt_hardware_support</a>.</p>
  </dd>
</dl>

<h3 id="move">Move</h3>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=[0, 0.5, 0.5, 0, 0, 0]))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

``` {.sourceCode .python}
r.move(Lin(goal=Pose(position=Point(0.2, 0, 0.8))))

</code></pre></div></div>

<p>``` {.sourceCode .python}
r.move(Circ(goal=Pose(position=Point(0.2, 0.2, 0.8)), center=Point(0.3, 0.1, 0.8)))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
The :py`.move`{.interpreted-text role="meth"} function is the most
important part of the robot API. With the help of the
:py`.move`{.interpreted-text role="meth"} function the user can execute
the different robot motion commands, like shown for
:py`.Ptp`{.interpreted-text role="class"}, :py`.Lin`{.interpreted-text
role="class"} and :py`.Circ`{.interpreted-text role="class"}.

By default cartesian goals are interpreted as poses of the tool center
point (TCP) link. The transformation between the TCP link and the last
robot link can be adjusted through the `tcp_offset_xyz` and
`tcp_offset_rpy` parameters in `prbt.xacro`.

### Move failure


``` {.sourceCode .python}
try:
    r.move(Ptp(goal=[0, 10.0, 0, 0, 0, 0]))
except RobotMoveFailed:
    rospy.loginfo("Ptp command did fail as expected.")

</code></pre></div></div>

<p>In case a robot motion command fails during the execution, the
:py<code class="language-plaintext highlighter-rouge">.move</code>{.interpreted-text role=”meth”} function throws an
:py<code class="language-plaintext highlighter-rouge">.RobotMoveFailed</code>{.interpreted-text role=”class”} exception which
can be caught using standard python mechanisms.</p>

<h3 id="the-goal-joint-vs-cartesian-space">The goal: Joint vs. Cartesian space</h3>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=[0, 0.5, 0.5, 0, 0, 0]))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

``` {.sourceCode .python}
r.move(Lin(goal=Pose(position=Point(-0.2, -0.2, 0.6), orientation=from_euler(0.1, 0, 0))))

</code></pre></div></div>

<p>The goal pose for :py<code class="language-plaintext highlighter-rouge">.Ptp</code>{.interpreted-text role=”class”} and
:py<code class="language-plaintext highlighter-rouge">.Lin</code>{.interpreted-text role=”class”} commands can be stated either
in joint space or in Cartesian space.</p>

<p>``` {.sourceCode .python}
r.move(Circ(goal=Pose(position=Point(0.2, 0.2, 0.8)), center=Point(0.3, 0.1, 0.8)))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
The goal and the auxiliary pose of :py`.Circ`{.interpreted-text
role="class"} commands have to be stated in Cartesian space.

### Relative commands


``` {.sourceCode .python}
r.move(Ptp(goal=[0.1, 0, 0, 0, 0, 0], relative=True))

</code></pre></div></div>

<p>``` {.sourceCode .python}
r.move(Lin(goal=Pose(position=Point(0, -0.2, -0.2)), relative=True))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
:py`.Ptp`{.interpreted-text role="class"} and
:py`.Lin`{.interpreted-text role="class"} commands can also be stated as
relative commands indicated by the argument `relative=True`. Relative
commands state the goal as offset relative to the current robot
position. As long as no custom reference frame is set, the offset has to
be stated with regard to the base coordinate system. The orientation is
added as offset to the euler-angles.

### Custom Reference Frame


``` {.sourceCode .python}
r.move(Ptp(goal=PoseStamped(header=Header(frame_id="prbt_tcp"),
                            pose=Pose(position=Point(0, 0, 0.1)))))

</code></pre></div></div>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=Pose(position=Point(0, -0.1, 0)), reference_frame=”prbt_link_3”, relative=True))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
For all three move classes :py`.Ptp`{.interpreted-text role="class"},
:py`.Lin`{.interpreted-text role="class"} and
:py`.Circ`{.interpreted-text role="class"} you can define a custom
reference frame. Passing a PoseStamped with the Header set to any valid
tf2 `frame_id` is supported besides an extra argument `reference_frame`.
The goal passed is interpreted relative to the given coordinate frame
instead of the default system `prbt_base`.

The custom reference frame argument (`reference_frame="target_frame"`)
has to be a valid tf frame id and can be paired with the relative
command. When paired with relative flag, the goal will be applied to the
current robot pose in this custom reference frame.

note

:   Further information on tf is available on &lt;http://wiki.ros.org/tf&gt;
    (e.g. on how to create custom frames: section 6.3).

#### More Detailed Explanation

Let\'s assume we have three coordinate systems in our application.
(displayed with a green and blue line)

![image](doc/tfs.png){width="400px" height="313px"}

-   `prbt_base` is the default coordinate system. It was used in the
    previous sections.
-   The `prbt_tcp` frame is the current position of the gripper.
-   The third frame `pallet` is supposed to be an edge of an product
    tray, that we placed somewhere in the robot environment.

We then have three possible frames, we can choose to execute our goal
in.

![image](doc/move_ref.png){width="400px" height="313px"}

In the image above we displayed three move commands. All three commands
move the robot to position x = y = 0 and z = 0.2, but use the different
frames as reference.

1.  goal=Pose(position=Point(0, 0, 0.2))) or goal=Pose(position=Point(0,
    0, 0.2)), reference\_frame=\"prbt\_base\")
2.  goal=Pose(position=Point(0, 0, 0.2)),
    reference\_frame=\"prbt\_tcp\")
3.  goal=Pose(position=Point(0, 0, 0.2)), reference\_frame=\"pallet\")

When adding the relative flag additionally, the goal will be added to
the current tcp pose using the chosen frame. This results in the tcp
moving in different directions depending on which frame we used.

![image](doc/move_rel.png){width="400px" height="313px"}

In this case we just added the relative flag to the previous goals.

1.  goal=position=Point(0, 0, 0.2)), relative=True)
2.  goal=position=Point(0, 0, 0.2)), reference\_frame=\"prbt\_tcp\",
    relative=True)
3.  goal=position=Point(0, 0, 0.2)), reference\_frame=\"pallet\",
    relative=True)

As can be seen above, the relative movement used the z axis of the
choosen reference frame, which resulted in different movements of the
tcp, except for the tcp frame itself. In the case of the tcp frame,
relative and absolut movement is the same.

#### Example of Usage

To display how and when to use this options we take a look on a small
example.

&gt; ![image](doc/pick_place.png){width="300px" height="200px"}

This image is supposed to display a series of pick operations on a rigid
object. The products are placed on a product tray, thus having a fixed
position relative to the pallet reference frame.

To get the robot in a position similar to the robot in this image we
could use a move command with a custom reference\_frame.


``` {.sourceCode .python}
r.move(Ptp(goal=[0.1, -0.05, 0.2, 2.3561, 0, 0], reference_frame="pallet"))

</code></pre></div></div>

<p>This would result in a scene, that looks somewhat like the image above.
(The Rotation around the x axis is necessary to reach the current tcp
rotation)</p>

<p>The next commands in the sequence will be:</p>

<ol>
  <li>close in to grab the object</li>
  <li>move straight up to lift it</li>
  <li>move to the next object</li>
</ol>

<p>For the first task we can easily use the tcp ref, since its rotation
already fits our goal.</p>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=position=Point(0, 0, 0.1)), reference_frame=”prbt_tcp”))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
The second command - lifting the object - is best achieved by using an
relative movement to the pallet frame. (We could as well use the global
system in this case, but when the tray is tilted, like in the images
above it could be problematic to do so.)


``` {.sourceCode .python}
r.move(Ptp(goal=position=Point(0, 0, 0.1)), relative= True, reference_frame="pallet"))

</code></pre></div></div>

<p>For the third move we again should use the relative move in the
"pallet" reference frame.</p>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=position=Point(0, -0.1, 0)), relative= True, reference_frame=”pallet”))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
In case we want to place the product somewhere else, previous to moving
to the next object, we would instead use the absolute command in the
pallet reference frame or add new frames for each object on the tray and
do all operations for each object relative its frame.

### Sequence


``` {.sourceCode .python}
# Repeat the previous steps with a sequence command
sequence = Sequence()
sequence.append(Lin(goal=Pose(position=Point(0.2, 0, 0.8)), vel_scale=0.1, acc_scale=0.1))
sequence.append(Circ(goal=Pose(position=Point(0.2, -0.2, 0.8)), center=Point(0.1, -0.1, 0.8), acc_scale=0.4))
sequence.append(Ptp(goal=pose_after_relative, vel_scale=0.2))

r.move(sequence)

</code></pre></div></div>

<p>To concatenate multiple trajectories and plan the trajectory at once,
you can use the :py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”} command.</p>

<dl>
  <dt>note</dt>
  <dd>
    <p>In case the planning of a command in a
:py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”} fails, non of the
commands in the :py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”} are
executed.</p>
  </dd>
</dl>

<p>As an optional argument, a blending radius can be given to the
:py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”} command. The blending
radius states how much the robot trajectory can deviate from the
original trajectory (trajectory without blending) to blend the robot
motion from one trajectory to the next. Setting the blending radius to
zero corresponds to a :py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”}
without blending like above. If a blending radius greaten than zero is
given, the robot will move from one trajectory to the next without
stopping.</p>

<p>``` {.sourceCode .python}</p>
<h1 id="blend-sequence">Blend sequence</h1>
<p>blend_sequence = Sequence()
blend_sequence.append(Lin(goal=Pose(position=Point(0.2, 0, 0.6))), blend_radius=0.01)
blend_sequence.append(Lin(goal=Pose(position=Point(0.2, 0, 0.7))))</p>

<p>r.move(blend_sequence)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
note

:   The last command of the sequence has to have zero blending radius
    which can be achieved by omitting the blend radius argument.

note

:   The robot always stops between gripper and non-gripper commands.

note

:   Gripper commands cannot be blended together.

### Gripper

If the launch file is started with the real robot and the argument
`gripper:=pg70`, the gripper can be opened or closed via:


``` {.sourceCode .python}
r.move(Gripper(gripper_pos=0.02))

</code></pre></div></div>

<p>Set the <code class="language-plaintext highlighter-rouge">gripper_pos</code> argument to a distance in meters. Both gripper
fingers of the PG+70 gripper move by the same distance so the gripper is
twice as open as specified.</p>

<p>You can also append a :py<code class="language-plaintext highlighter-rouge">.Gripper</code>{.interpreted-text role=”class”} to a
:py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”}.</p>

<h3 id="current-tcp-pose-and-current-joint-values">Current TCP pose and current joint values</h3>

<p>``` {.sourceCode .python}
start_joint_values = r.get_current_joint_states()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

``` {.sourceCode .python}
pose_after_relative = r.get_current_pose()

</code></pre></div></div>

<p>The API provides functions which allow the user to determine the current
joint values of the robot and the current TCP pose. The return value of
both functions can directly be used to create new motion commands:</p>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=pose_after_relative, vel_scale=0.2))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

``` {.sourceCode .python}
r.move(Ptp(goal=start_joint_values))

</code></pre></div></div>

<p>The function <code class="language-plaintext highlighter-rouge">get_current_pose</code> can also return the current pose in
respect to another frame. To do this, set the <code class="language-plaintext highlighter-rouge">base</code> argument, to the
corresponding reference frame.</p>

<p>``` {.sourceCode .python}
tcp_pose_in_tf = r.get_current_pose(base=”target_frame”)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Brake Test

The method :py`.is_brake_test_required`{.interpreted-text role="meth"}
will check whether the robot needs to perform a brake test. So place it
in your program somewhere such that it is checked repeatedly. The method
:py`.execute_brake_test`{.interpreted-text role="meth"} executes the
brake test and throws an exception, should it fail.


``` {.sourceCode .python}
if r.is_brake_test_required():
    try:
        r.execute_brake_test()
    except RobotBrakeTestException as e:
        rospy.logerr(e)
    except rospy.ROSException as e:
        rospy.logerr("failed to call the service")

</code></pre></div></div>

<h2 id="move-control-orders">Move control orders</h2>

<p>The user can make service calls in order to control the movement of the
robot. A running program can be paused by typing</p>

<p>``` {.sourceCode .console}
rosservice call pause_movement</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
If the robot is currently moving, it is stopped. A paused execution can
be resumed via


``` {.sourceCode .console}
rosservice call resume_movement

</code></pre></div></div>

<p>This also resumes the last robot movement from where it stopped. A
resume order without preceding pause has no effects. There also exists
the possibility to abort the program using</p>

<p>``` {.sourceCode .console}
rosservice call stop_movement</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Multithreading

When :py`.move`{.interpreted-text role="meth"} is running in a separate
thread, the move control orders can be issued directly via the following
methods of the robot object:


``` {.sourceCode .python}
r.pause()

</code></pre></div></div>

<p>``` {.sourceCode .python}
r.resume()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

``` {.sourceCode .python}
r.stop()

</code></pre></div></div>

<p>In this case :py<code class="language-plaintext highlighter-rouge">.stop</code>{.interpreted-text role=”meth”} only ends the
move-thread.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-pilz_robot_programming">Changelog for package pilz_robot_programming</h1>

<h2 id="050-2021-05-03">0.5.0 (2021-05-03)</h2>

<ul>
  <li>Adapt to changes in MoveThread api</li>
  <li>Port to ROS Noetic (ubuntu 20.04, python3)
    <ul>
      <li>Remove pilz_store_positions package</li>
      <li>Update branching model in README.md</li>
      <li>Use relative paths for test-data/movecmd.py (colcon support)</li>
      <li>Misc minor refactorings</li>
    </ul>
  </li>
  <li>Fix KeyError on calling release twice</li>
  <li>Fix blend-radius and misunderstandings in Tests (#341, #330)</li>
  <li>Fix architecture documentation</li>
  <li>Use public acceptance-test utility methods</li>
  <li>Move pilz command planner to moveit</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="0412-2020-11-24">0.4.12 (2020-11-24)</h2>

<ul>
  <li>Adapt to generalized test-utils</li>
  <li>Add missing test-depend on prbt_hardware_support</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="0411-2020-07-16">0.4.11 (2020-07-16)</h2>

<ul>
  <li>Add Attribute based equivalence for commands.</li>
  <li>Add feature to store points.</li>
  <li>Add PoseStamped and tuple goals.</li>
  <li>Add get_current_pose_stamped to robot api</li>
  <li>Replace tf by tf2 in pilz_robot_programming.</li>
  <li>Rename _BaseCmd -&gt; BaseCmd.</li>
  <li>Remove outdated add_python_coverage() function.</li>
  <li>Remove outdated/superfluous documents.</li>
  <li>Remove static version from doc.</li>
  <li>Remove unused import of prbt_hardware_support.</li>
  <li>Fix acceptance tests.</li>
  <li>Fix segfault on shutdown.</li>
  <li>Fix python 3 compatibility issues.</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="0410-2019-12-04">0.4.10 (2019-12-04)</h2>

<ul>
  <li>Adapt to new brake test srv definitions in pilz_msgs</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="049-2019-11-28">0.4.9 (2019-11-28)</h2>

<ul>
  <li>Import speed override srv from pilz_msgs</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="048-2019-11-22">0.4.8 (2019-11-22)</h2>

<ul>
  <li>Drop unused variables in python api (#162)</li>
  <li>Override speed of motions</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="047-2019-09-10">0.4.7 (2019-09-10)</h2>

<h2 id="046-2019-09-04">0.4.6 (2019-09-04)</h2>

<h2 id="045-2019-09-03">0.4.5 (2019-09-03)</h2>

<ul>
  <li>fix PEP issues</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="044-2019-06-19">0.4.4 (2019-06-19)</h2>

<ul>
  <li>Add python api methods for brake tests</li>
</ul>

<h2 id="043-2019-04-08">0.4.3 (2019-04-08)</h2>

<h2 id="042-2019-03-13">0.4.2 (2019-03-13)</h2>

<h2 id="041-2019-02-27">0.4.1 (2019-02-27)</h2>

<ul>
  <li>Minor fixes</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="035-2019-02-06">0.3.5 (2019-02-06)</h2>

<h2 id="034-2019-02-05">0.3.4 (2019-02-05)</h2>

<ul>
  <li>enable Robot instantiation after a program got killed; add
corresponding test</li>
  <li>apply renaming command_planner -&gt; pilz_command_planner</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="040-2018-12-18">0.4.0 (2018-12-18)</h2>

<ul>
  <li>Release Python-API from kinetic version 0.3.1</li>
</ul>

<h2 id="031-2018-12-17">0.3.1 (2018-12-17)</h2>

<ul>
  <li>Add RobotMotionObserver in testutils</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="030-2018-11-28">0.3.0 (2018-11-28)</h2>

<ul>
  <li>Release Python-API</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/pilz_robot_programming/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roslint#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roslint#noetic">roslint  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rospy#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rospy#noetic">rospy  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#noetic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#noetic">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/moveit_commander#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/moveit_commander#noetic">moveit_commander  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_ros#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_ros#noetic">tf2_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#noetic">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf_conversions#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf_conversions#noetic">tf_conversions  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/pilz_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/pilz_msgs#noetic">pilz_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/pilz_industrial_motion_planner#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/pilz_industrial_motion_planner#noetic">pilz_industrial_motion_planner  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rostest#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rostest#noetic">rostest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/prbt_hardware_support#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/prbt_hardware_support#noetic">prbt_hardware_support  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/prbt_moveit_config#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/prbt_moveit_config#noetic">prbt_moveit_config  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/prbt_pg70_support#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/prbt_pg70_support#noetic">prbt_pg70_support  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/pilz_industrial_motion_testutils#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/pilz_industrial_motion_testutils#noetic">pilz_industrial_motion_testutils  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosunit#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosunit#noetic">rosunit  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/code_coverage#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/code_coverage#noetic">code_coverage  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/visualization_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/visualization_msgs#noetic">visualization_msgs  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/python3-psutil">python3-psutil</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-docopt">python3-docopt</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-mock">python3-mock</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-coverage">python3-coverage</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/pilz_industrial_motion#noetic">pilz_industrial_motion</a></td>
                      <td class="text-center">
                        
                        <a href="/p/pilz_industrial_motion#noetic-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>pilz_robot_programming</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="noetic-question-list" class="panel-body" style="display: none;"></div>
      <div id="noetic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/pilz_robot_programming+noetic">here</a>.</p>
      </div>
      <div id="noetic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/PilzDE/pilz_industrial_motion.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/pilz_robot_programming/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/PilzDE/pilz_industrial_motion/tree/noetic-devel/pilz_robot_programming"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/pilz_robot_programming?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/pilz_robot_programming">pilz_robot_programming</a> <small>package from <a style="text-decoration:none" href="/r/pilz_industrial_motion/github-PilzDE-pilz_industrial_motion">pilz_industrial_motion</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/pilz_extensions">

pilz_extensions
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/pilz_industrial_motion">

pilz_industrial_motion
</a>
            
          
            
            
              <span class="label label-default pkg-label">

pilz_robot_programming
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/pilz_store_positions">

pilz_store_positions
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/pilz_trajectory_generation">

pilz_trajectory_generation
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/melodic/api/pilz_robot_programming/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/PilzDE/pilz_industrial_motion/tree/melodic-devel/pilz_robot_programming"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/pilz_robot_programming?distro=melodic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="melodic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#melodic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#melodic-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#melodic-deps" data-toggle="tab"><span class="label label-primary">21</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#melodic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#melodic-questions" data-toggle="tab"><span id="melodic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="melodic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.4.14</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>LGPLv3</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Industrial trajectory generation for MoveIt!.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/PilzDE/pilz_industrial_motion.git">https://github.com/PilzDE/pilz_industrial_motion.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">melodic-devel</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2023-11-22
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
              <span class="label label-danger">
          
          END-OF-LIFE
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <div class="dropdown">
                        <button type="button" data-toggle="dropdown" class="btn label label-primary dropdown-toggle ci-result-success" title="Latest build information: Thu, 19 Nov 2020 13:56:54 GMT
  Total tests: 629
  Succeeded: 629
  Skipped: 0
  Failed: 0
Click to show more build history.">
                          <span class="glyphicon glyphicon-check"></span>
                          Continuous Integration
                          
                            : 629 / 629
                          
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                          <li class="dropdown-header">Latest build history: Thu, 19 Nov 2020 13:56:54 GMT (last 5 of 71 builds)</li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__pilz_industrial_motion__ubuntu_bionic_amd64/71/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#71</strong></span>
                                <span>19-Nov-2020 13:31</span>
                                <span>629 / 629</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__pilz_industrial_motion__ubuntu_bionic_amd64/70/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#70</strong></span>
                                <span>19-Nov-2020 08:31</span>
                                <span>629 / 629</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__pilz_industrial_motion__ubuntu_bionic_amd64/69/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#69</strong></span>
                                <span>18-Nov-2020 15:31</span>
                                <span>629 / 629</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__pilz_industrial_motion__ubuntu_bionic_amd64/68/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#68</strong></span>
                                <span>01-Oct-2020 11:32</span>
                                <span>629 / 629</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__pilz_industrial_motion__ubuntu_bionic_amd64/67/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#67</strong></span>
                                <span>23-Jul-2020 14:31</span>
                                <span>629 / 629</span>
                              </a>
                            </li>
                          
                        </ul>
                      </div>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">ros</span> <span class="label label-default">pilz</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/pilz_industrial_motion/#melodic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/pilz_industrial_motion/#melodic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/pilz_industrial_motion/#melodic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            
  An Easy to use API to execute standard industrial robot commands like Ptp, Lin, Circ and Sequence using Moveit.
  
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Immanuel Martini</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/PilzDE/pilz_industrial_motion/tree/melodic-devel/pilz_robot_programming/Readme.rst" title="Open in git repository">pilz_robot_programming/Readme.rst</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<p>The pilz_robot_programming package provides the user with an easy to
use API to move a MoveIt! enabled robot. It's target is to execute
standard industrial robot commands like :py<code class="language-plaintext highlighter-rouge">.Ptp</code>{.interpreted-text
role=”class”}, :py<code class="language-plaintext highlighter-rouge">.Lin</code>{.interpreted-text role=”class”} and
:py<code class="language-plaintext highlighter-rouge">.Circ</code>{.interpreted-text role=”class”} using the
<code class="language-plaintext highlighter-rouge">pilz_industrial_motion_planner::CommandPlanner</code> plugin for MoveIt!. It
also provides the user with the possibility to execute command sequences
(called :py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”}). On top of that,
the robot movement can be paused, resumed and stopped.</p>

<p>All examples are given for a PRBT robot but the API is general enough to
be used with any robot that has a MoveIt! configuration, it merely
requires the availability of the service <code class="language-plaintext highlighter-rouge">/get_speed_override</code> for
obtaining the speed override of the robot system.</p>

<p>The robot API has some similarity to the <code class="language-plaintext highlighter-rouge">moveit_commander</code> package but
differs in its specialization for classical industrial robot commands to
be executed by the <code class="language-plaintext highlighter-rouge">pilz_industrial_motion_planner</code> MoveIt! plugin. The
robot API connects to MoveIt! using the standard <code class="language-plaintext highlighter-rouge">move_group</code> action
interface and the custom <code class="language-plaintext highlighter-rouge">sequence_move_group</code> action, that the sequence
capability implements.</p>

<p>See the package <code class="language-plaintext highlighter-rouge">pilz_industrial_motion_planner</code> for more details about
the parameters for industrial trajectory generation.</p>

<h1 id="a-simple-demo-program">A simple demo program</h1>

<p>To run the demo program it is first necessary to startup the simulated
or the real robot. Afterwards, you can execute the demo program by
typing:</p>

<p>``` {.sourceCode .none}
$ rosrun pilz_robot_programming demo_program.py</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
The code `demo_program.py`
--------------------------

::: {.literalinclude}
../examples/demo\_program.py
:::

The code explained
------------------

In this section parts of the demo program are explained to give a better
understanding how the robot API is used.

note

:   The chosen code snippets are not necessarily in order.

### Robot creation


``` {.sourceCode .python}
from pilz_robot_programming import *

</code></pre></div></div>

<p>At first we import the robot API.</p>

<p>``` {.sourceCode .python}
rospy.init_node(‘robot_program_node’)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
This code snippet initializes ROS.


``` {.sourceCode .python}
r = Robot(__REQUIRED_API_VERSION__)

</code></pre></div></div>

<p>Here the robot object is created, which, subsequently, is used to move
the robot.</p>

<p>The API version argument ensures, that the correct API version is used.
This makes sure, that the robot behaves as expected/intended. In case
the versions do not match, an exception is thrown.</p>

<dl>
  <dt>note</dt>
  <dd>
    <p>For the API version check only the major version number is relevant.</p>
  </dd>
  <dt>note</dt>
  <dd>
    <p>In general the speed of all motions depends on the operation mode of
the robot system. For more information see
<a href="https://github.com/PilzDE/pilz_robots/tree/melodic-devel/prbt_hardware_support">prbt_hardware_support</a>.</p>
  </dd>
</dl>

<h3 id="move">Move</h3>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=[0, 0.5, 0.5, 0, 0, 0]))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

``` {.sourceCode .python}
r.move(Lin(goal=Pose(position=Point(0.2, 0, 0.8))))

</code></pre></div></div>

<p>``` {.sourceCode .python}
r.move(Circ(goal=Pose(position=Point(0.2, 0.2, 0.8)), center=Point(0.3, 0.1, 0.8)))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
The :py`.move`{.interpreted-text role="meth"} function is the most
important part of the robot API. With the help of the
:py`.move`{.interpreted-text role="meth"} function the user can execute
the different robot motion commands, like shown for
:py`.Ptp`{.interpreted-text role="class"}, :py`.Lin`{.interpreted-text
role="class"} and :py`.Circ`{.interpreted-text role="class"}.

By default cartesian goals are interpreted as poses of the tool center
point (TCP) link. The transformation between the TCP link and the last
robot link can be adjusted through the `tcp_offset_xyz` and
`tcp_offset_rpy` parameters in `prbt.xacro`.

### Move failure


``` {.sourceCode .python}
try:
    r.move(Ptp(goal=[0, 10.0, 0, 0, 0, 0]))
except RobotMoveFailed:
    rospy.loginfo("Ptp command did fail as expected.")

</code></pre></div></div>

<p>In case a robot motion command fails during the execution, the
:py<code class="language-plaintext highlighter-rouge">.move</code>{.interpreted-text role=”meth”} function throws an
:py<code class="language-plaintext highlighter-rouge">.RobotMoveFailed</code>{.interpreted-text role=”class”} exception which
can be caught using standard python mechanisms.</p>

<h3 id="the-goal-joint-vs-cartesian-space">The goal: Joint vs. Cartesian space</h3>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=[0, 0.5, 0.5, 0, 0, 0]))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

``` {.sourceCode .python}
r.move(Lin(goal=Pose(position=Point(-0.2, -0.2, 0.6), orientation=from_euler(0.1, 0, 0))))

</code></pre></div></div>

<p>The goal pose for :py<code class="language-plaintext highlighter-rouge">.Ptp</code>{.interpreted-text role=”class”} and
:py<code class="language-plaintext highlighter-rouge">.Lin</code>{.interpreted-text role=”class”} commands can be stated either
in joint space or in Cartesian space.</p>

<p>``` {.sourceCode .python}
r.move(Circ(goal=Pose(position=Point(0.2, 0.2, 0.8)), center=Point(0.3, 0.1, 0.8)))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
The goal and the auxiliary pose of :py`.Circ`{.interpreted-text
role="class"} commands have to be stated in Cartesian space.

### Relative commands


``` {.sourceCode .python}
r.move(Ptp(goal=[0.1, 0, 0, 0, 0, 0], relative=True))

</code></pre></div></div>

<p>``` {.sourceCode .python}
r.move(Lin(goal=Pose(position=Point(0, -0.2, -0.2)), relative=True))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
:py`.Ptp`{.interpreted-text role="class"} and
:py`.Lin`{.interpreted-text role="class"} commands can also be stated as
relative commands indicated by the argument `relative=True`. Relative
commands state the goal as offset relative to the current robot
position. As long as no custom reference frame is set, the offset has to
be stated with regard to the base coordinate system. The orientation is
added as offset to the euler-angles.

### Custom Reference Frame


``` {.sourceCode .python}
r.move(Ptp(goal=PoseStamped(header=Header(frame_id="prbt_tcp"),
                            pose=Pose(position=Point(0, 0, 0.1)))))

</code></pre></div></div>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=Pose(position=Point(0, -0.1, 0)), reference_frame=”prbt_link_3”, relative=True))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
For all three move classes :py`.Ptp`{.interpreted-text role="class"},
:py`.Lin`{.interpreted-text role="class"} and
:py`.Circ`{.interpreted-text role="class"} you can define a custom
reference frame. Passing a PoseStamped with the Header set to any valid
tf2 `frame_id` is supported besides an extra argument `reference_frame`.
The goal passed is interpreted relative to the given coordinate frame
instead of the default system `prbt_base`.

The custom reference frame argument (`reference_frame="target_frame"`)
has to be a valid tf frame id and can be paired with the relative
command. When paired with relative flag, the goal will be applied to the
current robot pose in this custom reference frame.

note

:   Further information on tf is available on &lt;http://wiki.ros.org/tf&gt;
    (e.g. on how to create custom frames: section 6.3).

#### More Detailed Explanation

Let\'s assume we have three coordinate systems in our application.
(displayed with a green and blue line)

![image](doc/tfs.png){width="400px" height="313px"}

-   `prbt_base` is the default coordinate system. It was used in the
    previous sections.
-   The `prbt_tcp` frame is the current position of the gripper.
-   The third frame `pallet` is supposed to be an edge of an product
    tray, that we placed somewhere in the robot environment.

We then have three possible frames, we can choose to execute our goal
in.

![image](doc/move_ref.png){width="400px" height="313px"}

In the image above we displayed three move commands. All three commands
move the robot to position x = y = 0 and z = 0.2, but use the different
frames as reference.

1.  goal=Pose(position=Point(0, 0, 0.2))) or goal=Pose(position=Point(0,
    0, 0.2)), reference\_frame=\"prbt\_base\")
2.  goal=Pose(position=Point(0, 0, 0.2)),
    reference\_frame=\"prbt\_tcp\")
3.  goal=Pose(position=Point(0, 0, 0.2)), reference\_frame=\"pallet\")

When adding the relative flag additionally, the goal will be added to
the current tcp pose using the chosen frame. This results in the tcp
moving in different directions depending on which frame we used.

![image](doc/move_rel.png){width="400px" height="313px"}

In this case we just added the relative flag to the previous goals.

1.  goal=position=Point(0, 0, 0.2)), relative=True)
2.  goal=position=Point(0, 0, 0.2)), reference\_frame=\"prbt\_tcp\",
    relative=True)
3.  goal=position=Point(0, 0, 0.2)), reference\_frame=\"pallet\",
    relative=True)

As can be seen above, the relative movement used the z axis of the
choosen reference frame, which resulted in different movements of the
tcp, except for the tcp frame itself. In the case of the tcp frame,
relative and absolut movement is the same.

#### Example of Usage

To display how and when to use this options we take a look on a small
example.

&gt; ![image](doc/pick_place.png){width="300px" height="200px"}

This image is supposed to display a series of pick operations on a rigid
object. The products are placed on a product tray, thus having a fixed
position relative to the pallet reference frame.

To get the robot in a position similar to the robot in this image we
could use a move command with a custom reference\_frame.


``` {.sourceCode .python}
r.move(Ptp(goal=[0.1, -0.05, 0.2, 2.3561, 0, 0], reference_frame="pallet"))

</code></pre></div></div>

<p>This would result in a scene, that looks somewhat like the image above.
(The Rotation around the x axis is necessary to reach the current tcp
rotation)</p>

<p>The next commands in the sequence will be:</p>

<ol>
  <li>close in to grab the object</li>
  <li>move straight up to lift it</li>
  <li>move to the next object</li>
</ol>

<p>For the first task we can easily use the tcp ref, since its rotation
already fits our goal.</p>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=position=Point(0, 0, 0.1)), reference_frame=”prbt_tcp”))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
The second command - lifting the object - is best achieved by using an
relative movement to the pallet frame. (We could as well use the global
system in this case, but when the tray is tilted, like in the images
above it could be problematic to do so.)


``` {.sourceCode .python}
r.move(Ptp(goal=position=Point(0, 0, 0.1)), relative= True, reference_frame="pallet"))

</code></pre></div></div>

<p>For the third move we again should use the relative move in the
"pallet" reference frame.</p>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=position=Point(0, -0.1, 0)), relative= True, reference_frame=”pallet”))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
In case we want to place the product somewhere else, previous to moving
to the next object, we would instead use the absolute command in the
pallet reference frame or add new frames for each object on the tray and
do all operations for each object relative its frame.

### Sequence


``` {.sourceCode .python}
# Repeat the previous steps with a sequence command
sequence = Sequence()
sequence.append(Lin(goal=Pose(position=Point(0.2, 0, 0.8)), vel_scale=0.1, acc_scale=0.1))
sequence.append(Circ(goal=Pose(position=Point(0.2, -0.2, 0.8)), center=Point(0.1, -0.1, 0.8), acc_scale=0.4))
sequence.append(Ptp(goal=pose_after_relative, vel_scale=0.2))

r.move(sequence)

</code></pre></div></div>

<p>To concatenate multiple trajectories and plan the trajectory at once,
you can use the :py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”} command.</p>

<dl>
  <dt>note</dt>
  <dd>
    <p>In case the planning of a command in a
:py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”} fails, non of the
commands in the :py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”} are
executed.</p>
  </dd>
</dl>

<p>As an optional argument, a blending radius can be given to the
:py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”} command. The blending
radius states how much the robot trajectory can deviate from the
original trajectory (trajectory without blending) to blend the robot
motion from one trajectory to the next. Setting the blending radius to
zero corresponds to a :py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”}
without blending like above. If a blending radius greaten than zero is
given, the robot will move from one trajectory to the next without
stopping.</p>

<p>``` {.sourceCode .python}</p>
<h1 id="blend-sequence">Blend sequence</h1>
<p>blend_sequence = Sequence()
blend_sequence.append(Lin(goal=Pose(position=Point(0.2, 0, 0.6))), blend_radius=0.01)
blend_sequence.append(Lin(goal=Pose(position=Point(0.2, 0, 0.7))))</p>

<p>r.move(blend_sequence)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
note

:   The last command of the sequence has to have zero blending radius
    which can be achieved by omitting the blend radius argument.

note

:   The robot always stops between gripper and non-gripper commands.

note

:   Gripper commands cannot be blended together.

### Gripper

If the launch file is started with the real robot and the argument
`gripper:=pg70`, the gripper can be opened or closed via:


``` {.sourceCode .python}
r.move(Gripper(gripper_pos=0.02))

</code></pre></div></div>

<p>Set the <code class="language-plaintext highlighter-rouge">gripper_pos</code> argument to a distance in meters. Both gripper
fingers of the PG+70 gripper move by the same distance so the gripper is
twice as open as specified.</p>

<p>You can also append a :py<code class="language-plaintext highlighter-rouge">.Gripper</code>{.interpreted-text role=”class”} to a
:py<code class="language-plaintext highlighter-rouge">.Sequence</code>{.interpreted-text role=”class”}.</p>

<h3 id="current-tcp-pose-and-current-joint-values">Current TCP pose and current joint values</h3>

<p>``` {.sourceCode .python}
start_joint_values = r.get_current_joint_states()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

``` {.sourceCode .python}
pose_after_relative = r.get_current_pose()

</code></pre></div></div>

<p>The API provides functions which allow the user to determine the current
joint values of the robot and the current TCP pose. The return value of
both functions can directly be used to create new motion commands:</p>

<p>``` {.sourceCode .python}
r.move(Ptp(goal=pose_after_relative, vel_scale=0.2))</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

``` {.sourceCode .python}
r.move(Ptp(goal=start_joint_values))

</code></pre></div></div>

<p>The function <code class="language-plaintext highlighter-rouge">get_current_pose</code> can also return the current pose in
respect to another frame. To do this, set the <code class="language-plaintext highlighter-rouge">base</code> argument, to the
corresponding reference frame.</p>

<p>``` {.sourceCode .python}
tcp_pose_in_tf = r.get_current_pose(base=”target_frame”)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Brake Test

The method :py`.is_brake_test_required`{.interpreted-text role="meth"}
will check whether the robot needs to perform a brake test. So place it
in your program somewhere such that it is checked repeatedly. The method
:py`.execute_brake_test`{.interpreted-text role="meth"} executes the
brake test and throws an exception, should it fail.


``` {.sourceCode .python}
if r.is_brake_test_required():
    try:
        r.execute_brake_test()
    except RobotBrakeTestException as e:
        rospy.logerr(e)
    except rospy.ROSException as e:
        rospy.logerr("failed to call the service")

</code></pre></div></div>

<h2 id="move-control-orders">Move control orders</h2>

<p>The user can make service calls in order to control the movement of the
robot. A running program can be paused by typing</p>

<p>``` {.sourceCode .console}
rosservice call pause_movement</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
If the robot is currently moving, it is stopped. A paused execution can
be resumed via


``` {.sourceCode .console}
rosservice call resume_movement

</code></pre></div></div>

<p>This also resumes the last robot movement from where it stopped. A
resume order without preceding pause has no effects. There also exists
the possibility to abort the program using</p>

<p>``` {.sourceCode .console}
rosservice call stop_movement</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Multithreading

When :py`.move`{.interpreted-text role="meth"} is running in a separate
thread, the move control orders can be issued directly via the following
methods of the robot object:


``` {.sourceCode .python}
r.pause()

</code></pre></div></div>

<p>``` {.sourceCode .python}
r.resume()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

``` {.sourceCode .python}
r.stop()

</code></pre></div></div>

<p>In this case :py<code class="language-plaintext highlighter-rouge">.stop</code>{.interpreted-text role=”meth”} only ends the
move-thread.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-pilz_robot_programming">Changelog for package pilz_robot_programming</h1>

<h2 id="0414-2021-07-22">0.4.14 (2021-07-22)</h2>

<h2 id="0413-2021-07-12">0.4.13 (2021-07-12)</h2>

<ul>
  <li>Merge our trajectory_generation as moveit planner
    <ul>
      <li>update all references to the planner</li>
      <li>move sequence related pilz msgs to moveit</li>
      <li>change blend radius in test data to not cause blend radius to
large error</li>
    </ul>
  </li>
  <li>Prevent misunderstandings in acceptance-tests</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="0412-2020-11-24">0.4.12 (2020-11-24)</h2>

<ul>
  <li>Adapt to generalized test-utils</li>
  <li>Add missing test-depend on prbt_hardware_support</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="0411-2020-07-16">0.4.11 (2020-07-16)</h2>

<ul>
  <li>Add Attribute based equivalence for commands.</li>
  <li>Add feature to store points.</li>
  <li>Add PoseStamped and tuple goals.</li>
  <li>Add get_current_pose_stamped to robot api</li>
  <li>Replace tf by tf2 in pilz_robot_programming.</li>
  <li>Rename _BaseCmd -&gt; BaseCmd.</li>
  <li>Remove outdated add_python_coverage() function.</li>
  <li>Remove outdated/superfluous documents.</li>
  <li>Remove static version from doc.</li>
  <li>Remove unused import of prbt_hardware_support.</li>
  <li>Fix acceptance tests.</li>
  <li>Fix segfault on shutdown.</li>
  <li>Fix python 3 compatibility issues.</li>
</ul>

<h2 id="0410-2019-12-04">0.4.10 (2019-12-04)</h2>

<ul>
  <li>Adapt to new brake test srv definitions in pilz_msgs</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="049-2019-11-28">0.4.9 (2019-11-28)</h2>

<ul>
  <li>Import speed override srv from pilz_msgs</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="048-2019-11-22">0.4.8 (2019-11-22)</h2>

<ul>
  <li>Drop unused variables in python api (#162)</li>
  <li>Override speed of motions</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="047-2019-09-10">0.4.7 (2019-09-10)</h2>

<h2 id="046-2019-09-04">0.4.6 (2019-09-04)</h2>

<h2 id="045-2019-09-03">0.4.5 (2019-09-03)</h2>

<ul>
  <li>fix PEP issues</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="044-2019-06-19">0.4.4 (2019-06-19)</h2>

<ul>
  <li>Add python api methods for brake tests</li>
</ul>

<h2 id="043-2019-04-08">0.4.3 (2019-04-08)</h2>

<h2 id="042-2019-03-13">0.4.2 (2019-03-13)</h2>

<h2 id="041-2019-02-27">0.4.1 (2019-02-27)</h2>

<ul>
  <li>Minor fixes</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="035-2019-02-06">0.3.5 (2019-02-06)</h2>

<h2 id="034-2019-02-05">0.3.4 (2019-02-05)</h2>

<ul>
  <li>enable Robot instantiation after a program got killed; add
corresponding test</li>
  <li>apply renaming command_planner -&gt; pilz_command_planner</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="040-2018-12-18">0.4.0 (2018-12-18)</h2>

<ul>
  <li>Release Python-API from kinetic version 0.3.1</li>
</ul>

<h2 id="031-2018-12-17">0.3.1 (2018-12-17)</h2>

<ul>
  <li>Add RobotMotionObserver in testutils</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>

<h2 id="030-2018-11-28">0.3.0 (2018-11-28)</h2>

<ul>
  <li>Release Python-API</li>
  <li>Contributors: Pilz GmbH and Co. KG</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/pilz_robot_programming/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roslint#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roslint#melodic">roslint  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rospy#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rospy#melodic">rospy  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#melodic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#melodic">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/moveit_commander#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/moveit_commander#melodic">moveit_commander  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_ros#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_ros#melodic">tf2_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#melodic">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf_conversions#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf_conversions#melodic">tf_conversions  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/pilz_industrial_motion_planner#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/pilz_industrial_motion_planner#melodic">pilz_industrial_motion_planner  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/pilz_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/pilz_msgs#melodic">pilz_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/pilz_industrial_motion_testutils#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/pilz_industrial_motion_testutils#melodic">pilz_industrial_motion_testutils  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/prbt_hardware_support#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/prbt_hardware_support#melodic">prbt_hardware_support  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/prbt_moveit_config#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/prbt_moveit_config#melodic">prbt_moveit_config  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/prbt_pg70_support#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/prbt_pg70_support#melodic">prbt_pg70_support  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rostest#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rostest#melodic">rostest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosunit#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosunit#melodic">rosunit  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/code_coverage#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/code_coverage#melodic">code_coverage  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/visualization_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/visualization_msgs#melodic">visualization_msgs  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/python-psutil">python-psutil</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-docopt">python-docopt</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-coverage">python-coverage</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-mock">python-mock</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/pilz_industrial_motion#melodic">pilz_industrial_motion</a></td>
                      <td class="text-center">
                        
                        <a href="/p/pilz_industrial_motion#melodic-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>pilz_robot_programming</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="melodic-question-list" class="panel-body" style="display: none;"></div>
      <div id="melodic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/pilz_robot_programming+melodic">here</a>.</p>
      </div>
      <div id="melodic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/PilzDE/pilz_industrial_motion.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/melodic/api/pilz_robot_programming/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/PilzDE/pilz_industrial_motion/tree/melodic-devel/pilz_robot_programming"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/pilz_robot_programming?distro=melodic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/pilz_robot_programming?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/pilz_robot_programming?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=pilz_robot_programming&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "pilz_robot_programming"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
