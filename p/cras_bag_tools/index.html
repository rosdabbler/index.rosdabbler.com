<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: cras_bag_tools</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/cras_bag_tools/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">cras_bag_tools</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class=" older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/cras_bag_tools">cras_bag_tools</a> <small>package from <a style="text-decoration:none" href="/r/cras_ros_utils/github-ctu-vras-ros-utils">cras_ros_utils</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/camera_throttle">

camera_throttle
</a>
            
          
            
            
              <span class="label label-default pkg-label">

cras_bag_tools
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/cras_cpp_common">

cras_cpp_common
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/cras_docs_common">

cras_docs_common
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/cras_py_common">

cras_py_common
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/cras_topic_tools">

cras_topic_tools
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/image_transport_codecs">

image_transport_codecs
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/tf_static_publisher">

tf_static_publisher
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/cras_bag_tools/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/ctu-vras/ros-utils/tree/master/cras_bag_tools"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/cras_bag_tools?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="noetic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#noetic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#noetic-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#noetic-deps" data-toggle="tab"><span class="label label-primary">23</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#noetic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#noetic-questions" data-toggle="tab"><span id="noetic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="noetic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>2.5.1</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Useful utilities for working with ROS</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ctu-vras/ros-utils.git">https://github.com/ctu-vras/ros-utils.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-22
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <div class="dropdown">
                        <button type="button" data-toggle="dropdown" class="btn label label-primary dropdown-toggle ci-result-success" title="Latest build information: Fri, 12 Jan 2024 20:17:12 GMT
  Total tests: 690
  Succeeded: 690
  Skipped: 0
  Failed: 0
Click to show more build history.">
                          <span class="glyphicon glyphicon-check"></span>
                          Continuous Integration
                          
                            : 690 / 690
                          
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                          <li class="dropdown-header">Latest build history: Fri, 12 Jan 2024 20:17:12 GMT (last 3 of 85 builds)</li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Ndev__cras_ros_utils__ubuntu_focal_amd64/85/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#85</strong></span>
                                <span>12-Jan-2024 19:37</span>
                                <span>690 / 690</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Ndev__cras_ros_utils__ubuntu_focal_amd64/83/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#83</strong></span>
                                <span>12-Jan-2024 17:37</span>
                                <span>690 / 690</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-unstable">
                              <a href="http://build.ros.org/job/Ndev__cras_ros_utils__ubuntu_focal_amd64/82/" target="_blank">
                                <span class="glyphicon glyphicon-minus"></span>
                                <span><strong>#82</strong></span>
                                <span>09-Jan-2024 19:01</span>
                                <span>689 / 690</span>
                              </a>
                            </li>
                          
                        </ul>
                      </div>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/cras_ros_utils/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/cras_ros_utils/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/cras_ros_utils/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Various utilities to work with bag files
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="https://wiki.ros.org/cras_bag_tools">Website</a></li>
                
                  <li><a href="https://github.com/ctu-vras/ros-utils/issues">Bugtracker</a></li>
                
                  <li><a href="https://github.com/ctu-vras/ros-utils">Repository</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Martin Pecka</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Martin Pecka</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/ctu-vras/ros-utils/tree/master/cras_bag_tools/README.md" title="Open in git repository">cras_bag_tools/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="cras_bag_tools">cras_bag_tools</h1>

<p>Czech-army knife for working with ROS BAG files.</p>

<h2 id="python-modules">Python Modules</h2>

<p>Several useful functions are exported as Python submodules as module <code class="language-plaintext highlighter-rouge">cras_bag_tools</code>:</p>

<ul>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.bag_filter"><code class="language-plaintext highlighter-rouge">bag_filter</code></a>: Filter a bag file using a MessageFilter.</li>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.fix_msg_defs"><code class="language-plaintext highlighter-rouge">fix_msg_defs</code></a>: Fix message definitions in a bag file according to local definitions.</li>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.message_filter"><code class="language-plaintext highlighter-rouge">message_filter</code></a>: A message filter that can decide whether a message should be kept or not, and possibly alter it.</li>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.message_filters"><code class="language-plaintext highlighter-rouge">message_filters</code></a>: Implementations of common message filters.</li>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.topic_set"><code class="language-plaintext highlighter-rouge">topic_set</code></a>: Efficient data structure to hold a static set of topics with super-fast is-in-set queries.</li>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.tqdm_bag"><code class="language-plaintext highlighter-rouge">tqdm_bag</code></a>: Bag file reader that shows progressbars when loading index or reading messages.</li>
</ul>

<h2 id="scripts">Scripts</h2>

<h3 id="merge_bag">merge_bag</h3>

<p>Merge two or more bag files into one.</p>

<h4 id="usage">Usage</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun cras_bag_tools merge_bag [-v] [-c] [-b] OUT_BAG IN_BAG [IN_BAG ...]
</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">OUT_BAG</code>: Output bag file.</li>
  <li>
<code class="language-plaintext highlighter-rouge">IN_BAG</code>: Input bag file(s).</li>
  <li>
<code class="language-plaintext highlighter-rouge">-v</code>, <code class="language-plaintext highlighter-rouge">--verbose</code>: Verbose output.</li>
  <li>
<code class="language-plaintext highlighter-rouge">-c</code>, <code class="language-plaintext highlighter-rouge">--compress</code>: Compress output bag with LZ4 compression.</li>
  <li>
<code class="language-plaintext highlighter-rouge">-b</code>, <code class="language-plaintext highlighter-rouge">--bz2</code>: Compress output bag with BZ2 compression.</li>
</ul>

<h3 id="size_per_topic">size_per_topic</h3>

<p>Print total cumulative serialized message size per topic.</p>

<h4 id="usage-1">Usage</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun cras_bag_tools size_per_topic [-c] [-a] BAG
</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">BAG</code>: Bag file.</li>
  <li>
<code class="language-plaintext highlighter-rouge">-c</code>, <code class="language-plaintext highlighter-rouge">--csv</code>: Output as CSV.</li>
  <li>
<code class="language-plaintext highlighter-rouge">-a</code>, <code class="language-plaintext highlighter-rouge">--sort-alphabetical</code>: Sort by topic names (default is by topic sizes).</li>
</ul>

<h3 id="extract_images">extract_images</h3>

<p>Extract image topics from bag file to image or video files.</p>

<h4 id="usage-2">Usage</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun cras_bag_tools extract_images [-h] [--out-format OUT_FORMAT] [--verbose] bag_file output_dir [image_topics [image_topics ...]]
</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">bag_file</code>: The bag to read.</li>
  <li>
<code class="language-plaintext highlighter-rouge">output_dir</code>: Directory where all generated files should be stored.</li>
  <li>
<code class="language-plaintext highlighter-rouge">image_topics</code>: Zero or more topics to convert. If zero, all image topics are converted. Each image topic can be
followed by additional configuration in the form
<code class="language-plaintext highlighter-rouge">TOPIC:OUT_FORMAT:COMPRESSION:ENCODING:IN_FPS:OUT_FPS:PIX_FMT</code> (only <code class="language-plaintext highlighter-rouge">TOPIC</code> is required)
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">OUT_FORMAT</code>: Format of the exported images/video (e.g. <code class="language-plaintext highlighter-rouge">jpg</code>, <code class="language-plaintext highlighter-rouge">mp4</code> etc.). Defaults to <code class="language-plaintext highlighter-rouge">--out-format</code>.</li>
      <li>
<code class="language-plaintext highlighter-rouge">COMPRESSION</code>: Compression level. The meaning depends on <code class="language-plaintext highlighter-rouge">OUT_FORMAT</code>. JPG has 0-100, PNG 0-9, MP4 0-51 (CRF).</li>
      <li>
<code class="language-plaintext highlighter-rouge">ENCODING</code>: Pixel format to convert the images to. E.g. <code class="language-plaintext highlighter-rouge">bgr8</code> or <code class="language-plaintext highlighter-rouge">mono8</code>. <code class="language-plaintext highlighter-rouge">passthrough</code> means keeping the format.
Empty string retains the format for raw images and converts compressed images to the recorded raw format
in their <code class="language-plaintext highlighter-rouge">.format</code> field if it is available. Defaults to <code class="language-plaintext highlighter-rouge">passthrough</code>.</li>
      <li>Following options are for video formats only.</li>
      <li>
<code class="language-plaintext highlighter-rouge">IN_FPS</code>: Framerate of the topic images. If not set, it is estimated from the frequency of the messages in the bag.
You can set the FPS higher than the original, effectively speeding up the video.</li>
      <li>
<code class="language-plaintext highlighter-rouge">OUT_FPS</code>: Output framerate. Defaults to <code class="language-plaintext highlighter-rouge">IN_FPS</code>.</li>
      <li>
<code class="language-plaintext highlighter-rouge">PIX_FMT</code>: The <code class="language-plaintext highlighter-rouge">-pix_fmt</code> output option for ffmpeg, i.e. the pixel format of the video stream. Defaults to
<code class="language-plaintext highlighter-rouge">yuvj420p</code>.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">-h</code>: Shows help.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--out-format</code>: Default format for all topics (e.g. <code class="language-plaintext highlighter-rouge">jpg</code>, <code class="language-plaintext highlighter-rouge">mp4</code> etc.). Defaults to <code class="language-plaintext highlighter-rouge">jpg</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--verbose</code>: Print various details during execution.</li>
</ul>

<h4 id="example-command">Example command</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Convert all image topics in the bag to a series of JPEG images in folder imgs/</span>
rosrun cras_bag_tools extract_images spot_2022-10-27-10-35-46.video.bag imgs

<span class="c"># Convert topic /rviz/fixed_image/compressed to an MP4 video</span>
rosrun cras_bag_tools extract_images spot_2022-10-27-10-35-46.video.bag <span class="nb">.</span> /rviz/fixed_image/compressed:mp4:23:passthrough:25

</code></pre></div></div>

<h3 id="filter_bag">filter_bag</h3>

<p>Process bag files with a configured set of filters.</p>

<h4 id="usage-3">Usage</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>usage: filter_bag [-h] [-c CONFIG [CONFIG ...]] [-o OUT_FORMAT] [--lz4] [--bz2] [--no-copy-params] [--list-yaml-keys] [--list-filters] [--merge-initial-static-tf [DURATION]]
                  [--throttle TOPIC RATE [TOPIC RATE ...]] [-i INCLUDE_TOPICS [INCLUDE_TOPICS ...]] [-e EXCLUDE_TOPICS [EXCLUDE_TOPICS ...]] [--include-types INCLUDE_TYPES [INCLUDE_TYPES ...]]
                  [--exclude-types EXCLUDE_TYPES [EXCLUDE_TYPES ...]] [--include-tf-parents INCLUDE_TF_PARENTS [INCLUDE_TF_PARENTS ...]]
                  [--exclude-tf-parents EXCLUDE_TF_PARENTS [EXCLUDE_TF_PARENTS ...]] [--include-tf-children INCLUDE_TF_CHILDREN [INCLUDE_TF_CHILDREN ...]]
                  [--exclude-tf-children EXCLUDE_TF_CHILDREN [EXCLUDE_TF_CHILDREN ...]] [--decompress-images] [--max-message-size MAX_MESSAGE_SIZE]
                  [bags [bags ...]]
</code></pre></div></div>

<p>Positional arguments:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">bags</code>: The list of bags to process.</li>
</ul>

<p>Optional arguments:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">--list-yaml-keys</code>: Print a list of all available YAML top-level keys provided by filters.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--list-filters</code>: Print a list of all available filters.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--no-copy-params</code>: If set, no .params file will be copied</li>
  <li>
<code class="language-plaintext highlighter-rouge">-i INCLUDE_TOPICS [INCLUDE_TOPICS ...]</code>, <code class="language-plaintext highlighter-rouge">--include-topics INCLUDE_TOPICS [INCLUDE_TOPICS ...]</code>: Retain only
these topics</li>
  <li>
<code class="language-plaintext highlighter-rouge">-e EXCLUDE_TOPICS [EXCLUDE_TOPICS ...]</code>, <code class="language-plaintext highlighter-rouge">--exclude-topics EXCLUDE_TOPICS [EXCLUDE_TOPICS ...]</code>: Remove these topics</li>
  <li>
<code class="language-plaintext highlighter-rouge">--include-types INCLUDE_TYPES [INCLUDE_TYPES ...]</code>: Retain only messages of these types</li>
  <li>
<code class="language-plaintext highlighter-rouge">--exclude-types EXCLUDE_TYPES [EXCLUDE_TYPES ...]</code>: Remove messages of these types</li>
  <li>
<code class="language-plaintext highlighter-rouge">--throttle TOPIC RATE [TOPIC RATE ...], --hz TOPIC RATE [TOPIC RATE ...]</code>: Throttle messages. This argument should be
an even-sized list of pairs <code class="language-plaintext highlighter-rouge">[TOPIC RATE]</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--include-tf-parents INCLUDE_TF_PARENTS [INCLUDE_TF_PARENTS ...]</code>: Retain only TFs with these frames as parents</li>
  <li>
<code class="language-plaintext highlighter-rouge">--exclude-tf-parents EXCLUDE_TF_PARENTS [EXCLUDE_TF_PARENTS ...]</code>: Remove TFs with these frames as parents</li>
  <li>
<code class="language-plaintext highlighter-rouge">--include-tf-children INCLUDE_TF_CHILDREN [INCLUDE_TF_CHILDREN ...]</code>: Retain only TFs with these frames as children</li>
  <li>
<code class="language-plaintext highlighter-rouge">--exclude-tf-children EXCLUDE_TF_CHILDREN [EXCLUDE_TF_CHILDREN ...]</code>: Remove TFs with these frames as children</li>
  <li>
<code class="language-plaintext highlighter-rouge">--max-message-size MAX_MESSAGE_SIZE</code>: Remove all messages larger than this size <code class="language-plaintext highlighter-rouge">[B]</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">--merge-initial-static-tf [DURATION]</code>: Merge a few initial static TFs into one. DURATION specifies the duration of
the initial bag section to be considered for the merging. DURATION defaults to 5 secs.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--decompress-images</code>: Decompress all images</li>
  <li>
<code class="language-plaintext highlighter-rouge">-c CONFIG [CONFIG ...]</code>, <code class="language-plaintext highlighter-rouge">--config CONFIG [CONFIG ...]</code>: YAML configs of filters</li>
  <li>
<code class="language-plaintext highlighter-rouge">-o OUT_FORMAT</code>, <code class="language-plaintext highlighter-rouge">--out-format OUT_FORMAT</code>: Template for naming the output bag. Defaults to <code class="language-plaintext highlighter-rouge">{name}.proc{ext}</code>. 
Relative paths will put the bag relative to current directory (not relative to the location of the source bag).
The format string can utilize variables <code class="language-plaintext highlighter-rouge">dirname</code> (directory of the source bag), <code class="language-plaintext highlighter-rouge">name</code> (name of the source bag
without extension), <code class="language-plaintext highlighter-rouge">ext</code> (extension of the source bag (should be <code class="language-plaintext highlighter-rouge">.bag</code>)).</li>
  <li>
<code class="language-plaintext highlighter-rouge">--lz4</code>: Compress the bag using LZ4 compression.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--bz2</code>: Compress the bag using BZ2 compression (warning: this compression is very slow).</li>
</ul>

<p>The YAML config files can contain the same keys as the optional CLI arguments (list all of them via <code class="language-plaintext highlighter-rouge">--list-yaml-keys</code>.
Additionally, YAML configs can contain key <code class="language-plaintext highlighter-rouge">filters</code> which is a list of additional filters. Each filter is defined as a
dict with the filter class as key and filter configuration as value. See the <code class="language-plaintext highlighter-rouge">config/</code> folder for examples. List all
available filters via <code class="language-plaintext highlighter-rouge">--list-filters</code>.</p>

<p>Other filters can be defined by 3rd-party packages via pluginlib. The package has to
<code class="language-plaintext highlighter-rouge">&lt;exec_depend&gt;cras_bag_tools&lt;/exec_depend&gt;</code> and it has to put this line in its <code class="language-plaintext highlighter-rouge">&lt;export&gt;</code> tag in package.xml:
<code class="language-plaintext highlighter-rouge">&lt;cras_bag_tools filters="$PACKAGE.$MODULE" /&gt;</code>. With this in place, <code class="language-plaintext highlighter-rouge">filter_bag</code> will search the specified module
for all classes that subclass <code class="language-plaintext highlighter-rouge">cras_bag_tools.MessageFilter</code> and it will provide these as additional filters.</p>

<h3 id="fix_msg_defs">fix_msg_defs</h3>

<p>Sometimes it can happen that wrong textual definitions of messages are stored in bag files (although the MD5 sums are correct).
Such bag files can have problems when they are processed using scripts like <code class="language-plaintext highlighter-rouge">rosbag</code> etc.
This script fixes the definitions using the definitions from the local catkin workspace.</p>

<p><strong>The fix is done inplace, so it changes the original bag file.</strong></p>

<h4 id="usage-4">Usage</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun cras_bag_tools fix_msg_defs BAGFILE [TOPIC [TOPIC ...]]
</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">BAGFILE</code>: The bag file to fix.</li>
  <li>
<code class="language-plaintext highlighter-rouge">TOPIC</code>: Any number of topic names to fix. If not set, all topics are fixed. The topics are sensitive to the starting slash (not) being present.</li>
</ul>

<blockquote>
  <p><strong>Note</strong>
If there is a mismatch between the stored and local MD5 sum of the message definition, it will not be fixed and a warning will be printed.</p>
</blockquote>

<blockquote>
  <p><strong>Note</strong>
If a definition cannot be found locally for some message type, a warning will be printed and this definition will not be fixed.</p>
</blockquote>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-cras_bag_tools">Changelog for package cras_bag_tools</h1>

<h2 id="251-2025-02-18">2.5.1 (2025-02-18)</h2>

<ul>
  <li>Fixed running on Jetsons.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="250-2025-02-13">2.5.0 (2025-02-13)</h2>

<ul>
  <li>filter_bag: Split into a reusable module, added more filters and
example configs.</li>
  <li>topic_set: Support iteration over TopicSet.</li>
  <li>extract_images: Support global speedup setting.</li>
  <li>filter_bag: Refactor.</li>
  <li>filter_bag: Rewritten to use image_transport_codecs</li>
  <li>Added extract_images</li>
  <li>Added filter_bag</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="248-2025-01-07">2.4.8 (2025-01-07)</h2>

<h2 id="247-2024-12-12">2.4.7 (2024-12-12)</h2>

<h2 id="246-2024-12-12">2.4.6 (2024-12-12)</h2>

<h2 id="245-2024-11-02">2.4.5 (2024-11-02)</h2>

<h2 id="244-2024-09-14">2.4.4 (2024-09-14)</h2>

<h2 id="243-2024-09-14">2.4.3 (2024-09-14)</h2>

<h2 id="242-2024-09-05">2.4.2 (2024-09-05)</h2>

<h2 id="241-2024-09-04">2.4.1 (2024-09-04)</h2>

<h2 id="240-2024-09-04">2.4.0 (2024-09-04)</h2>

<h2 id="239-2024-02-27">2.3.9 (2024-02-27)</h2>

<ul>
  <li>Removed catkin_lint buildfarm hacks.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="238-2024-01-12">2.3.8 (2024-01-12)</h2>

<h2 id="237-2024-01-09">2.3.7 (2024-01-09)</h2>

<h2 id="236-2024-01-09">2.3.6 (2024-01-09)</h2>

<h2 id="235-2023-11-21">2.3.5 (2023-11-21)</h2>

<h2 id="234-2023-10-25">2.3.4 (2023-10-25)</h2>

<h2 id="233-2023-10-06">2.3.3 (2023-10-06)</h2>

<h2 id="232-2023-10-06">2.3.2 (2023-10-06)</h2>

<h2 id="231-2023-07-13">2.3.1 (2023-07-13)</h2>

<h2 id="230-2023-07-12">2.3.0 (2023-07-12)</h2>

<ul>
  <li>Increased minimum CMake version to 3.10.2.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="223-2023-06-16">2.2.3 (2023-06-16)</h2>

<h2 id="222-2023-05-15">2.2.2 (2023-05-15)</h2>

<h2 id="221-2023-05-15">2.2.1 (2023-05-15)</h2>

<h2 id="220-2023-04-09">2.2.0 (2023-04-09)</h2>

<ul>
  <li>Updated build files</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="212-2023-02-10">2.1.2 (2023-02-10)</h2>

<h2 id="211-2023-02-08">2.1.1 (2023-02-08)</h2>

<h2 id="210-2023-02-08">2.1.0 (2023-02-08)</h2>

<ul>
  <li>Move merge_bag higher in readme.</li>
  <li>Added size_per_topic.</li>
  <li>Improved structure, added merge_bag.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="2010-2022-11-24">2.0.10 (2022-11-24)</h2>

<h2 id="209-2022-11-24">2.0.9 (2022-11-24)</h2>

<h2 id="208-2022-11-24">2.0.8 (2022-11-24)</h2>

<h2 id="207-2022-11-24">2.0.7 (2022-11-24)</h2>

<h2 id="206-2022-11-24">2.0.6 (2022-11-24)</h2>

<h2 id="205-2022-10-23">2.0.5 (2022-10-23)</h2>

<h2 id="204-2022-10-14">2.0.4 (2022-10-14)</h2>

<h2 id="203-2022-10-07">2.0.3 (2022-10-07)</h2>

<h2 id="202-2022-08-29">2.0.2 (2022-08-29)</h2>

<h2 id="201">2.0.1</h2>

<h2 id="100">1.0.0</h2>

<ul>
  <li>Quit if bag does not exist.</li>
  <li>Be less verbose.</li>
  <li>Added cras_bag_tools.</li>
  <li>Contributors: Martin Pecka</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/cras_bag_tools/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#noetic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#noetic">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/cras_py_common#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/cras_py_common#noetic">cras_py_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/cv_bridge#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/cv_bridge#noetic">cv_bridge  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/genpy#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/genpy#noetic">genpy  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/image_transport_codecs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/image_transport_codecs#noetic">image_transport_codecs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosbag#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosbag#noetic">rosbag  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roslib#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roslib#noetic">roslib  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rospy#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rospy#noetic">rospy  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/sensor_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/sensor_msgs#noetic">sensor_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_msgs#noetic">tf2_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/cras_docs_common#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/cras_docs_common#noetic">cras_docs_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosdoc_lite#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosdoc_lite#noetic">rosdoc_lite  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roslint#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roslint#noetic">roslint  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/python-setuptools">python-setuptools</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-setuptools">python3-setuptools</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-marisa">python-marisa</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-marisa">python3-marisa</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-matplotlib">python-matplotlib</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-matplotlib">python3-matplotlib</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-tqdm">python-tqdm</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-tqdm">python3-tqdm</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-catkin-lint">python-catkin-lint</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-catkin-lint">python3-catkin-lint</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/movie_publisher#noetic">movie_publisher</a></td>
                      <td class="text-center">
                        
                        <a href="/p/movie_publisher#noetic-deps" >
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>cras_bag_tools</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="noetic-question-list" class="panel-body" style="display: none;"></div>
      <div id="noetic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/cras_bag_tools+noetic">here</a>.</p>
      </div>
      <div id="noetic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/ctu-vras/ros-utils.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/cras_bag_tools/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/ctu-vras/ros-utils/tree/master/cras_bag_tools"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/cras_bag_tools?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/cras_bag_tools">cras_bag_tools</a> <small>package from <a style="text-decoration:none" href="/r/cras_ros_utils/github-ctu-vras-ros-utils">cras_ros_utils</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/camera_throttle">

camera_throttle
</a>
            
          
            
            
              <span class="label label-default pkg-label">

cras_bag_tools
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/cras_cpp_common">

cras_cpp_common
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/cras_docs_common">

cras_docs_common
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/cras_py_common">

cras_py_common
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/cras_topic_tools">

cras_topic_tools
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/image_transport_codecs">

image_transport_codecs
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/tf_static_publisher">

tf_static_publisher
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/melodic/api/cras_bag_tools/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/ctu-vras/ros-utils/tree/master/cras_bag_tools"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/cras_bag_tools?distro=melodic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="melodic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#melodic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#melodic-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#melodic-deps" data-toggle="tab"><span class="label label-primary">23</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#melodic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#melodic-questions" data-toggle="tab"><span id="melodic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="melodic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>2.5.1</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Useful utilities for working with ROS</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ctu-vras/ros-utils.git">https://github.com/ctu-vras/ros-utils.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-22
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <div class="dropdown">
                        <button type="button" data-toggle="dropdown" class="btn label label-primary dropdown-toggle ci-result-success" title="Latest build information: Fri, 16 Jun 2023 13:03:58 GMT
  Total tests: 663
  Succeeded: 663
  Skipped: 0
  Failed: 0
Click to show more build history.">
                          <span class="glyphicon glyphicon-check"></span>
                          Continuous Integration
                          
                            : 663 / 663
                          
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                          <li class="dropdown-header">Latest build history: Fri, 16 Jun 2023 13:03:58 GMT (last 5 of 70 builds)</li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__cras_ros_utils__ubuntu_bionic_amd64/70/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#70</strong></span>
                                <span>16-Jun-2023 12:31</span>
                                <span>663 / 663</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__cras_ros_utils__ubuntu_bionic_amd64/69/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#69</strong></span>
                                <span>15-May-2023 09:31</span>
                                <span>663 / 663</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__cras_ros_utils__ubuntu_bionic_amd64/68/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#68</strong></span>
                                <span>15-May-2023 03:31</span>
                                <span>662 / 662</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__cras_ros_utils__ubuntu_bionic_amd64/67/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#67</strong></span>
                                <span>09-Apr-2023 05:31</span>
                                <span>658 / 658</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__cras_ros_utils__ubuntu_bionic_amd64/66/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#66</strong></span>
                                <span>08-Apr-2023 23:31</span>
                                <span>658 / 658</span>
                              </a>
                            </li>
                          
                        </ul>
                      </div>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/cras_ros_utils/#melodic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/cras_ros_utils/#melodic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/cras_ros_utils/#melodic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Various utilities to work with bag files
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="https://wiki.ros.org/cras_bag_tools">Website</a></li>
                
                  <li><a href="https://github.com/ctu-vras/ros-utils/issues">Bugtracker</a></li>
                
                  <li><a href="https://github.com/ctu-vras/ros-utils">Repository</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Martin Pecka</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Martin Pecka</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/ctu-vras/ros-utils/tree/master/cras_bag_tools/README.md" title="Open in git repository">cras_bag_tools/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="cras_bag_tools">cras_bag_tools</h1>

<p>Czech-army knife for working with ROS BAG files.</p>

<h2 id="python-modules">Python Modules</h2>

<p>Several useful functions are exported as Python submodules as module <code class="language-plaintext highlighter-rouge">cras_bag_tools</code>:</p>

<ul>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.bag_filter"><code class="language-plaintext highlighter-rouge">bag_filter</code></a>: Filter a bag file using a MessageFilter.</li>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.fix_msg_defs"><code class="language-plaintext highlighter-rouge">fix_msg_defs</code></a>: Fix message definitions in a bag file according to local definitions.</li>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.message_filter"><code class="language-plaintext highlighter-rouge">message_filter</code></a>: A message filter that can decide whether a message should be kept or not, and possibly alter it.</li>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.message_filters"><code class="language-plaintext highlighter-rouge">message_filters</code></a>: Implementations of common message filters.</li>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.topic_set"><code class="language-plaintext highlighter-rouge">topic_set</code></a>: Efficient data structure to hold a static set of topics with super-fast is-in-set queries.</li>
  <li>
<a href="https://docs.ros.org/en/api/cras_bag_tools/html/cras_bag_tools.html#module-cras_bag_tools.tqdm_bag"><code class="language-plaintext highlighter-rouge">tqdm_bag</code></a>: Bag file reader that shows progressbars when loading index or reading messages.</li>
</ul>

<h2 id="scripts">Scripts</h2>

<h3 id="merge_bag">merge_bag</h3>

<p>Merge two or more bag files into one.</p>

<h4 id="usage">Usage</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun cras_bag_tools merge_bag [-v] [-c] [-b] OUT_BAG IN_BAG [IN_BAG ...]
</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">OUT_BAG</code>: Output bag file.</li>
  <li>
<code class="language-plaintext highlighter-rouge">IN_BAG</code>: Input bag file(s).</li>
  <li>
<code class="language-plaintext highlighter-rouge">-v</code>, <code class="language-plaintext highlighter-rouge">--verbose</code>: Verbose output.</li>
  <li>
<code class="language-plaintext highlighter-rouge">-c</code>, <code class="language-plaintext highlighter-rouge">--compress</code>: Compress output bag with LZ4 compression.</li>
  <li>
<code class="language-plaintext highlighter-rouge">-b</code>, <code class="language-plaintext highlighter-rouge">--bz2</code>: Compress output bag with BZ2 compression.</li>
</ul>

<h3 id="size_per_topic">size_per_topic</h3>

<p>Print total cumulative serialized message size per topic.</p>

<h4 id="usage-1">Usage</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun cras_bag_tools size_per_topic [-c] [-a] BAG
</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">BAG</code>: Bag file.</li>
  <li>
<code class="language-plaintext highlighter-rouge">-c</code>, <code class="language-plaintext highlighter-rouge">--csv</code>: Output as CSV.</li>
  <li>
<code class="language-plaintext highlighter-rouge">-a</code>, <code class="language-plaintext highlighter-rouge">--sort-alphabetical</code>: Sort by topic names (default is by topic sizes).</li>
</ul>

<h3 id="extract_images">extract_images</h3>

<p>Extract image topics from bag file to image or video files.</p>

<h4 id="usage-2">Usage</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun cras_bag_tools extract_images [-h] [--out-format OUT_FORMAT] [--verbose] bag_file output_dir [image_topics [image_topics ...]]
</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">bag_file</code>: The bag to read.</li>
  <li>
<code class="language-plaintext highlighter-rouge">output_dir</code>: Directory where all generated files should be stored.</li>
  <li>
<code class="language-plaintext highlighter-rouge">image_topics</code>: Zero or more topics to convert. If zero, all image topics are converted. Each image topic can be
followed by additional configuration in the form
<code class="language-plaintext highlighter-rouge">TOPIC:OUT_FORMAT:COMPRESSION:ENCODING:IN_FPS:OUT_FPS:PIX_FMT</code> (only <code class="language-plaintext highlighter-rouge">TOPIC</code> is required)
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">OUT_FORMAT</code>: Format of the exported images/video (e.g. <code class="language-plaintext highlighter-rouge">jpg</code>, <code class="language-plaintext highlighter-rouge">mp4</code> etc.). Defaults to <code class="language-plaintext highlighter-rouge">--out-format</code>.</li>
      <li>
<code class="language-plaintext highlighter-rouge">COMPRESSION</code>: Compression level. The meaning depends on <code class="language-plaintext highlighter-rouge">OUT_FORMAT</code>. JPG has 0-100, PNG 0-9, MP4 0-51 (CRF).</li>
      <li>
<code class="language-plaintext highlighter-rouge">ENCODING</code>: Pixel format to convert the images to. E.g. <code class="language-plaintext highlighter-rouge">bgr8</code> or <code class="language-plaintext highlighter-rouge">mono8</code>. <code class="language-plaintext highlighter-rouge">passthrough</code> means keeping the format.
Empty string retains the format for raw images and converts compressed images to the recorded raw format
in their <code class="language-plaintext highlighter-rouge">.format</code> field if it is available. Defaults to <code class="language-plaintext highlighter-rouge">passthrough</code>.</li>
      <li>Following options are for video formats only.</li>
      <li>
<code class="language-plaintext highlighter-rouge">IN_FPS</code>: Framerate of the topic images. If not set, it is estimated from the frequency of the messages in the bag.
You can set the FPS higher than the original, effectively speeding up the video.</li>
      <li>
<code class="language-plaintext highlighter-rouge">OUT_FPS</code>: Output framerate. Defaults to <code class="language-plaintext highlighter-rouge">IN_FPS</code>.</li>
      <li>
<code class="language-plaintext highlighter-rouge">PIX_FMT</code>: The <code class="language-plaintext highlighter-rouge">-pix_fmt</code> output option for ffmpeg, i.e. the pixel format of the video stream. Defaults to
<code class="language-plaintext highlighter-rouge">yuvj420p</code>.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">-h</code>: Shows help.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--out-format</code>: Default format for all topics (e.g. <code class="language-plaintext highlighter-rouge">jpg</code>, <code class="language-plaintext highlighter-rouge">mp4</code> etc.). Defaults to <code class="language-plaintext highlighter-rouge">jpg</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--verbose</code>: Print various details during execution.</li>
</ul>

<h4 id="example-command">Example command</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Convert all image topics in the bag to a series of JPEG images in folder imgs/</span>
rosrun cras_bag_tools extract_images spot_2022-10-27-10-35-46.video.bag imgs

<span class="c"># Convert topic /rviz/fixed_image/compressed to an MP4 video</span>
rosrun cras_bag_tools extract_images spot_2022-10-27-10-35-46.video.bag <span class="nb">.</span> /rviz/fixed_image/compressed:mp4:23:passthrough:25

</code></pre></div></div>

<h3 id="filter_bag">filter_bag</h3>

<p>Process bag files with a configured set of filters.</p>

<h4 id="usage-3">Usage</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>usage: filter_bag [-h] [-c CONFIG [CONFIG ...]] [-o OUT_FORMAT] [--lz4] [--bz2] [--no-copy-params] [--list-yaml-keys] [--list-filters] [--merge-initial-static-tf [DURATION]]
                  [--throttle TOPIC RATE [TOPIC RATE ...]] [-i INCLUDE_TOPICS [INCLUDE_TOPICS ...]] [-e EXCLUDE_TOPICS [EXCLUDE_TOPICS ...]] [--include-types INCLUDE_TYPES [INCLUDE_TYPES ...]]
                  [--exclude-types EXCLUDE_TYPES [EXCLUDE_TYPES ...]] [--include-tf-parents INCLUDE_TF_PARENTS [INCLUDE_TF_PARENTS ...]]
                  [--exclude-tf-parents EXCLUDE_TF_PARENTS [EXCLUDE_TF_PARENTS ...]] [--include-tf-children INCLUDE_TF_CHILDREN [INCLUDE_TF_CHILDREN ...]]
                  [--exclude-tf-children EXCLUDE_TF_CHILDREN [EXCLUDE_TF_CHILDREN ...]] [--decompress-images] [--max-message-size MAX_MESSAGE_SIZE]
                  [bags [bags ...]]
</code></pre></div></div>

<p>Positional arguments:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">bags</code>: The list of bags to process.</li>
</ul>

<p>Optional arguments:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">--list-yaml-keys</code>: Print a list of all available YAML top-level keys provided by filters.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--list-filters</code>: Print a list of all available filters.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--no-copy-params</code>: If set, no .params file will be copied</li>
  <li>
<code class="language-plaintext highlighter-rouge">-i INCLUDE_TOPICS [INCLUDE_TOPICS ...]</code>, <code class="language-plaintext highlighter-rouge">--include-topics INCLUDE_TOPICS [INCLUDE_TOPICS ...]</code>: Retain only
these topics</li>
  <li>
<code class="language-plaintext highlighter-rouge">-e EXCLUDE_TOPICS [EXCLUDE_TOPICS ...]</code>, <code class="language-plaintext highlighter-rouge">--exclude-topics EXCLUDE_TOPICS [EXCLUDE_TOPICS ...]</code>: Remove these topics</li>
  <li>
<code class="language-plaintext highlighter-rouge">--include-types INCLUDE_TYPES [INCLUDE_TYPES ...]</code>: Retain only messages of these types</li>
  <li>
<code class="language-plaintext highlighter-rouge">--exclude-types EXCLUDE_TYPES [EXCLUDE_TYPES ...]</code>: Remove messages of these types</li>
  <li>
<code class="language-plaintext highlighter-rouge">--throttle TOPIC RATE [TOPIC RATE ...], --hz TOPIC RATE [TOPIC RATE ...]</code>: Throttle messages. This argument should be
an even-sized list of pairs <code class="language-plaintext highlighter-rouge">[TOPIC RATE]</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--include-tf-parents INCLUDE_TF_PARENTS [INCLUDE_TF_PARENTS ...]</code>: Retain only TFs with these frames as parents</li>
  <li>
<code class="language-plaintext highlighter-rouge">--exclude-tf-parents EXCLUDE_TF_PARENTS [EXCLUDE_TF_PARENTS ...]</code>: Remove TFs with these frames as parents</li>
  <li>
<code class="language-plaintext highlighter-rouge">--include-tf-children INCLUDE_TF_CHILDREN [INCLUDE_TF_CHILDREN ...]</code>: Retain only TFs with these frames as children</li>
  <li>
<code class="language-plaintext highlighter-rouge">--exclude-tf-children EXCLUDE_TF_CHILDREN [EXCLUDE_TF_CHILDREN ...]</code>: Remove TFs with these frames as children</li>
  <li>
<code class="language-plaintext highlighter-rouge">--max-message-size MAX_MESSAGE_SIZE</code>: Remove all messages larger than this size <code class="language-plaintext highlighter-rouge">[B]</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">--merge-initial-static-tf [DURATION]</code>: Merge a few initial static TFs into one. DURATION specifies the duration of
the initial bag section to be considered for the merging. DURATION defaults to 5 secs.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--decompress-images</code>: Decompress all images</li>
  <li>
<code class="language-plaintext highlighter-rouge">-c CONFIG [CONFIG ...]</code>, <code class="language-plaintext highlighter-rouge">--config CONFIG [CONFIG ...]</code>: YAML configs of filters</li>
  <li>
<code class="language-plaintext highlighter-rouge">-o OUT_FORMAT</code>, <code class="language-plaintext highlighter-rouge">--out-format OUT_FORMAT</code>: Template for naming the output bag. Defaults to <code class="language-plaintext highlighter-rouge">{name}.proc{ext}</code>. 
Relative paths will put the bag relative to current directory (not relative to the location of the source bag).
The format string can utilize variables <code class="language-plaintext highlighter-rouge">dirname</code> (directory of the source bag), <code class="language-plaintext highlighter-rouge">name</code> (name of the source bag
without extension), <code class="language-plaintext highlighter-rouge">ext</code> (extension of the source bag (should be <code class="language-plaintext highlighter-rouge">.bag</code>)).</li>
  <li>
<code class="language-plaintext highlighter-rouge">--lz4</code>: Compress the bag using LZ4 compression.</li>
  <li>
<code class="language-plaintext highlighter-rouge">--bz2</code>: Compress the bag using BZ2 compression (warning: this compression is very slow).</li>
</ul>

<p>The YAML config files can contain the same keys as the optional CLI arguments (list all of them via <code class="language-plaintext highlighter-rouge">--list-yaml-keys</code>.
Additionally, YAML configs can contain key <code class="language-plaintext highlighter-rouge">filters</code> which is a list of additional filters. Each filter is defined as a
dict with the filter class as key and filter configuration as value. See the <code class="language-plaintext highlighter-rouge">config/</code> folder for examples. List all
available filters via <code class="language-plaintext highlighter-rouge">--list-filters</code>.</p>

<p>Other filters can be defined by 3rd-party packages via pluginlib. The package has to
<code class="language-plaintext highlighter-rouge">&lt;exec_depend&gt;cras_bag_tools&lt;/exec_depend&gt;</code> and it has to put this line in its <code class="language-plaintext highlighter-rouge">&lt;export&gt;</code> tag in package.xml:
<code class="language-plaintext highlighter-rouge">&lt;cras_bag_tools filters="$PACKAGE.$MODULE" /&gt;</code>. With this in place, <code class="language-plaintext highlighter-rouge">filter_bag</code> will search the specified module
for all classes that subclass <code class="language-plaintext highlighter-rouge">cras_bag_tools.MessageFilter</code> and it will provide these as additional filters.</p>

<h3 id="fix_msg_defs">fix_msg_defs</h3>

<p>Sometimes it can happen that wrong textual definitions of messages are stored in bag files (although the MD5 sums are correct).
Such bag files can have problems when they are processed using scripts like <code class="language-plaintext highlighter-rouge">rosbag</code> etc.
This script fixes the definitions using the definitions from the local catkin workspace.</p>

<p><strong>The fix is done inplace, so it changes the original bag file.</strong></p>

<h4 id="usage-4">Usage</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun cras_bag_tools fix_msg_defs BAGFILE [TOPIC [TOPIC ...]]
</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">BAGFILE</code>: The bag file to fix.</li>
  <li>
<code class="language-plaintext highlighter-rouge">TOPIC</code>: Any number of topic names to fix. If not set, all topics are fixed. The topics are sensitive to the starting slash (not) being present.</li>
</ul>

<blockquote>
  <p><strong>Note</strong>
If there is a mismatch between the stored and local MD5 sum of the message definition, it will not be fixed and a warning will be printed.</p>
</blockquote>

<blockquote>
  <p><strong>Note</strong>
If a definition cannot be found locally for some message type, a warning will be printed and this definition will not be fixed.</p>
</blockquote>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-cras_bag_tools">Changelog for package cras_bag_tools</h1>

<h2 id="251-2025-02-18">2.5.1 (2025-02-18)</h2>

<ul>
  <li>Fixed running on Jetsons.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="250-2025-02-13">2.5.0 (2025-02-13)</h2>

<ul>
  <li>filter_bag: Split into a reusable module, added more filters and
example configs.</li>
  <li>topic_set: Support iteration over TopicSet.</li>
  <li>extract_images: Support global speedup setting.</li>
  <li>filter_bag: Refactor.</li>
  <li>filter_bag: Rewritten to use image_transport_codecs</li>
  <li>Added extract_images</li>
  <li>Added filter_bag</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="248-2025-01-07">2.4.8 (2025-01-07)</h2>

<h2 id="247-2024-12-12">2.4.7 (2024-12-12)</h2>

<h2 id="246-2024-12-12">2.4.6 (2024-12-12)</h2>

<h2 id="245-2024-11-02">2.4.5 (2024-11-02)</h2>

<h2 id="244-2024-09-14">2.4.4 (2024-09-14)</h2>

<h2 id="243-2024-09-14">2.4.3 (2024-09-14)</h2>

<h2 id="242-2024-09-05">2.4.2 (2024-09-05)</h2>

<h2 id="241-2024-09-04">2.4.1 (2024-09-04)</h2>

<h2 id="240-2024-09-04">2.4.0 (2024-09-04)</h2>

<h2 id="239-2024-02-27">2.3.9 (2024-02-27)</h2>

<ul>
  <li>Removed catkin_lint buildfarm hacks.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="238-2024-01-12">2.3.8 (2024-01-12)</h2>

<h2 id="237-2024-01-09">2.3.7 (2024-01-09)</h2>

<h2 id="236-2024-01-09">2.3.6 (2024-01-09)</h2>

<h2 id="235-2023-11-21">2.3.5 (2023-11-21)</h2>

<h2 id="234-2023-10-25">2.3.4 (2023-10-25)</h2>

<h2 id="233-2023-10-06">2.3.3 (2023-10-06)</h2>

<h2 id="232-2023-10-06">2.3.2 (2023-10-06)</h2>

<h2 id="231-2023-07-13">2.3.1 (2023-07-13)</h2>

<h2 id="230-2023-07-12">2.3.0 (2023-07-12)</h2>

<ul>
  <li>Increased minimum CMake version to 3.10.2.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="223-2023-06-16">2.2.3 (2023-06-16)</h2>

<h2 id="222-2023-05-15">2.2.2 (2023-05-15)</h2>

<h2 id="221-2023-05-15">2.2.1 (2023-05-15)</h2>

<h2 id="220-2023-04-09">2.2.0 (2023-04-09)</h2>

<ul>
  <li>Updated build files</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="212-2023-02-10">2.1.2 (2023-02-10)</h2>

<h2 id="211-2023-02-08">2.1.1 (2023-02-08)</h2>

<h2 id="210-2023-02-08">2.1.0 (2023-02-08)</h2>

<ul>
  <li>Move merge_bag higher in readme.</li>
  <li>Added size_per_topic.</li>
  <li>Improved structure, added merge_bag.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="2010-2022-11-24">2.0.10 (2022-11-24)</h2>

<h2 id="209-2022-11-24">2.0.9 (2022-11-24)</h2>

<h2 id="208-2022-11-24">2.0.8 (2022-11-24)</h2>

<h2 id="207-2022-11-24">2.0.7 (2022-11-24)</h2>

<h2 id="206-2022-11-24">2.0.6 (2022-11-24)</h2>

<h2 id="205-2022-10-23">2.0.5 (2022-10-23)</h2>

<h2 id="204-2022-10-14">2.0.4 (2022-10-14)</h2>

<h2 id="203-2022-10-07">2.0.3 (2022-10-07)</h2>

<h2 id="202-2022-08-29">2.0.2 (2022-08-29)</h2>

<h2 id="201">2.0.1</h2>

<h2 id="100">1.0.0</h2>

<ul>
  <li>Quit if bag does not exist.</li>
  <li>Be less verbose.</li>
  <li>Added cras_bag_tools.</li>
  <li>Contributors: Martin Pecka</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/cras_bag_tools/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#melodic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#melodic">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/cras_py_common#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/cras_py_common#melodic">cras_py_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/cv_bridge#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/cv_bridge#melodic">cv_bridge  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/genpy#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/genpy#melodic">genpy  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/image_transport_codecs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/image_transport_codecs#melodic">image_transport_codecs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosbag#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosbag#melodic">rosbag  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roslib#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roslib#melodic">roslib  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rospy#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rospy#melodic">rospy  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/sensor_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/sensor_msgs#melodic">sensor_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_msgs#melodic">tf2_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/cras_docs_common#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/cras_docs_common#melodic">cras_docs_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosdoc_lite#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosdoc_lite#melodic">rosdoc_lite  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roslint#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roslint#melodic">roslint  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/python-setuptools">python-setuptools</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-setuptools">python3-setuptools</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-marisa">python-marisa</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-marisa">python3-marisa</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-matplotlib">python-matplotlib</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-matplotlib">python3-matplotlib</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-tqdm">python-tqdm</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-tqdm">python3-tqdm</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-catkin-lint">python-catkin-lint</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-catkin-lint">python3-catkin-lint</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/movie_publisher#melodic">movie_publisher</a></td>
                      <td class="text-center">
                        
                        <a href="/p/movie_publisher#melodic-deps" >
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>cras_bag_tools</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="melodic-question-list" class="panel-body" style="display: none;"></div>
      <div id="melodic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/cras_bag_tools+melodic">here</a>.</p>
      </div>
      <div id="melodic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/ctu-vras/ros-utils.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/melodic/api/cras_bag_tools/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/ctu-vras/ros-utils/tree/master/cras_bag_tools"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/cras_bag_tools?distro=melodic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/cras_bag_tools?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/cras_bag_tools?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=cras_bag_tools&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "cras_bag_tools"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
