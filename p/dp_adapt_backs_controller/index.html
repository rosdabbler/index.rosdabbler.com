<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: dp_adapt_backs_controller</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/dp_adapt_backs_controller/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">dp_adapt_backs_controller</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-primary" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/dp_adapt_backs_controller">dp_adapt_backs_controller</a> <small>package from <a style="text-decoration:none" href="/r/vortex-auv/github-vortexntnu-vortex-auv">vortex-auv</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/auv_setup">

auv_setup
</a>
            
          
            
            
              <span class="label label-default pkg-label">

dp_adapt_backs_controller
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/pid_controller_dp">

pid_controller_dp
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/pid_controller_dp_euler">

pid_controller_dp_euler
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/velocity_controller_lqr">

velocity_controller_lqr
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/ekf_pose_filtering">

ekf_pose_filtering
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/pose_action_server">

pose_action_server
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/los_guidance">

los_guidance
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/reference_filter_dp">

reference_filter_dp
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/docking">

docking
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/joystick_interface_auv">

joystick_interface_auv
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/thrust_allocator_auv">

thrust_allocator_auv
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/thruster_interface_auv">

thruster_interface_auv
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/github/p/dp_adapt_backs_controller"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/vortexntnu/vortex-auv/tree/main/control/dp_adapt_backs_controller"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="github-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#github-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#github-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#github-deps" data-toggle="tab"><span class="label label-primary">7</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#github-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#github-questions" data-toggle="tab"><span id="github-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="github-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>1.0.0</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>MIT</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Software for guidance, navigation and control for the Vortex AUVs. Purpose built for competing in AUV/ROV competitions.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/vortexntnu/vortex-auv.git">https://github.com/vortexntnu/vortex-auv.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-26
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNKNOWN
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">robot</span> <span class="label label-default">ubuntu</span> <span class="label label-default">ros</span> <span class="label label-default">finite-state-machine</span> <span class="label label-default">autonomous</span> <span class="label label-default">sensor-fusion</span> <span class="label label-default">auv</span> <span class="label label-default">robosub</span> <span class="label label-default">robot-localization</span> <span class="label label-default">motion-control</span> <span class="label label-default">pathplanning</span> <span class="label label-default">autonomous-robots</span> <span class="label label-default">vortex-auv</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/vortex-auv/#github-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/vortex-auv/#github-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/vortex-auv/#github-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Adaptive backstepping controller for DP
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>talhanc</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/vortexntnu/vortex-auv/tree/main/control/dp_adapt_backs_controller/README.md" title="Open in git repository">control/dp_adapt_backs_controller/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h2 id="dp-adaptive-backstepping-controller">DP Adaptive Backstepping Controller</h2>

<p>This package implements a dynamic positioning (DP) Adaptive backstepping controller for the orca AUV. It estimates the linear and nonlinear damping using adaptive parameters, and compensates for uncertainties and disturbances in real-time in the same manner as a state estimator. The proof for this is done using Lyapunov functions and stability requirements to ensure convergence and stability.</p>

<h3 id="overview">Overview</h3>
<ul>
  <li>Uses the backstepping control method for position and orientation control</li>
  <li>Includes adaptive terms to account for unmodeled dynamics and uncertainties.</li>
</ul>

<h3 id="model-for-auv">Model for AUV</h3>

<pre><code class="language-math">\dot{\eta} = J(\eta)\nu,

</code></pre>

<pre><code class="language-math">M \dot{\nu} + C(\nu)\,\nu - F(\nu, \Theta^\star) = \tau + d^\star

</code></pre>

<ul>
  <li>$\nu$: Body-fixed velocity vector</li>
  <li>$\eta$: Inertial position and orientation vector</li>
  <li>M: Constant mass-inertia matrix</li>
  <li>C($\eta$): Coriolis and centripetal terms</li>
  <li>J($\eta$): Transformation from body to inertial coordinates</li>
  <li>F($\nu$, $\Theta^\star$) =  Y($\nu$) $\Theta^\star$: The damping assumed damping function (linear and nonlinear), where Y(*) describes the behaviour</li>
  <li>$d^\star$: Disturbance and uncertainties</li>
</ul>

<h3 id="file-overview">File overview</h3>
<ol>
  <li>
<strong>dp_adapt_backs_controller.cpp/hpp</strong>
    <ul>
      <li>The controller implementation</li>
      <li>Implements the main control input, sets gains, references, and mass parameters.</li>
    </ul>
  </li>
  <li>
<strong>dp_adapt_backs_controller_utils.cpp/hpp</strong>
    <ul>
      <li>Provides utility functions: skew-symmetric matrix generation, quaternion-to-Euler, Jacobian and some functions needed for the adaptive functions.</li>
    </ul>
  </li>
  <li>
<strong>dp_adapt_backs_controller_ros.cpp/hpp</strong>
    <ul>
      <li>ROS node wrapper for the controller, subscribing to pose, twist, killswitch, and reference topics.</li>
      <li>Publishes thrust commands.</li>
    </ul>
  </li>
  <li>
<strong>dp_adapt_backs_controller_node.cpp</strong>
    <ul>
      <li>Entry point for the ROS executable.</li>
    </ul>
  </li>
  <li>
<strong>adapt_params.yaml</strong>
    <ul>
      <li>Tunable controller parameters (K1, K2, adapt_gain, d_gain)</li>
      <li>Contains the mass matrix (6×6) and other physical parameters:</li>
    </ul>
  </li>
</ol>

<pre><code class="language-math">     M =
     \begin{bmatrix}
     30.0 &amp; 0.0 &amp; 0.0 &amp; \cdots \\
     0.0 &amp; 30.0 &amp; \cdots &amp; \cdots \\
     0.0 &amp; \cdots &amp; 30.0 &amp; \cdots \\
     \cdots &amp; \cdots &amp; \cdots &amp; \cdots
     \end{bmatrix}
     
</code></pre>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> (partially shown for brevity)
 This is also added into the orca.yaml file
</code></pre></div></div>

<ol>
  <li>
<strong>CMakeLists.txt</strong>
    <ul>
      <li>Build configuration, ROS 2 dependencies, executable generation, and installation setup.</li>
    </ul>
  </li>
</ol>

<h3 id="tuning-parameters">Tuning Parameters</h3>
<ul>
  <li>
<strong>K1</strong> and <strong>K2</strong>: Gains for the backstepping control laws.</li>
  <li>
<strong>adapt_gain</strong>: Adaptive gain for the linear and nonlinear damping.</li>
  <li>
<strong>d_gain</strong>: Adaptive gain for the disturbances and uncertainties.</li>
  <li>
<strong>M</strong> and <strong>I_b</strong>: Mass inertia matrix and rotational inertia.</li>
  <li>
<strong>m</strong>: Vehicle mass.</li>
</ul>

<h2 id="backstepping-controller">Backstepping controller</h2>

<p>Using the Lyapunov proof we get the following functions for the backstepping controller:</p>

<h5 id="backstepping-variables">Backstepping variables</h5>

<pre><code class="language-math">z_1 = \eta - \eta_d

</code></pre>

<pre><code class="language-math">z_2 = \nu - \alpha

</code></pre>

<p>where the $\alpha$ is defined as the function that stabilizes the $z_1$ variable in the Lyapunov function system.</p>

<h5 id="adaptive-parameters">Adaptive parameters</h5>

<pre><code class="language-math">\tilde{\Theta} = \hat{\Theta} - \Theta^\star

</code></pre>

<pre><code class="language-math">\tilde{d} = \hat{d} - d^\star

</code></pre>

<p>where:</p>

<ul>
  <li>$\Theta^\star$ and $d^\star$ are the actual parameters,</li>
  <li>$\hat{\Theta}$ and $\hat{d}$ are the estimated parameters,</li>
  <li>$\tilde{\Theta}$ and $\tilde{d}$ are the estimation errors.</li>
</ul>

<h4 id="proof-of-control-law">Proof of control law</h4>

<p>We define the Lyapunov function candidate (LFC) as:</p>

<pre><code class="language-math">V_1 = \frac{1}{2} z_1^\top z_1

</code></pre>

<p>By fulfilling the criteriums of RUB, positive definite and (V_1(0) = 0), we need to do a derivation and ensure negative definite.</p>

<p>Taking the derivative of the Lyapunov function candidate (V_1):</p>

<pre><code class="language-math">\dot{V}_1 = \frac{d}{dt} \left( \frac{1}{2} z_1^\top z_1 \right)

</code></pre>

<p>Using the chain rule, we get:</p>

<pre><code class="language-math">\dot{V}_1 = z_1^\top \dot{z}_1

</code></pre>

<p>Substitute $\dot{z}_1$ with the dynamics of $z_1$:</p>

<pre><code class="language-math">\dot{z}_1 = \dot{\eta} - \dot{\eta}_d

</code></pre>

<p>and then inserting in the relation:</p>

<pre><code class="language-math">\dot{\eta} = J(\eta)\nu

</code></pre>

<pre><code class="language-math">\dot{z}_1 = J(\eta)\nu - \dot{\eta}_d

</code></pre>

<p>and</p>

<pre><code class="language-math">\nu = z_2 + \alpha

</code></pre>
<p>Thus, the derivative of the Lyapunov function candidate is:</p>

<pre><code class="language-math">\dot{V}_1 = z_1^\top J(\eta)(z_2 + \alpha)

</code></pre>

<p>We also assume that $\dot{\eta_d} = 0$ since we only get a desired position and orientation ($\eta$).</p>

<p>We choose an $\alpha$ value to make $z_1$ be negative semi-definite.</p>

<pre><code class="language-math">\boxed{
\alpha = -J(\eta)^{-1}(K_1 z_1)
}

</code></pre>

<pre><code class="language-math">\dot{V}_1 = z_1^\top J(\eta)z_2 - z_1^\top K_1 z_1 &lt; 0

</code></pre>

<p>We will now define the rest of the Lyapunov function candidates, including the adaptive parameter.</p>

<pre><code class="language-math">V_2 = \frac{1}{2} z_2^\top M z_2

</code></pre>

<p>For the second backstepping variable:</p>

<pre><code class="language-math">V_{\theta} = \frac{1}{2} \tilde{\Theta}^\top \Gamma^{-1}_{\theta} \tilde{\Theta}

</code></pre>

<pre><code class="language-math">V_d = \frac{1}{2} \tilde{d}^\top \Gamma^{-1}_{d} \tilde{d}

</code></pre>

<p>Where the $\Gamma$ matrix is a diagonal gain matrix for tuning the adaptive rate of the parameters. The reasoning behind inserting the adaptive parameters is that we want to ensure that the error, marked by the tilde, converges towards zero. To achieve this, we need to ensure that it actually does this by accounting for it in the Lyapunov function and controller.</p>

<p>Then we combine them like this:</p>

<pre><code class="language-math">V = V_1 + V_2 + V_{\theta} + V_d

</code></pre>

<p>and now we will analyze the derivative of this CLF, and ensure convergence for the whole function.</p>

<pre><code class="language-math">\dot{V} = \dot{V}_1 + z_2^\top M \dot{z}_2 + \tilde{\Theta}^\top \Gamma^{-1}_{\theta} \dot{\tilde{\Theta}} + \tilde{d}^\top \Gamma^{-1}_{d} \dot{\tilde{d}}

</code></pre>

<p>Before we write this out, we need to make some assumptions to make this more readable and easier to understand.</p>

<p>For $\dot{\tilde{\Theta}} = \dot{\hat{\Theta}} - \dot{\Theta}^\star$ we assume that the actual value has no changes, assuming it’s static, and therefore the derivative $\dot{\Theta}^\star = 0$</p>

<ol>
  <li>The same condition holds for $\dot{\tilde{d}}$</li>
</ol>

<pre><code class="language-math">\dot{V} = \dot{V}_1 + z_2^\top M (\dot{\nu} - \dot{\alpha}) + \tilde{\Theta}^\top \Gamma^{-1}_{\theta} \dot{\hat{\Theta}} + \tilde{d}^\top \Gamma^{-1}_{d} \dot{\hat{d}}

</code></pre>

<pre><code class="language-math">= \dot{V}_1 - z_2^\top M \dot{\alpha} + z_2^\top\tau - z_2^\top C(\nu)\,\nu + z_2^\top F(\nu, \Theta^\star) + z_2^\top d + \tilde{\Theta}^\top \Gamma^{-1}_{\theta} \dot{\hat{\Theta}} + \tilde{d}^\top \Gamma^{-1}_{d} \dot{\hat{d}}

</code></pre>

<pre><code class="language-math">= - z_1^\top K_1z_1 + z_2^\top J(\eta)^\top z_1 - z_2^\top M \dot{\alpha} + z_2^\top \tau - z_2^\top C(\nu)\,\nu + z_2^\top Y(\nu) \Theta\star + z_2^\top d  + \tilde{\Theta}^\top \Gamma^{-1}_{\theta} \dot{\hat{\Theta}} + \tilde{d}^\top \Gamma^{-1}_{d} \dot{\hat{d}}

</code></pre>

<p>Since we only know the estimate of the adaptive parameters, we can write the controller in two parts:</p>

<pre><code class="language-math">\tau = \tau_{controller} - F(\nu, \hat{\Theta}) - d = \tau_{controller} -Y(\nu) \hat{\Theta} - \hat{d}

</code></pre>
<p>Important to notice is that we introduce the estimate (^) for the variables, not the actual value (*).
We insert this into the system and get:</p>

<pre><code class="language-math">= - z_1^\top K_1 z_1 + z_2^\top J(\eta)^\top z_1 - z_2^\top M \dot{\alpha} + z_2^\top \tau_{controller} - z_2^\top C(\nu)\,\nu - z_2^\top Y(\nu) (\hat{\Theta} - \Theta\star ) - z_2^\top (\hat{d} - d\star)  + \tilde{\Theta}^\top \Gamma^{-1}_{\theta} \dot{\hat{\Theta}} + \tilde{d}^\top \Gamma^{-1}_{d} \dot{\hat{d}}

</code></pre>

<p>We look at the adaptive parameters a little more and try to simplify them as much as possible</p>

<pre><code class="language-math">\hat{\Theta} - \Theta^\star = \hat{\Theta} - (\hat{\Theta} - \tilde{\Theta}) = \tilde{\Theta} \newline

</code></pre>

<pre><code class="language-math">\hat{d} - d^\star = \hat{d} - (\hat{d} - \tilde{d}) = \tilde{d}

</code></pre>

<p>Now we have:</p>

<pre><code class="language-math">= - z_1^\top K_1 z_1 + z_2^\top J(\eta)^\top z_1 - z_2^\top M \dot{\alpha} + z_2^\top \tau_{controller} - z_2^\top C(\nu)\,\nu + (-z_2^\top Y(\nu) \tilde{\Theta}+ \tilde{\Theta}^\top \Gamma^{-1}_{\theta} \dot{\hat{\Theta}}) + (-z_2^\top \tilde{d} + \tilde{d}^\top \Gamma^{-1}_{d} \dot{\hat{d}})

</code></pre>
<p>From this we can separate out the terms with the adaptive parameters. We can write them up as two separate equations:</p>

<pre><code class="language-math">-z_2^\top Y(\nu) \tilde{\Theta}+\tilde{\Theta}^\top \Gamma^{-1}_{\theta} \dot{\hat{\Theta}} = - \tilde{\Theta}^\top Y(\nu)^\top z_2 +\tilde{\Theta}^\top \Gamma^{-1}_{\theta} \dot{\hat{\Theta}}

</code></pre>

<pre><code class="language-math">-z_2^\top \tilde{d} + \tilde{d}^\top \Gamma^{-1}_{d} \dot{\hat{d}} = - \tilde{d}^\top z_2+ \tilde{d}^\top \Gamma^{-1}_{d} \dot{\hat{d}}

</code></pre>

<p>We choose the (\dot{\hat{\Theta}}) and (\dot{\hat{d}}) to zero this out</p>

<pre><code class="language-math">\boxed{
\dot{\hat{\Theta}} =  \Gamma_{\theta} Y(\nu)^\top z_2
}

</code></pre>

<pre><code class="language-math">\boxed{
\dot{\hat{d}} = \Gamma_{d} z_2
}

</code></pre>
<p>Now that we have defined this we can insert and remove this from the equation, which should leave us with the normal system. An observation made during the construction of the controller was that the adaptive part and backstepping part is decoupled. Maybe this is dependent on the method used for the adaptive part, which is more of a MRAC type. Sadly, I don’t have enough information about adaptive controllers to comment on this in detail.</p>

<pre><code class="language-math">= - z_1^\top K_1 z_1 + z_2^\top J(\eta)^\top z_1 - z_2^\top M \dot{\alpha} + z_2^\top \tau_{controller} - z_2^\top C(\nu)\,\nu

</code></pre>

<pre><code class="language-math">\tau_{controller} = -K_2 z_2 + M \dot{\alpha} + C(\nu)\nu - J(\eta)^\top z_1

</code></pre>

<p>Combined this gives us the control law:</p>

<pre><code class="language-math">\boxed{
\tau = -K_2 z_2 + M \dot{\alpha} + C(\nu)\nu - J(\eta)z_1 - F(\nu, \hat{\Theta}) - \hat{d}
}

</code></pre>
<h3 id="controller-gains">Controller gains</h3>

<p>The gains (K_1) and (K_2) are crucial for ensuring the stability and performance of the controller.</p>

<p><strong>(K_1)</strong>: This gain matrix is associated with the outer loop stability, which primarily deals with the position and orientation errors ((z_1)). Proper tuning of (K_1) ensures that the position and orientation errors converge to zero, thereby stabilizing the outer loop.</p>

<pre><code class="language-math">\begin{bmatrix}
k_{1,1} &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; k_{1,2} &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; k_{1,3} &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; k_{1,4} &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; k_{1,5} &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; k_{1,6}
\end{bmatrix}

</code></pre>

<p><strong>(K_2)</strong>: This gain matrix is related to the inner loop stability, which handles the velocity errors ((z_2)). Tuning (K_2) appropriately ensures that the velocity errors are minimized, stabilizing the inner loop.</p>

<pre><code class="language-math">K_2 =
\begin{bmatrix}
k_{2,1} &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; k_{2,2} &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; k_{2,3} &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; k_{2,4} &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; k_{2,5} &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; k_{2,6}
\end{bmatrix}

</code></pre>

<p>Together, (K_1) and (K_2) work to ensure that both the position/orientation and velocity errors are driven to zero, guaranteeing the overall stability and performance of the adaptive backstepping controller.</p>

<h3 id="adaptive-parameters-and-functions">Adaptive parameters and functions</h3>

<p>Now that we have the proof for the control law, we need to look at the adaptive functions and parameters.</p>

<p>Since we wanted a damping (linear and nonlinear) (Y(\nu)) was chosen to be a 6x12 matrix with one linear and one nonlinear damping element:</p>

<pre><code class="language-math">Y(\nu) =
\begin{bmatrix}
\nu[0] &amp; \nu[0] |\nu[0]| &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; \nu[1] &amp; \nu[1] |\nu[1]| &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; \nu[2] &amp; \nu[2] |\nu[2]| &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; \nu[3] &amp; \nu[3] |\nu[3]| &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; \nu[4] &amp; \nu[4] |\nu[4]| &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; \nu[5] &amp; \nu[5] |\nu[5]|
\end{bmatrix}

</code></pre>

<p>while the (\hat{\Theta}) will be a 12x1 vector:</p>

<pre><code class="language-math">\hat{\Theta} =
\begin{bmatrix}
\alpha_1 &amp; \beta_1 &amp; \alpha_2 &amp; \beta_2 &amp; \alpha_3 &amp; \beta_3 &amp; \alpha_4 &amp; \beta_4 &amp; \alpha_5 &amp; \beta_5 &amp; \alpha_6 &amp; \beta_6
\end{bmatrix}^\top

</code></pre>

<p>The (\Gamma_{\Theta}) will therefore be a 12x12 diagonal vector with the gains for the linear and nonlinear damping.</p>

<p>The disturbance (d) will have a 6x1 vector for the disturbance and uncertainty estimates:</p>

<pre><code class="language-math">\hat{d} =
\begin{bmatrix}
d_1 &amp; d_2 &amp; d_3 &amp; d_4 &amp; d_5 &amp; d_6
\end{bmatrix}^\top

</code></pre>

<h4 id="important-information">Important information</h4>

<p>The implementation of the controller requires (\dot{\alpha}) which is not that simple to calculate, given that this requires the derivative of the (J(\eta)) matrix.</p>

<pre><code class="language-math">\dot{\alpha}
\;=\;
-\;J(\eta)^{-1}\,\dot{J}(\eta)\,J(\eta)^{-1}\bigl[- k_1\,(\eta - \eta_d)\bigr]
\;+\;
-J(\eta)^{-1} k_1\,\dot{\eta}

</code></pre>

<p>This was manually derived, and (J(\eta)) was also derived manually but here we can use a trick:</p>

<pre><code class="language-math">J(\eta) =
\begin{bmatrix}
R &amp; 0_{3x3} \\
0_{3x3} &amp; T
\end{bmatrix}

</code></pre>

<p>where:</p>
<ul>
  <li>(R) is the rotation matrix representing the orientation of the AUV.</li>
  <li>(T) is the transformation matrix for the translational components.</li>
  <li>(0_{3x3}) is a 3x3 zero matrix.</li>
</ul>

<p>The derivative of (J(\eta)) can be expressed in terms of the derivatives of (R) and (T):</p>

<pre><code class="language-math">\dot{J}(\eta) =
\begin{bmatrix}
\dot{R} &amp; 0_{3x3} \\
0_{3x3} &amp; \dot{T}
\end{bmatrix}

</code></pre>

<p>The trick is that (\dot{R}) can be written as:</p>

<pre><code class="language-math">\dot{R} = R \cdot S \cdot r

</code></pre>

<p>where:</p>
<ul>
  <li>(R) is the rotation matrix calculated from (\eta).</li>
  <li>(S) is the skew-symmetric matrix of the vector ((0, 0, 1)).</li>
  <li>(r) is the z-component of the angular speed from (\nu).</li>
</ul>

<p>For the (T) the expression needs to be manually calculated and this is not nice to look at:</p>

<pre><code class="language-math">\dot{T}(\eta, \nu) =
\begin{bmatrix}
0 &amp; \cos(\phi) \tan(\theta) \nu_x + \sin(\phi) \sec^2(\theta) \nu_y &amp; -\sin(\phi) \tan(\theta) \nu_x + \cos(\phi) \sec^2(\theta) \nu_y \\
0 &amp; -\sin(\phi) \nu_x &amp; -\cos(\phi) \nu_x \\
0 &amp; \cos(\phi) / \cos(\theta) \nu_x + \sin(\phi) \sin(\theta) / \cos^2(\theta) \nu_y &amp; -\sin(\phi) / \cos(\theta) \nu_x + \cos(\phi) \sin(\theta) / \cos^2(\theta) \nu_y
\end{bmatrix}

</code></pre>

<p>This can be calculated by the chain rule and partial differentiation on (\phi, \theta, \psi):</p>

<pre><code class="language-math">\dot{T}(\eta, \nu) = \frac{\partial T}{\partial \phi} \dot{\phi} + \frac{\partial T}{\partial \theta} \dot{\theta} + \frac{\partial T}{\partial \psi} \dot{\psi}

</code></pre>

<p>Here we could potentially use methods for estimating the derivative, but one of the benefits of this calculation is that we get good and accurate values for the rotation and translation derivatives. Instead of introducing more uncertainties as we try to remove this in the system with the adaptive part.</p>

<h2 id="launch">Launch</h2>

<p>To run the controller, use the ROS 2 launch file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch dp_adapt_backs_controller dp_adapt_backs_controller.launch.py

</code></pre></div></div>

<p>It’s important to <code class="language-plaintext highlighter-rouge">colcon build</code> and <code class="language-plaintext highlighter-rouge">source install/setup.bash</code> before launching, or else it will not be launchable.</p>

<p>This will load the parameters from the provided YAML, start the node, and begin control operation.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <em>No CHANGELOG found.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="github-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/dp_adapt_backs_controller/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="github-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#github-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#github">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#github">rclcpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/geometry_msgs#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/geometry_msgs#github">geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_msgs#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_msgs#github">nav_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2#github">tf2  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center"></td>
                        <td>vortex_msgs</td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/eigen">eigen</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="github-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="github-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>dp_adapt_backs_controller</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="github-question-list" class="panel-body" style="display: none;"></div>
      <div id="github-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/dp_adapt_backs_controller+github">here</a>.</p>
      </div>
      <div id="github-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/vortexntnu/vortex-auv.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/github/p/dp_adapt_backs_controller"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/vortexntnu/vortex-auv/tree/main/control/dp_adapt_backs_controller"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/dp_adapt_backs_controller?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/dp_adapt_backs_controller?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=dp_adapt_backs_controller&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "dp_adapt_backs_controller"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
