<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: hatchbed_common</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/hatchbed_common/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">hatchbed_common</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-primary" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-primary" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/hatchbed_common">hatchbed_common</a> <small>package from <a style="text-decoration:none" href="/r/hatchbed_common/github-hatchbed-hatchbed_common">hatchbed_common</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

hatchbed_common
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/humble/p/hatchbed_common"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/main/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="humble-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#humble-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#humble-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#humble-deps" data-toggle="tab"><span class="label label-primary">4</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#humble-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#humble-questions" data-toggle="tab"><span id="humble-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="humble-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.1.2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Utility C++ code for registering and handling updates to ROS parameters.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/hatchbed/hatchbed_common.git">https://github.com/hatchbed/hatchbed_common.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/hatchbed_common/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Common Hatchbed C++ utility code for ROS, such registering and handling updates to ros parameters.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Marc Alban</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/hatchbed/hatchbed_common/tree/main/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="hatchbed_common">hatchbed_common</h1>

<p>Common Hatchbed C++ utility code for ROS, such as registering and handling updates to ros parameters.</p>

<h2 id="param-handler">Param Handler</h2>

<p>The functionality and design are similar to <a href="https://github.com/pal-robotics/ddynamic_reconfigure">ddynamic_reconfigure</a>
and <a href="https://github.com/swri-robotics/marti_common/tree/master/swri_roscpp#dynamic-parameters">swri_roscpp</a>
in that dynamic parameters can be created and managed programatically without
needing to define a .cfg file.</p>

<p>The objectives are to:</p>
<ul>
  <li>minimize boilerplate code for defining and accessing parameters</li>
  <li>support code clarity when defining parameters</li>
  <li>provide a similar interface for both static and dynamic parameters</li>
  <li>provide a similar interface for both ros1 and ros2</li>
  <li>add minor quality of life improvements like:
    <ul>
      <li>logging parameter values at startup and on change</li>
      <li>enforcing range constraints</li>
      <li>publishing static (readonly) parameters to dynamic reconfig for easier runtime inspection</li>
    </ul>
  </li>
</ul>

<h3 id="api">API</h3>

<p>The <code class="language-plaintext highlighter-rouge">ParamHandler</code> is a convenience class for managing static and dynamic ROS 
parameters.  It will automatically send parameter config description messages
when new parameters are registered with the handler and will handle receiving
and sending parameter updates.</p>

<p>Both static and dynamic parameters are included in the config description,
but static parameters will be labeled as ‘(readonly)’ and prevent any updates
that might come in for them.</p>

<h4 id="registering-parameters">Registering Parameters</h4>

<p>When registering a new parameter the param handler will return a parameter
object which can be used to access the parameter value in a thread safe way.</p>

<p>All parameters require a name, default value, and description.</p>

<p>Optionally, a pointer to an existing variable can be passed in when registering
a parameter.  In this case that variable is used to store the parameter value, 
but access to it is not protected, so should only be used in single threaded
applications.</p>

<p>When registering a parameter it is possible to chain additional configuration
items to the parameter, such as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">.callback()</code>: provide a callback function when the parameter changes, implies <code class="language-plaintext highlighter-rouge">.dynamic()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">.dynamic()</code>: allow the parameter to by modified with dynamic reconfig</li>
  <li>
<code class="language-plaintext highlighter-rouge">.enum()</code>: specify an enumeration for integer and integer array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.max()</code>: specify a maximum value for numeric and numeric array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.min()</code>: specify a minimun value for numeric and numeric array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.step()</code>: specify a step size for numeric and numeric array (per element) parameters</li>
</ul>

<p>Once the parameter has been configured, it’s necessary to call the <code class="language-plaintext highlighter-rouge">.declare()</code> method.</p>

<h4 id="static-parameters">Static Parameters</h4>

<p>For static parameters it’s generally sufficient to just immediately store the 
value using the <code class="language-plaintext highlighter-rouge">.value()</code> method.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto node = std::make_shared&lt;rclcpp::Node&gt;("param_handler_example");
hatchbed_common::ParamHandler params(node);

// integer parameter (note this will cast the internal ros2 int64_t param to an int in the background (and check bounds))
int num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).declare().value();

// integer parameter (int64_t)
// When using the short form (non pointer overload) for int64_t, you have to specify the value as a 64 bit integer 
// (using L or LL suffix) if using literals. Otherwise the value will be interpreted as an int
int64_t num_tries_long = params.param("num_tries_long", 1L, "Number of tries").min(1).max(50).declare().value();

// string parameter
std::string frame_id = params.param("frame_id", std::string("base_link"), "TF frame").declare().value();

// bool parameter
bool debug = params.param("debug", false, "Enable debug mode").value();

// double parameter
double threshold = params.param("threshold", 0.75, "Threshold value").min(0.0).max(1.0).declare().value();

// enum parameter
int mode = params.param("mode", 0, "Operating mode").enumerate({
    {0, "Default", "Default operating mode"},
    {1, "Advanced", "Advanced operating mode"},
    {20, "Legacy", "Legacy operating mode"}}).declare().value();

</code></pre></div></div>

<h4 id="array-parameters">Array Parameters</h4>

<p>The Param Handler can also handle lists of values for parameters. ROS doesn’t support range/step constraints for numeric arrays, so the min/max/step methods are not available for the numeric arrays. If ROS adds support for array constraints this will be updated.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto node = std::make_shared&lt;rclcpp::Node&gt;("param_handler_example");
hatchbed_common::ParamHandler params(node);
// integer array parameter
std::vector&lt;int64_t&gt; num_tries_list = params.param("num_tries_list", std::vector&lt;int64_t&gt;{1, 2, 3}, "Number of tries list").min(0).max(10).declare().value();
// double array parameter
std::vector&lt;double&gt; thresholds = params.param("thresholds", std::vector&lt;double&gt;{0.75, 0.1, 0.24}, "Thresholds").min(0.0).max(1.0).declare().value();
// string array parameter
std::vector&lt;std::string&gt; topic_list = params.param("topic_list", std::vector&lt;std::string&gt;{"/topic1", "topic2", "/namespace/topic3"}, "Topic list").declare().value();
// bool array parameter
std::vector&lt;bool&gt; debug_list = params.param("debug_list", std::vector&lt;bool&gt;{true, false, true}, "Enable debug mode list").declare().value();

</code></pre></div></div>

<h4 id="dynamic-parameters">Dynamic Parameters</h4>

<p>For dynamic parameters, there are several options.</p>

<p>In a single threaded use case it’s possible to pass in a pointer to where the 
parameter should be stored:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int num_tries = 0;
params.param(&amp;num_tries, "num_tries", 1, "Number of tries").min(1).max(50).dynamic().declare();

std::vector&lt;double&gt; thresholds;
params.param(&amp;thresholds, "thresholds", std::vector&lt;double&gt;{0.85, 0.9, 0.03},
             "A list of dynamic thresholds").min(0.0).max(1.0).step(0.01).dynamic().declare().value();

while (rclcpp::ok()) {
    process.execute(num_tries, dynamic_double_params);
    rclcpp::spin_some(node);
}


</code></pre></div></div>

<p>Here the <code class="language-plaintext highlighter-rouge">num_tries</code> int and <code class="language-plaintext highlighter-rouge">dynamic_double_params</code> std::vector<double> variables will be automatically updated.</double></p>

<p>When multi-threading is involved the above method is not recommended.  Instead
the parameter object returned by the handler should be used to ensure thread-safe
data access.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).dynamic().declare();
auto thresholds = params.param("thresholds",
                               std::vector&lt;double&gt;{0.85, 0.9, 0.03},
                               "A list of dynamic thresholds").min(0.0).max(1.0).step(0.01).dynamic().declare().value();

std::thread t([&amp;](){
    while (rclcpp::ok()) {
        process.execute(num_tries.value());
    }
});

rclcpp::spin(node);
t.join();


</code></pre></div></div>

<p>The different parameter types are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::BoolParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::DoubleParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::IntParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::StringParameter</code></li>
</ul>

<p>In addition to accessing the current value, the parameter object can be used to 
publish an update to the parameter using the <code class="language-plaintext highlighter-rouge">.update()</code> method.</p>

<p>In some cases a direct callback may be desired to notify the process
that the value has changed:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>params.param("num_tries", 1, "Number of tries").min(1).max(50).callback([](int value){
    process.setNumTries(value);
}).declare();

while (rclcpp::ok()) {
    process.exectute();
    rclcpp::spin_some(node);
}

</code></pre></div></div>

<p>Finally, it’s possible to register a callback to notify the process that any of the registered 
dynamic parameters has been updated:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    params.setCallback([]() {
        // do something
    });

</code></pre></div></div>

<p>These different approaches are not mutually exclusive and can be used in concert.</p>

<h4 id="differences-between-ros1-and-ros2">Differences Between ROS1 and ROS2</h4>
<ul>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.declare()</code> must be called after configuring a parameter</li>
  <li>ros2: there is no <code class="language-plaintext highlighter-rouge">.group()</code> configuration</li>
  <li>ros2: parameters are ordered alphabetically in dynamic_reconfigure</li>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.register_verbose_logging_param()</code> helper function added to enable dynamic parameter for log-devel</li>
  <li>ros1: there is no <code class="language-plaintext highlighter-rouge">.step()</code> configuration for numeric parameters</li>
  <li>ros1: parameters are ordered in configuration order in dynamic_reconfigure</li>
</ul>

<p>## Simple Profiler</p>

<p>The <code class="language-plaintext highlighter-rouge">simple_profiler.h</code> header file provides a simple, low overhead, time profiling utility.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// enable/disable profiling.
::profile::set_enabled(true);

// start a new named scope at current level
profile_scope("new_scope");

// do work

// open a new scope layer
::profile::push();

// start a child scope
profile_scope("child_scope1");

// do work

// start a second child scope, stopping previous scope: "child_scope1".
profile_scope("child_scope2");

// do work

// close the current scope layer, stopping any open child scope
::profile::pop();

// do work

// start a new scope, stopping "new_scope".
profile_scope("new_scope2");

// do work

// close any open scopes and increment count
::profile::finalize();

// print timings
std::cout &lt;&lt; ::profile::get();
 
</code></pre></div></div>

<p>Profile scopes will stop automatically when:</p>
<ul>
  <li>going out of the scope they were executed in</li>
  <li>a new scope on the same level is opened</li>
  <li>the current scope level is closed with a <code class="language-plaintext highlighter-rouge">::profile::pop()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">::profile::finalize()</code> is called</li>
</ul>

<p>Calling <code class="language-plaintext highlighter-rouge">::profile::finalize()</code> will increment the timing count for tracking the average timings
over multiple iterations.</p>

<p>Calling <code class="language-plaintext highlighter-rouge">::profile::set_enabled(true)</code> can dynamically enabled or disable the profiling, though
even with disabled a single comparison is made in each call to check the state of this flag. Most of
this small overhead can be removed by setting the <code class="language-plaintext highlighter-rouge">-DPROFILE_DISABLED</code> compiler flag.</p>

<p>Profiling is performed in a thread_local manner, so it is thread-safe, but timings aren’t
aggregated across threads.</p>

<p>The timing profile is stream formatted like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>timing profile (ms)   elapsed     avg
=====================================
handle_points ........ 282.22  239.91
| get_transforms ....... 0.05    0.05
| transform ............ 2.33    2.24
| fit ................ 279.70  237.48
| | sample ............. 3.21    3.07
| | index .............. 3.53    3.16
| | init ............... 0.41    0.35
| | setup ............. 28.05   25.90
| |_solve ............ 205.69  168.50
|_publish .............. 0.01    0.01


</code></pre></div></div>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-hatchbed_common">Changelog for package hatchbed_common</h1>

<h2 id="012-2025-04-06">0.1.2 (2025-04-06)</h2>

<ul>
  <li>Add simple timing profiler utility.</li>
  <li>Add global callback for any changes to registered dynamic parameter.</li>
  <li>Contributors: Marc Alban</li>
</ul>

<h2 id="011-2024-11-24">0.1.1 (2024-11-24)</h2>

<ul>
  <li>Contributors: Marc Alban</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/hatchbed_common/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#humble">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#humble">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#humble">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#humble">rclcpp  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>hatchbed_common</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="humble-question-list" class="panel-body" style="display: none;"></div>
      <div id="humble-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/hatchbed_common+humble">here</a>.</p>
      </div>
      <div id="humble-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/hatchbed/hatchbed_common.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/humble/p/hatchbed_common"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/main/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/hatchbed_common">hatchbed_common</a> <small>package from <a style="text-decoration:none" href="/r/hatchbed_common/github-hatchbed-hatchbed_common">hatchbed_common</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

hatchbed_common
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/jazzy/p/hatchbed_common"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/main/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="jazzy-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#jazzy-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#jazzy-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#jazzy-deps" data-toggle="tab"><span class="label label-primary">4</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#jazzy-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#jazzy-questions" data-toggle="tab"><span id="jazzy-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="jazzy-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.1.2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Utility C++ code for registering and handling updates to ROS parameters.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/hatchbed/hatchbed_common.git">https://github.com/hatchbed/hatchbed_common.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/hatchbed_common/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Common Hatchbed C++ utility code for ROS, such registering and handling updates to ros parameters.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Marc Alban</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/hatchbed/hatchbed_common/tree/main/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="hatchbed_common">hatchbed_common</h1>

<p>Common Hatchbed C++ utility code for ROS, such as registering and handling updates to ros parameters.</p>

<h2 id="param-handler">Param Handler</h2>

<p>The functionality and design are similar to <a href="https://github.com/pal-robotics/ddynamic_reconfigure">ddynamic_reconfigure</a>
and <a href="https://github.com/swri-robotics/marti_common/tree/master/swri_roscpp#dynamic-parameters">swri_roscpp</a>
in that dynamic parameters can be created and managed programatically without
needing to define a .cfg file.</p>

<p>The objectives are to:</p>
<ul>
  <li>minimize boilerplate code for defining and accessing parameters</li>
  <li>support code clarity when defining parameters</li>
  <li>provide a similar interface for both static and dynamic parameters</li>
  <li>provide a similar interface for both ros1 and ros2</li>
  <li>add minor quality of life improvements like:
    <ul>
      <li>logging parameter values at startup and on change</li>
      <li>enforcing range constraints</li>
      <li>publishing static (readonly) parameters to dynamic reconfig for easier runtime inspection</li>
    </ul>
  </li>
</ul>

<h3 id="api">API</h3>

<p>The <code class="language-plaintext highlighter-rouge">ParamHandler</code> is a convenience class for managing static and dynamic ROS 
parameters.  It will automatically send parameter config description messages
when new parameters are registered with the handler and will handle receiving
and sending parameter updates.</p>

<p>Both static and dynamic parameters are included in the config description,
but static parameters will be labeled as ‘(readonly)’ and prevent any updates
that might come in for them.</p>

<h4 id="registering-parameters">Registering Parameters</h4>

<p>When registering a new parameter the param handler will return a parameter
object which can be used to access the parameter value in a thread safe way.</p>

<p>All parameters require a name, default value, and description.</p>

<p>Optionally, a pointer to an existing variable can be passed in when registering
a parameter.  In this case that variable is used to store the parameter value, 
but access to it is not protected, so should only be used in single threaded
applications.</p>

<p>When registering a parameter it is possible to chain additional configuration
items to the parameter, such as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">.callback()</code>: provide a callback function when the parameter changes, implies <code class="language-plaintext highlighter-rouge">.dynamic()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">.dynamic()</code>: allow the parameter to by modified with dynamic reconfig</li>
  <li>
<code class="language-plaintext highlighter-rouge">.enum()</code>: specify an enumeration for integer and integer array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.max()</code>: specify a maximum value for numeric and numeric array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.min()</code>: specify a minimun value for numeric and numeric array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.step()</code>: specify a step size for numeric and numeric array (per element) parameters</li>
</ul>

<p>Once the parameter has been configured, it’s necessary to call the <code class="language-plaintext highlighter-rouge">.declare()</code> method.</p>

<h4 id="static-parameters">Static Parameters</h4>

<p>For static parameters it’s generally sufficient to just immediately store the 
value using the <code class="language-plaintext highlighter-rouge">.value()</code> method.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto node = std::make_shared&lt;rclcpp::Node&gt;("param_handler_example");
hatchbed_common::ParamHandler params(node);

// integer parameter (note this will cast the internal ros2 int64_t param to an int in the background (and check bounds))
int num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).declare().value();

// integer parameter (int64_t)
// When using the short form (non pointer overload) for int64_t, you have to specify the value as a 64 bit integer 
// (using L or LL suffix) if using literals. Otherwise the value will be interpreted as an int
int64_t num_tries_long = params.param("num_tries_long", 1L, "Number of tries").min(1).max(50).declare().value();

// string parameter
std::string frame_id = params.param("frame_id", std::string("base_link"), "TF frame").declare().value();

// bool parameter
bool debug = params.param("debug", false, "Enable debug mode").value();

// double parameter
double threshold = params.param("threshold", 0.75, "Threshold value").min(0.0).max(1.0).declare().value();

// enum parameter
int mode = params.param("mode", 0, "Operating mode").enumerate({
    {0, "Default", "Default operating mode"},
    {1, "Advanced", "Advanced operating mode"},
    {20, "Legacy", "Legacy operating mode"}}).declare().value();

</code></pre></div></div>

<h4 id="array-parameters">Array Parameters</h4>

<p>The Param Handler can also handle lists of values for parameters. ROS doesn’t support range/step constraints for numeric arrays, so the min/max/step methods are not available for the numeric arrays. If ROS adds support for array constraints this will be updated.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto node = std::make_shared&lt;rclcpp::Node&gt;("param_handler_example");
hatchbed_common::ParamHandler params(node);
// integer array parameter
std::vector&lt;int64_t&gt; num_tries_list = params.param("num_tries_list", std::vector&lt;int64_t&gt;{1, 2, 3}, "Number of tries list").min(0).max(10).declare().value();
// double array parameter
std::vector&lt;double&gt; thresholds = params.param("thresholds", std::vector&lt;double&gt;{0.75, 0.1, 0.24}, "Thresholds").min(0.0).max(1.0).declare().value();
// string array parameter
std::vector&lt;std::string&gt; topic_list = params.param("topic_list", std::vector&lt;std::string&gt;{"/topic1", "topic2", "/namespace/topic3"}, "Topic list").declare().value();
// bool array parameter
std::vector&lt;bool&gt; debug_list = params.param("debug_list", std::vector&lt;bool&gt;{true, false, true}, "Enable debug mode list").declare().value();

</code></pre></div></div>

<h4 id="dynamic-parameters">Dynamic Parameters</h4>

<p>For dynamic parameters, there are several options.</p>

<p>In a single threaded use case it’s possible to pass in a pointer to where the 
parameter should be stored:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int num_tries = 0;
params.param(&amp;num_tries, "num_tries", 1, "Number of tries").min(1).max(50).dynamic().declare();

std::vector&lt;double&gt; thresholds;
params.param(&amp;thresholds, "thresholds", std::vector&lt;double&gt;{0.85, 0.9, 0.03},
             "A list of dynamic thresholds").min(0.0).max(1.0).step(0.01).dynamic().declare().value();

while (rclcpp::ok()) {
    process.execute(num_tries, dynamic_double_params);
    rclcpp::spin_some(node);
}


</code></pre></div></div>

<p>Here the <code class="language-plaintext highlighter-rouge">num_tries</code> int and <code class="language-plaintext highlighter-rouge">dynamic_double_params</code> std::vector<double> variables will be automatically updated.</double></p>

<p>When multi-threading is involved the above method is not recommended.  Instead
the parameter object returned by the handler should be used to ensure thread-safe
data access.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).dynamic().declare();
auto thresholds = params.param("thresholds",
                               std::vector&lt;double&gt;{0.85, 0.9, 0.03},
                               "A list of dynamic thresholds").min(0.0).max(1.0).step(0.01).dynamic().declare().value();

std::thread t([&amp;](){
    while (rclcpp::ok()) {
        process.execute(num_tries.value());
    }
});

rclcpp::spin(node);
t.join();


</code></pre></div></div>

<p>The different parameter types are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::BoolParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::DoubleParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::IntParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::StringParameter</code></li>
</ul>

<p>In addition to accessing the current value, the parameter object can be used to 
publish an update to the parameter using the <code class="language-plaintext highlighter-rouge">.update()</code> method.</p>

<p>In some cases a direct callback may be desired to notify the process
that the value has changed:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>params.param("num_tries", 1, "Number of tries").min(1).max(50).callback([](int value){
    process.setNumTries(value);
}).declare();

while (rclcpp::ok()) {
    process.exectute();
    rclcpp::spin_some(node);
}

</code></pre></div></div>

<p>Finally, it’s possible to register a callback to notify the process that any of the registered 
dynamic parameters has been updated:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    params.setCallback([]() {
        // do something
    });

</code></pre></div></div>

<p>These different approaches are not mutually exclusive and can be used in concert.</p>

<h4 id="differences-between-ros1-and-ros2">Differences Between ROS1 and ROS2</h4>
<ul>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.declare()</code> must be called after configuring a parameter</li>
  <li>ros2: there is no <code class="language-plaintext highlighter-rouge">.group()</code> configuration</li>
  <li>ros2: parameters are ordered alphabetically in dynamic_reconfigure</li>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.register_verbose_logging_param()</code> helper function added to enable dynamic parameter for log-devel</li>
  <li>ros1: there is no <code class="language-plaintext highlighter-rouge">.step()</code> configuration for numeric parameters</li>
  <li>ros1: parameters are ordered in configuration order in dynamic_reconfigure</li>
</ul>

<p>## Simple Profiler</p>

<p>The <code class="language-plaintext highlighter-rouge">simple_profiler.h</code> header file provides a simple, low overhead, time profiling utility.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// enable/disable profiling.
::profile::set_enabled(true);

// start a new named scope at current level
profile_scope("new_scope");

// do work

// open a new scope layer
::profile::push();

// start a child scope
profile_scope("child_scope1");

// do work

// start a second child scope, stopping previous scope: "child_scope1".
profile_scope("child_scope2");

// do work

// close the current scope layer, stopping any open child scope
::profile::pop();

// do work

// start a new scope, stopping "new_scope".
profile_scope("new_scope2");

// do work

// close any open scopes and increment count
::profile::finalize();

// print timings
std::cout &lt;&lt; ::profile::get();
 
</code></pre></div></div>

<p>Profile scopes will stop automatically when:</p>
<ul>
  <li>going out of the scope they were executed in</li>
  <li>a new scope on the same level is opened</li>
  <li>the current scope level is closed with a <code class="language-plaintext highlighter-rouge">::profile::pop()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">::profile::finalize()</code> is called</li>
</ul>

<p>Calling <code class="language-plaintext highlighter-rouge">::profile::finalize()</code> will increment the timing count for tracking the average timings
over multiple iterations.</p>

<p>Calling <code class="language-plaintext highlighter-rouge">::profile::set_enabled(true)</code> can dynamically enabled or disable the profiling, though
even with disabled a single comparison is made in each call to check the state of this flag. Most of
this small overhead can be removed by setting the <code class="language-plaintext highlighter-rouge">-DPROFILE_DISABLED</code> compiler flag.</p>

<p>Profiling is performed in a thread_local manner, so it is thread-safe, but timings aren’t
aggregated across threads.</p>

<p>The timing profile is stream formatted like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>timing profile (ms)   elapsed     avg
=====================================
handle_points ........ 282.22  239.91
| get_transforms ....... 0.05    0.05
| transform ............ 2.33    2.24
| fit ................ 279.70  237.48
| | sample ............. 3.21    3.07
| | index .............. 3.53    3.16
| | init ............... 0.41    0.35
| | setup ............. 28.05   25.90
| |_solve ............ 205.69  168.50
|_publish .............. 0.01    0.01


</code></pre></div></div>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-hatchbed_common">Changelog for package hatchbed_common</h1>

<h2 id="012-2025-04-06">0.1.2 (2025-04-06)</h2>

<ul>
  <li>Add simple timing profiler utility.</li>
  <li>Add global callback for any changes to registered dynamic parameter.</li>
  <li>Contributors: Marc Alban</li>
</ul>

<h2 id="011-2024-11-24">0.1.1 (2024-11-24)</h2>

<ul>
  <li>Contributors: Marc Alban</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/hatchbed_common/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#jazzy">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#jazzy">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#jazzy">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#jazzy">rclcpp  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/opensw_ros#jazzy">opensw_ros</a></td>
                      <td class="text-center">
                        
                        <a href="/p/opensw_ros#jazzy-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>hatchbed_common</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="jazzy-question-list" class="panel-body" style="display: none;"></div>
      <div id="jazzy-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/hatchbed_common+jazzy">here</a>.</p>
      </div>
      <div id="jazzy-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/hatchbed/hatchbed_common.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/jazzy/p/hatchbed_common"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/main/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/hatchbed_common">hatchbed_common</a> <small>package from <a style="text-decoration:none" href="/r/hatchbed_common/github-hatchbed-hatchbed_common">hatchbed_common</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

hatchbed_common
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/kilted/p/hatchbed_common"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/main/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="kilted-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#kilted-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#kilted-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#kilted-deps" data-toggle="tab"><span class="label label-primary">4</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#kilted-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#kilted-questions" data-toggle="tab"><span id="kilted-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="kilted-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.1.2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Utility C++ code for registering and handling updates to ROS parameters.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/hatchbed/hatchbed_common.git">https://github.com/hatchbed/hatchbed_common.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/hatchbed_common/#kilted-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#kilted-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#kilted-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Common Hatchbed C++ utility code for ROS, such registering and handling updates to ros parameters.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Marc Alban</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/hatchbed/hatchbed_common/tree/main/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="hatchbed_common">hatchbed_common</h1>

<p>Common Hatchbed C++ utility code for ROS, such as registering and handling updates to ros parameters.</p>

<h2 id="param-handler">Param Handler</h2>

<p>The functionality and design are similar to <a href="https://github.com/pal-robotics/ddynamic_reconfigure">ddynamic_reconfigure</a>
and <a href="https://github.com/swri-robotics/marti_common/tree/master/swri_roscpp#dynamic-parameters">swri_roscpp</a>
in that dynamic parameters can be created and managed programatically without
needing to define a .cfg file.</p>

<p>The objectives are to:</p>
<ul>
  <li>minimize boilerplate code for defining and accessing parameters</li>
  <li>support code clarity when defining parameters</li>
  <li>provide a similar interface for both static and dynamic parameters</li>
  <li>provide a similar interface for both ros1 and ros2</li>
  <li>add minor quality of life improvements like:
    <ul>
      <li>logging parameter values at startup and on change</li>
      <li>enforcing range constraints</li>
      <li>publishing static (readonly) parameters to dynamic reconfig for easier runtime inspection</li>
    </ul>
  </li>
</ul>

<h3 id="api">API</h3>

<p>The <code class="language-plaintext highlighter-rouge">ParamHandler</code> is a convenience class for managing static and dynamic ROS 
parameters.  It will automatically send parameter config description messages
when new parameters are registered with the handler and will handle receiving
and sending parameter updates.</p>

<p>Both static and dynamic parameters are included in the config description,
but static parameters will be labeled as ‘(readonly)’ and prevent any updates
that might come in for them.</p>

<h4 id="registering-parameters">Registering Parameters</h4>

<p>When registering a new parameter the param handler will return a parameter
object which can be used to access the parameter value in a thread safe way.</p>

<p>All parameters require a name, default value, and description.</p>

<p>Optionally, a pointer to an existing variable can be passed in when registering
a parameter.  In this case that variable is used to store the parameter value, 
but access to it is not protected, so should only be used in single threaded
applications.</p>

<p>When registering a parameter it is possible to chain additional configuration
items to the parameter, such as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">.callback()</code>: provide a callback function when the parameter changes, implies <code class="language-plaintext highlighter-rouge">.dynamic()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">.dynamic()</code>: allow the parameter to by modified with dynamic reconfig</li>
  <li>
<code class="language-plaintext highlighter-rouge">.enum()</code>: specify an enumeration for integer and integer array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.max()</code>: specify a maximum value for numeric and numeric array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.min()</code>: specify a minimun value for numeric and numeric array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.step()</code>: specify a step size for numeric and numeric array (per element) parameters</li>
</ul>

<p>Once the parameter has been configured, it’s necessary to call the <code class="language-plaintext highlighter-rouge">.declare()</code> method.</p>

<h4 id="static-parameters">Static Parameters</h4>

<p>For static parameters it’s generally sufficient to just immediately store the 
value using the <code class="language-plaintext highlighter-rouge">.value()</code> method.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto node = std::make_shared&lt;rclcpp::Node&gt;("param_handler_example");
hatchbed_common::ParamHandler params(node);

// integer parameter (note this will cast the internal ros2 int64_t param to an int in the background (and check bounds))
int num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).declare().value();

// integer parameter (int64_t)
// When using the short form (non pointer overload) for int64_t, you have to specify the value as a 64 bit integer 
// (using L or LL suffix) if using literals. Otherwise the value will be interpreted as an int
int64_t num_tries_long = params.param("num_tries_long", 1L, "Number of tries").min(1).max(50).declare().value();

// string parameter
std::string frame_id = params.param("frame_id", std::string("base_link"), "TF frame").declare().value();

// bool parameter
bool debug = params.param("debug", false, "Enable debug mode").value();

// double parameter
double threshold = params.param("threshold", 0.75, "Threshold value").min(0.0).max(1.0).declare().value();

// enum parameter
int mode = params.param("mode", 0, "Operating mode").enumerate({
    {0, "Default", "Default operating mode"},
    {1, "Advanced", "Advanced operating mode"},
    {20, "Legacy", "Legacy operating mode"}}).declare().value();

</code></pre></div></div>

<h4 id="array-parameters">Array Parameters</h4>

<p>The Param Handler can also handle lists of values for parameters. ROS doesn’t support range/step constraints for numeric arrays, so the min/max/step methods are not available for the numeric arrays. If ROS adds support for array constraints this will be updated.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto node = std::make_shared&lt;rclcpp::Node&gt;("param_handler_example");
hatchbed_common::ParamHandler params(node);
// integer array parameter
std::vector&lt;int64_t&gt; num_tries_list = params.param("num_tries_list", std::vector&lt;int64_t&gt;{1, 2, 3}, "Number of tries list").min(0).max(10).declare().value();
// double array parameter
std::vector&lt;double&gt; thresholds = params.param("thresholds", std::vector&lt;double&gt;{0.75, 0.1, 0.24}, "Thresholds").min(0.0).max(1.0).declare().value();
// string array parameter
std::vector&lt;std::string&gt; topic_list = params.param("topic_list", std::vector&lt;std::string&gt;{"/topic1", "topic2", "/namespace/topic3"}, "Topic list").declare().value();
// bool array parameter
std::vector&lt;bool&gt; debug_list = params.param("debug_list", std::vector&lt;bool&gt;{true, false, true}, "Enable debug mode list").declare().value();

</code></pre></div></div>

<h4 id="dynamic-parameters">Dynamic Parameters</h4>

<p>For dynamic parameters, there are several options.</p>

<p>In a single threaded use case it’s possible to pass in a pointer to where the 
parameter should be stored:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int num_tries = 0;
params.param(&amp;num_tries, "num_tries", 1, "Number of tries").min(1).max(50).dynamic().declare();

std::vector&lt;double&gt; thresholds;
params.param(&amp;thresholds, "thresholds", std::vector&lt;double&gt;{0.85, 0.9, 0.03},
             "A list of dynamic thresholds").min(0.0).max(1.0).step(0.01).dynamic().declare().value();

while (rclcpp::ok()) {
    process.execute(num_tries, dynamic_double_params);
    rclcpp::spin_some(node);
}


</code></pre></div></div>

<p>Here the <code class="language-plaintext highlighter-rouge">num_tries</code> int and <code class="language-plaintext highlighter-rouge">dynamic_double_params</code> std::vector<double> variables will be automatically updated.</double></p>

<p>When multi-threading is involved the above method is not recommended.  Instead
the parameter object returned by the handler should be used to ensure thread-safe
data access.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).dynamic().declare();
auto thresholds = params.param("thresholds",
                               std::vector&lt;double&gt;{0.85, 0.9, 0.03},
                               "A list of dynamic thresholds").min(0.0).max(1.0).step(0.01).dynamic().declare().value();

std::thread t([&amp;](){
    while (rclcpp::ok()) {
        process.execute(num_tries.value());
    }
});

rclcpp::spin(node);
t.join();


</code></pre></div></div>

<p>The different parameter types are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::BoolParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::DoubleParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::IntParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::StringParameter</code></li>
</ul>

<p>In addition to accessing the current value, the parameter object can be used to 
publish an update to the parameter using the <code class="language-plaintext highlighter-rouge">.update()</code> method.</p>

<p>In some cases a direct callback may be desired to notify the process
that the value has changed:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>params.param("num_tries", 1, "Number of tries").min(1).max(50).callback([](int value){
    process.setNumTries(value);
}).declare();

while (rclcpp::ok()) {
    process.exectute();
    rclcpp::spin_some(node);
}

</code></pre></div></div>

<p>Finally, it’s possible to register a callback to notify the process that any of the registered 
dynamic parameters has been updated:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    params.setCallback([]() {
        // do something
    });

</code></pre></div></div>

<p>These different approaches are not mutually exclusive and can be used in concert.</p>

<h4 id="differences-between-ros1-and-ros2">Differences Between ROS1 and ROS2</h4>
<ul>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.declare()</code> must be called after configuring a parameter</li>
  <li>ros2: there is no <code class="language-plaintext highlighter-rouge">.group()</code> configuration</li>
  <li>ros2: parameters are ordered alphabetically in dynamic_reconfigure</li>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.register_verbose_logging_param()</code> helper function added to enable dynamic parameter for log-devel</li>
  <li>ros1: there is no <code class="language-plaintext highlighter-rouge">.step()</code> configuration for numeric parameters</li>
  <li>ros1: parameters are ordered in configuration order in dynamic_reconfigure</li>
</ul>

<p>## Simple Profiler</p>

<p>The <code class="language-plaintext highlighter-rouge">simple_profiler.h</code> header file provides a simple, low overhead, time profiling utility.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// enable/disable profiling.
::profile::set_enabled(true);

// start a new named scope at current level
profile_scope("new_scope");

// do work

// open a new scope layer
::profile::push();

// start a child scope
profile_scope("child_scope1");

// do work

// start a second child scope, stopping previous scope: "child_scope1".
profile_scope("child_scope2");

// do work

// close the current scope layer, stopping any open child scope
::profile::pop();

// do work

// start a new scope, stopping "new_scope".
profile_scope("new_scope2");

// do work

// close any open scopes and increment count
::profile::finalize();

// print timings
std::cout &lt;&lt; ::profile::get();
 
</code></pre></div></div>

<p>Profile scopes will stop automatically when:</p>
<ul>
  <li>going out of the scope they were executed in</li>
  <li>a new scope on the same level is opened</li>
  <li>the current scope level is closed with a <code class="language-plaintext highlighter-rouge">::profile::pop()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">::profile::finalize()</code> is called</li>
</ul>

<p>Calling <code class="language-plaintext highlighter-rouge">::profile::finalize()</code> will increment the timing count for tracking the average timings
over multiple iterations.</p>

<p>Calling <code class="language-plaintext highlighter-rouge">::profile::set_enabled(true)</code> can dynamically enabled or disable the profiling, though
even with disabled a single comparison is made in each call to check the state of this flag. Most of
this small overhead can be removed by setting the <code class="language-plaintext highlighter-rouge">-DPROFILE_DISABLED</code> compiler flag.</p>

<p>Profiling is performed in a thread_local manner, so it is thread-safe, but timings aren’t
aggregated across threads.</p>

<p>The timing profile is stream formatted like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>timing profile (ms)   elapsed     avg
=====================================
handle_points ........ 282.22  239.91
| get_transforms ....... 0.05    0.05
| transform ............ 2.33    2.24
| fit ................ 279.70  237.48
| | sample ............. 3.21    3.07
| | index .............. 3.53    3.16
| | init ............... 0.41    0.35
| | setup ............. 28.05   25.90
| |_solve ............ 205.69  168.50
|_publish .............. 0.01    0.01


</code></pre></div></div>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-hatchbed_common">Changelog for package hatchbed_common</h1>

<h2 id="012-2025-04-06">0.1.2 (2025-04-06)</h2>

<ul>
  <li>Add simple timing profiler utility.</li>
  <li>Add global callback for any changes to registered dynamic parameter.</li>
  <li>Contributors: Marc Alban</li>
</ul>

<h2 id="011-2024-11-24">0.1.1 (2024-11-24)</h2>

<ul>
  <li>Contributors: Marc Alban</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/hatchbed_common/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#kilted">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#kilted">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#kilted">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#kilted">rclcpp  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/opensw_ros#kilted">opensw_ros</a></td>
                      <td class="text-center">
                        
                        <a href="/p/opensw_ros#kilted-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>hatchbed_common</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="kilted-question-list" class="panel-body" style="display: none;"></div>
      <div id="kilted-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/hatchbed_common+kilted">here</a>.</p>
      </div>
      <div id="kilted-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/hatchbed/hatchbed_common.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/kilted/p/hatchbed_common"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/main/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/hatchbed_common">hatchbed_common</a> <small>package from <a style="text-decoration:none" href="/r/hatchbed_common/github-hatchbed-hatchbed_common">hatchbed_common</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

hatchbed_common
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/rolling/p/hatchbed_common"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/main/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="rolling-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#rolling-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#rolling-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#rolling-deps" data-toggle="tab"><span class="label label-primary">4</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#rolling-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#rolling-questions" data-toggle="tab"><span id="rolling-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="rolling-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.1.2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Utility C++ code for registering and handling updates to ROS parameters.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/hatchbed/hatchbed_common.git">https://github.com/hatchbed/hatchbed_common.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/hatchbed_common/#rolling-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#rolling-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#rolling-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Common Hatchbed C++ utility code for ROS, such registering and handling updates to ros parameters.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Marc Alban</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/hatchbed/hatchbed_common/tree/main/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="hatchbed_common">hatchbed_common</h1>

<p>Common Hatchbed C++ utility code for ROS, such as registering and handling updates to ros parameters.</p>

<h2 id="param-handler">Param Handler</h2>

<p>The functionality and design are similar to <a href="https://github.com/pal-robotics/ddynamic_reconfigure">ddynamic_reconfigure</a>
and <a href="https://github.com/swri-robotics/marti_common/tree/master/swri_roscpp#dynamic-parameters">swri_roscpp</a>
in that dynamic parameters can be created and managed programatically without
needing to define a .cfg file.</p>

<p>The objectives are to:</p>
<ul>
  <li>minimize boilerplate code for defining and accessing parameters</li>
  <li>support code clarity when defining parameters</li>
  <li>provide a similar interface for both static and dynamic parameters</li>
  <li>provide a similar interface for both ros1 and ros2</li>
  <li>add minor quality of life improvements like:
    <ul>
      <li>logging parameter values at startup and on change</li>
      <li>enforcing range constraints</li>
      <li>publishing static (readonly) parameters to dynamic reconfig for easier runtime inspection</li>
    </ul>
  </li>
</ul>

<h3 id="api">API</h3>

<p>The <code class="language-plaintext highlighter-rouge">ParamHandler</code> is a convenience class for managing static and dynamic ROS 
parameters.  It will automatically send parameter config description messages
when new parameters are registered with the handler and will handle receiving
and sending parameter updates.</p>

<p>Both static and dynamic parameters are included in the config description,
but static parameters will be labeled as ‘(readonly)’ and prevent any updates
that might come in for them.</p>

<h4 id="registering-parameters">Registering Parameters</h4>

<p>When registering a new parameter the param handler will return a parameter
object which can be used to access the parameter value in a thread safe way.</p>

<p>All parameters require a name, default value, and description.</p>

<p>Optionally, a pointer to an existing variable can be passed in when registering
a parameter.  In this case that variable is used to store the parameter value, 
but access to it is not protected, so should only be used in single threaded
applications.</p>

<p>When registering a parameter it is possible to chain additional configuration
items to the parameter, such as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">.callback()</code>: provide a callback function when the parameter changes, implies <code class="language-plaintext highlighter-rouge">.dynamic()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">.dynamic()</code>: allow the parameter to by modified with dynamic reconfig</li>
  <li>
<code class="language-plaintext highlighter-rouge">.enum()</code>: specify an enumeration for integer and integer array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.max()</code>: specify a maximum value for numeric and numeric array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.min()</code>: specify a minimun value for numeric and numeric array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.step()</code>: specify a step size for numeric and numeric array (per element) parameters</li>
</ul>

<p>Once the parameter has been configured, it’s necessary to call the <code class="language-plaintext highlighter-rouge">.declare()</code> method.</p>

<h4 id="static-parameters">Static Parameters</h4>

<p>For static parameters it’s generally sufficient to just immediately store the 
value using the <code class="language-plaintext highlighter-rouge">.value()</code> method.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto node = std::make_shared&lt;rclcpp::Node&gt;("param_handler_example");
hatchbed_common::ParamHandler params(node);

// integer parameter (note this will cast the internal ros2 int64_t param to an int in the background (and check bounds))
int num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).declare().value();

// integer parameter (int64_t)
// When using the short form (non pointer overload) for int64_t, you have to specify the value as a 64 bit integer 
// (using L or LL suffix) if using literals. Otherwise the value will be interpreted as an int
int64_t num_tries_long = params.param("num_tries_long", 1L, "Number of tries").min(1).max(50).declare().value();

// string parameter
std::string frame_id = params.param("frame_id", std::string("base_link"), "TF frame").declare().value();

// bool parameter
bool debug = params.param("debug", false, "Enable debug mode").value();

// double parameter
double threshold = params.param("threshold", 0.75, "Threshold value").min(0.0).max(1.0).declare().value();

// enum parameter
int mode = params.param("mode", 0, "Operating mode").enumerate({
    {0, "Default", "Default operating mode"},
    {1, "Advanced", "Advanced operating mode"},
    {20, "Legacy", "Legacy operating mode"}}).declare().value();

</code></pre></div></div>

<h4 id="array-parameters">Array Parameters</h4>

<p>The Param Handler can also handle lists of values for parameters. ROS doesn’t support range/step constraints for numeric arrays, so the min/max/step methods are not available for the numeric arrays. If ROS adds support for array constraints this will be updated.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto node = std::make_shared&lt;rclcpp::Node&gt;("param_handler_example");
hatchbed_common::ParamHandler params(node);
// integer array parameter
std::vector&lt;int64_t&gt; num_tries_list = params.param("num_tries_list", std::vector&lt;int64_t&gt;{1, 2, 3}, "Number of tries list").min(0).max(10).declare().value();
// double array parameter
std::vector&lt;double&gt; thresholds = params.param("thresholds", std::vector&lt;double&gt;{0.75, 0.1, 0.24}, "Thresholds").min(0.0).max(1.0).declare().value();
// string array parameter
std::vector&lt;std::string&gt; topic_list = params.param("topic_list", std::vector&lt;std::string&gt;{"/topic1", "topic2", "/namespace/topic3"}, "Topic list").declare().value();
// bool array parameter
std::vector&lt;bool&gt; debug_list = params.param("debug_list", std::vector&lt;bool&gt;{true, false, true}, "Enable debug mode list").declare().value();

</code></pre></div></div>

<h4 id="dynamic-parameters">Dynamic Parameters</h4>

<p>For dynamic parameters, there are several options.</p>

<p>In a single threaded use case it’s possible to pass in a pointer to where the 
parameter should be stored:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int num_tries = 0;
params.param(&amp;num_tries, "num_tries", 1, "Number of tries").min(1).max(50).dynamic().declare();

std::vector&lt;double&gt; thresholds;
params.param(&amp;thresholds, "thresholds", std::vector&lt;double&gt;{0.85, 0.9, 0.03},
             "A list of dynamic thresholds").min(0.0).max(1.0).step(0.01).dynamic().declare().value();

while (rclcpp::ok()) {
    process.execute(num_tries, dynamic_double_params);
    rclcpp::spin_some(node);
}


</code></pre></div></div>

<p>Here the <code class="language-plaintext highlighter-rouge">num_tries</code> int and <code class="language-plaintext highlighter-rouge">dynamic_double_params</code> std::vector<double> variables will be automatically updated.</double></p>

<p>When multi-threading is involved the above method is not recommended.  Instead
the parameter object returned by the handler should be used to ensure thread-safe
data access.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).dynamic().declare();
auto thresholds = params.param("thresholds",
                               std::vector&lt;double&gt;{0.85, 0.9, 0.03},
                               "A list of dynamic thresholds").min(0.0).max(1.0).step(0.01).dynamic().declare().value();

std::thread t([&amp;](){
    while (rclcpp::ok()) {
        process.execute(num_tries.value());
    }
});

rclcpp::spin(node);
t.join();


</code></pre></div></div>

<p>The different parameter types are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::BoolParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::DoubleParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::IntParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::StringParameter</code></li>
</ul>

<p>In addition to accessing the current value, the parameter object can be used to 
publish an update to the parameter using the <code class="language-plaintext highlighter-rouge">.update()</code> method.</p>

<p>In some cases a direct callback may be desired to notify the process
that the value has changed:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>params.param("num_tries", 1, "Number of tries").min(1).max(50).callback([](int value){
    process.setNumTries(value);
}).declare();

while (rclcpp::ok()) {
    process.exectute();
    rclcpp::spin_some(node);
}

</code></pre></div></div>

<p>Finally, it’s possible to register a callback to notify the process that any of the registered 
dynamic parameters has been updated:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    params.setCallback([]() {
        // do something
    });

</code></pre></div></div>

<p>These different approaches are not mutually exclusive and can be used in concert.</p>

<h4 id="differences-between-ros1-and-ros2">Differences Between ROS1 and ROS2</h4>
<ul>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.declare()</code> must be called after configuring a parameter</li>
  <li>ros2: there is no <code class="language-plaintext highlighter-rouge">.group()</code> configuration</li>
  <li>ros2: parameters are ordered alphabetically in dynamic_reconfigure</li>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.register_verbose_logging_param()</code> helper function added to enable dynamic parameter for log-devel</li>
  <li>ros1: there is no <code class="language-plaintext highlighter-rouge">.step()</code> configuration for numeric parameters</li>
  <li>ros1: parameters are ordered in configuration order in dynamic_reconfigure</li>
</ul>

<p>## Simple Profiler</p>

<p>The <code class="language-plaintext highlighter-rouge">simple_profiler.h</code> header file provides a simple, low overhead, time profiling utility.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// enable/disable profiling.
::profile::set_enabled(true);

// start a new named scope at current level
profile_scope("new_scope");

// do work

// open a new scope layer
::profile::push();

// start a child scope
profile_scope("child_scope1");

// do work

// start a second child scope, stopping previous scope: "child_scope1".
profile_scope("child_scope2");

// do work

// close the current scope layer, stopping any open child scope
::profile::pop();

// do work

// start a new scope, stopping "new_scope".
profile_scope("new_scope2");

// do work

// close any open scopes and increment count
::profile::finalize();

// print timings
std::cout &lt;&lt; ::profile::get();
 
</code></pre></div></div>

<p>Profile scopes will stop automatically when:</p>
<ul>
  <li>going out of the scope they were executed in</li>
  <li>a new scope on the same level is opened</li>
  <li>the current scope level is closed with a <code class="language-plaintext highlighter-rouge">::profile::pop()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">::profile::finalize()</code> is called</li>
</ul>

<p>Calling <code class="language-plaintext highlighter-rouge">::profile::finalize()</code> will increment the timing count for tracking the average timings
over multiple iterations.</p>

<p>Calling <code class="language-plaintext highlighter-rouge">::profile::set_enabled(true)</code> can dynamically enabled or disable the profiling, though
even with disabled a single comparison is made in each call to check the state of this flag. Most of
this small overhead can be removed by setting the <code class="language-plaintext highlighter-rouge">-DPROFILE_DISABLED</code> compiler flag.</p>

<p>Profiling is performed in a thread_local manner, so it is thread-safe, but timings aren’t
aggregated across threads.</p>

<p>The timing profile is stream formatted like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>timing profile (ms)   elapsed     avg
=====================================
handle_points ........ 282.22  239.91
| get_transforms ....... 0.05    0.05
| transform ............ 2.33    2.24
| fit ................ 279.70  237.48
| | sample ............. 3.21    3.07
| | index .............. 3.53    3.16
| | init ............... 0.41    0.35
| | setup ............. 28.05   25.90
| |_solve ............ 205.69  168.50
|_publish .............. 0.01    0.01


</code></pre></div></div>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-hatchbed_common">Changelog for package hatchbed_common</h1>

<h2 id="012-2025-04-06">0.1.2 (2025-04-06)</h2>

<ul>
  <li>Add simple timing profiler utility.</li>
  <li>Add global callback for any changes to registered dynamic parameter.</li>
  <li>Contributors: Marc Alban</li>
</ul>

<h2 id="011-2024-11-24">0.1.1 (2024-11-24)</h2>

<ul>
  <li>Contributors: Marc Alban</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/hatchbed_common/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#rolling">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#rolling">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#rolling">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#rolling">rclcpp  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/opensw_ros#rolling">opensw_ros</a></td>
                      <td class="text-center">
                        
                        <a href="/p/opensw_ros#rolling-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>hatchbed_common</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="rolling-question-list" class="panel-body" style="display: none;"></div>
      <div id="rolling-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/hatchbed_common+rolling">here</a>.</p>
      </div>
      <div id="rolling-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/hatchbed/hatchbed_common.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/rolling/p/hatchbed_common"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/main/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/hatchbed_common">hatchbed_common</a> <small>package from <a style="text-decoration:none" href="/r/hatchbed_common/github-hatchbed-hatchbed_common">hatchbed_common</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

hatchbed_common
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/hatchbed_common/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/ros1/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/hatchbed_common?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="noetic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#noetic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#noetic-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#noetic-deps" data-toggle="tab"><span class="label label-primary">3</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#noetic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#noetic-questions" data-toggle="tab"><span id="noetic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="noetic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.0.2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Utility C++ code for registering and handling updates to ROS parameters.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/hatchbed/hatchbed_common.git">https://github.com/hatchbed/hatchbed_common.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros1</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2024-11-24
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <a href="https://build.ros.org/view/Ndev/job/Ndev__hatchbed_common__ubuntu_focal_amd64" class="label ci-result-success" title="Latest build information: Thu, 28 Nov 2024 11:54:30 GMT
No test statistics available for this package.">
                        <span class="glyphicon glyphicon-check"></span>
                        Continuous Integration
                        
                      </a>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/hatchbed_common/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Common Hatchbed C++ utility code for ROS, such registering and handling updates to ros parameters.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Marc Alban</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/hatchbed/hatchbed_common/tree/ros1/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="hatchbed_common">hatchbed_common</h1>

<p>Common Hatchbed C++ utility code for ROS, such registering and handling updates to ros parameters.</p>

<h2 id="param-handler">Param Handler</h2>

<p>The functionality and design are similar to <a href="https://github.com/pal-robotics/ddynamic_reconfigure">ddynamic_reconfigure</a>
and <a href="https://github.com/swri-robotics/marti_common/tree/master/swri_roscpp#dynamic-parameters">swri_roscpp</a>
in that dynamic parameters can be created and managed programatically without
needing to define a .cfg file.</p>

<p>The objectives are to:</p>
<ul>
  <li>minimize boilerplate code for defining and accessing parameters</li>
  <li>support code clarity when defining parameters</li>
  <li>provide a similar interface for both static and dynamic parameters</li>
  <li>provide a similar interface for both ros1 and ros2</li>
  <li>add minor quality of life improvements like:
    <ul>
      <li>logging parameter values at startup and on change</li>
      <li>enforcing range constraints</li>
      <li>publishing static (readonly) parameters to dynamic reconfig for easier runtime inspection</li>
    </ul>
  </li>
</ul>

<h3 id="api">API</h3>

<p>The <code class="language-plaintext highlighter-rouge">ParamHandler</code> is a convenience class for managing static and dynamic ROS 
parameters.  It will automatically send parameter config description messages
when new parameters are registered with the handler and will handle receiving
and sending parameter updates.</p>

<p>Both static and dynamic parameters are included in the config description,
but static parameters will be labeled as ‘(readonly)’ and prevent any updates
that might come in for them.</p>

<h4 id="registering-parameters">Registering Parameters</h4>

<p>When registering a new parameter the param handler will return a parameter
object which can be used to access the parameter value in a thread safe way.</p>

<p>All parameters require a name, default value, and description.</p>

<p>Optionally, a pointer to an existing variable can be passed in when registering
a parameter.  In this case that variable is used to store the parameter value, 
but access to it is not protected, so should only be used in single threaded
applications.</p>

<p>When registering a parameter it is possible to chain additional configuration
items to the parameter, such as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">.callback()</code>: provide a callback function when the parameter changes, implies <code class="language-plaintext highlighter-rouge">.dynamic()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">.dynamic()</code>: allow the parameter to by modified with dynamic reconfig</li>
  <li>
<code class="language-plaintext highlighter-rouge">.enum()</code>: specify an enumeration for integer parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.group()</code>: place the parameter in a sub-group</li>
  <li>
<code class="language-plaintext highlighter-rouge">.max()</code>: specify a maximum value for numeric parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.min()</code>: specify a minimun value for numeric parameters</li>
</ul>

<h4 id="static-parameters">Static Parameters</h4>

<p>For static parameters it’s generally sufficient to just immediately store the 
value using the <code class="language-plaintext highlighter-rouge">.value()</code> method.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hatchbed_common::ParamHandler params(ros::NodeHandle("~"));

// integer parameter
int num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).value();

// string parameter
std::string frame_id = params.param("frame_id", std::string("base_link"), "TF frame").value();

// bool parameter
bool debug = params.param("debug", false, "Enable debug mode").value();

// double parameter
double threshold = params.param("threshold", 0.75, "Threshold value").min(0.0).max(1.0).value();

// enum parameter
int mode = params.param("mode", 0, "Operating mode").enumerate({
    {0, "Default", "Default operating mode"},
    {1, "Advanced", "Advanced operating mode"},
    {20, "Legacy", "Legacy operating mode"}}).value();

</code></pre></div></div>

<h4 id="dynamic-parameters">Dynamic Parameters</h4>

<p>For dynamic parameters, there are several options.</p>

<p>In a single threaded use case it’s possible to pass in a pointer to where the 
parameter should be stored:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int num_tries = 0;
params.param(&amp;num_tries, "num_tries", 1, "Number of tries").min(1).max(50).dynamic();

while (ros::ok()) {
    process.execute(num_tries);
    ros::spinOnce();
}


</code></pre></div></div>

<p>Here the <code class="language-plaintext highlighter-rouge">num_tries</code> int variable will be automatically updated.</p>

<p>When multi-threading is involved the above method is not recommended.  Instead
the parameter object returned by the handler should be used to ensure thread-safe
data access.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).dynamic();

std::thread t([&amp;](){
    while (ros::ok()) {
        process.execute(num_tries.value());
    }
});

ros::spin();
t.join();


</code></pre></div></div>

<p>The different parameter types are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::BoolParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::DoubleParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::IntParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::StringParameter</code></li>
</ul>

<p>In addition to accessing the current value, the parameter object can be used to 
publish an update to the parameter using the <code class="language-plaintext highlighter-rouge">.update()</code> method.</p>

<p>Finally, in some cases a direct callback may be desired to notify the process
that the value has changed:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>params.param("num_tries", 1, "Number of tries").min(1).max(50).callback([](int value){
    process.setNumTries(value);
});

while (ros::ok()) {
    process.exectute();
    ros::spinOnce();
}

</code></pre></div></div>

<p>These different approaches are not mutually exclusive and can be used in concert.</p>

<h4 id="differences-between-ros1-and-ros2">Differences Between ROS1 and ROS2</h4>
<ul>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.declare()</code> must be called after configuring a parameter</li>
  <li>ros2: there is no <code class="language-plaintext highlighter-rouge">.group()</code> configuration</li>
  <li>ros2: parameters are ordered alphabetically in dynamic_reconfigure</li>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.register_verbose_logging_param()</code> helper function added to enable dynamic parameter for log-devel</li>
  <li>ros1: there is no <code class="language-plaintext highlighter-rouge">.step()</code> configuration for numeric parameters</li>
  <li>ros1: parameters are ordered in configuration order in dynamic_reconfigure</li>
</ul>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-hatchbed_common">Changelog for package hatchbed_common</h1>

<h2 id="002-2024-11-24">0.0.2 (2024-11-24)</h2>

<ul>
  <li>Contributors: Marc Alban</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/hatchbed_common/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#noetic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#noetic">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/dynamic_reconfigure#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/dynamic_reconfigure#noetic">dynamic_reconfigure  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roscpp#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roscpp#noetic">roscpp  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>hatchbed_common</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="noetic-question-list" class="panel-body" style="display: none;"></div>
      <div id="noetic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/hatchbed_common+noetic">here</a>.</p>
      </div>
      <div id="noetic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/hatchbed/hatchbed_common.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/hatchbed_common/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/ros1/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/hatchbed_common?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/hatchbed_common">hatchbed_common</a> <small>package from <a style="text-decoration:none" href="/r/hatchbed_common/github-hatchbed-hatchbed_common">hatchbed_common</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

hatchbed_common
</span>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/iron/p/hatchbed_common"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/main/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="iron-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#iron-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#iron-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#iron-deps" data-toggle="tab"><span class="label label-primary">4</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#iron-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#iron-questions" data-toggle="tab"><span id="iron-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="iron-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.1.2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Utility C++ code for registering and handling updates to ROS parameters.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/hatchbed/hatchbed_common.git">https://github.com/hatchbed/hatchbed_common.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">main</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-05
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/hatchbed_common/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/hatchbed_common/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Common Hatchbed C++ utility code for ROS, such registering and handling updates to ros parameters.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Marc Alban</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/hatchbed/hatchbed_common/tree/main/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="hatchbed_common">hatchbed_common</h1>

<p>Common Hatchbed C++ utility code for ROS, such as registering and handling updates to ros parameters.</p>

<h2 id="param-handler">Param Handler</h2>

<p>The functionality and design are similar to <a href="https://github.com/pal-robotics/ddynamic_reconfigure">ddynamic_reconfigure</a>
and <a href="https://github.com/swri-robotics/marti_common/tree/master/swri_roscpp#dynamic-parameters">swri_roscpp</a>
in that dynamic parameters can be created and managed programatically without
needing to define a .cfg file.</p>

<p>The objectives are to:</p>
<ul>
  <li>minimize boilerplate code for defining and accessing parameters</li>
  <li>support code clarity when defining parameters</li>
  <li>provide a similar interface for both static and dynamic parameters</li>
  <li>provide a similar interface for both ros1 and ros2</li>
  <li>add minor quality of life improvements like:
    <ul>
      <li>logging parameter values at startup and on change</li>
      <li>enforcing range constraints</li>
      <li>publishing static (readonly) parameters to dynamic reconfig for easier runtime inspection</li>
    </ul>
  </li>
</ul>

<h3 id="api">API</h3>

<p>The <code class="language-plaintext highlighter-rouge">ParamHandler</code> is a convenience class for managing static and dynamic ROS 
parameters.  It will automatically send parameter config description messages
when new parameters are registered with the handler and will handle receiving
and sending parameter updates.</p>

<p>Both static and dynamic parameters are included in the config description,
but static parameters will be labeled as ‘(readonly)’ and prevent any updates
that might come in for them.</p>

<h4 id="registering-parameters">Registering Parameters</h4>

<p>When registering a new parameter the param handler will return a parameter
object which can be used to access the parameter value in a thread safe way.</p>

<p>All parameters require a name, default value, and description.</p>

<p>Optionally, a pointer to an existing variable can be passed in when registering
a parameter.  In this case that variable is used to store the parameter value, 
but access to it is not protected, so should only be used in single threaded
applications.</p>

<p>When registering a parameter it is possible to chain additional configuration
items to the parameter, such as:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">.callback()</code>: provide a callback function when the parameter changes, implies <code class="language-plaintext highlighter-rouge">.dynamic()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">.dynamic()</code>: allow the parameter to by modified with dynamic reconfig</li>
  <li>
<code class="language-plaintext highlighter-rouge">.enum()</code>: specify an enumeration for integer and integer array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.max()</code>: specify a maximum value for numeric and numeric array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.min()</code>: specify a minimun value for numeric and numeric array (per element) parameters</li>
  <li>
<code class="language-plaintext highlighter-rouge">.step()</code>: specify a step size for numeric and numeric array (per element) parameters</li>
</ul>

<p>Once the parameter has been configured, it’s necessary to call the <code class="language-plaintext highlighter-rouge">.declare()</code> method.</p>

<h4 id="static-parameters">Static Parameters</h4>

<p>For static parameters it’s generally sufficient to just immediately store the 
value using the <code class="language-plaintext highlighter-rouge">.value()</code> method.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto node = std::make_shared&lt;rclcpp::Node&gt;("param_handler_example");
hatchbed_common::ParamHandler params(node);

// integer parameter (note this will cast the internal ros2 int64_t param to an int in the background (and check bounds))
int num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).declare().value();

// integer parameter (int64_t)
// When using the short form (non pointer overload) for int64_t, you have to specify the value as a 64 bit integer 
// (using L or LL suffix) if using literals. Otherwise the value will be interpreted as an int
int64_t num_tries_long = params.param("num_tries_long", 1L, "Number of tries").min(1).max(50).declare().value();

// string parameter
std::string frame_id = params.param("frame_id", std::string("base_link"), "TF frame").declare().value();

// bool parameter
bool debug = params.param("debug", false, "Enable debug mode").value();

// double parameter
double threshold = params.param("threshold", 0.75, "Threshold value").min(0.0).max(1.0).declare().value();

// enum parameter
int mode = params.param("mode", 0, "Operating mode").enumerate({
    {0, "Default", "Default operating mode"},
    {1, "Advanced", "Advanced operating mode"},
    {20, "Legacy", "Legacy operating mode"}}).declare().value();

</code></pre></div></div>

<h4 id="array-parameters">Array Parameters</h4>

<p>The Param Handler can also handle lists of values for parameters. ROS doesn’t support range/step constraints for numeric arrays, so the min/max/step methods are not available for the numeric arrays. If ROS adds support for array constraints this will be updated.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto node = std::make_shared&lt;rclcpp::Node&gt;("param_handler_example");
hatchbed_common::ParamHandler params(node);
// integer array parameter
std::vector&lt;int64_t&gt; num_tries_list = params.param("num_tries_list", std::vector&lt;int64_t&gt;{1, 2, 3}, "Number of tries list").min(0).max(10).declare().value();
// double array parameter
std::vector&lt;double&gt; thresholds = params.param("thresholds", std::vector&lt;double&gt;{0.75, 0.1, 0.24}, "Thresholds").min(0.0).max(1.0).declare().value();
// string array parameter
std::vector&lt;std::string&gt; topic_list = params.param("topic_list", std::vector&lt;std::string&gt;{"/topic1", "topic2", "/namespace/topic3"}, "Topic list").declare().value();
// bool array parameter
std::vector&lt;bool&gt; debug_list = params.param("debug_list", std::vector&lt;bool&gt;{true, false, true}, "Enable debug mode list").declare().value();

</code></pre></div></div>

<h4 id="dynamic-parameters">Dynamic Parameters</h4>

<p>For dynamic parameters, there are several options.</p>

<p>In a single threaded use case it’s possible to pass in a pointer to where the 
parameter should be stored:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int num_tries = 0;
params.param(&amp;num_tries, "num_tries", 1, "Number of tries").min(1).max(50).dynamic().declare();

std::vector&lt;double&gt; thresholds;
params.param(&amp;thresholds, "thresholds", std::vector&lt;double&gt;{0.85, 0.9, 0.03},
             "A list of dynamic thresholds").min(0.0).max(1.0).step(0.01).dynamic().declare().value();

while (rclcpp::ok()) {
    process.execute(num_tries, dynamic_double_params);
    rclcpp::spin_some(node);
}


</code></pre></div></div>

<p>Here the <code class="language-plaintext highlighter-rouge">num_tries</code> int and <code class="language-plaintext highlighter-rouge">dynamic_double_params</code> std::vector<double> variables will be automatically updated.</double></p>

<p>When multi-threading is involved the above method is not recommended.  Instead
the parameter object returned by the handler should be used to ensure thread-safe
data access.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>auto num_tries = params.param("num_tries", 1, "Number of tries").min(1).max(50).dynamic().declare();
auto thresholds = params.param("thresholds",
                               std::vector&lt;double&gt;{0.85, 0.9, 0.03},
                               "A list of dynamic thresholds").min(0.0).max(1.0).step(0.01).dynamic().declare().value();

std::thread t([&amp;](){
    while (rclcpp::ok()) {
        process.execute(num_tries.value());
    }
});

rclcpp::spin(node);
t.join();


</code></pre></div></div>

<p>The different parameter types are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::BoolParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::DoubleParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::IntParameter</code></li>
  <li><code class="language-plaintext highlighter-rouge">hatchbed_common::StringParameter</code></li>
</ul>

<p>In addition to accessing the current value, the parameter object can be used to 
publish an update to the parameter using the <code class="language-plaintext highlighter-rouge">.update()</code> method.</p>

<p>In some cases a direct callback may be desired to notify the process
that the value has changed:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>params.param("num_tries", 1, "Number of tries").min(1).max(50).callback([](int value){
    process.setNumTries(value);
}).declare();

while (rclcpp::ok()) {
    process.exectute();
    rclcpp::spin_some(node);
}

</code></pre></div></div>

<p>Finally, it’s possible to register a callback to notify the process that any of the registered 
dynamic parameters has been updated:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    params.setCallback([]() {
        // do something
    });

</code></pre></div></div>

<p>These different approaches are not mutually exclusive and can be used in concert.</p>

<h4 id="differences-between-ros1-and-ros2">Differences Between ROS1 and ROS2</h4>
<ul>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.declare()</code> must be called after configuring a parameter</li>
  <li>ros2: there is no <code class="language-plaintext highlighter-rouge">.group()</code> configuration</li>
  <li>ros2: parameters are ordered alphabetically in dynamic_reconfigure</li>
  <li>ros2: <code class="language-plaintext highlighter-rouge">.register_verbose_logging_param()</code> helper function added to enable dynamic parameter for log-devel</li>
  <li>ros1: there is no <code class="language-plaintext highlighter-rouge">.step()</code> configuration for numeric parameters</li>
  <li>ros1: parameters are ordered in configuration order in dynamic_reconfigure</li>
</ul>

<p>## Simple Profiler</p>

<p>The <code class="language-plaintext highlighter-rouge">simple_profiler.h</code> header file provides a simple, low overhead, time profiling utility.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// enable/disable profiling.
::profile::set_enabled(true);

// start a new named scope at current level
profile_scope("new_scope");

// do work

// open a new scope layer
::profile::push();

// start a child scope
profile_scope("child_scope1");

// do work

// start a second child scope, stopping previous scope: "child_scope1".
profile_scope("child_scope2");

// do work

// close the current scope layer, stopping any open child scope
::profile::pop();

// do work

// start a new scope, stopping "new_scope".
profile_scope("new_scope2");

// do work

// close any open scopes and increment count
::profile::finalize();

// print timings
std::cout &lt;&lt; ::profile::get();
 
</code></pre></div></div>

<p>Profile scopes will stop automatically when:</p>
<ul>
  <li>going out of the scope they were executed in</li>
  <li>a new scope on the same level is opened</li>
  <li>the current scope level is closed with a <code class="language-plaintext highlighter-rouge">::profile::pop()</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">::profile::finalize()</code> is called</li>
</ul>

<p>Calling <code class="language-plaintext highlighter-rouge">::profile::finalize()</code> will increment the timing count for tracking the average timings
over multiple iterations.</p>

<p>Calling <code class="language-plaintext highlighter-rouge">::profile::set_enabled(true)</code> can dynamically enabled or disable the profiling, though
even with disabled a single comparison is made in each call to check the state of this flag. Most of
this small overhead can be removed by setting the <code class="language-plaintext highlighter-rouge">-DPROFILE_DISABLED</code> compiler flag.</p>

<p>Profiling is performed in a thread_local manner, so it is thread-safe, but timings aren’t
aggregated across threads.</p>

<p>The timing profile is stream formatted like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>timing profile (ms)   elapsed     avg
=====================================
handle_points ........ 282.22  239.91
| get_transforms ....... 0.05    0.05
| transform ............ 2.33    2.24
| fit ................ 279.70  237.48
| | sample ............. 3.21    3.07
| | index .............. 3.53    3.16
| | init ............... 0.41    0.35
| | setup ............. 28.05   25.90
| |_solve ............ 205.69  168.50
|_publish .............. 0.01    0.01


</code></pre></div></div>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-hatchbed_common">Changelog for package hatchbed_common</h1>

<h2 id="012-2025-04-06">0.1.2 (2025-04-06)</h2>

<ul>
  <li>Add simple timing profiler utility.</li>
  <li>Add global callback for any changes to registered dynamic parameter.</li>
  <li>Contributors: Marc Alban</li>
</ul>

<h2 id="011-2024-11-24">0.1.1 (2024-11-24)</h2>

<ul>
  <li>Contributors: Marc Alban</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/hatchbed_common/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#iron">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#iron">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_common#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_common#iron">ament_lint_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#iron">rclcpp  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/opensw_ros#iron">opensw_ros</a></td>
                      <td class="text-center">
                        
                        <a href="/p/opensw_ros#iron-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>hatchbed_common</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="iron-question-list" class="panel-body" style="display: none;"></div>
      <div id="iron-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/hatchbed_common+iron">here</a>.</p>
      </div>
      <div id="iron-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/hatchbed/hatchbed_common.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/iron/p/hatchbed_common"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/hatchbed/hatchbed_common/tree/main/."
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/hatchbed_common?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/hatchbed_common?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=hatchbed_common&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "hatchbed_common"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
