<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: dlux_global_planner</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/dlux_global_planner/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">dlux_global_planner</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class=" older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/dlux_global_planner">dlux_global_planner</a> <small>package from <a style="text-decoration:none" href="/r/robot_navigation/github-locusrobotics-robot_navigation">robot_navigation</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/costmap_queue">

costmap_queue
</a>
            
          
            
            
              <span class="label label-default pkg-label">

dlux_global_planner
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dlux_plugins">

dlux_plugins
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dwb_critics">

dwb_critics
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dwb_local_planner">

dwb_local_planner
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dwb_msgs">

dwb_msgs
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dwb_plugins">

dwb_plugins
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/global_planner_tests">

global_planner_tests
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/locomotor">

locomotor
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/locomotor_msgs">

locomotor_msgs
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/locomove_base">

locomove_base
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_2d_msgs">

nav_2d_msgs
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_2d_utils">

nav_2d_utils
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_core2">

nav_core2
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_core_adapter">

nav_core_adapter
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_grid">

nav_grid
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_grid_iterators">

nav_grid_iterators
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_grid_pub_sub">

nav_grid_pub_sub
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_grid_server">

nav_grid_server
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/color_util">

color_util
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/robot_nav_rviz_plugins">

robot_nav_rviz_plugins
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/robot_nav_tools">

robot_nav_tools
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/robot_nav_viz_demos">

robot_nav_viz_demos
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/rqt_dwb_plugin">

rqt_dwb_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/robot_navigation">

robot_navigation
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/dlux_global_planner/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/locusrobotics/robot_navigation/tree/noetic/dlux_global_planner"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/dlux_global_planner?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="noetic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#noetic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#noetic-assets" data-toggle="tab"><span class="label label-primary">1</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#noetic-deps" data-toggle="tab"><span class="label label-primary">14</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#noetic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#noetic-questions" data-toggle="tab"><span id="noetic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="noetic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.3.0</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Spiritual successor to ros-planning/navigation.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/locusrobotics/robot_navigation.git">https://github.com/locusrobotics/robot_navigation.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">noetic</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2022-06-27
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <div class="dropdown">
                        <button type="button" data-toggle="dropdown" class="btn label label-primary dropdown-toggle ci-result-success" title="Latest build information: Mon, 27 Jun 2022 14:59:33 GMT
  Total tests: 155
  Succeeded: 155
  Skipped: 0
  Failed: 0
Click to show more build history.">
                          <span class="glyphicon glyphicon-check"></span>
                          Continuous Integration
                          
                            : 155 / 155
                          
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                          <li class="dropdown-header">Latest build history: Mon, 27 Jun 2022 14:59:33 GMT (last 4 of 24 builds)</li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Ndev__robot_navigation__ubuntu_focal_amd64/25/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#25</strong></span>
                                <span>27-Jun-2022 14:10</span>
                                <span>155 / 155</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Ndev__robot_navigation__ubuntu_focal_amd64/23/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#23</strong></span>
                                <span>09-Jun-2022 21:10</span>
                                <span>155 / 155</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Ndev__robot_navigation__ubuntu_focal_amd64/22/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#22</strong></span>
                                <span>22-Apr-2022 15:10</span>
                                <span>155 / 155</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Ndev__robot_navigation__ubuntu_focal_amd64/21/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#21</strong></span>
                                <span>22-Apr-2022 14:10</span>
                                <span>155 / 155</span>
                              </a>
                            </li>
                          
                        </ul>
                      </div>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/robot_navigation/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/robot_navigation/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/robot_navigation/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            
    Plugin based global planner implementing the nav_core2::GlobalPlanner interface.
  
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>David V. Lu!!</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/locusrobotics/robot_navigation/tree/noetic/dlux_global_planner/README.md" title="Open in git repository">dlux_global_planner/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="dlux_global_planner">dlux_global_planner</h1>

<p>This package implements a plugin-based global wavefront planner that conforms to the <code class="language-plaintext highlighter-rouge">nav_core2</code> interface. The two
major components that you can plug-in are</p>
<ol>
  <li>
<code class="language-plaintext highlighter-rouge">PotentialCalculator</code> - A function that calculates a numerical score (which we call potential) for some subset
of the cells in the costmap. The potential should be zero at the goal and grow higher from there.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Traceback</code> - A function that uses the potential to trace a path from the start position back to the goal position.</li>
</ol>

<p>These are loaded via <code class="language-plaintext highlighter-rouge">pluginlib</code> to allow for maximal customizability. This package contains the wrapper code, whereas
the <code class="language-plaintext highlighter-rouge">dlux_plugins</code> package provides a handful of implementations of the plugins.</p>

<h2 id="history">History</h2>
<p>This package is a refactoring for <code class="language-plaintext highlighter-rouge">nav_core2</code> of the <a href="http://wiki.ros.org/global_planner"><code class="language-plaintext highlighter-rouge">global_planner</code></a> package
which in turn was a refactoring of the <a href="http://wiki.ros.org/navfn"><code class="language-plaintext highlighter-rouge">navfn</code></a> package. Much of the core implementation
is based on design decisions of the authors of <code class="language-plaintext highlighter-rouge">navfn</code>, for better or for worse.</p>

<h2 id="weighing-the-costmap">Weighing the Costmap</h2>
<p>There is a <a href="http://wustl.probablydavid.com/entry179.html">fundamental tradeoff</a> in planning between the length of the
path and the costs contained within the costmap. This requires two variables.</p>
<ul>
  <li>The first is the neutral cost which is a penalty for moving from one cell to an adjacent cell
(a.k.a. the cost for moving a distance equivalent to the grid resolution)</li>
  <li>The second is the cost within the cell itself, which may be scaled up or down.
Changing how these costs are used will result in possibly different paths. For example, low neutral costs will result
in longer paths that avoid high costs. Higher neutral costs will sometimes result in paths that go through high costs
if the path is much shorter.</li>
</ul>

<p>The other key consideration in interpreting the costmap is whether to allow the planner to venture into cells marked
as unknown in the costmap. There are three interpretations possible here.</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">LETHAL</code> - Unknown cells are treated as lethal obstacles and cannot be passed through.</li>
  <li>
<code class="language-plaintext highlighter-rouge">EXPENSIVE</code> - Unknown cells are valid, but assigned a high cost.</li>
  <li>
<code class="language-plaintext highlighter-rouge">FREE</code> - Unknown cells are valid and given the same weight as free cells.</li>
</ul>

<p>For convenience, the interpretation of all these costs is contained within the <code class="language-plaintext highlighter-rouge">CostInterpreter</code> class.</p>

<h2 id="potential-calculation">Potential Calculation</h2>
<p>As mentioned above, the <code class="language-plaintext highlighter-rouge">PotentialCalculator</code> calculates a numerical score called potential for the cells in the costmap.
This is stored in the <code class="language-plaintext highlighter-rouge">PotentialGrid</code> which is defined as a <code class="language-plaintext highlighter-rouge">nav_grid</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>using PotentialGrid = nav_grid::VectorNavGrid&lt;float&gt;;

</code></pre></div></div>

<p>The interface that must be implemented consists of up to two methods.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>virtual void initialize(ros::NodeHandle&amp; private_nh, nav_core2::Costmap::Ptr costmap,
                        CostInterpreter::Ptr cost_interpreter);
virtual void updatePotentials(PotentialGrid&amp; potential_grid,
                              const geometry_msgs::Pose2D&amp; start, const geometry_msgs::Pose2D&amp; goal);

</code></pre></div></div>
<p>The first provides access to the <code class="language-plaintext highlighter-rouge">Costmap</code>/<code class="language-plaintext highlighter-rouge">CostInterpreter</code>. The second is where potentials are actually calculated.
How the potentials are calculated is left to the plugin-writer, but in general, the potential should be zero at the goal
and grow higher from there.</p>

<h2 id="traceback">Traceback.</h2>
<p>The <code class="language-plaintext highlighter-rouge">Traceback</code> uses the calculated potential to create a path from the start position back to the goal position.
The interface to be implemented has two methods.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>virtual void initialize(ros::NodeHandle&amp; private_nh, CostInterpreter::Ptr cost_interpreter);
virtual nav_2d_msgs::Path2D getPath(const PotentialGrid&amp; potential_grid,
                                    const geometry_msgs::Pose2D&amp; start, const geometry_msgs::Pose2D&amp; goal,
                                    double&amp; path_cost);

</code></pre></div></div>
<p>The main thing to note is that the <code class="language-plaintext highlighter-rouge">getPath</code> method returns a <code class="language-plaintext highlighter-rouge">Path2D</code> and also calculates a <code class="language-plaintext highlighter-rouge">path_cost</code>, which is
used when performing path caching.</p>

<h2 id="path-caching">Path Caching</h2>
<p>Sometimes you don’t want the global path to change if it doesn’t have to. This global planner can cache its most
recently returned plan (assuming the goal stays the same). Whether the old plan or new plan gets returned depends on a
number of different factors.</p>
<ul>
  <li>If the old plan becomes invalid (navigates through an obstacle), the new plan should be used.</li>
  <li>The relative <code class="language-plaintext highlighter-rouge">path_cost</code> of each of the plans. Generally, if the old plan is still valid, you should never get
a new plan with a higher cost, but its possible depending on the exact plugin configuration.</li>
</ul>

<p>There are four different configurations with regard to path caching, and when to use the cached path.</p>

<ol>
  <li>Don’t ever use the cached path. This is the standard <code class="language-plaintext highlighter-rouge">nav_core</code> behavior and is enabled with <code class="language-plaintext highlighter-rouge">path_caching=false</code>.</li>
  <li>Always use the cached plan if it is valid. It doesn’t matter how much the new plan might improve the path, stay with
the old path if it is valid. <code class="language-plaintext highlighter-rouge">path_caching=true</code> and <code class="language-plaintext highlighter-rouge">improvement_threshold&lt;0</code>
</li>
  <li>Use the new plan if it is better than the cached plan. This will definitely rerun the planning algorithm each
iteration, and use the new plan if its score according to the traceback is better at all than the old plan.
<code class="language-plaintext highlighter-rouge">path_caching=true</code> and <code class="language-plaintext highlighter-rouge">improvement_threshold=0</code>. This is very close to configuration #1 but doesn’t use new plans
if their path cost is equal to or greater than the cached path cost.</li>
  <li>Use the new plan if it is significantly better. Require the improvement to be greater than <code class="language-plaintext highlighter-rouge">improvement_threshold</code>
to ensure plans that are minorly better aren’t used. <code class="language-plaintext highlighter-rouge">path_caching=true</code> and <code class="language-plaintext highlighter-rouge">improvement_threshold&gt;=0</code>
</li>
</ol>

<h2 id="base-parameters">Base Parameters</h2>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">potential_calculator</code> - default: <code class="language-plaintext highlighter-rouge">dlux_plugins::AStar</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">traceback</code> - default: <code class="language-plaintext highlighter-rouge">dlux_plugins::GradientPath</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">publish_potential</code> - default: false - Whether to publish the calculated potentials as an OccupancyGrid</li>
  <li>
<code class="language-plaintext highlighter-rouge">print_statistics</code> - default: false - If true, will print the number of cells expanded, and the length and number of
poses in the path.</li>
  <li>
<code class="language-plaintext highlighter-rouge">neutral_cost</code> - default: 50 - see above section on weighing costmap</li>
  <li>
<code class="language-plaintext highlighter-rouge">scale</code> - default: 3 - likewise</li>
  <li>
<code class="language-plaintext highlighter-rouge">unknown_interpretation</code> - default: <code class="language-plaintext highlighter-rouge">"expensive"</code> - legal values: <code class="language-plaintext highlighter-rouge">["lethal", "expensive", "free"]</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">path_caching</code> - default: <code class="language-plaintext highlighter-rouge">false</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">improvement_threshold</code> - default <code class="language-plaintext highlighter-rouge">-1.0</code>
</li>
</ul>

<h2 id="the-kernel">The Kernel</h2>
<p>One frequent operation that will be performed is to calculate the potential of a particular cell given the value of
its neighboring cells. The most straightforward approach is to assign the potential as the minimum possible sum of a
neighboring cell’s potential and the cost of moving to that cell (i.e. the neutral cost plus the cost in the costmap).
However, this approach does not take advantage of the two-dimensional structure of the grid. If there are two neighbors
with previously calculated potentials, then we may want to combine them for a better potential.</p>

<p>This package provides the <code class="language-plaintext highlighter-rouge">kernel_function</code> class for combining neighboring potentials, which comes from <code class="language-plaintext highlighter-rouge">navfn</code> which in turn comes from
<a href="https://www.research-collection.ethz.ch/bitstream/handle/20.500.11850/154503/eth-8428-01.pdf">A Light Formulation of the E Interpolated Path Replanner by Philippsen, Roland</a>.
Below, we provide a “brief” mathematical derivation of the calculation.</p>

<ul>
  <li>For calculating the potential $P$ for a cell $X$ (a.k.a. $P(X)$) we will look at the four neighbors of the cell $X$,
 which we’ll call $A$, $B$, $C$ and $D$, where $A$ and $B$ are on the same axis (i.e. above and below $X$) and $C$ and
 $D$ are on the other axis.</li>
  <li>The cost of moving to a cell is the cost from the costmap, which we’ll call $h$ (to match the paper’s notation)</li>
  <li>We assume, without loss of generality that</li>
  <li>$P(A) &lt;= P(B)$</li>
  <li>$P(C) &lt;= P(D)$</li>
  <li>$P(A) &lt;= P(C)$</li>
  <li>If $P(C)$ is infinite, that is, not initialized yet, the new potential calculation is straightforwardly  $P(X) = P(A) + h$.</li>
  <li>Otherwise, we want to find a value of $P(X)$ that satisfies the equation $\Big(P(X) - P(A)\Big)^2 + \Big(P(X) - P(C)\Big)^2 = h^2$</li>
  <li>It’s possible there are no real values that satisfy the equation if $P(C) - P(A) \geq h$ in which case the straightforward update is used.</li>
  <li>Otherwise, through clever manipulation of the quadratic formula, we can solve the equation with the following:
    <ul>
      <li>$P(X) = \frac{-\beta + \sqrt{\beta^2 - 4 \gamma}}{2}$</li>
      <li>$\beta = -\Big(P(A)+P(C)\Big)$</li>
      <li>$\gamma = \frac{P(A)^2 + P(C)^2 - h^2}{2}$</li>
    </ul>
  </li>
  <li>That all looks complicated, and computationally inefficient due to the square root operation. Hence, we reformulate the equation in terms of a new variable $\delta$ and calculate a second-degree Taylor series approximation as</li>
  <li>$\delta = \frac{P(C) - P(A)}{h}$</li>
  <li>$P(X) = P(A) + \frac{h}{2} (\delta + \sqrt{2-\delta^2})$</li>
  <li>$P(X) \approx P(A) + h (c_2 \delta^2 + c_1\delta + c_0)$</li>
  <li>If you’re really interested, you can look into the <a href="https://github.com/locusrobotics/robot_navigation/tree/noetic/dlux_global_planner/Derivation.md">full derivation</a>
</li>
  <li>You can compare these equations on <a href="https://www.desmos.com/calculator/p7x6d0kg6t">this plot</a>
</li>
</ul>

<p>It is this final approximation that we use in our potential calculation. Although this method has been used
<a href="https://github.com/ros-planning/navigation/blob/1f335323a605b49b4108a845c55a7c1ba93a6f2e/navfn/src/navfn.cpp#L509">since the origins of the nav stack</a>,
this is likely the first time the meaning of the constants has ever been documented.</p>

<h2 id="planner-node">Planner Node</h2>
<p>This package also provides a standalone planner node, which will load a costmap from the <code class="language-plaintext highlighter-rouge">global_costmap</code> namespace,
then listen on the <code class="language-plaintext highlighter-rouge">/initialpose</code> and <code class="language-plaintext highlighter-rouge">/move_base_simple/goal</code> topics for the start and goal poses respectively, and
then publish the plan between the two poses as a Path and as Markers.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <em>No CHANGELOG found.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/dlux_global_planner/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#noetic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#noetic">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roslint#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roslint#noetic">roslint  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rostest#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rostest#noetic">rostest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosunit#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosunit#noetic">rosunit  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/geometry_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/geometry_msgs#noetic">geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_2d_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_2d_msgs#noetic">nav_2d_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_2d_utils#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_2d_utils#noetic">nav_2d_utils  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_core2#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_core2#noetic">nav_core2  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_grid#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_grid#noetic">nav_grid  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_grid_pub_sub#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_grid_pub_sub#noetic">nav_grid_pub_sub  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_msgs#noetic">nav_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/pluginlib#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/pluginlib#noetic">pluginlib  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roscpp#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roscpp#noetic">roscpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/visualization_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/visualization_msgs#noetic">visualization_msgs  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/dlux_plugins#noetic">dlux_plugins</a></td>
                      <td class="text-center">
                        
                        <a href="/p/dlux_plugins#noetic-deps" >
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/robot_navigation#noetic">robot_navigation</a></td>
                      <td class="text-center">
                        
                        <a href="/p/robot_navigation#noetic-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/locusrobotics/robot_navigation/tree/noetic/dlux_global_planner//nav_core2_plugins.xml" target="_blank">nav_core2</a></li>
            
          </ul>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>dlux_global_planner</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="noetic-question-list" class="panel-body" style="display: none;"></div>
      <div id="noetic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/dlux_global_planner+noetic">here</a>.</p>
      </div>
      <div id="noetic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/locusrobotics/robot_navigation.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/dlux_global_planner/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/locusrobotics/robot_navigation/tree/noetic/dlux_global_planner"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/dlux_global_planner?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/dlux_global_planner">dlux_global_planner</a> <small>package from <a style="text-decoration:none" href="/r/robot_navigation/github-locusrobotics-robot_navigation">robot_navigation</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/costmap_queue">

costmap_queue
</a>
            
          
            
            
              <span class="label label-default pkg-label">

dlux_global_planner
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dlux_plugins">

dlux_plugins
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dwb_critics">

dwb_critics
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dwb_local_planner">

dwb_local_planner
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dwb_msgs">

dwb_msgs
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/dwb_plugins">

dwb_plugins
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/global_planner_tests">

global_planner_tests
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/locomotor">

locomotor
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/locomotor_msgs">

locomotor_msgs
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/locomove_base">

locomove_base
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_2d_msgs">

nav_2d_msgs
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_2d_utils">

nav_2d_utils
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_core2">

nav_core2
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_core_adapter">

nav_core_adapter
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_grid">

nav_grid
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_grid_iterators">

nav_grid_iterators
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_grid_pub_sub">

nav_grid_pub_sub
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/nav_grid_server">

nav_grid_server
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/color_util">

color_util
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/robot_nav_rviz_plugins">

robot_nav_rviz_plugins
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/robot_nav_tools">

robot_nav_tools
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/robot_nav_viz_demos">

robot_nav_viz_demos
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/rqt_dwb_plugin">

rqt_dwb_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/robot_navigation">

robot_navigation
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/melodic/api/dlux_global_planner/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/locusrobotics/robot_navigation/tree/melodic/dlux_global_planner"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/dlux_global_planner?distro=melodic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="melodic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#melodic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#melodic-assets" data-toggle="tab"><span class="label label-primary">1</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#melodic-deps" data-toggle="tab"><span class="label label-primary">14</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#melodic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#melodic-questions" data-toggle="tab"><span id="melodic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="melodic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.3.0</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">Spiritual successor to ros-planning/navigation.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/locusrobotics/robot_navigation.git">https://github.com/locusrobotics/robot_navigation.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">melodic</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2021-07-30
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <div class="dropdown">
                        <button type="button" data-toggle="dropdown" class="btn label label-primary dropdown-toggle ci-result-success" title="Latest build information: Fri, 11 Dec 2020 19:09:41 GMT
  Total tests: 153
  Succeeded: 153
  Skipped: 0
  Failed: 0
Click to show more build history.">
                          <span class="glyphicon glyphicon-check"></span>
                          Continuous Integration
                          
                            : 153 / 153
                          
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                          <li class="dropdown-header">Latest build history: Fri, 11 Dec 2020 19:09:41 GMT (last 5 of 10 builds)</li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__robot_navigation__ubuntu_bionic_amd64/10/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#10</strong></span>
                                <span>11-Dec-2020 18:26</span>
                                <span>153 / 153</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__robot_navigation__ubuntu_bionic_amd64/9/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#9</strong></span>
                                <span>11-Dec-2020 15:26</span>
                                <span>153 / 153</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__robot_navigation__ubuntu_bionic_amd64/8/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#8</strong></span>
                                <span>01-Dec-2020 02:26</span>
                                <span>143 / 143</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__robot_navigation__ubuntu_bionic_amd64/7/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#7</strong></span>
                                <span>28-Nov-2020 03:26</span>
                                <span>142 / 142</span>
                              </a>
                            </li>
                          
                            <li class="ci-build-info ci-result-success">
                              <a href="http://build.ros.org/job/Mdev__robot_navigation__ubuntu_bionic_amd64/6/" target="_blank">
                                <span class="glyphicon glyphicon-ok"></span>
                                <span><strong>#6</strong></span>
                                <span>25-Nov-2020 22:26</span>
                                <span>138 / 138</span>
                              </a>
                            </li>
                          
                        </ul>
                      </div>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/robot_navigation/#melodic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/robot_navigation/#melodic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/robot_navigation/#melodic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            
    Plugin based global planner implementing the nav_core2::GlobalPlanner interface.
  
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>David V. Lu!!</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/locusrobotics/robot_navigation/tree/melodic/dlux_global_planner/README.md" title="Open in git repository">dlux_global_planner/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="dlux_global_planner">dlux_global_planner</h1>

<p>This package implements a plugin-based global wavefront planner that conforms to the <code class="language-plaintext highlighter-rouge">nav_core2</code> interface. The two
major components that you can plug-in are</p>
<ol>
  <li>
<code class="language-plaintext highlighter-rouge">PotentialCalculator</code> - A function that calculates a numerical score (which we call potential) for some subset
of the cells in the costmap. The potential should be zero at the goal and grow higher from there.</li>
  <li>
<code class="language-plaintext highlighter-rouge">Traceback</code> - A function that uses the potential to trace a path from the start position back to the goal position.</li>
</ol>

<p>These are loaded via <code class="language-plaintext highlighter-rouge">pluginlib</code> to allow for maximal customizability. This package contains the wrapper code, whereas
the <code class="language-plaintext highlighter-rouge">dlux_plugins</code> package provides a handful of implementations of the plugins.</p>

<h2 id="history">History</h2>
<p>This package is a refactoring for <code class="language-plaintext highlighter-rouge">nav_core2</code> of the <a href="http://wiki.ros.org/global_planner"><code class="language-plaintext highlighter-rouge">global_planner</code></a> package
which in turn was a refactoring of the <a href="http://wiki.ros.org/navfn"><code class="language-plaintext highlighter-rouge">navfn</code></a> package. Much of the core implementation
is based on design decisions of the authors of <code class="language-plaintext highlighter-rouge">navfn</code>, for better or for worse.</p>

<h2 id="weighing-the-costmap">Weighing the Costmap</h2>
<p>There is a <a href="http://wustl.probablydavid.com/entry179.html">fundamental tradeoff</a> in planning between the length of the
path and the costs contained within the costmap. This requires two variables.</p>
<ul>
  <li>The first is the neutral cost which is a penalty for moving from one cell to an adjacent cell
(a.k.a. the cost for moving a distance equivalent to the grid resolution)</li>
  <li>The second is the cost within the cell itself, which may be scaled up or down.
Changing how these costs are used will result in possibly different paths. For example, low neutral costs will result
in longer paths that avoid high costs. Higher neutral costs will sometimes result in paths that go through high costs
if the path is much shorter.</li>
</ul>

<p>The other key consideration in interpreting the costmap is whether to allow the planner to venture into cells marked
as unknown in the costmap. There are three interpretations possible here.</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">LETHAL</code> - Unknown cells are treated as lethal obstacles and cannot be passed through.</li>
  <li>
<code class="language-plaintext highlighter-rouge">EXPENSIVE</code> - Unknown cells are valid, but assigned a high cost.</li>
  <li>
<code class="language-plaintext highlighter-rouge">FREE</code> - Unknown cells are valid and given the same weight as free cells.</li>
</ul>

<p>For convenience, the interpretation of all these costs is contained within the <code class="language-plaintext highlighter-rouge">CostInterpreter</code> class.</p>

<h2 id="potential-calculation">Potential Calculation</h2>
<p>As mentioned above, the <code class="language-plaintext highlighter-rouge">PotentialCalculator</code> calculates a numerical score called potential for the cells in the costmap.
This is stored in the <code class="language-plaintext highlighter-rouge">PotentialGrid</code> which is defined as a <code class="language-plaintext highlighter-rouge">nav_grid</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>using PotentialGrid = nav_grid::VectorNavGrid&lt;float&gt;;

</code></pre></div></div>

<p>The interface that must be implemented consists of up to two methods.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>virtual void initialize(ros::NodeHandle&amp; private_nh, nav_core2::Costmap::Ptr costmap,
                        CostInterpreter::Ptr cost_interpreter);
virtual void updatePotentials(PotentialGrid&amp; potential_grid,
                              const geometry_msgs::Pose2D&amp; start, const geometry_msgs::Pose2D&amp; goal);

</code></pre></div></div>
<p>The first provides access to the <code class="language-plaintext highlighter-rouge">Costmap</code>/<code class="language-plaintext highlighter-rouge">CostInterpreter</code>. The second is where potentials are actually calculated.
How the potentials are calculated is left to the plugin-writer, but in general, the potential should be zero at the goal
and grow higher from there.</p>

<h2 id="traceback">Traceback.</h2>
<p>The <code class="language-plaintext highlighter-rouge">Traceback</code> uses the calculated potential to create a path from the start position back to the goal position.
The interface to be implemented has two methods.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>virtual void initialize(ros::NodeHandle&amp; private_nh, CostInterpreter::Ptr cost_interpreter);
virtual nav_2d_msgs::Path2D getPath(const PotentialGrid&amp; potential_grid,
                                    const geometry_msgs::Pose2D&amp; start, const geometry_msgs::Pose2D&amp; goal,
                                    double&amp; path_cost);

</code></pre></div></div>
<p>The main thing to note is that the <code class="language-plaintext highlighter-rouge">getPath</code> method returns a <code class="language-plaintext highlighter-rouge">Path2D</code> and also calculates a <code class="language-plaintext highlighter-rouge">path_cost</code>, which is
used when performing path caching.</p>

<h2 id="path-caching">Path Caching</h2>
<p>Sometimes you don’t want the global path to change if it doesn’t have to. This global planner can cache its most
recently returned plan (assuming the goal stays the same). Whether the old plan or new plan gets returned depends on a
number of different factors.</p>
<ul>
  <li>If the old plan becomes invalid (navigates through an obstacle), the new plan should be used.</li>
  <li>The relative <code class="language-plaintext highlighter-rouge">path_cost</code> of each of the plans. Generally, if the old plan is still valid, you should never get
a new plan with a higher cost, but its possible depending on the exact plugin configuration.</li>
</ul>

<p>There are four different configurations with regard to path caching, and when to use the cached path.</p>

<ol>
  <li>Don’t ever use the cached path. This is the standard <code class="language-plaintext highlighter-rouge">nav_core</code> behavior and is enabled with <code class="language-plaintext highlighter-rouge">path_caching=false</code>.</li>
  <li>Always use the cached plan if it is valid. It doesn’t matter how much the new plan might improve the path, stay with
the old path if it is valid. <code class="language-plaintext highlighter-rouge">path_caching=true</code> and <code class="language-plaintext highlighter-rouge">improvement_threshold&lt;0</code>
</li>
  <li>Use the new plan if it is better than the cached plan. This will definitely rerun the planning algorithm each
iteration, and use the new plan if its score according to the traceback is better at all than the old plan.
<code class="language-plaintext highlighter-rouge">path_caching=true</code> and <code class="language-plaintext highlighter-rouge">improvement_threshold=0</code>. This is very close to configuration #1 but doesn’t use new plans
if their path cost is equal to or greater than the cached path cost.</li>
  <li>Use the new plan if it is significantly better. Require the improvement to be greater than <code class="language-plaintext highlighter-rouge">improvement_threshold</code>
to ensure plans that are minorly better aren’t used. <code class="language-plaintext highlighter-rouge">path_caching=true</code> and <code class="language-plaintext highlighter-rouge">improvement_threshold&gt;=0</code>
</li>
</ol>

<h2 id="base-parameters">Base Parameters</h2>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">potential_calculator</code> - default: <code class="language-plaintext highlighter-rouge">dlux_plugins::AStar</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">traceback</code> - default: <code class="language-plaintext highlighter-rouge">dlux_plugins::GradientPath</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">publish_potential</code> - default: false - Whether to publish the calculated potentials as an OccupancyGrid</li>
  <li>
<code class="language-plaintext highlighter-rouge">print_statistics</code> - default: false - If true, will print the number of cells expanded, and the length and number of
poses in the path.</li>
  <li>
<code class="language-plaintext highlighter-rouge">neutral_cost</code> - default: 50 - see above section on weighing costmap</li>
  <li>
<code class="language-plaintext highlighter-rouge">scale</code> - default: 3 - likewise</li>
  <li>
<code class="language-plaintext highlighter-rouge">unknown_interpretation</code> - default: <code class="language-plaintext highlighter-rouge">"expensive"</code> - legal values: <code class="language-plaintext highlighter-rouge">["lethal", "expensive", "free"]</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">path_caching</code> - default: <code class="language-plaintext highlighter-rouge">false</code>
</li>
  <li>
<code class="language-plaintext highlighter-rouge">improvement_threshold</code> - default <code class="language-plaintext highlighter-rouge">-1.0</code>
</li>
</ul>

<h2 id="the-kernel">The Kernel</h2>
<p>One frequent operation that will be performed is to calculate the potential of a particular cell given the value of
its neighboring cells. The most straightforward approach is to assign the potential as the minimum possible sum of a
neighboring cell’s potential and the cost of moving to that cell (i.e. the neutral cost plus the cost in the costmap).
However, this approach does not take advantage of the two-dimensional structure of the grid. If there are two neighbors
with previously calculated potentials, then we may want to combine them for a better potential.</p>

<p>This package provides the <code class="language-plaintext highlighter-rouge">kernel_function</code> class for combining neighboring potentials, which comes from <code class="language-plaintext highlighter-rouge">navfn</code> which in turn comes from
<a href="https://www.research-collection.ethz.ch/bitstream/handle/20.500.11850/154503/eth-8428-01.pdf">A Light Formulation of the E Interpolated Path Replanner by Philippsen, Roland</a>.
Below, we provide a “brief” mathematical derivation of the calculation.</p>

<ul>
  <li>For calculating the potential <code class="language-plaintext highlighter-rouge">P</code> for a cell <code class="language-plaintext highlighter-rouge">X</code> (a.k.a. <code class="language-plaintext highlighter-rouge">P(X)</code>) we will look at the four neighbors of the cell <code class="language-plaintext highlighter-rouge">X</code>,
 which we’ll call <code class="language-plaintext highlighter-rouge">A</code>, <code class="language-plaintext highlighter-rouge">B</code>, <code class="language-plaintext highlighter-rouge">C</code> and <code class="language-plaintext highlighter-rouge">D</code>, where <code class="language-plaintext highlighter-rouge">A</code> and <code class="language-plaintext highlighter-rouge">B</code> are on the same axis (i.e. above and below <code class="language-plaintext highlighter-rouge">X</code>) and <code class="language-plaintext highlighter-rouge">C</code> and
 <code class="language-plaintext highlighter-rouge">D</code> are on the other axis.</li>
  <li>The cost of moving to a cell is the cost from the costmap, which we’ll call <code class="language-plaintext highlighter-rouge">h</code> (to match the paper’s notation)</li>
  <li>We assume, without loss of generality that</li>
  <li><img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/PA__PB.gif" alt="P(A) &lt;= P(B)"></li>
  <li><img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/PC__PD.gif" alt="P(C) &lt;= P(D)"></li>
  <li><img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/PA__PC.gif" alt="P(A) &lt;= P(C)"></li>
  <li>If <img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/PC.gif" alt="P(C)"> is infinite, that is, not initialized yet, the new potential calculation is straightforwardly  <img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/PX_PA_h.gif" alt="P(X) = P(A) + h">.</li>
  <li>Otherwise, we want to find a value of <code class="language-plaintext highlighter-rouge">P(X)</code> that satisfies the equation <img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/BigPX_PABig_2_BigPX_PCBig_2_h_2.gif" alt="\Big(P(X) - P(A)\Big)^2 + \Big(P(X) - P(C)\Big)^2 = h^2">
</li>
  <li>It’s possible there are no real values that satisfy the equation if <img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/PC_PAgeqh.gif" alt="P(C) - P(A) \geq h"> in which case the straightforward update is used.</li>
  <li>Otherwise, through clever manipulation of the quadratic formula, we can solve the equation with the following:
    <ul>
      <li><img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/PX_frac_beta_sqrtbeta_2_4gamma2.gif" alt="P(X) = \frac{-\beta + \sqrt{\beta^2 - 4 \gamma}}{2}"></li>
      <li><img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/beta__BigPA_PCBig.gif" alt="\beta = -\Big(P(A)+P(C)\Big)"></li>
      <li><img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/gamma_fracPA_2_PC_2_h_22.gif" alt="\gamma = \frac{P(A)^2 + P(C)^2 - h^2}{2}"></li>
    </ul>
  </li>
  <li>That all looks complicated, and computationally inefficient due to the square root operation. Hence, we reformulate the equation in terms of a new variable <img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/delta.gif" alt="\delta"> and calculate a second-degree Taylor series approximation as</li>
  <li><img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/delta_fracPC_PAh.gif" alt="\delta = \frac{P(C) - P(A)}{h}"></li>
  <li><img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/PX_PA_frach2delta_sqrt2_delta_2.gif" alt="P(X) = P(A) + \frac{h}{2} (\delta + \sqrt{2-\delta^2})"></li>
  <li><img src="https://raw.githubusercontent.com/locusrobotics/robot_navigation/melodic/dlux_global_planner/doc/PXapproxPA_hc_2delta_2_c_1delta_c_0.gif" alt="P(X) \approx P(A) + h (c_2 \delta^2 + c_1\delta + c_0)"></li>
  <li>If you’re really interested, you can look into the <a href="https://github.com/locusrobotics/robot_navigation/tree/melodic/dlux_global_planner/Derivation.md">full derivation</a>
</li>
  <li>You can compare these equations on <a href="https://www.desmos.com/calculator/p7x6d0kg6t">this plot</a>
</li>
</ul>

<p>It is this final approximation that we use in our potential calculation. Although this method has been used
<a href="https://github.com/ros-planning/navigation/blob/1f335323a605b49b4108a845c55a7c1ba93a6f2e/navfn/src/navfn.cpp#L509">since the origins of the nav stack</a>,
this is likely the first time the meaning of the constants has ever been documented.</p>

<h2 id="planner-node">Planner Node</h2>
<p>This package also provides a standalone planner node, which will load a costmap from the <code class="language-plaintext highlighter-rouge">global_costmap</code> namespace,
then listen on the <code class="language-plaintext highlighter-rouge">/initialpose</code> and <code class="language-plaintext highlighter-rouge">/move_base_simple/goal</code> topics for the start and goal poses respectively, and
then publish the plan between the two poses as a Path and as Markers.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <em>No CHANGELOG found.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/dlux_global_planner/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#melodic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#melodic">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roslint#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roslint#melodic">roslint  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rostest#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rostest#melodic">rostest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosunit#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosunit#melodic">rosunit  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/geometry_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/geometry_msgs#melodic">geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_2d_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_2d_msgs#melodic">nav_2d_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_2d_utils#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_2d_utils#melodic">nav_2d_utils  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_core2#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_core2#melodic">nav_core2  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_grid#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_grid#melodic">nav_grid  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_grid_pub_sub#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_grid_pub_sub#melodic">nav_grid_pub_sub  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nav_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nav_msgs#melodic">nav_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/pluginlib#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/pluginlib#melodic">pluginlib  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roscpp#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roscpp#melodic">roscpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/visualization_msgs#melodic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/visualization_msgs#melodic">visualization_msgs  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/dlux_plugins#melodic">dlux_plugins</a></td>
                      <td class="text-center">
                        
                        <a href="/p/dlux_plugins#melodic-deps" >
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/robot_navigation#melodic">robot_navigation</a></td>
                      <td class="text-center">
                        
                        <a href="/p/robot_navigation#melodic-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/locusrobotics/robot_navigation/tree/melodic/dlux_global_planner//nav_core2_plugins.xml" target="_blank">nav_core2</a></li>
            
          </ul>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="melodic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>dlux_global_planner</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="melodic-question-list" class="panel-body" style="display: none;"></div>
      <div id="melodic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/dlux_global_planner+melodic">here</a>.</p>
      </div>
      <div id="melodic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/locusrobotics/robot_navigation.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/melodic/api/dlux_global_planner/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/locusrobotics/robot_navigation/tree/melodic/dlux_global_planner"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/dlux_global_planner?distro=melodic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/dlux_global_planner?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/dlux_global_planner?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=dlux_global_planner&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "dlux_global_planner"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
