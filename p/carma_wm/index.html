<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: carma_wm</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/carma_wm/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">carma_wm</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-primary" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/carma_wm">carma_wm</a> <small>package from <a style="text-decoration:none" href="/r/carma-platform/github-usdot-fhwa-stol-carma-platform">carma-platform</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/approaching_emergency_vehicle_plugin">

approaching_emergency_vehicle_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/approximate_intersection">

approximate_intersection
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/arbitrator">

arbitrator
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/basic_autonomy">

basic_autonomy
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/bsm_generator">

bsm_generator
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/carma">

carma
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/carma_cloud_client">

carma_cloud_client
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/carma_cooperative_perception">

carma_cooperative_perception
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/carma_guidance_plugins">

carma_guidance_plugins
</a>
            
          
            
            
              <span class="label label-default pkg-label">

carma_wm
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/carma_wm_ctrl">

carma_wm_ctrl
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/cooperative_lanechange">

cooperative_lanechange
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/frame_transformer">

frame_transformer
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/gnss_to_map_convertor">

gnss_to_map_convertor
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/guidance">

guidance
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/inlanecruising_plugin">

inlanecruising_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/intersection_transit_maneuvering">

intersection_transit_maneuvering
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/lci_strategic_plugin">

lci_strategic_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/light_controlled_intersection_tactical_plugin">

light_controlled_intersection_tactical_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/lightbar_manager">

lightbar_manager
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/localization_manager">

localization_manager
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mobilitypath_publisher">

mobilitypath_publisher
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mobilitypath_visualizer">

mobilitypath_visualizer
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mock_controller_driver">

mock_controller_driver
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/motion_computation">

motion_computation
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/motion_prediction_visualizer">

motion_prediction_visualizer
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/object_detection_tracking">

object_detection_tracking
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/object_visualizer">

object_visualizer
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/plan_delegator">

plan_delegator
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/platooning_control">

platooning_control
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/platooning_strategic_ihp">

platooning_strategic_ihp
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/platooning_tactical_plugin">

platooning_tactical_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/points_map_filter">

points_map_filter
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/port_drayage_plugin">

port_drayage_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/pure_pursuit_wrapper">

pure_pursuit_wrapper
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/roadway_objects">

roadway_objects
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/route">

route
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/route_following_plugin">

route_following_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/sci_strategic_plugin">

sci_strategic_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/stop_and_dwell_strategic_plugin">

stop_and_dwell_strategic_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/stop_and_wait_plugin">

stop_and_wait_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/stop_controlled_intersection_tactical_plugin">

stop_controlled_intersection_tactical_plugin
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/subsystem_controllers">

subsystem_controllers
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/system_controller">

system_controller
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/traffic_incident_parser">

traffic_incident_parser
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/trajectory_executor">

trajectory_executor
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/trajectory_follower_wrapper">

trajectory_follower_wrapper
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/trajectory_visualizer">

trajectory_visualizer
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/yield_plugin">

yield_plugin
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/github/p/carma_wm"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/usdot-fhwa-stol/carma-platform/tree/develop/carma_wm"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="github-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#github-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#github-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#github-deps" data-toggle="tab"><span class="label label-primary">25</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#github-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#github-questions" data-toggle="tab"><span id="github-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="github-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>5.0.0</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>Apache 2.0</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">CARMA Platform is built on robot operating system (ROS) and utilizes open source software (OSS) that enables Cooperative Driving Automation (CDA) features to allow Automated Driving Systems to interact and cooperate with infrastructure and other vehicles through communication. Doxygen Source Code Documentation :</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/usdot-fhwa-stol/carma-platform.git">https://github.com/usdot-fhwa-stol/carma-platform.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">develop</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-05-02
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNKNOWN
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">open-source</span> <span class="label label-default">cpp</span> <span class="label label-default">ros</span> <span class="label label-default">autonomous-driving</span> <span class="label label-default">autonomous-vehicles</span> <span class="label label-default">self-driving</span> <span class="label label-default">cooperative-driving-automation</span> <span class="label label-default">automated-vehicles</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/carma-platform/#github-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/carma-platform/#github-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/carma-platform/#github-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            The carma_wm package
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>carma</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/usdot-fhwa-stol/carma-platform/tree/develop/carma_wm/README.md" title="Open in git repository">carma_wm/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="carma_wm">carma_wm</h1>

<p>This package provides the carma_wm C++ library which manages and simplifies accessing and querying the road network that the vehicle is operating in. This package makes heavy use of the <a href="https://github.com/fzi-forschungszentrum-informatik/Lanelet2">Lanelet2 C++ Library</a> to represent road geometry and communicate with the rest of the CARMA Platform. A copy of the Lanelet2 License can be found <a href="https://github.com/usdot-fhwa-stol/carma-platform/tree/develop/carma_wm/doc/LANELET2_LICENSE.md">here</a>.</p>

<h2 id="library-role">Library Role</h2>

<p>The carma_wm library design was inspired by the <a href="http://wiki.ros.org/tf2">tf2 library</a> in that it provides automatic subscription and message callbacks for semantic map and route updates in CARMA. Beyond this the library is designed for support a wider range of route-based computations than Lanelet2 provides by default, however it is expected that users will learn and use the Lanelet2 API directly for most non-route based needs. The library provides read-only access to the map and route objects. Map and route updating is handled by other components in the CARMA Platform.</p>

<h2 id="carma-lanelet2-osm-file-format-changes">CARMA Lanelet2 OSM File Format Changes</h2>

<p>By default Lanelet2 supports a modified version of the OpenStreetMaps (OSM) file format to describe its roadways. See <a href="https://github.com/fzi-forschungszentrum-informatik/Lanelet2/blob/master/lanelet2_maps/README.md">here</a> for an introduction. Part of this standard describes how road regulations are defined by interpreting tags on various Lanelet2 primitives. In addition, regulatory elements also fill a similar role. Unfortunately, this creates a confusing situation where some regulations are tied intrinsically to the physical markings on the road. For example, a double yellow line could never be crossed even if nearby signs instructed the user to do so around a work zone. To resolve this, while also preserving the description of the physical markings on the road, CARMA Platform supports an additional set of <a href="https://github.com/usdot-fhwa-stol/autoware.ai/blob/carma-develop/common/lanelet2_extension/docs/RegulatoryElements.md">regulatory elements</a>. Using these regulations separates all road regulations from physical road markings allowing for situations such as the work zone use case described above. In addition, all Lanelet2 Maps must follow the Autoware.ai tagging specification rules described in this document and <a href="https://github.com/usdot-fhwa-stol/autoware.ai/blob/carma-develop/common/lanelet2_extension/docs/lanelet2_format_extension.md">here</a> due to the use of legacy map handling nodes. This is a requirement which may be depercated in the future. If a Lanelet2 map is loaded which does not contain these elements the carma_wm_ctrl package will make a best effort attempt to add them using Lanelet2’s default tagging rules before forwarding the map to components using the carma_wm library.</p>

<h2 id="route-definition">Route Definition</h2>

<p>LaneLet2 provides its own routing module. Details of this module can be found <a href="https://github.com/fzi-forschungszentrum-informatik/Lanelet2/tree/master/lanelet2_routing">here</a> and should be reviewed before continuing in with this section. Lanelet2 generates a route by finding the shortest path of LaneLets between two points according to a user defined cost function. Then it will identify all the LaneLets which lie along the same roads as this path and include them in the description. The sequence of LaneLets which describe the original shortest path will also be preserved inside the route object. This can be seen below.</p>

<p><img src="https://raw.githubusercontent.com/usdot-fhwa-stol/carma-platform/develop/carma_wm/doc/media/path_vs_route.png" alt="">
Depiction of shortest path compared with Lanelet2 route
Images sourced from Lanelet2 routing documentation found <a href="https://github.com/fzi-forschungszentrum-informatik/Lanelet2/tree/master/lanelet2_routing">here</a>.</p>

<p>To support the concept of downtrack and crosstrack distance often used for planning in cooperative applications the reference line will be defined by the center lines which lie along the route’s shortest path. This will remove ambiguity in where the reference line is located on the road as shown below.</p>

<p><img src="https://raw.githubusercontent.com/usdot-fhwa-stol/carma-platform/develop/carma_wm/doc/media/DowntrackReference.png" alt="">
Route line for calculating downtrack distance</p>

<p>When there are lane changes that occur along the route the line of reference will move to the following lane after the lane change lanelet as shown below. This will prevent the length of the adjacent lanelet being double counted.</p>

<p><img src="https://raw.githubusercontent.com/usdot-fhwa-stol/carma-platform/develop/carma_wm/doc/media/ReferenceLine.png" alt="">
Route reference line at lane change location. Image sourced from Lanelet2 publication found <a href="https://www.mrt.kit.edu/z/publ/download/2018/Poggenhans2018Lanelet2.pdf">here</a></p>

<h2 id="example-usage">Example Usage</h2>

<h3 id="initialization">Initialization</h3>

<p>Users should initialize the carma_wm by first creating an instance of the <a href="https://github.com/usdot-fhwa-stol/carma-platform/tree/develop/carma_wm/include/carma_wm/WMListener.h">WMListener</a> object. This will automatically subscribe to the</p>
<pre><code class="language-semantic_map">``` and 
```route
``` topics which will provide map and route updates. By default the WMListener is single threaded and will only trigger callbacks when 
```ros::spin()
``` is called. However, as map and route updates can be time consuming there is a multi-threaded mode which can be enabled using WMListener constructor. This will use a 
```ros::AsyncSpinner
``` to update the map and route in the background. When this happens the user should take care to ensure thread safety when performing map or route access through the use of the 
```WMListener.getLock()
``` method.  

Once the user decides they need to access map or route information, they will do so through an instance of the [WorldModel](include/carma_wm/WorldModel.h) interface. This provides read access to map and route objects as well as functions for quickly computing downtrack or crosstrack distances. An instance of the WorldModel can be acquired using the 
```WMListener.getWorldModel()
``` method.  The WorldModel object is not thread safe on its own which is why usage of the 
```WMListener.getLock()
``` method is critical when using multi-threaded mode.

#### Single Threaded Example Code


```c++
#include &lt;rclcpp/rclcpp.hpp&gt;
#include &lt;carma_wm/WMListener.hpp&gt;
#include &lt;carma_wm/WorldModel.hpp&gt;
int main(int argc, char **argv)
{
    rclcpp::init(argc, argv, "map_user");

    // Create WMListener after initializing ros
    // It is recommended only one instance be created per node

    auto node = std::make_shared&lt;rclcpp::Node&gt;("base_node");

    //Extract node interfaces from base node
    rclcpp::node_interfaces::NodeBaseInterface::SharedPtr node_base = node-&gt;get_node_base_interface(); 
    rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr node_logging = node-&gt;get_node_logging_interface();)
    rclcpp::node_interfaces::NodeTopicsInterface::SharedPtr node_topics = node-&gt;get_node_topics_interface();
    rclcpp::node_interfaces::NodeParametersInterface::SharedPtr node_params_ = node-&gt;get_node_parameters_interface();
    
    auto wml = std::make_shared&lt;carma_wm::WMListener&gt;(rclcpp::NodeOptions(), node_base, node_logging, node_topics, node_params_); // Create single threaded listener instance. Equivalent to carma_wm::WMListener wm (rclcpp::NodeOptions(), node_base, node_logging, node_topics,false);

    carma_wm::WorldModelConstPtr wm = wml.getWorldModel(); // Get pointer to WorldModel


    if (wml.getRoute()) { // Route object provided a shared_ptr so you can use it to check for availability
        lanelet::Point3d pt;

        carma_wm::TrackPos tc = wm-&gt;routeTrackPos(pt); // Get the downtrack and crosstrack position of the provided point on the route
    }
    
    rclcpp::executors::MultiThreadedExecutor executor;
    executor.add_node(node-&gt;get_node_base_interface());
    executor.spin();

    rclcpp::shutdown();
    return 0;
}


</code></pre>

<h4 id="multi-threaded-example-code">Multi-Threaded Example Code</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;rclcpp/rclcpp.hpp&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;atomic&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;carma_wm/WMListener.hpp&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;carma_wm/WorldModel.hpp&gt;</span><span class="cp">
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"map_user"</span><span class="p">);</span>

    <span class="k">auto</span> <span class="n">node</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"base_node"</span><span class="p">);</span>

    <span class="c1">//Extract node interfaces from base node</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">node_interfaces</span><span class="o">::</span><span class="n">NodeBaseInterface</span><span class="o">::</span><span class="n">SharedPtr</span> <span class="n">node_base</span> <span class="o">=</span> <span class="n">node</span><span class="o">-&gt;</span><span class="n">get_node_base_interface</span><span class="p">();</span> 
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">node_interfaces</span><span class="o">::</span><span class="n">NodeLoggingInterface</span><span class="o">::</span><span class="n">SharedPtr</span> <span class="n">node_logging</span> <span class="o">=</span> <span class="n">node</span><span class="o">-&gt;</span><span class="n">get_node_logging_interface</span><span class="p">();)</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">node_interfaces</span><span class="o">::</span><span class="n">NodeTopicsInterface</span><span class="o">::</span><span class="n">SharedPtr</span> <span class="n">node_topics</span> <span class="o">=</span> <span class="n">node</span><span class="o">-&gt;</span><span class="n">get_node_topics_interface</span><span class="p">();</span>
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">node_interfaces</span><span class="o">::</span><span class="n">NodeParametersInterface</span><span class="o">::</span><span class="n">SharedPtr</span> <span class="n">node_params_</span> <span class="o">=</span> <span class="n">node</span><span class="o">-&gt;</span><span class="n">get_node_parameters_interface</span><span class="p">();</span>

    <span class="c1">// Create WMListener after initializing ros</span>
    <span class="c1">// It is recommended only one instance be created per node</span>
    <span class="k">auto</span> <span class="n">wml</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">carma_wm</span><span class="o">::</span><span class="n">WMListener</span><span class="o">&gt;</span><span class="p">(</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">NodeOptions</span><span class="p">(),</span> <span class="n">node_base</span><span class="p">,</span> <span class="n">node_logging</span><span class="p">,</span> <span class="n">node_topics</span><span class="p">,</span> <span class="n">node_params_</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span> <span class="c1">// Create multi-threaded listener instance by passing true constructor parameter</span>

    <span class="n">carma_wm</span><span class="o">::</span><span class="n">WorldModelConstPtr</span> <span class="n">wm</span> <span class="o">=</span> <span class="n">wml</span><span class="p">.</span><span class="n">getWorldModel</span><span class="p">();</span> <span class="c1">// Get pointer to WorldModel</span>

    <span class="n">std</span><span class="o">::</span><span class="n">atomic</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">routeReady</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="n">wml</span><span class="p">.</span><span class="n">setRouteCallback</span><span class="p">([</span><span class="o">&amp;</span><span class="p">]()</span> <span class="p">{</span> <span class="c1">// User can set callback to trigger when a new route or map is received. Works in single threaded case as well</span>
        <span class="n">routeReady</span><span class="p">.</span><span class="n">store</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
    <span class="p">});</span>


    <span class="k">auto</span> <span class="n">lock</span> <span class="o">=</span> <span class="n">wml</span><span class="p">.</span><span class="n">getLock</span><span class="p">();</span> <span class="c1">// Acquire lock. Now user can safely access map and route data</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">routeReady</span><span class="p">)</span> <span class="p">{</span> 
        <span class="n">lanelet</span><span class="o">::</span><span class="n">Point3d</span> <span class="n">pt</span><span class="p">;</span>
        <span class="n">carma_wm</span><span class="o">::</span><span class="n">TrackPos</span> <span class="n">tc</span> <span class="o">=</span> <span class="n">wm</span><span class="o">-&gt;</span><span class="n">routeTrackPos</span><span class="p">(</span><span class="n">pt</span><span class="p">);</span> <span class="c1">// Get the downtrack and crosstrack position of the provided point on the route</span>
    <span class="p">}</span>
    
    <span class="n">rclcpp</span><span class="o">::</span><span class="n">executors</span><span class="o">::</span><span class="n">MultiThreadedExecutor</span> <span class="n">executor</span><span class="p">;</span>
    <span class="n">executor</span><span class="p">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">get_node_base_interface</span><span class="p">());</span>
    <span class="n">executor</span><span class="p">.</span><span class="n">spin</span><span class="p">();</span>

    <span class="n">rclcpp</span><span class="o">::</span><span class="n">shutdown</span><span class="p">();</span>
  
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>


</code></pre></div></div>

<h4 id="unit-test-example-pseudo-code">Unit Test Example Pseudo Code</h4>

<p>To better support unit testing, the user should define their classes or functions to take in the pointer to the world model provided by WMListener.
In the unit test, they can then intialize an instance of CARMAWorldModel, and set the map and route manually. NOTE: CARMAWorldModel should not be used in runtime code as the map route synchronization will need to be manually maintained.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">TEST</span><span class="p">(</span><span class="n">UserTest</span><span class="p">,</span> <span class="n">someTest</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">CARMAWorldModel</span> <span class="n">cmw</span><span class="p">;</span> <span class="c1">// Instantiate writeable world model</span>

  <span class="c1">// Build map</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">lanelet</span><span class="o">::</span><span class="n">Point3d</span><span class="o">&gt;</span> <span class="n">left</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">getPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="c1">// user created helper function to make lanelet points</span>
    <span class="n">getPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
  <span class="p">};</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">lanelet</span><span class="o">::</span><span class="n">Point3d</span><span class="o">&gt;</span> <span class="n">right</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">getPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">getPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
  <span class="p">};</span>

  <span class="k">auto</span> <span class="n">ll</span> <span class="o">=</span> <span class="n">getLanelet</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">);</span> <span class="c1">// user created helper function to make lanelets</span>
  <span class="k">auto</span> <span class="n">map</span> <span class="o">=</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">utils</span><span class="o">::</span><span class="n">createMap</span><span class="p">({</span> <span class="n">ll</span> <span class="p">},</span> <span class="p">{});</span>

  <span class="n">cmw</span><span class="p">.</span><span class="n">setMap</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">map</span><span class="p">));</span>

  <span class="c1">// User can now pass a shared pointer of cmw to whatever they wish to test</span>

<span class="p">}</span>


</code></pre></div></div>
<p>In the unit test, they can then intialize an instance of CARMAWorldModel, and set the map and route manually. NOTE: CARMAWorldModel should not be used in runtime code as the map route synchronization will need to be manually maintained.</p>

<h4 id="unit-test-example-for-wmtestlibforguidance">Unit Test Example for WMTestLibForGuidance</h4>

<p>To better support unit testing for guidance components, a test library is made available with a world model that is with prebaked obstacles and several helper functions. In general, it includes the following :</p>
<ul>
  <li>Helper functions to create the world from scratch or extend the world in getGuidanceTestMap()</li>
  <li>getGuidanceTestMap gives a simple one way, 3 lane map (25mph speed limit) with one static prebaked obstacle and</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="k">namespace</span> <span class="n">carma_wm</span><span class="o">::</span><span class="n">test</span>
<span class="nf">TEST</span><span class="p">(</span><span class="n">UserTest</span><span class="p">,</span> <span class="n">someTest</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// get a premade world model for guidance unit test with default config</span>
  <span class="k">auto</span> <span class="n">cmw_default</span> <span class="o">=</span> <span class="n">getGuidanceTestMap</span><span class="p">();</span>

  <span class="c1">// This premade map is configured through MapOptions class</span>
  <span class="c1">// lanelet width and length is configurable. there are 4 lanelets in a single lane and 3 lanes in total. The default measures of a lanelet are 3.7 meter, and 25 meters respectively</span>
  <span class="n">MapOptions</span> <span class="n">mp</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mi">36</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">cmw_configured</span> <span class="o">=</span> <span class="n">getGuidanceTestMap</span><span class="p">(</span><span class="n">mp</span><span class="p">);</span>

  <span class="c1">// there is option to either not include prebaked obstacle or set no speed limit</span>
  <span class="c1">// MapOptions mp(5.0,36, MapOptions::Obstacle::NONE, MapOptions::SpeedLimit::NONE) also works</span>
  <span class="n">mp</span><span class="p">.</span><span class="n">speed_limit_</span> <span class="o">=</span> <span class="n">MapOptions</span><span class="o">::</span><span class="n">SpeedLimit</span><span class="o">::</span><span class="n">NONE</span><span class="p">;</span>
  <span class="n">mp</span><span class="p">.</span><span class="n">obstacle_</span> <span class="o">=</span> <span class="n">MapOptions</span><span class="o">::</span><span class="n">Obstacle</span><span class="o">::</span><span class="n">NONE</span><span class="p">;</span>
  <span class="k">auto</span> <span class="n">cmw_configured1</span> <span class="o">=</span> <span class="n">getGuidanceTestMap</span><span class="p">(</span><span class="n">mp</span><span class="p">);</span>
<span class="p">}</span>


</code></pre></div></div>
<ul>
  <li>addObstacle at a specified Cartesian relative to the local origin or Trackpos point relative to specified lanelet Id:</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="k">namespace</span> <span class="n">carma_wm</span><span class="o">::</span><span class="n">test</span>
<span class="nf">TEST</span><span class="p">(</span><span class="n">UserTest</span><span class="p">,</span> <span class="n">someTest</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// set lanelet width and length to be 1,1</span>
  <span class="n">MapOptions</span> <span class="n">mp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">cmw</span> <span class="o">=</span> <span class="n">getGuidanceTestMap</span><span class="p">(</span><span class="n">mp</span><span class="p">);</span>
  <span class="c1">// add static obstacle by cartesian coords</span>
  <span class="c1">// at 0.5,0.5, which is x,y object center</span>
  <span class="n">addObstacle</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="n">cmw</span><span class="p">);</span>
  <span class="c1">// or add dynamic obstacle by cartesian coords with</span>
  <span class="c1">// {0.25,1.5} predicted coord in the next 100ms (by default)</span>
  <span class="c1">// and {0.5,2.5} in the next 100ms etc. 0.75, 0.75 width and length of the object</span>
  <span class="n">addObstacle</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">cmw</span><span class="p">,</span> <span class="p">{{</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">1.5</span><span class="p">},</span> <span class="p">{</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">}},</span> <span class="mi">100</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">);</span>
  <span class="c1">// similarily, add static obstacle by trackpos relative to given lanelet id</span>
  <span class="n">carma_wm</span><span class="o">::</span><span class="n">TrackPos</span> <span class="n">tp</span> <span class="o">=</span> <span class="p">{</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
  <span class="n">carma_wm</span><span class="o">::</span><span class="n">TrackPos</span> <span class="n">tp_pred</span> <span class="o">=</span> <span class="p">{</span><span class="mf">1.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">};</span>
  <span class="n">addObstacle</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="mi">1200</span><span class="p">,</span> <span class="n">cmw</span><span class="p">,</span> <span class="p">{},</span> <span class="mi">100</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">);</span>
  <span class="c1">// or add dynamic one, that is predicted to be at 1.5 downtrack and -0.25 crosstrack from </span>
  <span class="c1">// lanelet is 1200 at the next 100ms. NOTE: This function only works on getGuidanceTestMap</span>
  <span class="n">addObstacle</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="mi">1200</span><span class="p">,</span> <span class="n">cmw</span><span class="p">,</span> <span class="p">{</span><span class="n">tp_pred</span><span class="p">});</span>
<span class="p">}</span>

</code></pre></div></div>
<ul>
  <li>set route by giving series of lanelet or their Ids in the map</li>
  <li>or also overwrite the speed of the entire map</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="k">namespace</span> <span class="n">carma_wm</span><span class="o">::</span><span class="n">test</span>

<span class="nf">TEST</span><span class="p">(</span><span class="n">UserTest</span><span class="p">,</span> <span class="n">someTest</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">auto</span> <span class="n">cmw</span> <span class="o">=</span> <span class="n">getGuidanceTestMap</span><span class="p">(</span><span class="n">mp</span><span class="p">);</span>
  <span class="c1">// set the route explicitly with all lanelet ids</span>
  <span class="n">setRouteByIds</span><span class="p">({</span><span class="mi">1200</span><span class="p">,</span><span class="mi">1210</span><span class="p">,</span><span class="mi">1220</span><span class="p">,</span><span class="mi">1221</span><span class="p">,</span><span class="mi">1222</span><span class="p">,</span><span class="mi">1223</span><span class="p">},</span> <span class="n">cmw</span><span class="p">);</span>
  <span class="c1">// or let it route automatically by giving only start and end</span>
  <span class="n">setRouteByIds</span><span class="p">({</span><span class="mi">1200</span><span class="p">,</span> <span class="mi">1223</span><span class="p">},</span> <span class="n">cmw</span><span class="p">);</span>
  <span class="c1">// we can also give lanelets themselves</span>
  <span class="k">auto</span> <span class="n">ll_1200</span> <span class="o">=</span> <span class="n">cmw</span><span class="o">-&gt;</span><span class="n">getMap</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">laneletLayer</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1200</span><span class="p">);</span>
  <span class="k">auto</span> <span class="n">ll_1223</span> <span class="o">=</span> <span class="n">cmw</span><span class="o">-&gt;</span><span class="n">getMap</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">laneletLayer</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1223</span><span class="p">);</span>
  <span class="n">setRouteByLanelets</span><span class="p">({</span><span class="n">ll_100</span><span class="p">,</span> <span class="n">ll_1223</span><span class="p">},</span> <span class="n">cmw</span><span class="p">);</span>
  <span class="c1">// overwrite all the speed limit of the entire road</span>
  <span class="n">setSpeedLimit</span><span class="p">(</span><span class="mi">25</span><span class="n">_mph</span><span class="p">,</span> <span class="n">cmw</span><span class="p">);</span>
<span class="p">}</span>

</code></pre></div></div>
<ul>
  <li>add traffic light into the map</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="k">namespace</span> <span class="n">carma_wm</span><span class="o">::</span><span class="n">test</span>
<span class="nf">TEST</span><span class="p">(</span><span class="n">UserTest</span><span class="p">,</span> <span class="n">someTest</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">auto</span> <span class="n">cmw</span> <span class="o">=</span> <span class="n">getGuidanceTestMap</span><span class="p">(</span><span class="n">mp</span><span class="p">);</span>
  <span class="c1">// Light with default signal timers will be located on lanelet 1200 (entry) and exit at 1203.</span>
  <span class="c1">// Notice that multiple entry and exit lanelets can be given.</span>
  <span class="n">lanelet</span><span class="o">::</span><span class="n">Id</span> <span class="n">traffic_light_id</span> <span class="o">=</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">utils</span><span class="o">::</span><span class="n">getId</span><span class="p">();</span>
  <span class="n">carma_wm</span><span class="o">::</span><span class="n">test</span><span class="o">::</span><span class="n">addTrafficLight</span><span class="p">(</span><span class="n">cmw</span><span class="p">,</span> <span class="n">traffic_light_id</span><span class="p">,</span> <span class="p">{</span><span class="mi">1200</span><span class="p">},</span> <span class="p">{</span> <span class="mi">1203</span> <span class="p">});</span>
  
  <span class="c1">// also timing can be changed:</span>
  <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">boost</span><span class="o">::</span><span class="n">posix_time</span><span class="o">::</span><span class="n">ptime</span><span class="p">,</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">CarmaTrafficSignalState</span><span class="o">&gt;&gt;</span> <span class="n">timing_plan</span> <span class="o">=</span>
  <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="o">&lt;</span><span class="n">boost</span><span class="o">::</span><span class="n">posix_time</span><span class="o">::</span><span class="n">ptime</span><span class="p">,</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">CarmaTrafficSignalState</span><span class="o">&gt;</span><span class="p">(</span><span class="n">lanelet</span><span class="o">::</span><span class="n">time</span><span class="o">::</span><span class="n">timeFromSec</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">CarmaTrafficSignalState</span><span class="o">::</span><span class="n">PROTECTED_MOVEMENT_ALLOWED</span><span class="p">),</span> <span class="c1">// Just ended green</span>
    <span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="o">&lt;</span><span class="n">boost</span><span class="o">::</span><span class="n">posix_time</span><span class="o">::</span><span class="n">ptime</span><span class="p">,</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">CarmaTrafficSignalState</span><span class="o">&gt;</span><span class="p">(</span><span class="n">lanelet</span><span class="o">::</span><span class="n">time</span><span class="o">::</span><span class="n">timeFromSec</span><span class="p">(</span><span class="mf">2.0</span><span class="p">),</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">CarmaTrafficSignalState</span><span class="o">::</span><span class="n">PROTECTED_CLEARANCE</span><span class="p">),</span> <span class="c1">// 2 sec yellow</span>
    <span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="o">&lt;</span><span class="n">boost</span><span class="o">::</span><span class="n">posix_time</span><span class="o">::</span><span class="n">ptime</span><span class="p">,</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">CarmaTrafficSignalState</span><span class="o">&gt;</span><span class="p">(</span><span class="n">lanelet</span><span class="o">::</span><span class="n">time</span><span class="o">::</span><span class="n">timeFromSec</span><span class="p">(</span><span class="mf">17.0</span><span class="p">),</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">CarmaTrafficSignalState</span><span class="o">::</span><span class="n">STOP_AND_REMAIN</span><span class="p">),</span> <span class="c1">// 15 sec red</span>
    <span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="o">&lt;</span><span class="n">boost</span><span class="o">::</span><span class="n">posix_time</span><span class="o">::</span><span class="n">ptime</span><span class="p">,</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">CarmaTrafficSignalState</span><span class="o">&gt;</span><span class="p">(</span><span class="n">lanelet</span><span class="o">::</span><span class="n">time</span><span class="o">::</span><span class="n">timeFromSec</span><span class="p">(</span><span class="mf">32.0</span><span class="p">),</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">CarmaTrafficSignalState</span><span class="o">::</span><span class="n">PROTECTED_MOVEMENT_ALLOWED</span><span class="p">)</span> <span class="c1">// 15 sec green</span>
  <span class="p">}</span>
  <span class="n">lanelet</span><span class="o">::</span><span class="n">Id</span> <span class="n">traffic_light_id</span> <span class="o">=</span> <span class="n">lanelet</span><span class="o">::</span><span class="n">utils</span><span class="o">::</span><span class="n">getId</span><span class="p">();</span>
  <span class="n">carma_wm</span><span class="o">::</span><span class="n">test</span><span class="o">::</span><span class="n">addTrafficLight</span><span class="p">(</span><span class="n">cmw</span><span class="p">,</span> <span class="n">traffic_light_id</span><span class="p">,</span> <span class="p">{</span><span class="mi">1200</span><span class="p">},</span> <span class="p">{</span> <span class="mi">1203</span> <span class="p">},</span> <span class="n">timing_plan</span><span class="p">);</span>
<span class="p">}</span>

</code></pre></div></div>

</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <em>No CHANGELOG found.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="github-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/carma_wm/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="github-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center"></td>
                        <td>carma_cmake_common</td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#github-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#github">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_auto#github-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_auto#github">ament_cmake_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/launch#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/launch#github">launch  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/launch_ros#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/launch_ros#github">launch_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#github-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#github">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_gtest#github-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_gtest#github">ament_cmake_gtest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp#github">rclcpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center"></td>
                        <td>carma_ros2_utils</td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp_components#github-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp_components#github">rclcpp_components  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/std_srvs#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/std_srvs#github">std_srvs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/autoware_lanelet2_msgs#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/autoware_lanelet2_msgs#github">autoware_lanelet2_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/lanelet2_core#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/lanelet2_core#github">lanelet2_core  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/lanelet2_maps#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/lanelet2_maps#github">lanelet2_maps  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/lanelet2_traffic_rules#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/lanelet2_traffic_rules#github">lanelet2_traffic_rules  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/lanelet2_extension#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/lanelet2_extension#github">lanelet2_extension  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2#github">tf2  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#github">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center"></td>
                        <td>carma_perception_msgs</td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center"></td>
                        <td>carma_planning_msgs</td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center"></td>
                        <td>carma_v2x_msgs</td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center"></td>
                        <td>j2735_v2x_msgs</td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center"></td>
                        <td>carma_debug_ros2_msgs</td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rosgraph_msgs#github-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rosgraph_msgs#github">rosgraph_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center"></td>
                        <td>autoware_lanelet2_ros_interface</td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/approaching_emergency_vehicle_plugin#github">approaching_emergency_vehicle_plugin</a></td>
                      <td class="text-center">
                        
                        <a href="/p/approaching_emergency_vehicle_plugin#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/arbitrator#github">arbitrator</a></td>
                      <td class="text-center">
                        
                        <a href="/p/arbitrator#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/basic_autonomy#github">basic_autonomy</a></td>
                      <td class="text-center">
                        
                        <a href="/p/basic_autonomy#github-deps" >
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/carma_guidance_plugins#github">carma_guidance_plugins</a></td>
                      <td class="text-center">
                        
                        <a href="/p/carma_guidance_plugins#github-deps" >
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/carma_wm_ctrl#github">carma_wm_ctrl</a></td>
                      <td class="text-center">
                        
                        <a href="/p/carma_wm_ctrl#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/inlanecruising_plugin#github">inlanecruising_plugin</a></td>
                      <td class="text-center">
                        
                        <a href="/p/inlanecruising_plugin#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/lci_strategic_plugin#github">lci_strategic_plugin</a></td>
                      <td class="text-center">
                        
                        <a href="/p/lci_strategic_plugin#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/plan_delegator#github">plan_delegator</a></td>
                      <td class="text-center">
                        
                        <a href="/p/plan_delegator#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/platooning_strategic_ihp#github">platooning_strategic_ihp</a></td>
                      <td class="text-center">
                        
                        <a href="/p/platooning_strategic_ihp#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/platooning_tactical_plugin#github">platooning_tactical_plugin</a></td>
                      <td class="text-center">
                        
                        <a href="/p/platooning_tactical_plugin#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/pure_pursuit_wrapper#github">pure_pursuit_wrapper</a></td>
                      <td class="text-center">
                        
                        <a href="/p/pure_pursuit_wrapper#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/roadway_objects#github">roadway_objects</a></td>
                      <td class="text-center">
                        
                        <a href="/p/roadway_objects#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/route#github">route</a></td>
                      <td class="text-center">
                        
                        <a href="/p/route#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/route_following_plugin#github">route_following_plugin</a></td>
                      <td class="text-center">
                        
                        <a href="/p/route_following_plugin#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/sci_strategic_plugin#github">sci_strategic_plugin</a></td>
                      <td class="text-center">
                        
                        <a href="/p/sci_strategic_plugin#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/stop_and_dwell_strategic_plugin#github">stop_and_dwell_strategic_plugin</a></td>
                      <td class="text-center">
                        
                        <a href="/p/stop_and_dwell_strategic_plugin#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/stop_and_wait_plugin#github">stop_and_wait_plugin</a></td>
                      <td class="text-center">
                        
                        <a href="/p/stop_and_wait_plugin#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/stop_controlled_intersection_tactical_plugin#github">stop_controlled_intersection_tactical_plugin</a></td>
                      <td class="text-center">
                        
                        <a href="/p/stop_controlled_intersection_tactical_plugin#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/traffic_incident_parser#github">traffic_incident_parser</a></td>
                      <td class="text-center">
                        
                        <a href="/p/traffic_incident_parser#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                    
                    
                    <tr>
                      <td><a href="/p/yield_plugin#github">yield_plugin</a></td>
                      <td class="text-center">
                        
                        <a href="/p/yield_plugin#github-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="github-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="github-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>carma_wm</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="github-question-list" class="panel-body" style="display: none;"></div>
      <div id="github-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/carma_wm+github">here</a>.</p>
      </div>
      <div id="github-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/usdot-fhwa-stol/carma-platform.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/github/p/carma_wm"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/usdot-fhwa-stol/carma-platform/tree/develop/carma_wm"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/carma_wm?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/carma_wm?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=carma_wm&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "carma_wm"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
