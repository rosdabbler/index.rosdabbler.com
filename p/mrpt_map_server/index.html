<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: mrpt_map_server</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/mrpt_map_server/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">mrpt_map_server</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-primary" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-primary" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-primary" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-primary" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-default" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class=" older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/mrpt_map_server">mrpt_map_server</a> <small>package from <a style="text-decoration:none" href="/r/mrpt_navigation/github-mrpt-ros-pkg-mrpt_navigation">mrpt_navigation</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

mrpt_map_server
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_msgs_bridge">

mrpt_msgs_bridge
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_nav_interfaces">

mrpt_nav_interfaces
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_navigation">

mrpt_navigation
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_pf_localization">

mrpt_pf_localization
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_pointcloud_pipeline">

mrpt_pointcloud_pipeline
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_rawlog">

mrpt_rawlog
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_reactivenav2d">

mrpt_reactivenav2d
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_tps_astar_planner">

mrpt_tps_astar_planner
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_tutorials">

mrpt_tutorials
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/humble/p/mrpt_map_server"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="humble-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#humble-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#humble-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#humble-deps" data-toggle="tab"><span class="label label-primary">14</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#humble-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#humble-questions" data-toggle="tab"><span id="humble-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="humble-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>2.2.1</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS 2 nodes wrapping core MRPT functionality: localization, autonomous navigation, rawlogs, etc. SLAM is in other packages.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/mrpt-ros-pkg/mrpt_navigation.git">https://github.com/mrpt-ros-pkg/mrpt_navigation.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-14
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">c-plus-plus</span> <span class="label label-default">robotics</span> <span class="label label-default">navigation</span> <span class="label label-default">mapping</span> <span class="label label-default">ros</span> <span class="label label-default">robotics-libraries</span> <span class="label label-default">mrpt</span> <span class="label label-default">ros2</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/mrpt_navigation/#humble-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/mrpt_navigation/#humble-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/mrpt_navigation/#humble-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            This package provides a ROS 2 node that publishes a static map for other nodes to use it. Unlike classic ROS 1 ``map_server``, this node can publish a range of different metric maps, not only occupancy grids.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server">Website</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Markus Bader</li>
                
                  <li>Jose Luis Blanco-Claraco</li>
                
                  <li>Shravan S Rai</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/README.md" title="Open in git repository">mrpt_map_server/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="mrpt_map_server">mrpt_map_server</h1>

<h1 id="table-of-contents">Table of Contents</h1>
<ul>
  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Overview">Overview</a></li>
  <li>
<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Node:-mrpt_map_server">Node: mrpt_map_server</a>
    <ul>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Working-rationale">Working rationale</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#ROS-Parameters">ROS Parameters</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Subscribed-topics">Subscribed topics</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Published-topics">Published topics</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#services">Services</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Template-ROS-2-launch-files">Template ROS 2 launch files</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Demos">Demos</a></li>
</ul>

<h2 id="overview">Overview</h2>
<p>This package provides a ROS 2 node that publishes a static <strong>map</strong> for other nodes to use it.
Unlike classic ROS 1 <code class="language-plaintext highlighter-rouge">map_server</code>, this node can publish a range of different metric maps, not only occupancy grids.</p>

<h2 id="node-mrpt_map_server">Node: mrpt_map_server</h2>

<h3 id="working-rationale">Working rationale</h3>
<p>The C++ ROS 2 node loads all parameters at start up, loads the map
as requested by parameters, and publishes the metric map in the corresponding topics.
Messages are sent as transient local, so new subscribers can receive them even 
if they start afterwards.</p>

<p>There are <strong>three formats</strong> in which maps can be read:</p>

<ol>
  <li>
    <p>The <strong>preferred format</strong> is as an <a href="https://github.com/MOLAorg/mp2p_icp">mp2p_icp</a>’s metric map file (<code class="language-plaintext highlighter-rouge">*.mm</code>), normally generated
via <a href="https://github.com/MOLAorg/mp2p_icp/tree/master/apps/sm2mm">sm2mm</a> from a <a href="https://docs.mrpt.org/reference/latest/class_mrpt_maps_CSimpleMap.html">MRPT “simplemap”</a> (<code class="language-plaintext highlighter-rouge">*.simplemap</code>)
that comes from a SLAM session, e.g. using <a href="https://docs.mola-slam.org/latest/">mola_lidar_odometry</a>.</p>
  </li>
  <li>
    <p>As a <a href="https://wiki.ros.org/map_server">ROS standard YAML file</a>. Here, a <code class="language-plaintext highlighter-rouge">*.yaml</code> file specifies the metadata of a 2D occupancy gridmap,
which is stored as an accompanying image file. The map will be actually encapsulated into a <code class="language-plaintext highlighter-rouge">metric_map_t</code> map with layer name <code class="language-plaintext highlighter-rouge">map</code>.</p>
  </li>
  <li>
    <p>As a <a href="https://docs.mrpt.org/reference/latest/group_mrpt_serialization_grp.html">serialized</a> MRPT metric map file.
A <code class="language-plaintext highlighter-rouge">*.metricmap</code> file contains any of the existing 
<a href="https://docs.mrpt.org/reference/latest/group_mrpt_maps_grp.html">MRPT metric maps</a>
(point clouds, grid maps, etc.), which may come from custom applications or other SLAM packages.
The map will be actually encapsulated into a <code class="language-plaintext highlighter-rouge">metric_map_t</code> map with layer name <code class="language-plaintext highlighter-rouge">map</code>.</p>
  </li>
</ol>

<p>So, whatever is the map source, this node will internally build a <a href="https://docs.mola-slam.org/latest/mp2p_icp_basics.html"><code class="language-plaintext highlighter-rouge">metric_map_t</code></a>
with one or more map layers, so it gets published in a uniform way to subscribers.</p>

<p>Refer to example launch files at the end of this file for examples
of usage of each of these methods.</p>

<h3 id="ros-parameters">ROS Parameters</h3>

<h4 id="related-to-determining-where-to-read-the-map-from">Related to determining where to read the map from</h4>
<ul>
  <li>(Option 1 above) <code class="language-plaintext highlighter-rouge">mm_file</code> (Default=undefined). Determine the <code class="language-plaintext highlighter-rouge">metric_map_t</code> file to load, coming from <a href="https://github.com/MOLAorg/mp2p_icp/tree/master/apps/sm2mm">sm2mm</a> or any other custom user application using <code class="language-plaintext highlighter-rouge">mp2p_icp</code>.</li>
  <li>(Option 2 above) <code class="language-plaintext highlighter-rouge">map_yaml_file</code> (Default=undefined): Define this parameter to load a <a href="https://wiki.ros.org/map_server">ROS standard YAML file</a> gridmap.</li>
  <li>(Option 3 above) <code class="language-plaintext highlighter-rouge">mrpt_metricmap_file</code> (Default=undefined).</li>
</ul>

<h4 id="related-to-ros-published-topics">Related to ROS published topics:</h4>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">frame_id</code> (Default=<code class="language-plaintext highlighter-rouge">map</code>): TF frame.</li>
  <li>
<code class="language-plaintext highlighter-rouge">pub_mm_topic</code> (Default=<code class="language-plaintext highlighter-rouge">mrpt_map</code>). Despite the map source, it will be eventually stored as a <code class="language-plaintext highlighter-rouge">mp2p_icp</code>’s <code class="language-plaintext highlighter-rouge">metric_map_t</code> (<code class="language-plaintext highlighter-rouge">*.mm</code>) structure, then each layer will be published using its <strong>layer name</strong> as a <strong>topic name</strong> and with the appropriate type
(e.g. PointCloud2, OccupancyGrid,…). Also, the whole metric map is published as a generic serialized object to the topic defined by the 
parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>.</li>
</ul>

<h3 id="subscribed-topics">Subscribed topics</h3>
<p>None.</p>

<h3 id="published-topics">Published topics</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/metric_map</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/metric_map</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>) (topic name can be changed with parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/geo_ref</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/geo_ref</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>). An MRPT-serialization of <code class="language-plaintext highlighter-rouge">mp2p_icp::metric_map_t::Georeferencing</code> metadata (topic name can be changed with parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/geo_ref_metadata</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/geo_ref_metadata</code>)(<code class="language-plaintext highlighter-rouge">mrpt_nav_interfaces::msgs::msg::GeoreferencingMetadata</code>). A ROS plain message with the contents of <code class="language-plaintext highlighter-rouge">mp2p_icp::metric_map_t::Georeferencing</code> metadata.</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/&lt;LAYER_NAME&gt;</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_points</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs::msg::PointCloud2</code>), one per map layer.</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_gridmap</code> (<code class="language-plaintext highlighter-rouge">nav_msgs::msg::OccupancyGrid</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_gridmap_metadata</code> (<code class="language-plaintext highlighter-rouge">nav_msgs::msg::MapMetaData</code>)</li>
  <li>(… one per map layer …)</li>
</ul>

<p>If using options 2 or 3 above, there will be just one layer named <code class="language-plaintext highlighter-rouge">map</code>.</p>

<h3 id="published-tf-and-geo-referenced-maps">Published tf and geo-referenced maps</h3>
<p>Refer to <a href="https://docs.mola-slam.org/latest/geo-referencing.html">the documentation</a> within the MOLA project on geo-referencing for a description of the <code class="language-plaintext highlighter-rouge">utm</code> and <code class="language-plaintext highlighter-rouge">enu</code> frames,
defined by this package if fed with a <code class="language-plaintext highlighter-rouge">*.mm</code> file with geo-referenced metadata.</p>

<p><img src="https://github.com/user-attachments/assets/28f32aac-2c24-4857-9653-9890350fd90e" alt="mola_mrpt_ros_geo_referenced_utm_frames"></p>

<h3 id="services">Services</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetLayers</code>: Returns the list of map layer names:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example usage:</span>
ros2 service call /map_server_node/get_layers  mrpt_nav_interfaces/srv/GetLayers
requester: making request: mrpt_nav_interfaces.srv.GetLayers_Request<span class="o">()</span>

response:
mrpt_nav_interfaces.srv.GetLayers_Response<span class="o">(</span><span class="nv">layers</span><span class="o">=[</span><span class="s1">'map'</span><span class="o">])</span>

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetGridmapLayer</code>: Can be used to request a given map layer of type gridmap.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example usage:</span>
ros2 service call /map_server_node/get_grid_layer mrpt_nav_interfaces/srv/GetGridmapLayer <span class="s2">"layer_name:</span><span class="se">\</span><span class="s2">
 'map'"</span>
requester: making request: mrpt_nav_interfaces.srv.GetGridmapLayer_Request<span class="o">(</span><span class="nv">layer_name</span><span class="o">=</span><span class="s1">'map'</span><span class="o">)</span>

response:
mrpt_nav_interfaces.srv.GetGridmapLayer_Response<span class="o">(</span><span class="nv">valid</span><span class="o">=</span>True, <span class="nv">grid</span><span class="o">=</span>nav_msgs.msg.OccupancyGrid<span class="o">(</span>...

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetPointmapLayer</code>: Can be used to request a given map layer of type point cloud.</li>
</ul>

<h3 id="template-ros-2-launch-files">Template ROS 2 launch files</h3>

<p>This package provides <a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/launch/mrpt_map_server.launch.py">launch/mrpt_map_server.launch.py</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_map_server mrpt_map_server.launch.py
</code></pre></div></div>

<p>which can be used in user projects to launch the MRPT map server node, by setting these <a href="https://docs.ros.org/en/rolling/Tutorials/Intermediate/Launch/Using-Substitutions.html">launch arguments</a>:</p>

<h2 id="demos">Demos</h2>

<p>Launch a map server from a ROS yaml gridmap (<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/../mrpt_tutorials/launch/demo_map_server_gridmap_from_yaml.launch.py">launch file</a>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_tutorials demo_map_server_gridmap_from_yaml.launch.py

</code></pre></div></div>

<p>Launch a map server from a custom <code class="language-plaintext highlighter-rouge">.mm</code> map (<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/../mrpt_tutorials/launch/demo_map_server_from_mm.launch.py">launch file</a>), 
which in the launch file is read from the environment variable <code class="language-plaintext highlighter-rouge">MM_FILE</code>, so it can be used like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_tutorials demo_map_server_from_mm.launch.py mm_file:<span class="o">=</span>/path/to/my/map.mm

</code></pre></div></div>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-mrpt_map_server">Changelog for package mrpt_map_server</h1>

<h2 id="221-2024-10-12">2.2.1 (2024-10-12)</h2>

<h2 id="220-2024-09-25">2.2.0 (2024-09-25)</h2>

<ul>
  <li>Merge pull request
<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/issues/149">#149</a>
from mrpt-ros-pkg/feature/utm-coordinates Support UTM global
coordinates for geo-referenciated maps</li>
  <li>Update package.xml: minimum required version of mp2p_icp</li>
  <li>mrpt_map_server now publishes the map georeferenciation metadata,
as topics and /tf (frames: utm, enu)</li>
  <li>Update URL entries in package.xml to each package proper
documentation</li>
  <li>ament linters: manually enable just cmake and xml linters</li>
  <li>reformat clang-format with 100 column width</li>
  <li>Update README.md with geo-referenciation concepts</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="211-2024-09-02">2.1.1 (2024-09-02)</h2>

<ul>
  <li>Remove temporary workaround in &lt;depends&gt; for buggy
mrpt_libros_bridge package.xml</li>
  <li>update dependencies</li>
  <li>Depend on new mrpt_lib packages (deprecate mrpt2)</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
  <li>Remove temporary workaround in &lt;depends&gt; for buggy
mrpt_libros_bridge package.xml</li>
  <li>update dependencies</li>
  <li>Depend on new mrpt_lib packages (deprecate mrpt2)</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="210-2024-08-08">2.1.0 (2024-08-08)</h2>

<ul>
  <li>docs: typos and clarifications</li>
  <li>map server: simplify publication policy. Using transient local only
and never republishing them</li>
  <li>Merge branch 'ros2' into wip/port-tps-astar</li>
  <li>Merge branch 'ros2' into wip/port-tps-astar</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="201-2024-05-28">2.0.1 (2024-05-28)</h2>

<h2 id="200-2024-05-28">2.0.0 (2024-05-28)</h2>

<ul>
  <li>Implement map getter services</li>
  <li>Define map_server services</li>
  <li>Comply with ROS2 REP-2003</li>
  <li>new param force_republish_period</li>
  <li>map_server: publish voxelmaps as points too</li>
  <li>map_server: Implement publishing from .mm files</li>
  <li>Rename mrpt_map: mrpt_map_server</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="103-2022-06-25">1.0.3 (2022-06-25)</h2>

<h2 id="102-2022-06-25">1.0.2 (2022-06-25)</h2>

<h2 id="101-2022-06-24">1.0.1 (2022-06-24)</h2>

<ul>
  <li>Fix build errors</li>
  <li>Removed now obsolete tf_prefix</li>
  <li>Ported to tf2 and mrpt::ros1bridge</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="100-2022-04-30">1.0.0 (2022-04-30)</h2>

<ul>
  <li>Update URLs to https</li>
  <li>Update build dep to mrpt2</li>
  <li>Contributors: Jose Luis Blanco Claraco</li>
</ul>

<h2 id="0126-2019-10-05">0.1.26 (2019-10-05)</h2>

<h2 id="0125-2019-10-04">0.1.25 (2019-10-04)</h2>

<h2 id="0124-2019-04-12">0.1.24 (2019-04-12)</h2>

<ul>
  <li>fix build against mrpt-1.5</li>
  <li>Fix build against MRPT 1.9.9</li>
  <li>Contributors: Inounx, Jose Luis Blanco-Claraco, Julian Lopez
Velasquez</li>
</ul>

<h2 id="0123-2018-06-14">0.1.23 (2018-06-14)</h2>

<h2 id="0120-2018-04-26">0.1.20 (2018-04-26)</h2>

<ul>
  <li>fix build against mrpt 2.0</li>
  <li>partial fix build w mrpt 2.0</li>
  <li>optimized build (-O3)</li>
  <li>fix use c++14</li>
  <li>Merge branch 'master' of github.com:tuw-robotics/mrpt_navigation</li>
  <li>Merge branch 'master' into master</li>
  <li>CMake finds MRPT &gt;=1.5 in ROS master branch</li>
  <li>Merge branch 'master' into compat-mrpt-1.5</li>
  <li>CMake finds MRPT &gt;=1.9</li>
  <li>avoid Eigen warnings with GCC-7</li>
  <li>Removed unnecessry MRPT_VERSION checks</li>
  <li>Fixes for clang format</li>
  <li>Adapted CMakeLists to new mrpt</li>
  <li>Contributors: Borys Tymchenko, Jose Luis Blanco Claraco, Jose Luis
Blanco-Claraco, Markus Bader</li>
</ul>

<h2 id="0122-2018-05-22">0.1.22 (2018-05-22)</h2>

<ul>
  <li>fix all catkin_lint errors</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="0121-2018-04-27">0.1.21 (2018-04-27)</h2>

<ul>
  <li>Upgrade version 0.1.20
(<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/issues/99">#99</a>)</li>
  <li>fix build against mrpt 2.0</li>
  <li>partial fix build w mrpt 2.0</li>
  <li>optimized build (-O3)</li>
  <li>fix use c++14</li>
  <li>Merge branch 'master' of github.com:tuw-robotics/mrpt_navigation</li>
  <li>Merge branch 'master' into master</li>
  <li>CMake finds MRPT &gt;=1.5 in ROS master branch</li>
  <li>Merge branch 'master' into compat-mrpt-1.5</li>
  <li>CMake finds MRPT &gt;=1.9</li>
  <li>avoid Eigen warnings with GCC-7</li>
  <li>Removed unnecessry MRPT_VERSION checks</li>
  <li>Fixes for clang format</li>
  <li>Adapted CMakeLists to new mrpt</li>
  <li>Contributors: Borys Tymchenko, Hunter Laux, Jose Luis Blanco
Claraco, Jose Luis Blanco-Claraco, Markus Bader</li>
</ul>

<h2 id="0118-2017-01-22">0.1.18 (2017-01-22)</h2>

<h2 id="0117-2017-01-22">0.1.17 (2017-01-22)</h2>

<ul>
  <li>Remove all errors generated by catkin_lint and cleanup unused
templates from CMakeLists.txt files</li>
  <li>Contributors: Jorge Santos</li>
</ul>

<h2 id="0116-2016-12-13">0.1.16 (2016-12-13)</h2>

<h2 id="0115-2016-11-06">0.1.15 (2016-11-06)</h2>

<h2 id="0114-2016-09-12">0.1.14 (2016-09-12)</h2>

<h2 id="0113-2016-09-03">0.1.13 (2016-09-03)</h2>

<h2 id="0112-2016-09-03">0.1.12 (2016-09-03)</h2>

<h2 id="0111-2016-08-21">0.1.11 (2016-08-21)</h2>

<h2 id="0110-2016-08-05">0.1.10 (2016-08-05)</h2>

<h2 id="019-2016-08-05">0.1.9 (2016-08-05)</h2>

<h2 id="018-2016-06-29">0.1.8 (2016-06-29)</h2>

<h2 id="017-2016-06-20">0.1.7 (2016-06-20)</h2>

<h2 id="016-2016-03-20">0.1.6 (2016-03-20)</h2>

<ul>
  <li>build fixes</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="015-2015-04-29">0.1.5 (2015-04-29)</h2>

<ul>
  <li>Fix build against mrpt 1.3.0</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="014-2014-12-27">0.1.4 (2014-12-27)</h2>

<ul>
  <li>Removed 'mrpt' dep from catkin_package(). I <em>think</em> this is
giving problems to dependant pkgs and is not needed...</li>
  <li>localization: New param to configure sensor sources in a flexible
way</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="013-2014-12-18">0.1.3 (2014-12-18)</h2>

<ul>
  <li>Fix many missing install files</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="012-2014-12-18">0.1.2 (2014-12-18)</h2>

<h2 id="011-2014-12-17">0.1.1 (2014-12-17)</h2>

<ul>
  <li>First public binary release.</li>
</ul>

<h2 id="010-2014-12-17">0.1.0 (2014-12-17)</h2>

<ul>
  <li>consistent version numbers</li>
  <li>Fixes broken dependencies</li>
  <li>Update all wiki URLs</li>
  <li>Fix build with mrpt 1.2.x</li>
  <li>localization uses tf odom</li>
  <li>localization working like amcl</li>
  <li>mrpt_rawlog_play working</li>
  <li>ros mrpt convetion fnc renamed to convert</li>
  <li>rawlog player</li>
  <li>map publisher added but not yet working</li>
  <li>Contributors: Jose Luis Blanco, Jose-Luis Blanco-Claraco, Markus
Bader</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/mrpt_map_server/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#humble">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mp2p_icp#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mp2p_icp#humble">mp2p_icp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libobs#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libobs#humble">mrpt_libobs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libmaps#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libmaps#humble">mrpt_libmaps  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libros_bridge#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libros_bridge#humble">mrpt_libros_bridge  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_msgs#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_msgs#humble">mrpt_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_nav_interfaces#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_nav_interfaces#humble">mrpt_nav_interfaces  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp_components#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp_components#humble">rclcpp_components  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2#humble">tf2  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_ros#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_ros#humble">tf2_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#humble">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_lint_cmake#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_lint_cmake#humble">ament_cmake_lint_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_xmllint#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_xmllint#humble">ament_cmake_xmllint  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#humble-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#humble">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/mrpt_navigation#humble">mrpt_navigation</a></td>
                      <td class="text-center">
                        
                        <a href="/p/mrpt_navigation#humble-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="humble-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>mrpt_map_server</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="humble-question-list" class="panel-body" style="display: none;"></div>
      <div id="humble-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/mrpt_map_server+humble">here</a>.</p>
      </div>
      <div id="humble-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/mrpt-ros-pkg/mrpt_navigation.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/humble/p/mrpt_map_server"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/mrpt_map_server">mrpt_map_server</a> <small>package from <a style="text-decoration:none" href="/r/mrpt_navigation/github-mrpt-ros-pkg-mrpt_navigation">mrpt_navigation</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

mrpt_map_server
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_msgs_bridge">

mrpt_msgs_bridge
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_nav_interfaces">

mrpt_nav_interfaces
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_navigation">

mrpt_navigation
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_pf_localization">

mrpt_pf_localization
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_pointcloud_pipeline">

mrpt_pointcloud_pipeline
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_rawlog">

mrpt_rawlog
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_reactivenav2d">

mrpt_reactivenav2d
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_tps_astar_planner">

mrpt_tps_astar_planner
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_tutorials">

mrpt_tutorials
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/jazzy/p/mrpt_map_server"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="jazzy-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#jazzy-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#jazzy-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#jazzy-deps" data-toggle="tab"><span class="label label-primary">14</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#jazzy-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#jazzy-questions" data-toggle="tab"><span id="jazzy-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="jazzy-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>2.2.1</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS 2 nodes wrapping core MRPT functionality: localization, autonomous navigation, rawlogs, etc. SLAM is in other packages.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/mrpt-ros-pkg/mrpt_navigation.git">https://github.com/mrpt-ros-pkg/mrpt_navigation.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-14
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">c-plus-plus</span> <span class="label label-default">robotics</span> <span class="label label-default">navigation</span> <span class="label label-default">mapping</span> <span class="label label-default">ros</span> <span class="label label-default">robotics-libraries</span> <span class="label label-default">mrpt</span> <span class="label label-default">ros2</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/mrpt_navigation/#jazzy-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/mrpt_navigation/#jazzy-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/mrpt_navigation/#jazzy-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            This package provides a ROS 2 node that publishes a static map for other nodes to use it. Unlike classic ROS 1 ``map_server``, this node can publish a range of different metric maps, not only occupancy grids.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server">Website</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Markus Bader</li>
                
                  <li>Jose Luis Blanco-Claraco</li>
                
                  <li>Shravan S Rai</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/README.md" title="Open in git repository">mrpt_map_server/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="mrpt_map_server">mrpt_map_server</h1>

<h1 id="table-of-contents">Table of Contents</h1>
<ul>
  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Overview">Overview</a></li>
  <li>
<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Node:-mrpt_map_server">Node: mrpt_map_server</a>
    <ul>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Working-rationale">Working rationale</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#ROS-Parameters">ROS Parameters</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Subscribed-topics">Subscribed topics</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Published-topics">Published topics</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#services">Services</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Template-ROS-2-launch-files">Template ROS 2 launch files</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Demos">Demos</a></li>
</ul>

<h2 id="overview">Overview</h2>
<p>This package provides a ROS 2 node that publishes a static <strong>map</strong> for other nodes to use it.
Unlike classic ROS 1 <code class="language-plaintext highlighter-rouge">map_server</code>, this node can publish a range of different metric maps, not only occupancy grids.</p>

<h2 id="node-mrpt_map_server">Node: mrpt_map_server</h2>

<h3 id="working-rationale">Working rationale</h3>
<p>The C++ ROS 2 node loads all parameters at start up, loads the map
as requested by parameters, and publishes the metric map in the corresponding topics.
Messages are sent as transient local, so new subscribers can receive them even 
if they start afterwards.</p>

<p>There are <strong>three formats</strong> in which maps can be read:</p>

<ol>
  <li>
    <p>The <strong>preferred format</strong> is as an <a href="https://github.com/MOLAorg/mp2p_icp">mp2p_icp</a>’s metric map file (<code class="language-plaintext highlighter-rouge">*.mm</code>), normally generated
via <a href="https://github.com/MOLAorg/mp2p_icp/tree/master/apps/sm2mm">sm2mm</a> from a <a href="https://docs.mrpt.org/reference/latest/class_mrpt_maps_CSimpleMap.html">MRPT “simplemap”</a> (<code class="language-plaintext highlighter-rouge">*.simplemap</code>)
that comes from a SLAM session, e.g. using <a href="https://docs.mola-slam.org/latest/">mola_lidar_odometry</a>.</p>
  </li>
  <li>
    <p>As a <a href="https://wiki.ros.org/map_server">ROS standard YAML file</a>. Here, a <code class="language-plaintext highlighter-rouge">*.yaml</code> file specifies the metadata of a 2D occupancy gridmap,
which is stored as an accompanying image file. The map will be actually encapsulated into a <code class="language-plaintext highlighter-rouge">metric_map_t</code> map with layer name <code class="language-plaintext highlighter-rouge">map</code>.</p>
  </li>
  <li>
    <p>As a <a href="https://docs.mrpt.org/reference/latest/group_mrpt_serialization_grp.html">serialized</a> MRPT metric map file.
A <code class="language-plaintext highlighter-rouge">*.metricmap</code> file contains any of the existing 
<a href="https://docs.mrpt.org/reference/latest/group_mrpt_maps_grp.html">MRPT metric maps</a>
(point clouds, grid maps, etc.), which may come from custom applications or other SLAM packages.
The map will be actually encapsulated into a <code class="language-plaintext highlighter-rouge">metric_map_t</code> map with layer name <code class="language-plaintext highlighter-rouge">map</code>.</p>
  </li>
</ol>

<p>So, whatever is the map source, this node will internally build a <a href="https://docs.mola-slam.org/latest/mp2p_icp_basics.html"><code class="language-plaintext highlighter-rouge">metric_map_t</code></a>
with one or more map layers, so it gets published in a uniform way to subscribers.</p>

<p>Refer to example launch files at the end of this file for examples
of usage of each of these methods.</p>

<h3 id="ros-parameters">ROS Parameters</h3>

<h4 id="related-to-determining-where-to-read-the-map-from">Related to determining where to read the map from</h4>
<ul>
  <li>(Option 1 above) <code class="language-plaintext highlighter-rouge">mm_file</code> (Default=undefined). Determine the <code class="language-plaintext highlighter-rouge">metric_map_t</code> file to load, coming from <a href="https://github.com/MOLAorg/mp2p_icp/tree/master/apps/sm2mm">sm2mm</a> or any other custom user application using <code class="language-plaintext highlighter-rouge">mp2p_icp</code>.</li>
  <li>(Option 2 above) <code class="language-plaintext highlighter-rouge">map_yaml_file</code> (Default=undefined): Define this parameter to load a <a href="https://wiki.ros.org/map_server">ROS standard YAML file</a> gridmap.</li>
  <li>(Option 3 above) <code class="language-plaintext highlighter-rouge">mrpt_metricmap_file</code> (Default=undefined).</li>
</ul>

<h4 id="related-to-ros-published-topics">Related to ROS published topics:</h4>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">frame_id</code> (Default=<code class="language-plaintext highlighter-rouge">map</code>): TF frame.</li>
  <li>
<code class="language-plaintext highlighter-rouge">pub_mm_topic</code> (Default=<code class="language-plaintext highlighter-rouge">mrpt_map</code>). Despite the map source, it will be eventually stored as a <code class="language-plaintext highlighter-rouge">mp2p_icp</code>’s <code class="language-plaintext highlighter-rouge">metric_map_t</code> (<code class="language-plaintext highlighter-rouge">*.mm</code>) structure, then each layer will be published using its <strong>layer name</strong> as a <strong>topic name</strong> and with the appropriate type
(e.g. PointCloud2, OccupancyGrid,…). Also, the whole metric map is published as a generic serialized object to the topic defined by the 
parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>.</li>
</ul>

<h3 id="subscribed-topics">Subscribed topics</h3>
<p>None.</p>

<h3 id="published-topics">Published topics</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/metric_map</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/metric_map</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>) (topic name can be changed with parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/geo_ref</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/geo_ref</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>). An MRPT-serialization of <code class="language-plaintext highlighter-rouge">mp2p_icp::metric_map_t::Georeferencing</code> metadata (topic name can be changed with parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/geo_ref_metadata</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/geo_ref_metadata</code>)(<code class="language-plaintext highlighter-rouge">mrpt_nav_interfaces::msgs::msg::GeoreferencingMetadata</code>). A ROS plain message with the contents of <code class="language-plaintext highlighter-rouge">mp2p_icp::metric_map_t::Georeferencing</code> metadata.</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/&lt;LAYER_NAME&gt;</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_points</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs::msg::PointCloud2</code>), one per map layer.</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_gridmap</code> (<code class="language-plaintext highlighter-rouge">nav_msgs::msg::OccupancyGrid</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_gridmap_metadata</code> (<code class="language-plaintext highlighter-rouge">nav_msgs::msg::MapMetaData</code>)</li>
  <li>(… one per map layer …)</li>
</ul>

<p>If using options 2 or 3 above, there will be just one layer named <code class="language-plaintext highlighter-rouge">map</code>.</p>

<h3 id="published-tf-and-geo-referenced-maps">Published tf and geo-referenced maps</h3>
<p>Refer to <a href="https://docs.mola-slam.org/latest/geo-referencing.html">the documentation</a> within the MOLA project on geo-referencing for a description of the <code class="language-plaintext highlighter-rouge">utm</code> and <code class="language-plaintext highlighter-rouge">enu</code> frames,
defined by this package if fed with a <code class="language-plaintext highlighter-rouge">*.mm</code> file with geo-referenced metadata.</p>

<p><img src="https://github.com/user-attachments/assets/28f32aac-2c24-4857-9653-9890350fd90e" alt="mola_mrpt_ros_geo_referenced_utm_frames"></p>

<h3 id="services">Services</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetLayers</code>: Returns the list of map layer names:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example usage:</span>
ros2 service call /map_server_node/get_layers  mrpt_nav_interfaces/srv/GetLayers
requester: making request: mrpt_nav_interfaces.srv.GetLayers_Request<span class="o">()</span>

response:
mrpt_nav_interfaces.srv.GetLayers_Response<span class="o">(</span><span class="nv">layers</span><span class="o">=[</span><span class="s1">'map'</span><span class="o">])</span>

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetGridmapLayer</code>: Can be used to request a given map layer of type gridmap.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example usage:</span>
ros2 service call /map_server_node/get_grid_layer mrpt_nav_interfaces/srv/GetGridmapLayer <span class="s2">"layer_name:</span><span class="se">\</span><span class="s2">
 'map'"</span>
requester: making request: mrpt_nav_interfaces.srv.GetGridmapLayer_Request<span class="o">(</span><span class="nv">layer_name</span><span class="o">=</span><span class="s1">'map'</span><span class="o">)</span>

response:
mrpt_nav_interfaces.srv.GetGridmapLayer_Response<span class="o">(</span><span class="nv">valid</span><span class="o">=</span>True, <span class="nv">grid</span><span class="o">=</span>nav_msgs.msg.OccupancyGrid<span class="o">(</span>...

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetPointmapLayer</code>: Can be used to request a given map layer of type point cloud.</li>
</ul>

<h3 id="template-ros-2-launch-files">Template ROS 2 launch files</h3>

<p>This package provides <a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/launch/mrpt_map_server.launch.py">launch/mrpt_map_server.launch.py</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_map_server mrpt_map_server.launch.py
</code></pre></div></div>

<p>which can be used in user projects to launch the MRPT map server node, by setting these <a href="https://docs.ros.org/en/rolling/Tutorials/Intermediate/Launch/Using-Substitutions.html">launch arguments</a>:</p>

<h2 id="demos">Demos</h2>

<p>Launch a map server from a ROS yaml gridmap (<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/../mrpt_tutorials/launch/demo_map_server_gridmap_from_yaml.launch.py">launch file</a>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_tutorials demo_map_server_gridmap_from_yaml.launch.py

</code></pre></div></div>

<p>Launch a map server from a custom <code class="language-plaintext highlighter-rouge">.mm</code> map (<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/../mrpt_tutorials/launch/demo_map_server_from_mm.launch.py">launch file</a>), 
which in the launch file is read from the environment variable <code class="language-plaintext highlighter-rouge">MM_FILE</code>, so it can be used like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_tutorials demo_map_server_from_mm.launch.py mm_file:<span class="o">=</span>/path/to/my/map.mm

</code></pre></div></div>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-mrpt_map_server">Changelog for package mrpt_map_server</h1>

<h2 id="221-2024-10-12">2.2.1 (2024-10-12)</h2>

<h2 id="220-2024-09-25">2.2.0 (2024-09-25)</h2>

<ul>
  <li>Merge pull request
<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/issues/149">#149</a>
from mrpt-ros-pkg/feature/utm-coordinates Support UTM global
coordinates for geo-referenciated maps</li>
  <li>Update package.xml: minimum required version of mp2p_icp</li>
  <li>mrpt_map_server now publishes the map georeferenciation metadata,
as topics and /tf (frames: utm, enu)</li>
  <li>Update URL entries in package.xml to each package proper
documentation</li>
  <li>ament linters: manually enable just cmake and xml linters</li>
  <li>reformat clang-format with 100 column width</li>
  <li>Update README.md with geo-referenciation concepts</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="211-2024-09-02">2.1.1 (2024-09-02)</h2>

<ul>
  <li>Remove temporary workaround in &lt;depends&gt; for buggy
mrpt_libros_bridge package.xml</li>
  <li>update dependencies</li>
  <li>Depend on new mrpt_lib packages (deprecate mrpt2)</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
  <li>Remove temporary workaround in &lt;depends&gt; for buggy
mrpt_libros_bridge package.xml</li>
  <li>update dependencies</li>
  <li>Depend on new mrpt_lib packages (deprecate mrpt2)</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="210-2024-08-08">2.1.0 (2024-08-08)</h2>

<ul>
  <li>docs: typos and clarifications</li>
  <li>map server: simplify publication policy. Using transient local only
and never republishing them</li>
  <li>Merge branch 'ros2' into wip/port-tps-astar</li>
  <li>Merge branch 'ros2' into wip/port-tps-astar</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="201-2024-05-28">2.0.1 (2024-05-28)</h2>

<h2 id="200-2024-05-28">2.0.0 (2024-05-28)</h2>

<ul>
  <li>Implement map getter services</li>
  <li>Define map_server services</li>
  <li>Comply with ROS2 REP-2003</li>
  <li>new param force_republish_period</li>
  <li>map_server: publish voxelmaps as points too</li>
  <li>map_server: Implement publishing from .mm files</li>
  <li>Rename mrpt_map: mrpt_map_server</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="103-2022-06-25">1.0.3 (2022-06-25)</h2>

<h2 id="102-2022-06-25">1.0.2 (2022-06-25)</h2>

<h2 id="101-2022-06-24">1.0.1 (2022-06-24)</h2>

<ul>
  <li>Fix build errors</li>
  <li>Removed now obsolete tf_prefix</li>
  <li>Ported to tf2 and mrpt::ros1bridge</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="100-2022-04-30">1.0.0 (2022-04-30)</h2>

<ul>
  <li>Update URLs to https</li>
  <li>Update build dep to mrpt2</li>
  <li>Contributors: Jose Luis Blanco Claraco</li>
</ul>

<h2 id="0126-2019-10-05">0.1.26 (2019-10-05)</h2>

<h2 id="0125-2019-10-04">0.1.25 (2019-10-04)</h2>

<h2 id="0124-2019-04-12">0.1.24 (2019-04-12)</h2>

<ul>
  <li>fix build against mrpt-1.5</li>
  <li>Fix build against MRPT 1.9.9</li>
  <li>Contributors: Inounx, Jose Luis Blanco-Claraco, Julian Lopez
Velasquez</li>
</ul>

<h2 id="0123-2018-06-14">0.1.23 (2018-06-14)</h2>

<h2 id="0120-2018-04-26">0.1.20 (2018-04-26)</h2>

<ul>
  <li>fix build against mrpt 2.0</li>
  <li>partial fix build w mrpt 2.0</li>
  <li>optimized build (-O3)</li>
  <li>fix use c++14</li>
  <li>Merge branch 'master' of github.com:tuw-robotics/mrpt_navigation</li>
  <li>Merge branch 'master' into master</li>
  <li>CMake finds MRPT &gt;=1.5 in ROS master branch</li>
  <li>Merge branch 'master' into compat-mrpt-1.5</li>
  <li>CMake finds MRPT &gt;=1.9</li>
  <li>avoid Eigen warnings with GCC-7</li>
  <li>Removed unnecessry MRPT_VERSION checks</li>
  <li>Fixes for clang format</li>
  <li>Adapted CMakeLists to new mrpt</li>
  <li>Contributors: Borys Tymchenko, Jose Luis Blanco Claraco, Jose Luis
Blanco-Claraco, Markus Bader</li>
</ul>

<h2 id="0122-2018-05-22">0.1.22 (2018-05-22)</h2>

<ul>
  <li>fix all catkin_lint errors</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="0121-2018-04-27">0.1.21 (2018-04-27)</h2>

<ul>
  <li>Upgrade version 0.1.20
(<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/issues/99">#99</a>)</li>
  <li>fix build against mrpt 2.0</li>
  <li>partial fix build w mrpt 2.0</li>
  <li>optimized build (-O3)</li>
  <li>fix use c++14</li>
  <li>Merge branch 'master' of github.com:tuw-robotics/mrpt_navigation</li>
  <li>Merge branch 'master' into master</li>
  <li>CMake finds MRPT &gt;=1.5 in ROS master branch</li>
  <li>Merge branch 'master' into compat-mrpt-1.5</li>
  <li>CMake finds MRPT &gt;=1.9</li>
  <li>avoid Eigen warnings with GCC-7</li>
  <li>Removed unnecessry MRPT_VERSION checks</li>
  <li>Fixes for clang format</li>
  <li>Adapted CMakeLists to new mrpt</li>
  <li>Contributors: Borys Tymchenko, Hunter Laux, Jose Luis Blanco
Claraco, Jose Luis Blanco-Claraco, Markus Bader</li>
</ul>

<h2 id="0118-2017-01-22">0.1.18 (2017-01-22)</h2>

<h2 id="0117-2017-01-22">0.1.17 (2017-01-22)</h2>

<ul>
  <li>Remove all errors generated by catkin_lint and cleanup unused
templates from CMakeLists.txt files</li>
  <li>Contributors: Jorge Santos</li>
</ul>

<h2 id="0116-2016-12-13">0.1.16 (2016-12-13)</h2>

<h2 id="0115-2016-11-06">0.1.15 (2016-11-06)</h2>

<h2 id="0114-2016-09-12">0.1.14 (2016-09-12)</h2>

<h2 id="0113-2016-09-03">0.1.13 (2016-09-03)</h2>

<h2 id="0112-2016-09-03">0.1.12 (2016-09-03)</h2>

<h2 id="0111-2016-08-21">0.1.11 (2016-08-21)</h2>

<h2 id="0110-2016-08-05">0.1.10 (2016-08-05)</h2>

<h2 id="019-2016-08-05">0.1.9 (2016-08-05)</h2>

<h2 id="018-2016-06-29">0.1.8 (2016-06-29)</h2>

<h2 id="017-2016-06-20">0.1.7 (2016-06-20)</h2>

<h2 id="016-2016-03-20">0.1.6 (2016-03-20)</h2>

<ul>
  <li>build fixes</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="015-2015-04-29">0.1.5 (2015-04-29)</h2>

<ul>
  <li>Fix build against mrpt 1.3.0</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="014-2014-12-27">0.1.4 (2014-12-27)</h2>

<ul>
  <li>Removed 'mrpt' dep from catkin_package(). I <em>think</em> this is
giving problems to dependant pkgs and is not needed...</li>
  <li>localization: New param to configure sensor sources in a flexible
way</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="013-2014-12-18">0.1.3 (2014-12-18)</h2>

<ul>
  <li>Fix many missing install files</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="012-2014-12-18">0.1.2 (2014-12-18)</h2>

<h2 id="011-2014-12-17">0.1.1 (2014-12-17)</h2>

<ul>
  <li>First public binary release.</li>
</ul>

<h2 id="010-2014-12-17">0.1.0 (2014-12-17)</h2>

<ul>
  <li>consistent version numbers</li>
  <li>Fixes broken dependencies</li>
  <li>Update all wiki URLs</li>
  <li>Fix build with mrpt 1.2.x</li>
  <li>localization uses tf odom</li>
  <li>localization working like amcl</li>
  <li>mrpt_rawlog_play working</li>
  <li>ros mrpt convetion fnc renamed to convert</li>
  <li>rawlog player</li>
  <li>map publisher added but not yet working</li>
  <li>Contributors: Jose Luis Blanco, Jose-Luis Blanco-Claraco, Markus
Bader</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/mrpt_map_server/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#jazzy">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mp2p_icp#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mp2p_icp#jazzy">mp2p_icp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libobs#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libobs#jazzy">mrpt_libobs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libmaps#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libmaps#jazzy">mrpt_libmaps  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libros_bridge#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libros_bridge#jazzy">mrpt_libros_bridge  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_msgs#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_msgs#jazzy">mrpt_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_nav_interfaces#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_nav_interfaces#jazzy">mrpt_nav_interfaces  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp_components#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp_components#jazzy">rclcpp_components  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2#jazzy">tf2  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_ros#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_ros#jazzy">tf2_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#jazzy">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_lint_cmake#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_lint_cmake#jazzy">ament_cmake_lint_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_xmllint#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_xmllint#jazzy">ament_cmake_xmllint  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#jazzy-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#jazzy">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/mrpt_navigation#jazzy">mrpt_navigation</a></td>
                      <td class="text-center">
                        
                        <a href="/p/mrpt_navigation#jazzy-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jazzy-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>mrpt_map_server</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="jazzy-question-list" class="panel-body" style="display: none;"></div>
      <div id="jazzy-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/mrpt_map_server+jazzy">here</a>.</p>
      </div>
      <div id="jazzy-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/mrpt-ros-pkg/mrpt_navigation.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/jazzy/p/mrpt_map_server"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/mrpt_map_server">mrpt_map_server</a> <small>package from <a style="text-decoration:none" href="/r/mrpt_navigation/github-mrpt-ros-pkg-mrpt_navigation">mrpt_navigation</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

mrpt_map_server
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_msgs_bridge">

mrpt_msgs_bridge
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_nav_interfaces">

mrpt_nav_interfaces
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_navigation">

mrpt_navigation
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_pf_localization">

mrpt_pf_localization
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_pointcloud_pipeline">

mrpt_pointcloud_pipeline
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_rawlog">

mrpt_rawlog
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_reactivenav2d">

mrpt_reactivenav2d
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_tps_astar_planner">

mrpt_tps_astar_planner
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_tutorials">

mrpt_tutorials
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/kilted/p/mrpt_map_server"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="kilted-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#kilted-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#kilted-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#kilted-deps" data-toggle="tab"><span class="label label-primary">14</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#kilted-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#kilted-questions" data-toggle="tab"><span id="kilted-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="kilted-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>2.2.1</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS 2 nodes wrapping core MRPT functionality: localization, autonomous navigation, rawlogs, etc. SLAM is in other packages.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/mrpt-ros-pkg/mrpt_navigation.git">https://github.com/mrpt-ros-pkg/mrpt_navigation.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-14
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">c-plus-plus</span> <span class="label label-default">robotics</span> <span class="label label-default">navigation</span> <span class="label label-default">mapping</span> <span class="label label-default">ros</span> <span class="label label-default">robotics-libraries</span> <span class="label label-default">mrpt</span> <span class="label label-default">ros2</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/mrpt_navigation/#kilted-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/mrpt_navigation/#kilted-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/mrpt_navigation/#kilted-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            This package provides a ROS 2 node that publishes a static map for other nodes to use it. Unlike classic ROS 1 ``map_server``, this node can publish a range of different metric maps, not only occupancy grids.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server">Website</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Markus Bader</li>
                
                  <li>Jose Luis Blanco-Claraco</li>
                
                  <li>Shravan S Rai</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/README.md" title="Open in git repository">mrpt_map_server/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="mrpt_map_server">mrpt_map_server</h1>

<h1 id="table-of-contents">Table of Contents</h1>
<ul>
  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Overview">Overview</a></li>
  <li>
<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Node:-mrpt_map_server">Node: mrpt_map_server</a>
    <ul>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Working-rationale">Working rationale</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#ROS-Parameters">ROS Parameters</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Subscribed-topics">Subscribed topics</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Published-topics">Published topics</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#services">Services</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Template-ROS-2-launch-files">Template ROS 2 launch files</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Demos">Demos</a></li>
</ul>

<h2 id="overview">Overview</h2>
<p>This package provides a ROS 2 node that publishes a static <strong>map</strong> for other nodes to use it.
Unlike classic ROS 1 <code class="language-plaintext highlighter-rouge">map_server</code>, this node can publish a range of different metric maps, not only occupancy grids.</p>

<h2 id="node-mrpt_map_server">Node: mrpt_map_server</h2>

<h3 id="working-rationale">Working rationale</h3>
<p>The C++ ROS 2 node loads all parameters at start up, loads the map
as requested by parameters, and publishes the metric map in the corresponding topics.
Messages are sent as transient local, so new subscribers can receive them even 
if they start afterwards.</p>

<p>There are <strong>three formats</strong> in which maps can be read:</p>

<ol>
  <li>
    <p>The <strong>preferred format</strong> is as an <a href="https://github.com/MOLAorg/mp2p_icp">mp2p_icp</a>’s metric map file (<code class="language-plaintext highlighter-rouge">*.mm</code>), normally generated
via <a href="https://github.com/MOLAorg/mp2p_icp/tree/master/apps/sm2mm">sm2mm</a> from a <a href="https://docs.mrpt.org/reference/latest/class_mrpt_maps_CSimpleMap.html">MRPT “simplemap”</a> (<code class="language-plaintext highlighter-rouge">*.simplemap</code>)
that comes from a SLAM session, e.g. using <a href="https://docs.mola-slam.org/latest/">mola_lidar_odometry</a>.</p>
  </li>
  <li>
    <p>As a <a href="https://wiki.ros.org/map_server">ROS standard YAML file</a>. Here, a <code class="language-plaintext highlighter-rouge">*.yaml</code> file specifies the metadata of a 2D occupancy gridmap,
which is stored as an accompanying image file. The map will be actually encapsulated into a <code class="language-plaintext highlighter-rouge">metric_map_t</code> map with layer name <code class="language-plaintext highlighter-rouge">map</code>.</p>
  </li>
  <li>
    <p>As a <a href="https://docs.mrpt.org/reference/latest/group_mrpt_serialization_grp.html">serialized</a> MRPT metric map file.
A <code class="language-plaintext highlighter-rouge">*.metricmap</code> file contains any of the existing 
<a href="https://docs.mrpt.org/reference/latest/group_mrpt_maps_grp.html">MRPT metric maps</a>
(point clouds, grid maps, etc.), which may come from custom applications or other SLAM packages.
The map will be actually encapsulated into a <code class="language-plaintext highlighter-rouge">metric_map_t</code> map with layer name <code class="language-plaintext highlighter-rouge">map</code>.</p>
  </li>
</ol>

<p>So, whatever is the map source, this node will internally build a <a href="https://docs.mola-slam.org/latest/mp2p_icp_basics.html"><code class="language-plaintext highlighter-rouge">metric_map_t</code></a>
with one or more map layers, so it gets published in a uniform way to subscribers.</p>

<p>Refer to example launch files at the end of this file for examples
of usage of each of these methods.</p>

<h3 id="ros-parameters">ROS Parameters</h3>

<h4 id="related-to-determining-where-to-read-the-map-from">Related to determining where to read the map from</h4>
<ul>
  <li>(Option 1 above) <code class="language-plaintext highlighter-rouge">mm_file</code> (Default=undefined). Determine the <code class="language-plaintext highlighter-rouge">metric_map_t</code> file to load, coming from <a href="https://github.com/MOLAorg/mp2p_icp/tree/master/apps/sm2mm">sm2mm</a> or any other custom user application using <code class="language-plaintext highlighter-rouge">mp2p_icp</code>.</li>
  <li>(Option 2 above) <code class="language-plaintext highlighter-rouge">map_yaml_file</code> (Default=undefined): Define this parameter to load a <a href="https://wiki.ros.org/map_server">ROS standard YAML file</a> gridmap.</li>
  <li>(Option 3 above) <code class="language-plaintext highlighter-rouge">mrpt_metricmap_file</code> (Default=undefined).</li>
</ul>

<h4 id="related-to-ros-published-topics">Related to ROS published topics:</h4>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">frame_id</code> (Default=<code class="language-plaintext highlighter-rouge">map</code>): TF frame.</li>
  <li>
<code class="language-plaintext highlighter-rouge">pub_mm_topic</code> (Default=<code class="language-plaintext highlighter-rouge">mrpt_map</code>). Despite the map source, it will be eventually stored as a <code class="language-plaintext highlighter-rouge">mp2p_icp</code>’s <code class="language-plaintext highlighter-rouge">metric_map_t</code> (<code class="language-plaintext highlighter-rouge">*.mm</code>) structure, then each layer will be published using its <strong>layer name</strong> as a <strong>topic name</strong> and with the appropriate type
(e.g. PointCloud2, OccupancyGrid,…). Also, the whole metric map is published as a generic serialized object to the topic defined by the 
parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>.</li>
</ul>

<h3 id="subscribed-topics">Subscribed topics</h3>
<p>None.</p>

<h3 id="published-topics">Published topics</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/metric_map</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/metric_map</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>) (topic name can be changed with parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/geo_ref</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/geo_ref</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>). An MRPT-serialization of <code class="language-plaintext highlighter-rouge">mp2p_icp::metric_map_t::Georeferencing</code> metadata (topic name can be changed with parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/geo_ref_metadata</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/geo_ref_metadata</code>)(<code class="language-plaintext highlighter-rouge">mrpt_nav_interfaces::msgs::msg::GeoreferencingMetadata</code>). A ROS plain message with the contents of <code class="language-plaintext highlighter-rouge">mp2p_icp::metric_map_t::Georeferencing</code> metadata.</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/&lt;LAYER_NAME&gt;</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_points</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs::msg::PointCloud2</code>), one per map layer.</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_gridmap</code> (<code class="language-plaintext highlighter-rouge">nav_msgs::msg::OccupancyGrid</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_gridmap_metadata</code> (<code class="language-plaintext highlighter-rouge">nav_msgs::msg::MapMetaData</code>)</li>
  <li>(… one per map layer …)</li>
</ul>

<p>If using options 2 or 3 above, there will be just one layer named <code class="language-plaintext highlighter-rouge">map</code>.</p>

<h3 id="published-tf-and-geo-referenced-maps">Published tf and geo-referenced maps</h3>
<p>Refer to <a href="https://docs.mola-slam.org/latest/geo-referencing.html">the documentation</a> within the MOLA project on geo-referencing for a description of the <code class="language-plaintext highlighter-rouge">utm</code> and <code class="language-plaintext highlighter-rouge">enu</code> frames,
defined by this package if fed with a <code class="language-plaintext highlighter-rouge">*.mm</code> file with geo-referenced metadata.</p>

<p><img src="https://github.com/user-attachments/assets/28f32aac-2c24-4857-9653-9890350fd90e" alt="mola_mrpt_ros_geo_referenced_utm_frames"></p>

<h3 id="services">Services</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetLayers</code>: Returns the list of map layer names:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example usage:</span>
ros2 service call /map_server_node/get_layers  mrpt_nav_interfaces/srv/GetLayers
requester: making request: mrpt_nav_interfaces.srv.GetLayers_Request<span class="o">()</span>

response:
mrpt_nav_interfaces.srv.GetLayers_Response<span class="o">(</span><span class="nv">layers</span><span class="o">=[</span><span class="s1">'map'</span><span class="o">])</span>

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetGridmapLayer</code>: Can be used to request a given map layer of type gridmap.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example usage:</span>
ros2 service call /map_server_node/get_grid_layer mrpt_nav_interfaces/srv/GetGridmapLayer <span class="s2">"layer_name:</span><span class="se">\</span><span class="s2">
 'map'"</span>
requester: making request: mrpt_nav_interfaces.srv.GetGridmapLayer_Request<span class="o">(</span><span class="nv">layer_name</span><span class="o">=</span><span class="s1">'map'</span><span class="o">)</span>

response:
mrpt_nav_interfaces.srv.GetGridmapLayer_Response<span class="o">(</span><span class="nv">valid</span><span class="o">=</span>True, <span class="nv">grid</span><span class="o">=</span>nav_msgs.msg.OccupancyGrid<span class="o">(</span>...

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetPointmapLayer</code>: Can be used to request a given map layer of type point cloud.</li>
</ul>

<h3 id="template-ros-2-launch-files">Template ROS 2 launch files</h3>

<p>This package provides <a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/launch/mrpt_map_server.launch.py">launch/mrpt_map_server.launch.py</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_map_server mrpt_map_server.launch.py
</code></pre></div></div>

<p>which can be used in user projects to launch the MRPT map server node, by setting these <a href="https://docs.ros.org/en/rolling/Tutorials/Intermediate/Launch/Using-Substitutions.html">launch arguments</a>:</p>

<h2 id="demos">Demos</h2>

<p>Launch a map server from a ROS yaml gridmap (<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/../mrpt_tutorials/launch/demo_map_server_gridmap_from_yaml.launch.py">launch file</a>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_tutorials demo_map_server_gridmap_from_yaml.launch.py

</code></pre></div></div>

<p>Launch a map server from a custom <code class="language-plaintext highlighter-rouge">.mm</code> map (<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/../mrpt_tutorials/launch/demo_map_server_from_mm.launch.py">launch file</a>), 
which in the launch file is read from the environment variable <code class="language-plaintext highlighter-rouge">MM_FILE</code>, so it can be used like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_tutorials demo_map_server_from_mm.launch.py mm_file:<span class="o">=</span>/path/to/my/map.mm

</code></pre></div></div>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-mrpt_map_server">Changelog for package mrpt_map_server</h1>

<h2 id="221-2024-10-12">2.2.1 (2024-10-12)</h2>

<h2 id="220-2024-09-25">2.2.0 (2024-09-25)</h2>

<ul>
  <li>Merge pull request
<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/issues/149">#149</a>
from mrpt-ros-pkg/feature/utm-coordinates Support UTM global
coordinates for geo-referenciated maps</li>
  <li>Update package.xml: minimum required version of mp2p_icp</li>
  <li>mrpt_map_server now publishes the map georeferenciation metadata,
as topics and /tf (frames: utm, enu)</li>
  <li>Update URL entries in package.xml to each package proper
documentation</li>
  <li>ament linters: manually enable just cmake and xml linters</li>
  <li>reformat clang-format with 100 column width</li>
  <li>Update README.md with geo-referenciation concepts</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="211-2024-09-02">2.1.1 (2024-09-02)</h2>

<ul>
  <li>Remove temporary workaround in &lt;depends&gt; for buggy
mrpt_libros_bridge package.xml</li>
  <li>update dependencies</li>
  <li>Depend on new mrpt_lib packages (deprecate mrpt2)</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
  <li>Remove temporary workaround in &lt;depends&gt; for buggy
mrpt_libros_bridge package.xml</li>
  <li>update dependencies</li>
  <li>Depend on new mrpt_lib packages (deprecate mrpt2)</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="210-2024-08-08">2.1.0 (2024-08-08)</h2>

<ul>
  <li>docs: typos and clarifications</li>
  <li>map server: simplify publication policy. Using transient local only
and never republishing them</li>
  <li>Merge branch 'ros2' into wip/port-tps-astar</li>
  <li>Merge branch 'ros2' into wip/port-tps-astar</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="201-2024-05-28">2.0.1 (2024-05-28)</h2>

<h2 id="200-2024-05-28">2.0.0 (2024-05-28)</h2>

<ul>
  <li>Implement map getter services</li>
  <li>Define map_server services</li>
  <li>Comply with ROS2 REP-2003</li>
  <li>new param force_republish_period</li>
  <li>map_server: publish voxelmaps as points too</li>
  <li>map_server: Implement publishing from .mm files</li>
  <li>Rename mrpt_map: mrpt_map_server</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="103-2022-06-25">1.0.3 (2022-06-25)</h2>

<h2 id="102-2022-06-25">1.0.2 (2022-06-25)</h2>

<h2 id="101-2022-06-24">1.0.1 (2022-06-24)</h2>

<ul>
  <li>Fix build errors</li>
  <li>Removed now obsolete tf_prefix</li>
  <li>Ported to tf2 and mrpt::ros1bridge</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="100-2022-04-30">1.0.0 (2022-04-30)</h2>

<ul>
  <li>Update URLs to https</li>
  <li>Update build dep to mrpt2</li>
  <li>Contributors: Jose Luis Blanco Claraco</li>
</ul>

<h2 id="0126-2019-10-05">0.1.26 (2019-10-05)</h2>

<h2 id="0125-2019-10-04">0.1.25 (2019-10-04)</h2>

<h2 id="0124-2019-04-12">0.1.24 (2019-04-12)</h2>

<ul>
  <li>fix build against mrpt-1.5</li>
  <li>Fix build against MRPT 1.9.9</li>
  <li>Contributors: Inounx, Jose Luis Blanco-Claraco, Julian Lopez
Velasquez</li>
</ul>

<h2 id="0123-2018-06-14">0.1.23 (2018-06-14)</h2>

<h2 id="0120-2018-04-26">0.1.20 (2018-04-26)</h2>

<ul>
  <li>fix build against mrpt 2.0</li>
  <li>partial fix build w mrpt 2.0</li>
  <li>optimized build (-O3)</li>
  <li>fix use c++14</li>
  <li>Merge branch 'master' of github.com:tuw-robotics/mrpt_navigation</li>
  <li>Merge branch 'master' into master</li>
  <li>CMake finds MRPT &gt;=1.5 in ROS master branch</li>
  <li>Merge branch 'master' into compat-mrpt-1.5</li>
  <li>CMake finds MRPT &gt;=1.9</li>
  <li>avoid Eigen warnings with GCC-7</li>
  <li>Removed unnecessry MRPT_VERSION checks</li>
  <li>Fixes for clang format</li>
  <li>Adapted CMakeLists to new mrpt</li>
  <li>Contributors: Borys Tymchenko, Jose Luis Blanco Claraco, Jose Luis
Blanco-Claraco, Markus Bader</li>
</ul>

<h2 id="0122-2018-05-22">0.1.22 (2018-05-22)</h2>

<ul>
  <li>fix all catkin_lint errors</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="0121-2018-04-27">0.1.21 (2018-04-27)</h2>

<ul>
  <li>Upgrade version 0.1.20
(<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/issues/99">#99</a>)</li>
  <li>fix build against mrpt 2.0</li>
  <li>partial fix build w mrpt 2.0</li>
  <li>optimized build (-O3)</li>
  <li>fix use c++14</li>
  <li>Merge branch 'master' of github.com:tuw-robotics/mrpt_navigation</li>
  <li>Merge branch 'master' into master</li>
  <li>CMake finds MRPT &gt;=1.5 in ROS master branch</li>
  <li>Merge branch 'master' into compat-mrpt-1.5</li>
  <li>CMake finds MRPT &gt;=1.9</li>
  <li>avoid Eigen warnings with GCC-7</li>
  <li>Removed unnecessry MRPT_VERSION checks</li>
  <li>Fixes for clang format</li>
  <li>Adapted CMakeLists to new mrpt</li>
  <li>Contributors: Borys Tymchenko, Hunter Laux, Jose Luis Blanco
Claraco, Jose Luis Blanco-Claraco, Markus Bader</li>
</ul>

<h2 id="0118-2017-01-22">0.1.18 (2017-01-22)</h2>

<h2 id="0117-2017-01-22">0.1.17 (2017-01-22)</h2>

<ul>
  <li>Remove all errors generated by catkin_lint and cleanup unused
templates from CMakeLists.txt files</li>
  <li>Contributors: Jorge Santos</li>
</ul>

<h2 id="0116-2016-12-13">0.1.16 (2016-12-13)</h2>

<h2 id="0115-2016-11-06">0.1.15 (2016-11-06)</h2>

<h2 id="0114-2016-09-12">0.1.14 (2016-09-12)</h2>

<h2 id="0113-2016-09-03">0.1.13 (2016-09-03)</h2>

<h2 id="0112-2016-09-03">0.1.12 (2016-09-03)</h2>

<h2 id="0111-2016-08-21">0.1.11 (2016-08-21)</h2>

<h2 id="0110-2016-08-05">0.1.10 (2016-08-05)</h2>

<h2 id="019-2016-08-05">0.1.9 (2016-08-05)</h2>

<h2 id="018-2016-06-29">0.1.8 (2016-06-29)</h2>

<h2 id="017-2016-06-20">0.1.7 (2016-06-20)</h2>

<h2 id="016-2016-03-20">0.1.6 (2016-03-20)</h2>

<ul>
  <li>build fixes</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="015-2015-04-29">0.1.5 (2015-04-29)</h2>

<ul>
  <li>Fix build against mrpt 1.3.0</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="014-2014-12-27">0.1.4 (2014-12-27)</h2>

<ul>
  <li>Removed 'mrpt' dep from catkin_package(). I <em>think</em> this is
giving problems to dependant pkgs and is not needed...</li>
  <li>localization: New param to configure sensor sources in a flexible
way</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="013-2014-12-18">0.1.3 (2014-12-18)</h2>

<ul>
  <li>Fix many missing install files</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="012-2014-12-18">0.1.2 (2014-12-18)</h2>

<h2 id="011-2014-12-17">0.1.1 (2014-12-17)</h2>

<ul>
  <li>First public binary release.</li>
</ul>

<h2 id="010-2014-12-17">0.1.0 (2014-12-17)</h2>

<ul>
  <li>consistent version numbers</li>
  <li>Fixes broken dependencies</li>
  <li>Update all wiki URLs</li>
  <li>Fix build with mrpt 1.2.x</li>
  <li>localization uses tf odom</li>
  <li>localization working like amcl</li>
  <li>mrpt_rawlog_play working</li>
  <li>ros mrpt convetion fnc renamed to convert</li>
  <li>rawlog player</li>
  <li>map publisher added but not yet working</li>
  <li>Contributors: Jose Luis Blanco, Jose-Luis Blanco-Claraco, Markus
Bader</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/mrpt_map_server/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#kilted">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mp2p_icp#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mp2p_icp#kilted">mp2p_icp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libobs#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libobs#kilted">mrpt_libobs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libmaps#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libmaps#kilted">mrpt_libmaps  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libros_bridge#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libros_bridge#kilted">mrpt_libros_bridge  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_msgs#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_msgs#kilted">mrpt_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_nav_interfaces#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_nav_interfaces#kilted">mrpt_nav_interfaces  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp_components#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp_components#kilted">rclcpp_components  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2#kilted">tf2  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_ros#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_ros#kilted">tf2_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#kilted">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_lint_cmake#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_lint_cmake#kilted">ament_cmake_lint_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_xmllint#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_xmllint#kilted">ament_cmake_xmllint  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#kilted-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#kilted">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/mrpt_navigation#kilted">mrpt_navigation</a></td>
                      <td class="text-center">
                        
                        <a href="/p/mrpt_navigation#kilted-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kilted-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>mrpt_map_server</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="kilted-question-list" class="panel-body" style="display: none;"></div>
      <div id="kilted-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/mrpt_map_server+kilted">here</a>.</p>
      </div>
      <div id="kilted-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/mrpt-ros-pkg/mrpt_navigation.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/kilted/p/mrpt_map_server"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/mrpt_map_server">mrpt_map_server</a> <small>package from <a style="text-decoration:none" href="/r/mrpt_navigation/github-mrpt-ros-pkg-mrpt_navigation">mrpt_navigation</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

mrpt_map_server
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_msgs_bridge">

mrpt_msgs_bridge
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_nav_interfaces">

mrpt_nav_interfaces
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_navigation">

mrpt_navigation
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_pf_localization">

mrpt_pf_localization
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_pointcloud_pipeline">

mrpt_pointcloud_pipeline
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_rawlog">

mrpt_rawlog
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_reactivenav2d">

mrpt_reactivenav2d
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_tps_astar_planner">

mrpt_tps_astar_planner
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_tutorials">

mrpt_tutorials
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/rolling/p/mrpt_map_server"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="rolling-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#rolling-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#rolling-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#rolling-deps" data-toggle="tab"><span class="label label-primary">14</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#rolling-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#rolling-questions" data-toggle="tab"><span id="rolling-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="rolling-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>2.2.1</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS 2 nodes wrapping core MRPT functionality: localization, autonomous navigation, rawlogs, etc. SLAM is in other packages.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/mrpt-ros-pkg/mrpt_navigation.git">https://github.com/mrpt-ros-pkg/mrpt_navigation.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-14
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">c-plus-plus</span> <span class="label label-default">robotics</span> <span class="label label-default">navigation</span> <span class="label label-default">mapping</span> <span class="label label-default">ros</span> <span class="label label-default">robotics-libraries</span> <span class="label label-default">mrpt</span> <span class="label label-default">ros2</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/mrpt_navigation/#rolling-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/mrpt_navigation/#rolling-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/mrpt_navigation/#rolling-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            This package provides a ROS 2 node that publishes a static map for other nodes to use it. Unlike classic ROS 1 ``map_server``, this node can publish a range of different metric maps, not only occupancy grids.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server">Website</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Markus Bader</li>
                
                  <li>Jose Luis Blanco-Claraco</li>
                
                  <li>Shravan S Rai</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/README.md" title="Open in git repository">mrpt_map_server/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="mrpt_map_server">mrpt_map_server</h1>

<h1 id="table-of-contents">Table of Contents</h1>
<ul>
  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Overview">Overview</a></li>
  <li>
<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Node:-mrpt_map_server">Node: mrpt_map_server</a>
    <ul>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Working-rationale">Working rationale</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#ROS-Parameters">ROS Parameters</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Subscribed-topics">Subscribed topics</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Published-topics">Published topics</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#services">Services</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Template-ROS-2-launch-files">Template ROS 2 launch files</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Demos">Demos</a></li>
</ul>

<h2 id="overview">Overview</h2>
<p>This package provides a ROS 2 node that publishes a static <strong>map</strong> for other nodes to use it.
Unlike classic ROS 1 <code class="language-plaintext highlighter-rouge">map_server</code>, this node can publish a range of different metric maps, not only occupancy grids.</p>

<h2 id="node-mrpt_map_server">Node: mrpt_map_server</h2>

<h3 id="working-rationale">Working rationale</h3>
<p>The C++ ROS 2 node loads all parameters at start up, loads the map
as requested by parameters, and publishes the metric map in the corresponding topics.
Messages are sent as transient local, so new subscribers can receive them even 
if they start afterwards.</p>

<p>There are <strong>three formats</strong> in which maps can be read:</p>

<ol>
  <li>
    <p>The <strong>preferred format</strong> is as an <a href="https://github.com/MOLAorg/mp2p_icp">mp2p_icp</a>’s metric map file (<code class="language-plaintext highlighter-rouge">*.mm</code>), normally generated
via <a href="https://github.com/MOLAorg/mp2p_icp/tree/master/apps/sm2mm">sm2mm</a> from a <a href="https://docs.mrpt.org/reference/latest/class_mrpt_maps_CSimpleMap.html">MRPT “simplemap”</a> (<code class="language-plaintext highlighter-rouge">*.simplemap</code>)
that comes from a SLAM session, e.g. using <a href="https://docs.mola-slam.org/latest/">mola_lidar_odometry</a>.</p>
  </li>
  <li>
    <p>As a <a href="https://wiki.ros.org/map_server">ROS standard YAML file</a>. Here, a <code class="language-plaintext highlighter-rouge">*.yaml</code> file specifies the metadata of a 2D occupancy gridmap,
which is stored as an accompanying image file. The map will be actually encapsulated into a <code class="language-plaintext highlighter-rouge">metric_map_t</code> map with layer name <code class="language-plaintext highlighter-rouge">map</code>.</p>
  </li>
  <li>
    <p>As a <a href="https://docs.mrpt.org/reference/latest/group_mrpt_serialization_grp.html">serialized</a> MRPT metric map file.
A <code class="language-plaintext highlighter-rouge">*.metricmap</code> file contains any of the existing 
<a href="https://docs.mrpt.org/reference/latest/group_mrpt_maps_grp.html">MRPT metric maps</a>
(point clouds, grid maps, etc.), which may come from custom applications or other SLAM packages.
The map will be actually encapsulated into a <code class="language-plaintext highlighter-rouge">metric_map_t</code> map with layer name <code class="language-plaintext highlighter-rouge">map</code>.</p>
  </li>
</ol>

<p>So, whatever is the map source, this node will internally build a <a href="https://docs.mola-slam.org/latest/mp2p_icp_basics.html"><code class="language-plaintext highlighter-rouge">metric_map_t</code></a>
with one or more map layers, so it gets published in a uniform way to subscribers.</p>

<p>Refer to example launch files at the end of this file for examples
of usage of each of these methods.</p>

<h3 id="ros-parameters">ROS Parameters</h3>

<h4 id="related-to-determining-where-to-read-the-map-from">Related to determining where to read the map from</h4>
<ul>
  <li>(Option 1 above) <code class="language-plaintext highlighter-rouge">mm_file</code> (Default=undefined). Determine the <code class="language-plaintext highlighter-rouge">metric_map_t</code> file to load, coming from <a href="https://github.com/MOLAorg/mp2p_icp/tree/master/apps/sm2mm">sm2mm</a> or any other custom user application using <code class="language-plaintext highlighter-rouge">mp2p_icp</code>.</li>
  <li>(Option 2 above) <code class="language-plaintext highlighter-rouge">map_yaml_file</code> (Default=undefined): Define this parameter to load a <a href="https://wiki.ros.org/map_server">ROS standard YAML file</a> gridmap.</li>
  <li>(Option 3 above) <code class="language-plaintext highlighter-rouge">mrpt_metricmap_file</code> (Default=undefined).</li>
</ul>

<h4 id="related-to-ros-published-topics">Related to ROS published topics:</h4>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">frame_id</code> (Default=<code class="language-plaintext highlighter-rouge">map</code>): TF frame.</li>
  <li>
<code class="language-plaintext highlighter-rouge">pub_mm_topic</code> (Default=<code class="language-plaintext highlighter-rouge">mrpt_map</code>). Despite the map source, it will be eventually stored as a <code class="language-plaintext highlighter-rouge">mp2p_icp</code>’s <code class="language-plaintext highlighter-rouge">metric_map_t</code> (<code class="language-plaintext highlighter-rouge">*.mm</code>) structure, then each layer will be published using its <strong>layer name</strong> as a <strong>topic name</strong> and with the appropriate type
(e.g. PointCloud2, OccupancyGrid,…). Also, the whole metric map is published as a generic serialized object to the topic defined by the 
parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>.</li>
</ul>

<h3 id="subscribed-topics">Subscribed topics</h3>
<p>None.</p>

<h3 id="published-topics">Published topics</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/metric_map</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/metric_map</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>) (topic name can be changed with parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/geo_ref</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/geo_ref</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>). An MRPT-serialization of <code class="language-plaintext highlighter-rouge">mp2p_icp::metric_map_t::Georeferencing</code> metadata (topic name can be changed with parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/geo_ref_metadata</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/geo_ref_metadata</code>)(<code class="language-plaintext highlighter-rouge">mrpt_nav_interfaces::msgs::msg::GeoreferencingMetadata</code>). A ROS plain message with the contents of <code class="language-plaintext highlighter-rouge">mp2p_icp::metric_map_t::Georeferencing</code> metadata.</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/&lt;LAYER_NAME&gt;</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_points</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs::msg::PointCloud2</code>), one per map layer.</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_gridmap</code> (<code class="language-plaintext highlighter-rouge">nav_msgs::msg::OccupancyGrid</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_gridmap_metadata</code> (<code class="language-plaintext highlighter-rouge">nav_msgs::msg::MapMetaData</code>)</li>
  <li>(… one per map layer …)</li>
</ul>

<p>If using options 2 or 3 above, there will be just one layer named <code class="language-plaintext highlighter-rouge">map</code>.</p>

<h3 id="published-tf-and-geo-referenced-maps">Published tf and geo-referenced maps</h3>
<p>Refer to <a href="https://docs.mola-slam.org/latest/geo-referencing.html">the documentation</a> within the MOLA project on geo-referencing for a description of the <code class="language-plaintext highlighter-rouge">utm</code> and <code class="language-plaintext highlighter-rouge">enu</code> frames,
defined by this package if fed with a <code class="language-plaintext highlighter-rouge">*.mm</code> file with geo-referenced metadata.</p>

<p><img src="https://github.com/user-attachments/assets/28f32aac-2c24-4857-9653-9890350fd90e" alt="mola_mrpt_ros_geo_referenced_utm_frames"></p>

<h3 id="services">Services</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetLayers</code>: Returns the list of map layer names:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example usage:</span>
ros2 service call /map_server_node/get_layers  mrpt_nav_interfaces/srv/GetLayers
requester: making request: mrpt_nav_interfaces.srv.GetLayers_Request<span class="o">()</span>

response:
mrpt_nav_interfaces.srv.GetLayers_Response<span class="o">(</span><span class="nv">layers</span><span class="o">=[</span><span class="s1">'map'</span><span class="o">])</span>

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetGridmapLayer</code>: Can be used to request a given map layer of type gridmap.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example usage:</span>
ros2 service call /map_server_node/get_grid_layer mrpt_nav_interfaces/srv/GetGridmapLayer <span class="s2">"layer_name:</span><span class="se">\</span><span class="s2">
 'map'"</span>
requester: making request: mrpt_nav_interfaces.srv.GetGridmapLayer_Request<span class="o">(</span><span class="nv">layer_name</span><span class="o">=</span><span class="s1">'map'</span><span class="o">)</span>

response:
mrpt_nav_interfaces.srv.GetGridmapLayer_Response<span class="o">(</span><span class="nv">valid</span><span class="o">=</span>True, <span class="nv">grid</span><span class="o">=</span>nav_msgs.msg.OccupancyGrid<span class="o">(</span>...

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetPointmapLayer</code>: Can be used to request a given map layer of type point cloud.</li>
</ul>

<h3 id="template-ros-2-launch-files">Template ROS 2 launch files</h3>

<p>This package provides <a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/launch/mrpt_map_server.launch.py">launch/mrpt_map_server.launch.py</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_map_server mrpt_map_server.launch.py
</code></pre></div></div>

<p>which can be used in user projects to launch the MRPT map server node, by setting these <a href="https://docs.ros.org/en/rolling/Tutorials/Intermediate/Launch/Using-Substitutions.html">launch arguments</a>:</p>

<h2 id="demos">Demos</h2>

<p>Launch a map server from a ROS yaml gridmap (<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/../mrpt_tutorials/launch/demo_map_server_gridmap_from_yaml.launch.py">launch file</a>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_tutorials demo_map_server_gridmap_from_yaml.launch.py

</code></pre></div></div>

<p>Launch a map server from a custom <code class="language-plaintext highlighter-rouge">.mm</code> map (<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/../mrpt_tutorials/launch/demo_map_server_from_mm.launch.py">launch file</a>), 
which in the launch file is read from the environment variable <code class="language-plaintext highlighter-rouge">MM_FILE</code>, so it can be used like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_tutorials demo_map_server_from_mm.launch.py mm_file:<span class="o">=</span>/path/to/my/map.mm

</code></pre></div></div>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-mrpt_map_server">Changelog for package mrpt_map_server</h1>

<h2 id="221-2024-10-12">2.2.1 (2024-10-12)</h2>

<h2 id="220-2024-09-25">2.2.0 (2024-09-25)</h2>

<ul>
  <li>Merge pull request
<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/issues/149">#149</a>
from mrpt-ros-pkg/feature/utm-coordinates Support UTM global
coordinates for geo-referenciated maps</li>
  <li>Update package.xml: minimum required version of mp2p_icp</li>
  <li>mrpt_map_server now publishes the map georeferenciation metadata,
as topics and /tf (frames: utm, enu)</li>
  <li>Update URL entries in package.xml to each package proper
documentation</li>
  <li>ament linters: manually enable just cmake and xml linters</li>
  <li>reformat clang-format with 100 column width</li>
  <li>Update README.md with geo-referenciation concepts</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="211-2024-09-02">2.1.1 (2024-09-02)</h2>

<ul>
  <li>Remove temporary workaround in &lt;depends&gt; for buggy
mrpt_libros_bridge package.xml</li>
  <li>update dependencies</li>
  <li>Depend on new mrpt_lib packages (deprecate mrpt2)</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
  <li>Remove temporary workaround in &lt;depends&gt; for buggy
mrpt_libros_bridge package.xml</li>
  <li>update dependencies</li>
  <li>Depend on new mrpt_lib packages (deprecate mrpt2)</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="210-2024-08-08">2.1.0 (2024-08-08)</h2>

<ul>
  <li>docs: typos and clarifications</li>
  <li>map server: simplify publication policy. Using transient local only
and never republishing them</li>
  <li>Merge branch 'ros2' into wip/port-tps-astar</li>
  <li>Merge branch 'ros2' into wip/port-tps-astar</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="201-2024-05-28">2.0.1 (2024-05-28)</h2>

<h2 id="200-2024-05-28">2.0.0 (2024-05-28)</h2>

<ul>
  <li>Implement map getter services</li>
  <li>Define map_server services</li>
  <li>Comply with ROS2 REP-2003</li>
  <li>new param force_republish_period</li>
  <li>map_server: publish voxelmaps as points too</li>
  <li>map_server: Implement publishing from .mm files</li>
  <li>Rename mrpt_map: mrpt_map_server</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="103-2022-06-25">1.0.3 (2022-06-25)</h2>

<h2 id="102-2022-06-25">1.0.2 (2022-06-25)</h2>

<h2 id="101-2022-06-24">1.0.1 (2022-06-24)</h2>

<ul>
  <li>Fix build errors</li>
  <li>Removed now obsolete tf_prefix</li>
  <li>Ported to tf2 and mrpt::ros1bridge</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="100-2022-04-30">1.0.0 (2022-04-30)</h2>

<ul>
  <li>Update URLs to https</li>
  <li>Update build dep to mrpt2</li>
  <li>Contributors: Jose Luis Blanco Claraco</li>
</ul>

<h2 id="0126-2019-10-05">0.1.26 (2019-10-05)</h2>

<h2 id="0125-2019-10-04">0.1.25 (2019-10-04)</h2>

<h2 id="0124-2019-04-12">0.1.24 (2019-04-12)</h2>

<ul>
  <li>fix build against mrpt-1.5</li>
  <li>Fix build against MRPT 1.9.9</li>
  <li>Contributors: Inounx, Jose Luis Blanco-Claraco, Julian Lopez
Velasquez</li>
</ul>

<h2 id="0123-2018-06-14">0.1.23 (2018-06-14)</h2>

<h2 id="0120-2018-04-26">0.1.20 (2018-04-26)</h2>

<ul>
  <li>fix build against mrpt 2.0</li>
  <li>partial fix build w mrpt 2.0</li>
  <li>optimized build (-O3)</li>
  <li>fix use c++14</li>
  <li>Merge branch 'master' of github.com:tuw-robotics/mrpt_navigation</li>
  <li>Merge branch 'master' into master</li>
  <li>CMake finds MRPT &gt;=1.5 in ROS master branch</li>
  <li>Merge branch 'master' into compat-mrpt-1.5</li>
  <li>CMake finds MRPT &gt;=1.9</li>
  <li>avoid Eigen warnings with GCC-7</li>
  <li>Removed unnecessry MRPT_VERSION checks</li>
  <li>Fixes for clang format</li>
  <li>Adapted CMakeLists to new mrpt</li>
  <li>Contributors: Borys Tymchenko, Jose Luis Blanco Claraco, Jose Luis
Blanco-Claraco, Markus Bader</li>
</ul>

<h2 id="0122-2018-05-22">0.1.22 (2018-05-22)</h2>

<ul>
  <li>fix all catkin_lint errors</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="0121-2018-04-27">0.1.21 (2018-04-27)</h2>

<ul>
  <li>Upgrade version 0.1.20
(<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/issues/99">#99</a>)</li>
  <li>fix build against mrpt 2.0</li>
  <li>partial fix build w mrpt 2.0</li>
  <li>optimized build (-O3)</li>
  <li>fix use c++14</li>
  <li>Merge branch 'master' of github.com:tuw-robotics/mrpt_navigation</li>
  <li>Merge branch 'master' into master</li>
  <li>CMake finds MRPT &gt;=1.5 in ROS master branch</li>
  <li>Merge branch 'master' into compat-mrpt-1.5</li>
  <li>CMake finds MRPT &gt;=1.9</li>
  <li>avoid Eigen warnings with GCC-7</li>
  <li>Removed unnecessry MRPT_VERSION checks</li>
  <li>Fixes for clang format</li>
  <li>Adapted CMakeLists to new mrpt</li>
  <li>Contributors: Borys Tymchenko, Hunter Laux, Jose Luis Blanco
Claraco, Jose Luis Blanco-Claraco, Markus Bader</li>
</ul>

<h2 id="0118-2017-01-22">0.1.18 (2017-01-22)</h2>

<h2 id="0117-2017-01-22">0.1.17 (2017-01-22)</h2>

<ul>
  <li>Remove all errors generated by catkin_lint and cleanup unused
templates from CMakeLists.txt files</li>
  <li>Contributors: Jorge Santos</li>
</ul>

<h2 id="0116-2016-12-13">0.1.16 (2016-12-13)</h2>

<h2 id="0115-2016-11-06">0.1.15 (2016-11-06)</h2>

<h2 id="0114-2016-09-12">0.1.14 (2016-09-12)</h2>

<h2 id="0113-2016-09-03">0.1.13 (2016-09-03)</h2>

<h2 id="0112-2016-09-03">0.1.12 (2016-09-03)</h2>

<h2 id="0111-2016-08-21">0.1.11 (2016-08-21)</h2>

<h2 id="0110-2016-08-05">0.1.10 (2016-08-05)</h2>

<h2 id="019-2016-08-05">0.1.9 (2016-08-05)</h2>

<h2 id="018-2016-06-29">0.1.8 (2016-06-29)</h2>

<h2 id="017-2016-06-20">0.1.7 (2016-06-20)</h2>

<h2 id="016-2016-03-20">0.1.6 (2016-03-20)</h2>

<ul>
  <li>build fixes</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="015-2015-04-29">0.1.5 (2015-04-29)</h2>

<ul>
  <li>Fix build against mrpt 1.3.0</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="014-2014-12-27">0.1.4 (2014-12-27)</h2>

<ul>
  <li>Removed 'mrpt' dep from catkin_package(). I <em>think</em> this is
giving problems to dependant pkgs and is not needed...</li>
  <li>localization: New param to configure sensor sources in a flexible
way</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="013-2014-12-18">0.1.3 (2014-12-18)</h2>

<ul>
  <li>Fix many missing install files</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="012-2014-12-18">0.1.2 (2014-12-18)</h2>

<h2 id="011-2014-12-17">0.1.1 (2014-12-17)</h2>

<ul>
  <li>First public binary release.</li>
</ul>

<h2 id="010-2014-12-17">0.1.0 (2014-12-17)</h2>

<ul>
  <li>consistent version numbers</li>
  <li>Fixes broken dependencies</li>
  <li>Update all wiki URLs</li>
  <li>Fix build with mrpt 1.2.x</li>
  <li>localization uses tf odom</li>
  <li>localization working like amcl</li>
  <li>mrpt_rawlog_play working</li>
  <li>ros mrpt convetion fnc renamed to convert</li>
  <li>rawlog player</li>
  <li>map publisher added but not yet working</li>
  <li>Contributors: Jose Luis Blanco, Jose-Luis Blanco-Claraco, Markus
Bader</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/mrpt_map_server/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#rolling">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mp2p_icp#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mp2p_icp#rolling">mp2p_icp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libobs#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libobs#rolling">mrpt_libobs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libmaps#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libmaps#rolling">mrpt_libmaps  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libros_bridge#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libros_bridge#rolling">mrpt_libros_bridge  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_msgs#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_msgs#rolling">mrpt_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_nav_interfaces#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_nav_interfaces#rolling">mrpt_nav_interfaces  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp_components#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp_components#rolling">rclcpp_components  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2#rolling">tf2  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_ros#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_ros#rolling">tf2_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#rolling">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_lint_cmake#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_lint_cmake#rolling">ament_cmake_lint_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_xmllint#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_xmllint#rolling">ament_cmake_xmllint  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#rolling-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#rolling">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/mrpt_navigation#rolling">mrpt_navigation</a></td>
                      <td class="text-center">
                        
                        <a href="/p/mrpt_navigation#rolling-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="rolling-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>mrpt_map_server</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="rolling-question-list" class="panel-body" style="display: none;"></div>
      <div id="rolling-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/mrpt_map_server+rolling">here</a>.</p>
      </div>
      <div id="rolling-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/mrpt-ros-pkg/mrpt_navigation.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/rolling/p/mrpt_map_server"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>noetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/mrpt_map_server">mrpt_map_server</a> <small>package from <a style="text-decoration:none" href="/r/mrpt_navigation/github-mrpt-ros-pkg-mrpt_navigation">mrpt_navigation</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

mrpt_map_server
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_msgs_bridge">

mrpt_msgs_bridge
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_nav_interfaces">

mrpt_nav_interfaces
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_navigation">

mrpt_navigation
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_pf_localization">

mrpt_pf_localization
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_pointcloud_pipeline">

mrpt_pointcloud_pipeline
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_rawlog">

mrpt_rawlog
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_reactivenav2d">

mrpt_reactivenav2d
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_tps_astar_planner">

mrpt_tps_astar_planner
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/mrpt_tutorials">

mrpt_tutorials
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/iron/p/mrpt_map_server"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="iron-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#iron-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#iron-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#iron-deps" data-toggle="tab"><span class="label label-primary">14</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#iron-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#iron-questions" data-toggle="tab"><span id="iron-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="iron-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>2.2.1</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-default">
                  
                    AMENT_CMAKE</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS 2 nodes wrapping core MRPT functionality: localization, autonomous navigation, rawlogs, etc. SLAM is in other packages.</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/mrpt-ros-pkg/mrpt_navigation.git">https://github.com/mrpt-ros-pkg/mrpt_navigation.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">ros2</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-04-14
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-success">
          
          DEVELOPED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    <span class="label label-default" title="No CI information available for this package.">No Continuous Integration</span>
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <span class="label label-default">c-plus-plus</span> <span class="label label-default">robotics</span> <span class="label label-default">navigation</span> <span class="label label-default">mapping</span> <span class="label label-default">ros</span> <span class="label label-default">robotics-libraries</span> <span class="label label-default">mrpt</span> <span class="label label-default">ros2</span> 
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/mrpt_navigation/#iron-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/mrpt_navigation/#iron-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/mrpt_navigation/#iron-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            This package provides a ROS 2 node that publishes a static map for other nodes to use it. Unlike classic ROS 1 ``map_server``, this node can publish a range of different metric maps, not only occupancy grids.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server">Website</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Markus Bader</li>
                
                  <li>Jose Luis Blanco-Claraco</li>
                
                  <li>Shravan S Rai</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/README.md" title="Open in git repository">mrpt_map_server/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="mrpt_map_server">mrpt_map_server</h1>

<h1 id="table-of-contents">Table of Contents</h1>
<ul>
  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Overview">Overview</a></li>
  <li>
<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Node:-mrpt_map_server">Node: mrpt_map_server</a>
    <ul>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Working-rationale">Working rationale</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#ROS-Parameters">ROS Parameters</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Subscribed-topics">Subscribed topics</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Published-topics">Published topics</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#services">Services</a></li>
      <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Template-ROS-2-launch-files">Template ROS 2 launch files</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/#Demos">Demos</a></li>
</ul>

<h2 id="overview">Overview</h2>
<p>This package provides a ROS 2 node that publishes a static <strong>map</strong> for other nodes to use it.
Unlike classic ROS 1 <code class="language-plaintext highlighter-rouge">map_server</code>, this node can publish a range of different metric maps, not only occupancy grids.</p>

<h2 id="node-mrpt_map_server">Node: mrpt_map_server</h2>

<h3 id="working-rationale">Working rationale</h3>
<p>The C++ ROS 2 node loads all parameters at start up, loads the map
as requested by parameters, and publishes the metric map in the corresponding topics.
Messages are sent as transient local, so new subscribers can receive them even 
if they start afterwards.</p>

<p>There are <strong>three formats</strong> in which maps can be read:</p>

<ol>
  <li>
    <p>The <strong>preferred format</strong> is as an <a href="https://github.com/MOLAorg/mp2p_icp">mp2p_icp</a>’s metric map file (<code class="language-plaintext highlighter-rouge">*.mm</code>), normally generated
via <a href="https://github.com/MOLAorg/mp2p_icp/tree/master/apps/sm2mm">sm2mm</a> from a <a href="https://docs.mrpt.org/reference/latest/class_mrpt_maps_CSimpleMap.html">MRPT “simplemap”</a> (<code class="language-plaintext highlighter-rouge">*.simplemap</code>)
that comes from a SLAM session, e.g. using <a href="https://docs.mola-slam.org/latest/">mola_lidar_odometry</a>.</p>
  </li>
  <li>
    <p>As a <a href="https://wiki.ros.org/map_server">ROS standard YAML file</a>. Here, a <code class="language-plaintext highlighter-rouge">*.yaml</code> file specifies the metadata of a 2D occupancy gridmap,
which is stored as an accompanying image file. The map will be actually encapsulated into a <code class="language-plaintext highlighter-rouge">metric_map_t</code> map with layer name <code class="language-plaintext highlighter-rouge">map</code>.</p>
  </li>
  <li>
    <p>As a <a href="https://docs.mrpt.org/reference/latest/group_mrpt_serialization_grp.html">serialized</a> MRPT metric map file.
A <code class="language-plaintext highlighter-rouge">*.metricmap</code> file contains any of the existing 
<a href="https://docs.mrpt.org/reference/latest/group_mrpt_maps_grp.html">MRPT metric maps</a>
(point clouds, grid maps, etc.), which may come from custom applications or other SLAM packages.
The map will be actually encapsulated into a <code class="language-plaintext highlighter-rouge">metric_map_t</code> map with layer name <code class="language-plaintext highlighter-rouge">map</code>.</p>
  </li>
</ol>

<p>So, whatever is the map source, this node will internally build a <a href="https://docs.mola-slam.org/latest/mp2p_icp_basics.html"><code class="language-plaintext highlighter-rouge">metric_map_t</code></a>
with one or more map layers, so it gets published in a uniform way to subscribers.</p>

<p>Refer to example launch files at the end of this file for examples
of usage of each of these methods.</p>

<h3 id="ros-parameters">ROS Parameters</h3>

<h4 id="related-to-determining-where-to-read-the-map-from">Related to determining where to read the map from</h4>
<ul>
  <li>(Option 1 above) <code class="language-plaintext highlighter-rouge">mm_file</code> (Default=undefined). Determine the <code class="language-plaintext highlighter-rouge">metric_map_t</code> file to load, coming from <a href="https://github.com/MOLAorg/mp2p_icp/tree/master/apps/sm2mm">sm2mm</a> or any other custom user application using <code class="language-plaintext highlighter-rouge">mp2p_icp</code>.</li>
  <li>(Option 2 above) <code class="language-plaintext highlighter-rouge">map_yaml_file</code> (Default=undefined): Define this parameter to load a <a href="https://wiki.ros.org/map_server">ROS standard YAML file</a> gridmap.</li>
  <li>(Option 3 above) <code class="language-plaintext highlighter-rouge">mrpt_metricmap_file</code> (Default=undefined).</li>
</ul>

<h4 id="related-to-ros-published-topics">Related to ROS published topics:</h4>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">frame_id</code> (Default=<code class="language-plaintext highlighter-rouge">map</code>): TF frame.</li>
  <li>
<code class="language-plaintext highlighter-rouge">pub_mm_topic</code> (Default=<code class="language-plaintext highlighter-rouge">mrpt_map</code>). Despite the map source, it will be eventually stored as a <code class="language-plaintext highlighter-rouge">mp2p_icp</code>’s <code class="language-plaintext highlighter-rouge">metric_map_t</code> (<code class="language-plaintext highlighter-rouge">*.mm</code>) structure, then each layer will be published using its <strong>layer name</strong> as a <strong>topic name</strong> and with the appropriate type
(e.g. PointCloud2, OccupancyGrid,…). Also, the whole metric map is published as a generic serialized object to the topic defined by the 
parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>.</li>
</ul>

<h3 id="subscribed-topics">Subscribed topics</h3>
<p>None.</p>

<h3 id="published-topics">Published topics</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/metric_map</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/metric_map</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>) (topic name can be changed with parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/geo_ref</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/geo_ref</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>). An MRPT-serialization of <code class="language-plaintext highlighter-rouge">mp2p_icp::metric_map_t::Georeferencing</code> metadata (topic name can be changed with parameter <code class="language-plaintext highlighter-rouge">pub_mm_topic</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/geo_ref_metadata</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/geo_ref_metadata</code>)(<code class="language-plaintext highlighter-rouge">mrpt_nav_interfaces::msgs::msg::GeoreferencingMetadata</code>). A ROS plain message with the contents of <code class="language-plaintext highlighter-rouge">mp2p_icp::metric_map_t::Georeferencing</code> metadata.</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;</code> (Default: <code class="language-plaintext highlighter-rouge">mrpt_map/&lt;LAYER_NAME&gt;</code>) (<code class="language-plaintext highlighter-rouge">mrpt_msgs::msg::GenericObject</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_points</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs::msg::PointCloud2</code>), one per map layer.</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_gridmap</code> (<code class="language-plaintext highlighter-rouge">nav_msgs::msg::OccupancyGrid</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">${pub_mm_topic}/&lt;LAYER_NAME&gt;_gridmap_metadata</code> (<code class="language-plaintext highlighter-rouge">nav_msgs::msg::MapMetaData</code>)</li>
  <li>(… one per map layer …)</li>
</ul>

<p>If using options 2 or 3 above, there will be just one layer named <code class="language-plaintext highlighter-rouge">map</code>.</p>

<h3 id="published-tf-and-geo-referenced-maps">Published tf and geo-referenced maps</h3>
<p>Refer to <a href="https://docs.mola-slam.org/latest/geo-referencing.html">the documentation</a> within the MOLA project on geo-referencing for a description of the <code class="language-plaintext highlighter-rouge">utm</code> and <code class="language-plaintext highlighter-rouge">enu</code> frames,
defined by this package if fed with a <code class="language-plaintext highlighter-rouge">*.mm</code> file with geo-referenced metadata.</p>

<p><img src="https://github.com/user-attachments/assets/28f32aac-2c24-4857-9653-9890350fd90e" alt="mola_mrpt_ros_geo_referenced_utm_frames"></p>

<h3 id="services">Services</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetLayers</code>: Returns the list of map layer names:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example usage:</span>
ros2 service call /map_server_node/get_layers  mrpt_nav_interfaces/srv/GetLayers
requester: making request: mrpt_nav_interfaces.srv.GetLayers_Request<span class="o">()</span>

response:
mrpt_nav_interfaces.srv.GetLayers_Response<span class="o">(</span><span class="nv">layers</span><span class="o">=[</span><span class="s1">'map'</span><span class="o">])</span>

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetGridmapLayer</code>: Can be used to request a given map layer of type gridmap.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Example usage:</span>
ros2 service call /map_server_node/get_grid_layer mrpt_nav_interfaces/srv/GetGridmapLayer <span class="s2">"layer_name:</span><span class="se">\</span><span class="s2">
 'map'"</span>
requester: making request: mrpt_nav_interfaces.srv.GetGridmapLayer_Request<span class="o">(</span><span class="nv">layer_name</span><span class="o">=</span><span class="s1">'map'</span><span class="o">)</span>

response:
mrpt_nav_interfaces.srv.GetGridmapLayer_Response<span class="o">(</span><span class="nv">valid</span><span class="o">=</span>True, <span class="nv">grid</span><span class="o">=</span>nav_msgs.msg.OccupancyGrid<span class="o">(</span>...

</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">GetPointmapLayer</code>: Can be used to request a given map layer of type point cloud.</li>
</ul>

<h3 id="template-ros-2-launch-files">Template ROS 2 launch files</h3>

<p>This package provides <a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/launch/mrpt_map_server.launch.py">launch/mrpt_map_server.launch.py</a>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_map_server mrpt_map_server.launch.py
</code></pre></div></div>

<p>which can be used in user projects to launch the MRPT map server node, by setting these <a href="https://docs.ros.org/en/rolling/Tutorials/Intermediate/Launch/Using-Substitutions.html">launch arguments</a>:</p>

<h2 id="demos">Demos</h2>

<p>Launch a map server from a ROS yaml gridmap (<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/../mrpt_tutorials/launch/demo_map_server_gridmap_from_yaml.launch.py">launch file</a>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_tutorials demo_map_server_gridmap_from_yaml.launch.py

</code></pre></div></div>

<p>Launch a map server from a custom <code class="language-plaintext highlighter-rouge">.mm</code> map (<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server/../mrpt_tutorials/launch/demo_map_server_from_mm.launch.py">launch file</a>), 
which in the launch file is read from the environment variable <code class="language-plaintext highlighter-rouge">MM_FILE</code>, so it can be used like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 launch mrpt_tutorials demo_map_server_from_mm.launch.py mm_file:<span class="o">=</span>/path/to/my/map.mm

</code></pre></div></div>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-mrpt_map_server">Changelog for package mrpt_map_server</h1>

<h2 id="221-2024-10-12">2.2.1 (2024-10-12)</h2>

<h2 id="220-2024-09-25">2.2.0 (2024-09-25)</h2>

<ul>
  <li>Merge pull request
<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/issues/149">#149</a>
from mrpt-ros-pkg/feature/utm-coordinates Support UTM global
coordinates for geo-referenciated maps</li>
  <li>Update package.xml: minimum required version of mp2p_icp</li>
  <li>mrpt_map_server now publishes the map georeferenciation metadata,
as topics and /tf (frames: utm, enu)</li>
  <li>Update URL entries in package.xml to each package proper
documentation</li>
  <li>ament linters: manually enable just cmake and xml linters</li>
  <li>reformat clang-format with 100 column width</li>
  <li>Update README.md with geo-referenciation concepts</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="211-2024-09-02">2.1.1 (2024-09-02)</h2>

<ul>
  <li>Remove temporary workaround in &lt;depends&gt; for buggy
mrpt_libros_bridge package.xml</li>
  <li>update dependencies</li>
  <li>Depend on new mrpt_lib packages (deprecate mrpt2)</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
  <li>Remove temporary workaround in &lt;depends&gt; for buggy
mrpt_libros_bridge package.xml</li>
  <li>update dependencies</li>
  <li>Depend on new mrpt_lib packages (deprecate mrpt2)</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="210-2024-08-08">2.1.0 (2024-08-08)</h2>

<ul>
  <li>docs: typos and clarifications</li>
  <li>map server: simplify publication policy. Using transient local only
and never republishing them</li>
  <li>Merge branch 'ros2' into wip/port-tps-astar</li>
  <li>Merge branch 'ros2' into wip/port-tps-astar</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="201-2024-05-28">2.0.1 (2024-05-28)</h2>

<h2 id="200-2024-05-28">2.0.0 (2024-05-28)</h2>

<ul>
  <li>Implement map getter services</li>
  <li>Define map_server services</li>
  <li>Comply with ROS2 REP-2003</li>
  <li>new param force_republish_period</li>
  <li>map_server: publish voxelmaps as points too</li>
  <li>map_server: Implement publishing from .mm files</li>
  <li>Rename mrpt_map: mrpt_map_server</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="103-2022-06-25">1.0.3 (2022-06-25)</h2>

<h2 id="102-2022-06-25">1.0.2 (2022-06-25)</h2>

<h2 id="101-2022-06-24">1.0.1 (2022-06-24)</h2>

<ul>
  <li>Fix build errors</li>
  <li>Removed now obsolete tf_prefix</li>
  <li>Ported to tf2 and mrpt::ros1bridge</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="100-2022-04-30">1.0.0 (2022-04-30)</h2>

<ul>
  <li>Update URLs to https</li>
  <li>Update build dep to mrpt2</li>
  <li>Contributors: Jose Luis Blanco Claraco</li>
</ul>

<h2 id="0126-2019-10-05">0.1.26 (2019-10-05)</h2>

<h2 id="0125-2019-10-04">0.1.25 (2019-10-04)</h2>

<h2 id="0124-2019-04-12">0.1.24 (2019-04-12)</h2>

<ul>
  <li>fix build against mrpt-1.5</li>
  <li>Fix build against MRPT 1.9.9</li>
  <li>Contributors: Inounx, Jose Luis Blanco-Claraco, Julian Lopez
Velasquez</li>
</ul>

<h2 id="0123-2018-06-14">0.1.23 (2018-06-14)</h2>

<h2 id="0120-2018-04-26">0.1.20 (2018-04-26)</h2>

<ul>
  <li>fix build against mrpt 2.0</li>
  <li>partial fix build w mrpt 2.0</li>
  <li>optimized build (-O3)</li>
  <li>fix use c++14</li>
  <li>Merge branch 'master' of github.com:tuw-robotics/mrpt_navigation</li>
  <li>Merge branch 'master' into master</li>
  <li>CMake finds MRPT &gt;=1.5 in ROS master branch</li>
  <li>Merge branch 'master' into compat-mrpt-1.5</li>
  <li>CMake finds MRPT &gt;=1.9</li>
  <li>avoid Eigen warnings with GCC-7</li>
  <li>Removed unnecessry MRPT_VERSION checks</li>
  <li>Fixes for clang format</li>
  <li>Adapted CMakeLists to new mrpt</li>
  <li>Contributors: Borys Tymchenko, Jose Luis Blanco Claraco, Jose Luis
Blanco-Claraco, Markus Bader</li>
</ul>

<h2 id="0122-2018-05-22">0.1.22 (2018-05-22)</h2>

<ul>
  <li>fix all catkin_lint errors</li>
  <li>Contributors: Jose Luis Blanco-Claraco</li>
</ul>

<h2 id="0121-2018-04-27">0.1.21 (2018-04-27)</h2>

<ul>
  <li>Upgrade version 0.1.20
(<a href="https://github.com/mrpt-ros-pkg/mrpt_navigation/issues/99">#99</a>)</li>
  <li>fix build against mrpt 2.0</li>
  <li>partial fix build w mrpt 2.0</li>
  <li>optimized build (-O3)</li>
  <li>fix use c++14</li>
  <li>Merge branch 'master' of github.com:tuw-robotics/mrpt_navigation</li>
  <li>Merge branch 'master' into master</li>
  <li>CMake finds MRPT &gt;=1.5 in ROS master branch</li>
  <li>Merge branch 'master' into compat-mrpt-1.5</li>
  <li>CMake finds MRPT &gt;=1.9</li>
  <li>avoid Eigen warnings with GCC-7</li>
  <li>Removed unnecessry MRPT_VERSION checks</li>
  <li>Fixes for clang format</li>
  <li>Adapted CMakeLists to new mrpt</li>
  <li>Contributors: Borys Tymchenko, Hunter Laux, Jose Luis Blanco
Claraco, Jose Luis Blanco-Claraco, Markus Bader</li>
</ul>

<h2 id="0118-2017-01-22">0.1.18 (2017-01-22)</h2>

<h2 id="0117-2017-01-22">0.1.17 (2017-01-22)</h2>

<ul>
  <li>Remove all errors generated by catkin_lint and cleanup unused
templates from CMakeLists.txt files</li>
  <li>Contributors: Jorge Santos</li>
</ul>

<h2 id="0116-2016-12-13">0.1.16 (2016-12-13)</h2>

<h2 id="0115-2016-11-06">0.1.15 (2016-11-06)</h2>

<h2 id="0114-2016-09-12">0.1.14 (2016-09-12)</h2>

<h2 id="0113-2016-09-03">0.1.13 (2016-09-03)</h2>

<h2 id="0112-2016-09-03">0.1.12 (2016-09-03)</h2>

<h2 id="0111-2016-08-21">0.1.11 (2016-08-21)</h2>

<h2 id="0110-2016-08-05">0.1.10 (2016-08-05)</h2>

<h2 id="019-2016-08-05">0.1.9 (2016-08-05)</h2>

<h2 id="018-2016-06-29">0.1.8 (2016-06-29)</h2>

<h2 id="017-2016-06-20">0.1.7 (2016-06-20)</h2>

<h2 id="016-2016-03-20">0.1.6 (2016-03-20)</h2>

<ul>
  <li>build fixes</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="015-2015-04-29">0.1.5 (2015-04-29)</h2>

<ul>
  <li>Fix build against mrpt 1.3.0</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="014-2014-12-27">0.1.4 (2014-12-27)</h2>

<ul>
  <li>Removed 'mrpt' dep from catkin_package(). I <em>think</em> this is
giving problems to dependant pkgs and is not needed...</li>
  <li>localization: New param to configure sensor sources in a flexible
way</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="013-2014-12-18">0.1.3 (2014-12-18)</h2>

<ul>
  <li>Fix many missing install files</li>
  <li>Contributors: Jose Luis Blanco</li>
</ul>

<h2 id="012-2014-12-18">0.1.2 (2014-12-18)</h2>

<h2 id="011-2014-12-17">0.1.1 (2014-12-17)</h2>

<ul>
  <li>First public binary release.</li>
</ul>

<h2 id="010-2014-12-17">0.1.0 (2014-12-17)</h2>

<ul>
  <li>consistent version numbers</li>
  <li>Fixes broken dependencies</li>
  <li>Update all wiki URLs</li>
  <li>Fix build with mrpt 1.2.x</li>
  <li>localization uses tf odom</li>
  <li>localization working like amcl</li>
  <li>mrpt_rawlog_play working</li>
  <li>ros mrpt convetion fnc renamed to convert</li>
  <li>rawlog player</li>
  <li>map publisher added but not yet working</li>
  <li>Contributors: Jose Luis Blanco, Jose-Luis Blanco-Claraco, Markus
Bader</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/mrpt_map_server/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake#iron">ament_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mp2p_icp#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mp2p_icp#iron">mp2p_icp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libobs#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libobs#iron">mrpt_libobs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libmaps#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libmaps#iron">mrpt_libmaps  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_libros_bridge#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_libros_bridge#iron">mrpt_libros_bridge  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_msgs#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_msgs#iron">mrpt_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/mrpt_nav_interfaces#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/mrpt_nav_interfaces#iron">mrpt_nav_interfaces  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rclcpp_components#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rclcpp_components#iron">rclcpp_components  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2#iron">tf2  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_ros#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_ros#iron">tf2_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#iron">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_lint_cmake#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_lint_cmake#iron">ament_cmake_lint_cmake  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_cmake_xmllint#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_cmake_xmllint#iron">ament_cmake_xmllint  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/ament_lint_auto#iron-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/ament_lint_auto#iron">ament_lint_auto  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/mrpt_navigation#iron">mrpt_navigation</a></td>
                      <td class="text-center">
                        
                        <a href="/p/mrpt_navigation#iron-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="iron-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>mrpt_map_server</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="iron-question-list" class="panel-body" style="display: none;"></div>
      <div id="iron-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/mrpt_map_server+iron">here</a>.</p>
      </div>
      <div id="iron-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/mrpt-ros-pkg/mrpt_navigation.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/iron/p/mrpt_map_server"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/mrpt-ros-pkg/mrpt_navigation/tree/ros2/mrpt_map_server"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/mrpt_map_server?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/mrpt_map_server?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=mrpt_map_server&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "mrpt_map_server"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
