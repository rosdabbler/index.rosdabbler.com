<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Package: magnetometer_compass</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="http://index.rosdabbler.com/p/magnetometer_compass/">
    
    
    <link rel="icon" sizes="any" type="image/svg+xml" href="/assets/rosindex_logo.svg">

    

    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie.js type="text/javascript"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EVD5Z6G6NH');
</script>

    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
  </head>

  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">
        <!-- title -->
        <div class="col-xs-3" style="white-space:nowrap">
          <a class="site-title" href="/">
            <img src="/assets/rosindex_logo.svg" width="26" height="26" alt="ROS index logo" style="padding-bottom: 3px"/>
            ROS Index</a>
        </div>
        <!-- main internal links -->
        <div class="col-xs-6 text-center" style="padding:0px">
          <div class="btn-group hidden-xs" role="group" aria-label="..." style="padding: 6px">
            <div class="btn-group" role="group">
              <a href="/?search_packages=true" class="btn btn-default" role="button">Package List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/?search_repos=true" class="btn btn-default" role="button">Repository List</a>
            </div>
            <div class="btn-group" role="group">
              <a href="/search_deps" class="btn btn-default" role="button">System Dependencies</a>
            </div>
          </div>
          <div class="hidden-lg hidden-md hidden-sm">
            <button id="hLabel" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lists <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="hLabel">
              <li><a href="/?search_packages=true">Package List</a></li>
              <li><a href="/?search_repos=true">Repository List</a></li>
              <li><a href="/search_deps">System Dependencies</a></li>
            </ul>
          </div>
        </div>
        <!-- additional links -->
        <div class="col-xs-3 text-right" style="white-space:nowrap; padding:0px">
          <ul class="list-inline" style="margin-bottom:0px;">
            <li class="dropdown hidden-xs hidden-sm">
              <button id="rLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                ROS Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="rLabel">
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-xs hidden-sm">
              <button id="aLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                About <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="aLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-md hidden-lg">
              <button id="qLabel" class="btn btn-link" type="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="qLabel">
                <li><a href="/about">About </a></li>
                <li><a href="/contribute">Contribute</a></li>
                <li><a href="/help">Help</a></li>
                <li><a href="/stats">Stats</a></li>
                <hr style="margin:7px" />
                <li><a href="http://docs.ros.org/">Documentation</a></li>
                <li><a href="http://wiki.ros.org/Support">Support</a></li>
                <li><a href="http://discourse.ros.org/">Discussion Forum</a></li>
                <li><a href="http://status.ros.org/">Service Status</a></li>
                <li><a href="https://robotics.stackexchange.com/questions/tagged/ros">ros @ Robotics Stack Exchange</a></li>
                <li><a href="https://docs.ros.org/en/ros2_packages/">Package API</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/?search_packages=true">Packages</a></li>
        <li class="active">magnetometer_compass</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="humble-option" class="distro-button btn btn-xs btn-default" href="#humble" data="humble">
      <input type="radio" name="options" id="humble-radio" autocomplete="off"> humble
    </label>
  
    <label id="jazzy-option" class="distro-button btn btn-xs btn-default" href="#jazzy" data="jazzy">
      <input type="radio" name="options" id="jazzy-radio" autocomplete="off"> jazzy
    </label>
  
    <label id="kilted-option" class="distro-button btn btn-xs btn-default" href="#kilted" data="kilted">
      <input type="radio" name="options" id="kilted-radio" autocomplete="off"> kilted
    </label>
  
    <label id="rolling-option" class="distro-button btn btn-xs btn-default" href="#rolling" data="rolling">
      <input type="radio" name="options" id="rolling-radio" autocomplete="off"> rolling
    </label>
  
    <label id="github-option" class="distro-button btn btn-xs btn-default" href="#github" data="github">
      <input type="radio" name="options" id="github-radio" autocomplete="off"> github
    </label>
  
    <label id="noetic-option" class="distro-button btn btn-xs btn-primary" href="#noetic" data="noetic">
      <input type="radio" name="options" id="noetic-radio" autocomplete="off"> noetic
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="galactic" id="galactic-option" class="disabled older-distro-option"  href="#galactic">
          <a href="#galactic" data="galactic" id="galactic-button">galactic</a>
        </li>
      
        <li data="iron" id="iron-option" class="disabled older-distro-option"  href="#iron">
          <a href="#iron" data="iron" id="iron-button">iron</a>
        </li>
      
        <li data="melodic" id="melodic-option" class="disabled older-distro-option"  href="#melodic">
          <a href="#melodic" data="melodic" id="melodic-button">melodic</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-humble">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>humble</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jazzy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>jazzy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kilted">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>kilted</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-rolling">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>rolling</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-github">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>github</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-noetic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/magnetometer_compass">magnetometer_compass</a> <small>package from <a style="text-decoration:none" href="/r/compass/github-ctu-vras-compass">compass</a> repo</small>
        </h3>
          
            
            
              <a class="label label-primary pkg-label" href="/p/compass_conversions">

compass_conversions
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/compass_msgs">

compass_msgs
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/compass_stack">

compass_stack
</a>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/magnetic_model">

magnetic_model
</a>
            
          
            
            
              <span class="label label-default pkg-label">

magnetometer_compass
</span>
            
          
            
            
              <a class="label label-primary pkg-label" href="/p/magnetometer_pipeline">

magnetometer_pipeline
</a>
            
          
      </td>
    </tr>
  </table>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/magnetometer_compass/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       <br>
       API Docs
  </a>
  <a class="list-group-item text-center"
     target="_blank"
     href="https://github.com/ctu-vras/compass/tree/master/magnetometer_compass"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       <br>
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item text-center "
     target="_blank"
     href="http://wiki.ros.org/magnetometer_compass?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       <br>
       Wiki
  </a>
  
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="noetic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#noetic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#noetic-assets" data-toggle="tab"><span class="label label-primary">2</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#noetic-deps" data-toggle="tab"><span class="label label-primary">20</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#noetic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#noetic-questions" data-toggle="tab"><span id="noetic-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="noetic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>2.0.3</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            
  <link rel="stylesheet" href="/css/ci-status.css">
  <table class="table table-condensed">
    <tr>
      <td class="text-right"><b>Description</b></td>
      <td><span class="label label-default">ROS implementation of magnetometer-based compass</span></td>
    </tr>
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ctu-vras/compass.git">https://github.com/ctu-vras/compass.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2025-01-06
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
              <tr>
                <td class="text-right"><b>CI status</b></td>
                <td class="ci-status">
                  
                  
                    
                      <a href="https://build.ros.org/view/Ndev/job/Ndev__compass__ubuntu_focal_amd64" class="label ci-result-success" title="Latest build information: Tue, 18 Jul 2023 16:12:39 GMT
  Total tests: 0
  Succeeded: 0
  Skipped: 0
  Failed: 0
No build history available for this repository.">
                        <span class="glyphicon glyphicon-check"></span>
                        Continuous Integration
                        
                          : 0 / 0
                        
                      </a>
                    
                  
                </td>
              </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Tags</b></td>
      <td>
        
        
          <em>No category tags.</em>
        
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Contributing</b></td>
      <td>
        <a class="label label-primary" href="/r/compass/#noetic-contribute-lists-help-wanted">
          Help Wanted (<span class="contribute-lists-help-wanted-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/compass/#noetic-contribute-lists-good-first-issue">
          Good First Issues (<span class="contribute-lists-good-first-issue-count">0</span>)
        </a>
        <br>
        <a class="label label-primary" href="/r/compass/#noetic-contribute-lists-pull-requests">
          Pull Requests to Review (<span class="contribute-lists-pull-requests-count">0</span>)
        </a>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            Compass based on a 3-axis magnetometer, attitude readings and possibly also GNSS.
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="https://github.com/ctu-vras/compass">Repository</a></li>
                
                  <li><a href="https://github.com/ctu-vras/compass/issues">Bugtracker</a></li>
                
                  <li><a href="https://wiki.ros.org/magnetometer_compass">Website</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Martin Pecka</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Martin Pecka</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/ctu-vras/compass/tree/master/magnetometer_compass/README.md" title="Open in git repository">magnetometer_compass/README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<!-- SPDX-License-Identifier: BSD-3-Clause -->
<!-- SPDX-FileCopyrightText: Czech Technical University in Prague -->

<h1 id="magnetometer_compass">magnetometer_compass</h1>

<p>Compass based on a 3-axis magnetometer, attitude readings and possibly also GPS.</p>

<p>Because there is no well established Azimuth message in ROS, this node publishes our custom <code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>
as well as a few other formats that are capable of carrying orientation information. It also offers the azimuth
values in both radians and degrees, because radians are the ROS standard, while degrees are more used in the
geographic area. There are tens of possible combinations of the output data formats, so each of the published
topics has a boolean parameter that enables it. By default, there is only one enabled output topic.</p>

<h2 id="explaining-some-basic-terms">Explaining some basic terms</h2>

<p>So that you know what output is the right for you.</p>

<h3 id="orientation">Orientation</h3>
<ul>
  <li>NED (North-East-Down): Azimuth will be 0 pointing to north, and increases clockwise. This is consistent with the
azimuth used in cartography and by tourists.</li>
  <li>ENU (East-North-Up): Azimuth will be 0 pointing to east, and increases counter-clockwise. This is consistent with
REP-103 and robot_localization package.
    <h3 id="references-for-north">References for north</h3>
  </li>
  <li>Magnetic: points towards the magnetic north of Earth (travels in time).</li>
  <li>Geographic (“true”): points towards the geographic Earth (i.e. the WGS84 North Pole). It is static in time.</li>
  <li>UTM: points in the north direction on the cartesian UTM grid (similar to Geographic, but it can slightly diverge
at the edges of UTM maps). You probably want this azimuth reference for navigation tasks in UTM coordinates.</li>
</ul>

<p>Magnetic azimuth can be computed directly from the magnetometer and IMU orientation. To compute the other two
references, you need to provide the latitude, longitude, altitude and time in addition to the magnetometer and
IMU orientation. These are the required inputs to compute magnetic declination and UTM grid convergence, which are
the offsets by which geographic and UTM references differ from the magnetic. This is why this compass node subscribes
to the GPS fix messages. Until at least a single GPS fix message is received, neither geographic- nor UTM-referenced
data are published. If you do not have a GPS receiver, you can alternatively provide these values in parameters.</p>

<p>For the magnetometer to work correctly, it is required to measure its bias. This node listens on the <code class="language-plaintext highlighter-rouge">imu/mag_bias</code>
topic for this measurement, and until at least one message arrives, the node will not publish anything. If you do not
have a node publishing the bias, you can alternatively provide it via parameters. Depending on the application, it
may be required to re-estimate the bias from time to time even during runtime.</p>

<h2 id="node-magnetometer_compass-and-nodelet-magnetometer_compassmagnetometer_compass">Node magnetometer_compass and nodelet magnetometer_compass/magnetometer_compass</h2>

<h3 id="subscribed-topics">Subscribed topics</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">imu/data</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/Imu</code>): Output from an IMU or an orientation filtering algorithm. It should have valid
  contents of <code class="language-plaintext highlighter-rouge">orientation</code> and at least roll and pitch should be estimated as well as possible (relative to the
  gravity vector). These messages should come at the same rate as the magnetometer data (or faster).</li>
  <li>
<code class="language-plaintext highlighter-rouge">imu/mag</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/MagneticField</code>): 3-axis magnetometer raw measurements (bias not removed) (disabled by param
  <code class="language-plaintext highlighter-rouge">~subscribe_mag_unbiased</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">imu/mag_bias</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/MagneticField</code>): Bias of the magnetometer. This value will be subtracted from the
  incoming magnetometer measurements. Messages on this topic do not need to come repeatedly if the bias does not
  change. Disabled by param <code class="language-plaintext highlighter-rouge">~subscribe_mag_unbiased</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">imu/mag_unbiased</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/MagneticField</code>): 3-axis magnetometer unbiased measurements (enabled by param
  <code class="language-plaintext highlighter-rouge">~subscribe_mag_unbiased</code>).</li>
  <li>
<code class="language-plaintext highlighter-rouge">gps/fix</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/NavSatFix</code>, optional): GPS fix messages from which the latitude, longitude, altitude and
  current year can be read. These are further used to compute magnetic declination and UTM grid convergence factor if
  requested.</li>
  <li>TF: This node requires a (usually static) transform between <code class="language-plaintext highlighter-rouge">~frame</code> and the frame ID of the IMU and magnetometer
  messages.</li>
</ul>

<h3 id="published-topics-see-above-for-explanation">Published topics (see above for explanation)</h3>
<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">imu/mag_unbiased</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/MagneticField</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_unbiased</code>, off by default):
  The magnetic field measurement with bias removed.</p>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/mag/ned/deg</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_azimuth_ned_deg</code>, on by default):
  Magnetic azimuth in NED in degrees (the same values you can see on touristic magnetic compasses).</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/mag/ned/rad</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_azimuth_ned_rad</code>, off by default):
  Magnetic azimuth in NED in radians.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/mag/ned/quat</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/QuaternionStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_azimuth_ned_quat</code>, off by default):
  Magnetic azimuth in NED as a quaternion.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/mag/ned/imu</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/Imu</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_azimuth_ned_imu</code>, off by default):
  Magnetic azimuth in NED inside an IMU message (only <code class="language-plaintext highlighter-rouge">orientation</code> and <code class="language-plaintext highlighter-rouge">header</code> fields are valid).</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">compass/mag/ned/pose</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/PoseWithCovarianceStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_azimuth_ned_pose</code>, off by default):
  Magnetic azimuth in NED as a pose (translation will always be zero).</p>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/mag/enu/deg</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_azimuth_enu_deg</code>, off by default):
  Magnetic azimuth in ENU in degrees.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/mag/enu/rad</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_azimuth_enu_rad</code>, off by default):
  Magnetic azimuth in ENU in radians.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/mag/enu/quat</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/QuaternionStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_azimuth_enu_quat</code>, off by default):
  Magnetic azimuth in ENU as a quaternion.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/mag/enu/imu</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/Imu</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_azimuth_enu_imu</code>, off by default):
  Magnetic azimuth in ENU inside an IMU message (only <code class="language-plaintext highlighter-rouge">orientation</code> and <code class="language-plaintext highlighter-rouge">header</code> fields are valid).</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">compass/mag/enu/pose</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/PoseWithCovarianceStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_azimuth_enu_pose</code>, off by default):
  Magnetic azimuth in ENU as a pose (translation will always be zero).</p>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/true/ned/deg</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_true_azimuth_ned_deg</code>, off by default):
  Geographic (“true”) azimuth in NED in degrees.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/true/ned/rad</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_true_azimuth_ned_rad</code>, off by default):
  Geographic (“true”) azimuth in NED in radians.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/true/ned/quat</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/QuaternionStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_true_azimuth_ned_quat</code>, off by default):
  Geographic (“true”) azimuth in NED as a quaternion.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/true/ned/imu</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/Imu</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_true_azimuth_ned_imu</code>, off by default):
  Geographic (“true”) azimuth in NED inside an IMU message (only <code class="language-plaintext highlighter-rouge">orientation</code> and <code class="language-plaintext highlighter-rouge">header</code> fields are valid).</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">compass/true/ned/pose</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/PoseWithCovarianceStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_true_azimuth_ned_pose</code>, off by default):
  Geographic (“true”) azimuth in NED as a pose (translation will always be zero).</p>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/true/enu/deg</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_true_azimuth_enu_deg</code>, off by default):
  Geographic (“true”) azimuth in ENU in degrees.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/true/enu/rad</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_true_azimuth_enu_rad</code>, off by default):
  Geographic (“true”) azimuth in ENU in radians.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/true/enu/quat</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/QuaternionStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_true_azimuth_enu_quat</code>, off by default):
  Geographic (“true”) azimuth in ENU as a quaternion.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/true/enu/imu</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/Imu</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_true_azimuth_enu_imu</code>, off by default):
  Geographic (“true”) azimuth in ENU inside an IMU message (only <code class="language-plaintext highlighter-rouge">orientation</code> and <code class="language-plaintext highlighter-rouge">header</code> fields are valid).</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">compass/true/enu/pose</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/PoseWithCovarianceStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_true_azimuth_enu_pose</code>, off by default):
  Geographic (“true”) azimuth in ENU as a pose (translation will always be zero).</p>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/utm/ned/deg</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_utm_azimuth_ned_deg</code>, off by default):
  UTM heading in NED in degrees.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/utm/ned/rad</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_utm_azimuth_ned_rad</code>, off by default):
  UTM heading in NED in radians.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/utm/ned/quat</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/QuaternionStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_utm_azimuth_ned_quat</code>, off by default):
  UTM heading in NED as a quaternion.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/utm/ned/imu</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/Imu</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_utm_azimuth_ned_imu</code>, off by default):
  UTM heading in NED inside an IMU message (only <code class="language-plaintext highlighter-rouge">orientation</code> and <code class="language-plaintext highlighter-rouge">header</code> fields are valid).</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">compass/utm/ned/pose</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/PoseWithCovarianceStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_utm_azimuth_ned_pose</code>, off by default):
  UTM heading in NED as a pose (translation will always be zero).</p>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/utm/enu/deg</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_utm_azimuth_enu_deg</code>, off by default):
  UTM heading in ENU in degrees.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/utm/enu/rad</code> (<code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_utm_azimuth_enu_rad</code>, off by default):
  UTM heading in ENU in radians.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/utm/enu/quat</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/QuaternionStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_utm_azimuth_enu_quat</code>, off by default):
  UTM heading in ENU as a quaternion.</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/utm/enu/imu</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/Imu</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_utm_azimuth_enu_imu</code>, off by default):
  UTM heading in ENU inside an IMU message (only <code class="language-plaintext highlighter-rouge">orientation</code> and <code class="language-plaintext highlighter-rouge">header</code> fields are valid).</li>
  <li>
<code class="language-plaintext highlighter-rouge">compass/utm/enu/pose</code> (<code class="language-plaintext highlighter-rouge">geometry_msgs/PoseWithCovarianceStamped</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_utm_azimuth_enu_pose</code>, off by default):
  UTM heading in ENU as a pose (translation will always be zero).</li>
</ul>

<h3 id="parameters">Parameters</h3>
<ul>
  <li>All the <code class="language-plaintext highlighter-rouge">publish_*</code> parameters mentioned above.</li>
  <li>Please note that you cannot combine both <code class="language-plaintext highlighter-rouge">~subscribe_mag_unbiased</code> and <code class="language-plaintext highlighter-rouge">~publish_mag_unbiased</code> set to true.
Such configuration is invalid and the node will not start.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~frame</code> (string, default <code class="language-plaintext highlighter-rouge">base_link</code>): Frame into which the IMU and magnetometer data should be transformed.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~low_pass_ratio</code> (double, default 0.95): The azimuth is filtered with a low-pass filter. This sets its
  aggressivity (0 means raw measurements, 1 means no updates).</li>
  <li>
<code class="language-plaintext highlighter-rouge">~initial_mag_bias_x</code> (double, no default, optional): Magnetometer bias in the X axis.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~initial_mag_bias_y</code> (double, no default, optional): Magnetometer bias in the Y axis.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~initial_mag_bias_z</code> (double, no default, optional): Magnetometer bias in the Z axis.
    <ul>
      <li>If you specify any of the <code class="language-plaintext highlighter-rouge">~initial_mag_bias_*</code> params, the node does not need to receive the bias messages.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">~initial_lat</code> (double, no default, optional): Latitude in degrees.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~initial_lon</code> (double, no default, optional): Longitude in degrees.
    <ul>
      <li>If you specify both <code class="language-plaintext highlighter-rouge">~initial_lat</code> and <code class="language-plaintext highlighter-rouge">~initial_lon</code>, the node does not need to receive the GPS fix messages.</li>
    </ul>
  </li>
  <li>
<code class="language-plaintext highlighter-rouge">~initial_alt</code> (double, default 0): Altitude in meters (it is usually okay to omit it and use the default).</li>
  <li>
<code class="language-plaintext highlighter-rouge">~initial_year</code> (int, no default, optional): If set, overrides the current time for declination computation.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~magnetic_declination</code> (double, no default, optional, radians): If this parameter is set, the magnetic models are
  ignored and this value for declination is forced. This can be useful either if you know the value in advance or in
  simulation.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~utm_grid_convergence</code> (double, no default, optional, radians): If set, forces this value of UTM grid convergence.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~magnetic_models_path</code> (string, defaults to a pre-installed directory): Path where WMM magnetic models can be found.
   If set to empty string, the models will be searched in a default folder of GeographicLib. Environment variables
   <code class="language-plaintext highlighter-rouge">GEOGRAPHICLIB_MAGNETIC_PATH</code> or <code class="language-plaintext highlighter-rouge">GEOGRAPHICLIB_DATA</code> influence the location of this folder. You usually do not
   need to use other than the preinstalled models. But if you do, specify the path to the custom models directory
   here.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~magnetic_model</code> (string, defaults to autodetection by year): Name of the magnetic field model to use. If omitted,
   an automated decision is made based on the current year (or <code class="language-plaintext highlighter-rouge">~initial_year</code>, if set). This model is used for
   computing magnetic declination.</li>
  <li>
<code class="language-plaintext highlighter-rouge">utm_zone</code> (int, optional): If set, forces using this UTM zone instead of determining the proper one.</li>
  <li>
<code class="language-plaintext highlighter-rouge">keep_utm_zone</code> (bool, default true): If true, the first determined UTM zone will be used for all future conversions.</li>
</ul>

<h2 id="nodelet-visualize_azimuth_nodelet-and-node-visualize_azimuth">Nodelet visualize_azimuth_nodelet and node visualize_azimuth</h2>

<p>This node visualizes <code class="language-plaintext highlighter-rouge">Azimuth</code> messages in RViz converting them to a pose.</p>

<h3 id="subscribed-topics-1">Subscribed topics</h3>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">~azimuth</code> (multiple types supported): The azimuth to visualize. Any type supported by compass_conversions package
  can be used: <code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code>, <code class="language-plaintext highlighter-rouge">geometry_msgs/Quaternion</code>, <code class="language-plaintext highlighter-rouge">geometry_msgs/PoseWithCovarianceStamped</code> or
  <code class="language-plaintext highlighter-rouge">sensor_msgs/Imu</code>. If other types than <code class="language-plaintext highlighter-rouge">compass_msgs/Azimuth</code> are used, either the resolved topic name must contain
  the azimuth type identification (e.g. end with <code class="language-plaintext highlighter-rouge">mag/enu/imu</code>), or you must provide parameters <code class="language-plaintext highlighter-rouge">~input_reference</code> and
  <code class="language-plaintext highlighter-rouge">~input_orientation</code>.</li>
  <li>
<code class="language-plaintext highlighter-rouge">gps/fix</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/NavSatFix</code>, optional): GPS fix messages from which the latitude, longitude, altitude and
  current year can be read. These are further used to compute magnetic declination and UTM grid convergence factor.</li>
  <li>
<code class="language-plaintext highlighter-rouge">utm_zone</code> (<code class="language-plaintext highlighter-rouge">std_msgs/Int32</code>, optional): Optional UTM zone updates.</li>
</ul>

<h3 id="published-topics">Published topics</h3>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">~azimuth_vis</code> (<code class="language-plaintext highlighter-rouge">sensor_msgs/MagneticField</code>, enabled by param <code class="language-plaintext highlighter-rouge">~publish_mag_unbiased</code>, off by default):
The magnetic field measurement with bias removed.</li>
</ul>

<h3 id="parameters-1">Parameters</h3>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">max_rate</code> (double, optional): If specified, visualization messages frequency will be at most this value [Hz].</li>
  <li>
<code class="language-plaintext highlighter-rouge">magnetic_declination</code> (double, radians, optional): If set, forces this value of magnetic declination.</li>
  <li>
<code class="language-plaintext highlighter-rouge">utm_grid_convergence</code> (double, radians, optional): If set, forces this value of UTM grid convergence.</li>
  <li>
<code class="language-plaintext highlighter-rouge">magnetic_models_path</code> (string, default “$PACKAGE/data/magnetic”): Path where WMM magnetic models can be found.
  If set to empty string, the models will be searched in a default folder of GeographicLib. Environment variables
  <code class="language-plaintext highlighter-rouge">GEOGRAPHICLIB_MAGNETIC_PATH</code> or <code class="language-plaintext highlighter-rouge">GEOGRAPHICLIB_DATA</code> influence the location of this folder.</li>
  <li>
<code class="language-plaintext highlighter-rouge">magnetic_model</code> (string, optional): If set, forces using the given WMM model instead of determining the proper
  one by year. Example value is “wmm2020”.</li>
  <li>
<code class="language-plaintext highlighter-rouge">utm_zone</code> (int, optional): If set, forces using this UTM zone instead of determining the proper one.</li>
  <li>
<code class="language-plaintext highlighter-rouge">keep_utm_zone</code> (bool, default true): If true, the first determined UTM zone will be used for all future conversions.</li>
  <li>
<code class="language-plaintext highlighter-rouge">initial_lat</code> (double, degrees, optional): If set, use this latitude before the first navsat pose is received.</li>
  <li>
<code class="language-plaintext highlighter-rouge">initial_lon</code> (double, degrees, optional): If set, use this longitude before the first navsat pose is received.</li>
  <li>
<code class="language-plaintext highlighter-rouge">initial_alt</code> (double, meters, optional): If set, use this altitude before the first navsat pose is received.</li>
  <li>
<code class="language-plaintext highlighter-rouge">~input_orientation</code> (str, ‘enu’ or ‘ned’, default: unspecified): ENU or NED orientation to be used to interpret
  input messages (in case orientation cannot be derived either from message contents or topic name).</li>
  <li>
<code class="language-plaintext highlighter-rouge">~input_reference</code> (str, ‘magnetic’, ‘geographic’ or ‘UTM’, default: no change): North reference to be used to
  interpret input messages (in case reference cannot be derived either from message contents or topic name).</li>
  <li>
<code class="language-plaintext highlighter-rouge">~input_variance</code> (double, optional, rad^2): If specified, this variance will be used in the output messages
  if variance cannot be determined from the input messages (e.g. for <code class="language-plaintext highlighter-rouge">QuaternionStamped</code>).</li>
</ul>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="changelog-for-package-magnetometer_compass">Changelog for package magnetometer_compass</h1>

<h2 id="203-2024-12-20">2.0.3 (2024-12-20)</h2>

<h2 id="202-2024-12-20">2.0.2 (2024-12-20)</h2>

<ul>
  <li>Fixed README rendering on ROS Wiki.</li>
  <li>Fixed nodelet initialization.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="201-2024-12-12">2.0.1 (2024-12-12)</h2>

<ul>
  <li>Fixed license issues preventing bloom-release.</li>
  <li>Fixed documentation generation.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="200-2024-12-12">2.0.0 (2024-12-12)</h2>

<ul>
  <li>Restructured the repo, created compass_conversions, magnetic_model
and magnetometer_pipeline packages. The behavior of the compass
nodelet should not change. The visualize_azimuth Python script was
substituted by a C++ node with the same name and compatible
behavior. The data directory with WMM was moved from
magnetometer_compass to magnetic_model.</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="103-2023-07-12">1.0.3 (2023-07-12)</h2>

<ul>
  <li>Fixed installation of data</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="102-2023-07-12">1.0.2 (2023-07-12)</h2>

<ul>
  <li>Renamed compass -&gt; magnetometer_compass</li>
  <li>Contributors: Martin Pecka</li>
</ul>

<h2 id="101-2023-06-19">1.0.1 (2023-06-19)</h2>

<ul>
  <li>Made use of cras_cpp_common's node_from_nodelet CMake macro.</li>
  <li>Removed imu_transformer workaround</li>
  <li>Added option to force magnetic declination value.</li>
  <li>Added visualization of azimuth.</li>
  <li>Fixed IMU orientation covariance transformation.</li>
  <li>Renamed magnetometer_compass package to compass.</li>
  <li>Added variance to magnetometer compass outputs. It now also outputs
fully valid georeferenced IMU messages instead of just writing the
orientation into them.</li>
  <li>Contributors: Martin Pecka</li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>This package does not provide any links to tutorials in it's <a href="https://index.ros.org/contribute/metadata/">rosindex metadata</a>.</em>
        <em>You can check on the <a href="http://wiki.ros.org/magnetometer_compass/Tutorials" target="_blank">ROS Wiki Tutorials</a> page for the package.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-deps">
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/angles#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/angles#noetic">angles  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/compass_conversions#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/compass_conversions#noetic">compass_conversions  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/geometry_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/geometry_msgs#noetic">geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/imu_transformer#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/imu_transformer#noetic">imu_transformer  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/magnetometer_pipeline#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/magnetometer_pipeline#noetic">magnetometer_pipeline  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/message_filters#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/message_filters#noetic">message_filters  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/nodelet#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/nodelet#noetic">nodelet  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roscpp#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roscpp#noetic">roscpp  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_geometry_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_geometry_msgs#noetic">tf2_geometry_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2_ros#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2_ros#noetic">tf2_ros  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/catkin#noetic-deps" class="endoftree">
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/catkin#noetic">catkin  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roslaunch#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roslaunch#noetic">roslaunch  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/roslint#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/roslint#noetic">roslint  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/rostest#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/rostest#noetic">rostest  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/compass_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/compass_msgs#noetic">compass_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/cras_cpp_common#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/cras_cpp_common#noetic">cras_cpp_common  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/sensor_msgs#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/sensor_msgs#noetic">sensor_msgs  </a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          <a href="/p/tf2#noetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td><a href="/p/tf2#noetic">tf2  </a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/python-catkin-lint">python-catkin-lint</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python3-catkin-lint">python3-catkin-lint</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                  <th class="text-center">Deps</th>
                </thead>
                <tbody>
                  
                    
                    
                    <tr>
                      <td><a href="/p/compass_stack#noetic">compass_stack</a></td>
                      <td class="text-center">
                        
                        <a href="/p/compass_stack#noetic-deps" class="endoftree">
                          <span class="glyphicon glyphicon-arrow-right"></span>
                        </a>
                      </td>
                    </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ctu-vras/compass/tree/master/magnetometer_compass/launch/compass.launch" target="_blank">launch/compass.launch</a>
                <ul class="list-unstyled">
                  
                    <li><em> SPDX-License-Identifier: BSD-3-Clause </em></li>
                  
                  <li>
                    <ul>
                      
                        
                          <li><strong>nodelet_manager</strong> <em>&#91;default: &#93;  &#8212; If nonempty, the name of the nodelet manager to load the nodelets into.</em></li>
                        
                      
                        
                          <li><strong>frame</strong> <em>&#91;default: base_link&#93;  &#8212; The frame in which the azimuth should be computed.</em></li>
                        
                      
                        
                          <li><strong>unbias</strong> <em>&#91;default: true&#93;  &#8212; When true, magnetometer bias observer and remover will be launched.</em></li>
                        
                      
                        
                          <li><strong>low_pass_ratio</strong> <em>&#91;default: &#93;  &#8212; Low pass smoothing ratio. 0 = raw measurements, 1 = no updates.</em></li>
                        
                      
                        
                          <li><strong>visualize</strong> <em>&#91;default: true&#93;  &#8212; Whether to publish a visualization of the azimuth</em></li>
                        
                      
                        
                      
                        
                      
                        
                      
                    </ul>
                  </li>
                </ul>
              </li>
            
          </ul>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com/ctu-vras/compass/tree/master/magnetometer_compass//nodelets.xml" target="_blank">nodelet</a></li>
            
          </ul>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="noetic-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>magnetometer_compass</kbd> at <strong><a href="https://robotics.stackexchange.com/" target="_blank">Robotics Stack Exchange</a></strong></h3>      </div>
      <div id="noetic-question-list" class="panel-body" style="display: none;"></div>
      <div id="noetic-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://robotics.stackexchange.com/questions/tagged/magnetometer_compass+noetic">here</a>.</p>
      </div>
      <div id="noetic-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros-infrastructure/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script src=/js/contribution_suggestions.js></script>
<script type="text/javascript">
jQuery(function() {
    // Update the count on the links to the contribution suggestions
    updateContributionSuggestionsCountOnPackage('https://github.com/ctu-vras/compass.git');
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item"
     target="_blank"
     href="http://docs.ros.org/en/noetic/api/magnetometer_compass/html/"
     title="View API documentation on docs.ros.org"
     >
       <span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span>
       
       API Docs
  </a>
  <a class="list-group-item"
     target="_blank"
     href="https://github.com/ctu-vras/compass/tree/master/magnetometer_compass"
     title="View source code on repository">
       <span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span>
       
       Browse Code
  </a>
  
  
  
  
  
  <a class="list-group-item "
     target="_blank"
     href="http://wiki.ros.org/magnetometer_compass?distro=noetic"
     title="View this package on wiki.ros.org">
       <span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span>
       
       Wiki
  </a>
  
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-galactic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>galactic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-iron">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>iron</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>



<script id="question-list-template" type="text/html">
  <p>
    Browse <a href="https://robotics.stackexchange.com/questions/tagged/magnetometer_compass?tab=Newest">recent questions</a>
    or see the <a href="https://robotics.stackexchange.com/questions/tagged/magnetometer_compass?tab=Votes">highest voted ones</a>.
  </p>
  
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Answered?</th>
        <th scope="col">Created</th>
        <th scope="col">Active</th>
      </tr>
    </thead>
    <tbody>
      {{#questions}}
      <tr>
        <th scope="row"><a href="{{link}}">{{title}}</a><br><small>Tags: {{strtags}}</small></th>
        <th>{{answered}}</th>
        <th>{{created}}</th>
        <th>{{active}}</th>
      </tr>
      {{/questions}}
    </tbody>
  </table>
  {{#has_more}}
  <hr>
  <h4>Additional questions are available at
    <a href="https://robotics.stackexchange.com/questions/tagged/{{name}}?tab=Newest">Robotics Stack Exchange</a>
  </h4>
  {{/has_more}}
  
</script>

<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript">
  jQuery(function() {
    jQuery.getJSON(url="https://api.stackexchange.com/2.3/questions?order=desc&site=robotics" +
                       "&tagged=magnetometer_compass&pagesize=50&sort=activity")
    .done(function(feed) {
      if (feed.items.length > 0) {
        var question_count_str = (feed.has_more ? '>' : '') + String(feed.items.length)
        const questions = feed.items.map(
          function(question) {
            question.id = Math.round(Math.random() * 99999.0);
            question.created = (new Date(question.creation_date * 1000)).toDateString()
            question.active = (new Date(question.last_activity_date * 1000)).toDateString()
            question.answered = question.is_answered ? "Yes" : "No"
            question.strtags = question.tags.join(' ')
            return question;
          });
        const template = jQuery("#question-list-template").text();
        Mustache.parse(template);
        var rendered = Mustache.render(
          template, 
          { questions: questions,
            has_more: feed.has_more,
            name: "magnetometer_compass"
          }
        );
      }
      //   TODO(tfoote) Resolve images
      //   jQuery("#-question-list img").each(function() {
      //     if (jQuery(this).attr("src").startsWith("/upfiles")) {
      //        jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
      //     }
      //   });
      
      if (feed.items.length > 0) {
        jQuery("#humble-question-list").html(rendered);
        jQuery("#humble-question-list").show();
      } else {
        jQuery("#humble-no-question-list").show();
      }
      jQuery("#humble-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#jazzy-question-list").html(rendered);
        jQuery("#jazzy-question-list").show();
      } else {
        jQuery("#jazzy-no-question-list").show();
      }
      jQuery("#jazzy-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#kilted-question-list").html(rendered);
        jQuery("#kilted-question-list").show();
      } else {
        jQuery("#kilted-no-question-list").show();
      }
      jQuery("#kilted-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#rolling-question-list").html(rendered);
        jQuery("#rolling-question-list").show();
      } else {
        jQuery("#rolling-no-question-list").show();
      }
      jQuery("#rolling-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#github-question-list").html(rendered);
        jQuery("#github-question-list").show();
      } else {
        jQuery("#github-no-question-list").show();
      }
      jQuery("#github-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#noetic-question-list").html(rendered);
        jQuery("#noetic-question-list").show();
      } else {
        jQuery("#noetic-no-question-list").show();
      }
      jQuery("#noetic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#galactic-question-list").html(rendered);
        jQuery("#galactic-question-list").show();
      } else {
        jQuery("#galactic-no-question-list").show();
      }
      jQuery("#galactic-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#iron-question-list").html(rendered);
        jQuery("#iron-question-list").show();
      } else {
        jQuery("#iron-no-question-list").show();
      }
      jQuery("#iron-questions-count").text(question_count_str);
      
      if (feed.items.length > 0) {
        jQuery("#melodic-question-list").html(rendered);
        jQuery("#melodic-question-list").show();
      } else {
        jQuery("#melodic-no-question-list").show();
      }
      jQuery("#melodic-questions-count").text(question_count_str);
      
    })
    .fail(function(jqxhr, textStatus, error) {
      console.error("Failed to get question data: " + jqxhr.responseText);
      
      jQuery("#humble-get-question-fail").show();
      
      jQuery("#jazzy-get-question-fail").show();
      
      jQuery("#kilted-get-question-fail").show();
      
      jQuery("#rolling-get-question-fail").show();
      
      jQuery("#github-get-question-fail").show();
      
      jQuery("#noetic-get-question-fail").show();
      
      jQuery("#galactic-get-question-fail").show();
      
      jQuery("#iron-get-question-fail").show();
      
      jQuery("#melodic-get-question-fail").show();
      
    });
  });
</script>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("humble");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div style="float:left;">
        
          <a href="https://github.com/rkent/rosindex" title="Find rosindex in Github">
          <span class="icon  icon--github">
            <svg viewBox="0 0 16 16">
              <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
            </svg>
          </span>

          <span class="username">rkent/rosindex</span>
        </a>
        <em class="hidden-xs">| generated on 2025-05-05</em>
      
      </div>
      <div style="float:right;">
        <p class="text"><span class="hidden-xs">a community-maintained index of robotics software
 | </span><a href="/privacy.txt">privacy</a></p>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
